var hz=t=>{throw TypeError(t)};var vN=(t,e,n)=>e.has(t)||hz("Cannot "+n);var ge=(t,e,n)=>(vN(t,e,"read from private field"),n?n.call(t):e.get(t)),Ft=(t,e,n)=>e.has(t)?hz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),vt=(t,e,n,r)=>(vN(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(vN(t,e,"access private method"),n);var t1=(t,e,n,r)=>({set _(i){vt(t,e,i,n)},get _(){return ge(t,e,r)}});function Mpe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gX={exports:{}},EA={},vX={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_=Symbol.for("react.element"),Ape=Symbol.for("react.portal"),Tpe=Symbol.for("react.fragment"),Ppe=Symbol.for("react.strict_mode"),Npe=Symbol.for("react.profiler"),Rpe=Symbol.for("react.provider"),Ope=Symbol.for("react.context"),Ipe=Symbol.for("react.forward_ref"),kpe=Symbol.for("react.suspense"),Dpe=Symbol.for("react.memo"),Lpe=Symbol.for("react.lazy"),pz=Symbol.iterator;function jpe(t){return t===null||typeof t!="object"?null:(t=pz&&t[pz]||t["@@iterator"],typeof t=="function"?t:null)}var yX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xX=Object.assign,_X={};function bv(t,e,n){this.props=t,this.context=e,this.refs=_X,this.updater=n||yX}bv.prototype.isReactComponent={};bv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bX(){}bX.prototype=bv.prototype;function hj(t,e,n){this.props=t,this.context=e,this.refs=_X,this.updater=n||yX}var pj=hj.prototype=new bX;pj.constructor=hj;xX(pj,bv.prototype);pj.isPureReactComponent=!0;var mz=Array.isArray,wX=Object.prototype.hasOwnProperty,mj={current:null},SX={key:!0,ref:!0,__self:!0,__source:!0};function EX(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wX.call(e,r)&&!SX.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:J_,type:t,key:s,ref:o,props:i,_owner:mj.current}}function Fpe(t,e){return{$$typeof:J_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gj(t){return typeof t=="object"&&t!==null&&t.$$typeof===J_}function Bpe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gz=/\/+/g;function yN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bpe(""+t.key):e.toString(36)}function KS(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case J_:case Ape:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yN(o,0):r,mz(i)?(n="",t!=null&&(n=t.replace(gz,"$&/")+"/"),KS(i,e,n,"",function(c){return c})):i!=null&&(gj(i)&&(i=Fpe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gz,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mz(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yN(s,a);o+=KS(s,e,n,l,i)}else if(l=jpe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yN(s,a++),o+=KS(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function r1(t,e,n){if(t==null)return t;var r=[],i=0;return KS(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Upe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ss={current:null},YS={transition:null},zpe={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:YS,ReactCurrentOwner:mj};function CX(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:r1,forEach:function(t,e,n){r1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return r1(t,function(){e++}),e},toArray:function(t){return r1(t,function(e){return e})||[]},only:function(t){if(!gj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};hn.Component=bv;hn.Fragment=Tpe;hn.Profiler=Npe;hn.PureComponent=hj;hn.StrictMode=Ppe;hn.Suspense=kpe;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zpe;hn.act=CX;hn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xX({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wX.call(e,l)&&!SX.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:J_,type:t.type,key:i,ref:s,props:r,_owner:o}};hn.createContext=function(t){return t={$$typeof:Ope,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rpe,_context:t},t.Consumer=t};hn.createElement=EX;hn.createFactory=function(t){var e=EX.bind(null,t);return e.type=t,e};hn.createRef=function(){return{current:null}};hn.forwardRef=function(t){return{$$typeof:Ipe,render:t}};hn.isValidElement=gj;hn.lazy=function(t){return{$$typeof:Lpe,_payload:{_status:-1,_result:t},_init:Upe}};hn.memo=function(t,e){return{$$typeof:Dpe,type:t,compare:e===void 0?null:e}};hn.startTransition=function(t){var e=YS.transition;YS.transition={};try{t()}finally{YS.transition=e}};hn.unstable_act=CX;hn.useCallback=function(t,e){return ss.current.useCallback(t,e)};hn.useContext=function(t){return ss.current.useContext(t)};hn.useDebugValue=function(){};hn.useDeferredValue=function(t){return ss.current.useDeferredValue(t)};hn.useEffect=function(t,e){return ss.current.useEffect(t,e)};hn.useId=function(){return ss.current.useId()};hn.useImperativeHandle=function(t,e,n){return ss.current.useImperativeHandle(t,e,n)};hn.useInsertionEffect=function(t,e){return ss.current.useInsertionEffect(t,e)};hn.useLayoutEffect=function(t,e){return ss.current.useLayoutEffect(t,e)};hn.useMemo=function(t,e){return ss.current.useMemo(t,e)};hn.useReducer=function(t,e,n){return ss.current.useReducer(t,e,n)};hn.useRef=function(t){return ss.current.useRef(t)};hn.useState=function(t){return ss.current.useState(t)};hn.useSyncExternalStore=function(t,e,n){return ss.current.useSyncExternalStore(t,e,n)};hn.useTransition=function(){return ss.current.useTransition()};hn.version="18.3.1";vX.exports=hn;var A=vX.exports;const ee=Nn(A),CA=Mpe({__proto__:null,default:ee},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $pe=A,Hpe=Symbol.for("react.element"),Vpe=Symbol.for("react.fragment"),Wpe=Object.prototype.hasOwnProperty,Gpe=$pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xpe={key:!0,ref:!0,__self:!0,__source:!0};function MX(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wpe.call(e,r)&&!Xpe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Hpe,type:t,key:s,ref:o,props:i,_owner:Gpe.current}}EA.Fragment=Vpe;EA.jsx=MX;EA.jsxs=MX;gX.exports=EA;var h=gX.exports,AX={exports:{}},mo={},TX={exports:{}},PX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var z=R.length;R.push(L);e:for(;0<z;){var W=z-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[z]=G,z=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var W=0,G=R.length,q=G>>>1;W<q;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,z))se<G&&0>i($,ae)?(R[W]=$,R[se]=z,W=se):(R[W]=ae,R[ne]=z,W=ne);else if(se<G&&0>i($,z))R[W]=$,R[se]=z,W=se;else break e}}return L}function i(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var L=n(c);L!==null&&H(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(T),T=-1),g=!0;var z=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var q=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-L),q=!1}return q}finally{u=null,f=z,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function I(){return!(t.unstable_now()-N<P)}function k(){if(M!==null){var R=t.unstable_now();N=R;var L=!0;try{L=M(!0,R)}finally{L?j():(C=!1,M=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=k,j=function(){B.postMessage(null)}}else j=function(){m(k,0)};function U(R){M=R,C||(C=!0,j())}function H(R,L){T=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(R,L,z){var W=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,R={id:d++,callback:L,priorityLevel:R,startTime:z,expirationTime:G,sortIndex:-1},z>W?(R.sortIndex=z,e(c,R),n(l)===null&&R===n(c)&&(y?(p(T),T=-1):y=!0,H(b,z-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var z=f;f=L;try{return R.apply(this,arguments)}finally{f=z}}}})(PX);TX.exports=PX;var qpe=TX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kpe=A,lo=qpe;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NX=new Set,cx={};function Lh(t,e){mg(t,e),mg(t+"Capture",e)}function mg(t,e){for(cx[t]=e,t=0;t<e.length;t++)NX.add(e[t])}var Oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fI=Object.prototype.hasOwnProperty,Ype=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vz={},yz={};function Zpe(t){return fI.call(yz,t)?!0:fI.call(vz,t)?!1:Ype.test(t)?yz[t]=!0:(vz[t]=!0,!1)}function Qpe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jpe(t,e,n,r){if(e===null||typeof e>"u"||Qpe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Si[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Si[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Si[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Si[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Si[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Si[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Si[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Si[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Si[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var vj=/[\-:]([a-z])/g;function yj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vj,yj);Si[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vj,yj);Si[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vj,yj);Si[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Si[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});Si.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Si[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function xj(t,e,n,r){var i=Si.hasOwnProperty(e)?Si[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jpe(e,n,i,r)&&(n=null),r||i===null?Zpe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gc=Kpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i1=Symbol.for("react.element"),lm=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),_j=Symbol.for("react.strict_mode"),hI=Symbol.for("react.profiler"),RX=Symbol.for("react.provider"),OX=Symbol.for("react.context"),bj=Symbol.for("react.forward_ref"),pI=Symbol.for("react.suspense"),mI=Symbol.for("react.suspense_list"),wj=Symbol.for("react.memo"),Ru=Symbol.for("react.lazy"),IX=Symbol.for("react.offscreen"),xz=Symbol.iterator;function Cy(t){return t===null||typeof t!="object"?null:(t=xz&&t[xz]||t["@@iterator"],typeof t=="function"?t:null)}var _r=Object.assign,xN;function m0(t){if(xN===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xN=e&&e[1]||""}return`
`+xN+t}var _N=!1;function bN(t,e){if(!t||_N)return"";_N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_N=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?m0(t):""}function eme(t){switch(t.tag){case 5:return m0(t.type);case 16:return m0("Lazy");case 13:return m0("Suspense");case 19:return m0("SuspenseList");case 0:case 2:case 15:return t=bN(t.type,!1),t;case 11:return t=bN(t.type.render,!1),t;case 1:return t=bN(t.type,!0),t;default:return""}}function gI(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cm:return"Fragment";case lm:return"Portal";case hI:return"Profiler";case _j:return"StrictMode";case pI:return"Suspense";case mI:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OX:return(t.displayName||"Context")+".Consumer";case RX:return(t._context.displayName||"Context")+".Provider";case bj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wj:return e=t.displayName||null,e!==null?e:gI(t.type)||"Memo";case Ru:e=t._payload,t=t._init;try{return gI(t(e))}catch{}}return null}function tme(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gI(e);case 8:return e===_j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kX(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nme(t){var e=kX(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function s1(t){t._valueTracker||(t._valueTracker=nme(t))}function DX(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kX(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function TE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vI(t,e){var n=e.checked;return _r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _z(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LX(t,e){e=e.checked,e!=null&&xj(t,"checked",e,!1)}function yI(t,e){LX(t,e);var n=hd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xI(t,e.type,n):e.hasOwnProperty("defaultValue")&&xI(t,e.type,hd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bz(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xI(t,e,n){(e!=="number"||TE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var g0=Array.isArray;function km(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _I(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return _r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wz(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(g0(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hd(n)}}function jX(t,e){var n=hd(e.value),r=hd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FX(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bI(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FX(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var o1,BX=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(o1=o1||document.createElement("div"),o1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=o1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ux(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var O0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rme=["Webkit","ms","Moz","O"];Object.keys(O0).forEach(function(t){rme.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),O0[e]=O0[t]})});function UX(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||O0.hasOwnProperty(t)&&O0[t]?(""+e).trim():e+"px"}function zX(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UX(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ime=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wI(t,e){if(e){if(ime[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function SI(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EI=null;function Sj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CI=null,Dm=null,Lm=null;function Ez(t){if(t=nb(t)){if(typeof CI!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=NA(e),CI(t.stateNode,t.type,e))}}function $X(t){Dm?Lm?Lm.push(t):Lm=[t]:Dm=t}function HX(){if(Dm){var t=Dm,e=Lm;if(Lm=Dm=null,Ez(t),e)for(t=0;t<e.length;t++)Ez(e[t])}}function VX(t,e){return t(e)}function WX(){}var wN=!1;function GX(t,e,n){if(wN)return t(e,n);wN=!0;try{return VX(t,e,n)}finally{wN=!1,(Dm!==null||Lm!==null)&&(WX(),HX())}}function dx(t,e){var n=t.stateNode;if(n===null)return null;var r=NA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var MI=!1;if(Oc)try{var My={};Object.defineProperty(My,"passive",{get:function(){MI=!0}}),window.addEventListener("test",My,My),window.removeEventListener("test",My,My)}catch{MI=!1}function sme(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var I0=!1,PE=null,NE=!1,AI=null,ome={onError:function(t){I0=!0,PE=t}};function ame(t,e,n,r,i,s,o,a,l){I0=!1,PE=null,sme.apply(ome,arguments)}function lme(t,e,n,r,i,s,o,a,l){if(ame.apply(this,arguments),I0){if(I0){var c=PE;I0=!1,PE=null}else throw Error(Qe(198));NE||(NE=!0,AI=c)}}function jh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XX(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cz(t){if(jh(t)!==t)throw Error(Qe(188))}function cme(t){var e=t.alternate;if(!e){if(e=jh(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cz(i),t;if(s===r)return Cz(i),e;s=s.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function qX(t){return t=cme(t),t!==null?KX(t):null}function KX(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KX(t);if(e!==null)return e;t=t.sibling}return null}var YX=lo.unstable_scheduleCallback,Mz=lo.unstable_cancelCallback,ume=lo.unstable_shouldYield,dme=lo.unstable_requestPaint,Nr=lo.unstable_now,fme=lo.unstable_getCurrentPriorityLevel,Ej=lo.unstable_ImmediatePriority,ZX=lo.unstable_UserBlockingPriority,RE=lo.unstable_NormalPriority,hme=lo.unstable_LowPriority,QX=lo.unstable_IdlePriority,MA=null,yl=null;function pme(t){if(yl&&typeof yl.onCommitFiberRoot=="function")try{yl.onCommitFiberRoot(MA,t,void 0,(t.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:vme,mme=Math.log,gme=Math.LN2;function vme(t){return t>>>=0,t===0?32:31-(mme(t)/gme|0)|0}var a1=64,l1=4194304;function v0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function OE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=v0(a):(s&=o,s!==0&&(r=v0(s)))}else o=n&~i,o!==0?r=v0(o):s!==0&&(r=v0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ta(e),i=1<<n,r|=t[n],e&=~i;return r}function yme(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xme(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ta(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yme(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function TI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JX(){var t=a1;return a1<<=1,!(a1&4194240)&&(a1=64),t}function SN(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ta(e),t[e]=n}function _me(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ta(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cj(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ta(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Un=0;function eq(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tq,Mj,nq,rq,iq,PI=!1,c1=[],td=null,nd=null,rd=null,fx=new Map,hx=new Map,ku=[],bme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Az(t,e){switch(t){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":fx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hx.delete(e.pointerId)}}function Ay(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nb(e),e!==null&&Mj(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wme(t,e,n,r,i){switch(e){case"focusin":return td=Ay(td,t,e,n,r,i),!0;case"dragenter":return nd=Ay(nd,t,e,n,r,i),!0;case"mouseover":return rd=Ay(rd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fx.set(s,Ay(fx.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hx.set(s,Ay(hx.get(s)||null,t,e,n,r,i)),!0}return!1}function sq(t){var e=Pf(t.target);if(e!==null){var n=jh(e);if(n!==null){if(e=n.tag,e===13){if(e=XX(n),e!==null){t.blockedOn=e,iq(t.priority,function(){nq(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ZS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=NI(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);EI=r,n.target.dispatchEvent(r),EI=null}else return e=nb(n),e!==null&&Mj(e),t.blockedOn=n,!1;e.shift()}return!0}function Tz(t,e,n){ZS(t)&&n.delete(e)}function Sme(){PI=!1,td!==null&&ZS(td)&&(td=null),nd!==null&&ZS(nd)&&(nd=null),rd!==null&&ZS(rd)&&(rd=null),fx.forEach(Tz),hx.forEach(Tz)}function Ty(t,e){t.blockedOn===e&&(t.blockedOn=null,PI||(PI=!0,lo.unstable_scheduleCallback(lo.unstable_NormalPriority,Sme)))}function px(t){function e(i){return Ty(i,t)}if(0<c1.length){Ty(c1[0],t);for(var n=1;n<c1.length;n++){var r=c1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(td!==null&&Ty(td,t),nd!==null&&Ty(nd,t),rd!==null&&Ty(rd,t),fx.forEach(e),hx.forEach(e),n=0;n<ku.length;n++)r=ku[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ku.length&&(n=ku[0],n.blockedOn===null);)sq(n),n.blockedOn===null&&ku.shift()}var jm=Gc.ReactCurrentBatchConfig,IE=!0;function Eme(t,e,n,r){var i=Un,s=jm.transition;jm.transition=null;try{Un=1,Aj(t,e,n,r)}finally{Un=i,jm.transition=s}}function Cme(t,e,n,r){var i=Un,s=jm.transition;jm.transition=null;try{Un=4,Aj(t,e,n,r)}finally{Un=i,jm.transition=s}}function Aj(t,e,n,r){if(IE){var i=NI(t,e,n,r);if(i===null)IN(t,e,r,kE,n),Az(t,r);else if(wme(i,t,e,n,r))r.stopPropagation();else if(Az(t,r),e&4&&-1<bme.indexOf(t)){for(;i!==null;){var s=nb(i);if(s!==null&&tq(s),s=NI(t,e,n,r),s===null&&IN(t,e,r,kE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else IN(t,e,r,null,n)}}var kE=null;function NI(t,e,n,r){if(kE=null,t=Sj(r),t=Pf(t),t!==null)if(e=jh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XX(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kE=t,null}function oq(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fme()){case Ej:return 1;case ZX:return 4;case RE:case hme:return 16;case QX:return 536870912;default:return 16}default:return 16}}var Ku=null,Tj=null,QS=null;function aq(){if(QS)return QS;var t,e=Tj,n=e.length,r,i="value"in Ku?Ku.value:Ku.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return QS=i.slice(t,1<r?1-r:void 0)}function JS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function u1(){return!0}function Pz(){return!1}function go(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?u1:Pz,this.isPropagationStopped=Pz,this}return _r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=u1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=u1)},persist:function(){},isPersistent:u1}),e}var wv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pj=go(wv),tb=_r({},wv,{view:0,detail:0}),Mme=go(tb),EN,CN,Py,AA=_r({},tb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Py&&(Py&&t.type==="mousemove"?(EN=t.screenX-Py.screenX,CN=t.screenY-Py.screenY):CN=EN=0,Py=t),EN)},movementY:function(t){return"movementY"in t?t.movementY:CN}}),Nz=go(AA),Ame=_r({},AA,{dataTransfer:0}),Tme=go(Ame),Pme=_r({},tb,{relatedTarget:0}),MN=go(Pme),Nme=_r({},wv,{animationName:0,elapsedTime:0,pseudoElement:0}),Rme=go(Nme),Ome=_r({},wv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ime=go(Ome),kme=_r({},wv,{data:0}),Rz=go(kme),Dme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fme(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jme[t])?!!e[t]:!1}function Nj(){return Fme}var Bme=_r({},tb,{key:function(t){if(t.key){var e=Dme[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=JS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lme[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nj,charCode:function(t){return t.type==="keypress"?JS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?JS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ume=go(Bme),zme=_r({},AA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oz=go(zme),$me=_r({},tb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nj}),Hme=go($me),Vme=_r({},wv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wme=go(Vme),Gme=_r({},AA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xme=go(Gme),qme=[9,13,27,32],Rj=Oc&&"CompositionEvent"in window,k0=null;Oc&&"documentMode"in document&&(k0=document.documentMode);var Kme=Oc&&"TextEvent"in window&&!k0,lq=Oc&&(!Rj||k0&&8<k0&&11>=k0),Iz=" ",kz=!1;function cq(t,e){switch(t){case"keyup":return qme.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uq(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var um=!1;function Yme(t,e){switch(t){case"compositionend":return uq(e);case"keypress":return e.which!==32?null:(kz=!0,Iz);case"textInput":return t=e.data,t===Iz&&kz?null:t;default:return null}}function Zme(t,e){if(um)return t==="compositionend"||!Rj&&cq(t,e)?(t=aq(),QS=Tj=Ku=null,um=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lq&&e.locale!=="ko"?null:e.data;default:return null}}var Qme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qme[t.type]:e==="textarea"}function dq(t,e,n,r){$X(r),e=DE(e,"onChange"),0<e.length&&(n=new Pj("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var D0=null,mx=null;function Jme(t){wq(t,0)}function TA(t){var e=hm(t);if(DX(e))return t}function ege(t,e){if(t==="change")return e}var fq=!1;if(Oc){var AN;if(Oc){var TN="oninput"in document;if(!TN){var Lz=document.createElement("div");Lz.setAttribute("oninput","return;"),TN=typeof Lz.oninput=="function"}AN=TN}else AN=!1;fq=AN&&(!document.documentMode||9<document.documentMode)}function jz(){D0&&(D0.detachEvent("onpropertychange",hq),mx=D0=null)}function hq(t){if(t.propertyName==="value"&&TA(mx)){var e=[];dq(e,mx,t,Sj(t)),GX(Jme,e)}}function tge(t,e,n){t==="focusin"?(jz(),D0=e,mx=n,D0.attachEvent("onpropertychange",hq)):t==="focusout"&&jz()}function nge(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return TA(mx)}function rge(t,e){if(t==="click")return TA(e)}function ige(t,e){if(t==="input"||t==="change")return TA(e)}function sge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var La=typeof Object.is=="function"?Object.is:sge;function gx(t,e){if(La(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fI.call(e,i)||!La(t[i],e[i]))return!1}return!0}function Fz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bz(t,e){var n=Fz(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fz(n)}}function pq(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pq(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mq(){for(var t=window,e=TE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=TE(t.document)}return e}function Oj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oge(t){var e=mq(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pq(n.ownerDocument.documentElement,n)){if(r!==null&&Oj(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Bz(n,s);var o=Bz(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var age=Oc&&"documentMode"in document&&11>=document.documentMode,dm=null,RI=null,L0=null,OI=!1;function Uz(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;OI||dm==null||dm!==TE(r)||(r=dm,"selectionStart"in r&&Oj(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),L0&&gx(L0,r)||(L0=r,r=DE(RI,"onSelect"),0<r.length&&(e=new Pj("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dm)))}function d1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fm={animationend:d1("Animation","AnimationEnd"),animationiteration:d1("Animation","AnimationIteration"),animationstart:d1("Animation","AnimationStart"),transitionend:d1("Transition","TransitionEnd")},PN={},gq={};Oc&&(gq=document.createElement("div").style,"AnimationEvent"in window||(delete fm.animationend.animation,delete fm.animationiteration.animation,delete fm.animationstart.animation),"TransitionEvent"in window||delete fm.transitionend.transition);function PA(t){if(PN[t])return PN[t];if(!fm[t])return t;var e=fm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gq)return PN[t]=e[n];return t}var vq=PA("animationend"),yq=PA("animationiteration"),xq=PA("animationstart"),_q=PA("transitionend"),bq=new Map,zz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wd(t,e){bq.set(t,e),Lh(e,[t])}for(var NN=0;NN<zz.length;NN++){var RN=zz[NN],lge=RN.toLowerCase(),cge=RN[0].toUpperCase()+RN.slice(1);wd(lge,"on"+cge)}wd(vq,"onAnimationEnd");wd(yq,"onAnimationIteration");wd(xq,"onAnimationStart");wd("dblclick","onDoubleClick");wd("focusin","onFocus");wd("focusout","onBlur");wd(_q,"onTransitionEnd");mg("onMouseEnter",["mouseout","mouseover"]);mg("onMouseLeave",["mouseout","mouseover"]);mg("onPointerEnter",["pointerout","pointerover"]);mg("onPointerLeave",["pointerout","pointerover"]);Lh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uge=new Set("cancel close invalid load scroll toggle".split(" ").concat(y0));function $z(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lme(r,e,void 0,t),t.currentTarget=null}function wq(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$z(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$z(i,a,c),s=l}}}if(NE)throw t=AI,NE=!1,AI=null,t}function tr(t,e){var n=e[jI];n===void 0&&(n=e[jI]=new Set);var r=t+"__bubble";n.has(r)||(Sq(e,t,2,!1),n.add(r))}function ON(t,e,n){var r=0;e&&(r|=4),Sq(n,t,r,e)}var f1="_reactListening"+Math.random().toString(36).slice(2);function vx(t){if(!t[f1]){t[f1]=!0,NX.forEach(function(n){n!=="selectionchange"&&(uge.has(n)||ON(n,!1,t),ON(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[f1]||(e[f1]=!0,ON("selectionchange",!1,e))}}function Sq(t,e,n,r){switch(oq(e)){case 1:var i=Eme;break;case 4:i=Cme;break;default:i=Aj}n=i.bind(null,e,n,t),i=void 0,!MI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function IN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pf(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GX(function(){var c=s,d=Sj(n),u=[];e:{var f=bq.get(t);if(f!==void 0){var g=Pj,v=t;switch(t){case"keypress":if(JS(n)===0)break e;case"keydown":case"keyup":g=Ume;break;case"focusin":v="focus",g=MN;break;case"focusout":v="blur",g=MN;break;case"beforeblur":case"afterblur":g=MN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Nz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Tme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Hme;break;case vq:case yq:case xq:g=Rme;break;case _q:g=Wme;break;case"scroll":g=Mme;break;case"wheel":g=Xme;break;case"copy":case"cut":case"paste":g=Ime;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oz}var y=(e&4)!==0,m=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,p!==null&&(b=dx(x,p),b!=null&&y.push(yx(x,b,_)))),m)break;x=x.return}0<y.length&&(f=new g(f,v,null,n,d),u.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==EI&&(v=n.relatedTarget||n.fromElement)&&(Pf(v)||v[Ic]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Pf(v):null,v!==null&&(m=jh(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=Nz,b="onMouseLeave",p="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Oz,b="onPointerLeave",p="onPointerEnter",x="pointer"),m=g==null?f:hm(g),_=v==null?f:hm(v),f=new y(b,x+"leave",g,n,d),f.target=m,f.relatedTarget=_,b=null,Pf(d)===c&&(y=new y(p,x+"enter",v,n,d),y.target=_,y.relatedTarget=m,b=y),m=b,g&&v)t:{for(y=g,p=v,x=0,_=y;_;_=wp(_))x++;for(_=0,b=p;b;b=wp(b))_++;for(;0<x-_;)y=wp(y),x--;for(;0<_-x;)p=wp(p),_--;for(;x--;){if(y===p||p!==null&&y===p.alternate)break t;y=wp(y),p=wp(p)}y=null}else y=null;g!==null&&Hz(u,f,g,y,!1),v!==null&&m!==null&&Hz(u,m,v,y,!0)}}e:{if(f=c?hm(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=ege;else if(Dz(f))if(fq)S=ige;else{S=nge;var C=tge}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=rge);if(S&&(S=S(t,c))){dq(u,S,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&xI(f,"number",f.value)}switch(C=c?hm(c):window,t){case"focusin":(Dz(C)||C.contentEditable==="true")&&(dm=C,RI=c,L0=null);break;case"focusout":L0=RI=dm=null;break;case"mousedown":OI=!0;break;case"contextmenu":case"mouseup":case"dragend":OI=!1,Uz(u,n,d);break;case"selectionchange":if(age)break;case"keydown":case"keyup":Uz(u,n,d)}var M;if(Rj)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else um?cq(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(lq&&n.locale!=="ko"&&(um||T!=="onCompositionStart"?T==="onCompositionEnd"&&um&&(M=aq()):(Ku=d,Tj="value"in Ku?Ku.value:Ku.textContent,um=!0)),C=DE(c,T),0<C.length&&(T=new Rz(T,t,null,n,d),u.push({event:T,listeners:C}),M?T.data=M:(M=uq(n),M!==null&&(T.data=M)))),(M=Kme?Yme(t,n):Zme(t,n))&&(c=DE(c,"onBeforeInput"),0<c.length&&(d=new Rz("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=M))}wq(u,e)})}function yx(t,e,n){return{instance:t,listener:e,currentTarget:n}}function DE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dx(t,n),s!=null&&r.unshift(yx(t,s,i)),s=dx(t,e),s!=null&&r.push(yx(t,s,i))),t=t.return}return r}function wp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hz(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dx(n,s),l!=null&&o.unshift(yx(n,l,a))):i||(l=dx(n,s),l!=null&&o.push(yx(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dge=/\r\n?/g,fge=/\u0000|\uFFFD/g;function Vz(t){return(typeof t=="string"?t:""+t).replace(dge,`
`).replace(fge,"")}function h1(t,e,n){if(e=Vz(e),Vz(t)!==e&&n)throw Error(Qe(425))}function LE(){}var II=null,kI=null;function DI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LI=typeof setTimeout=="function"?setTimeout:void 0,hge=typeof clearTimeout=="function"?clearTimeout:void 0,Wz=typeof Promise=="function"?Promise:void 0,pge=typeof queueMicrotask=="function"?queueMicrotask:typeof Wz<"u"?function(t){return Wz.resolve(null).then(t).catch(mge)}:LI;function mge(t){setTimeout(function(){throw t})}function kN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),px(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);px(e)}function id(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sv=Math.random().toString(36).slice(2),ul="__reactFiber$"+Sv,xx="__reactProps$"+Sv,Ic="__reactContainer$"+Sv,jI="__reactEvents$"+Sv,gge="__reactListeners$"+Sv,vge="__reactHandles$"+Sv;function Pf(t){var e=t[ul];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ic]||n[ul]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gz(t);t!==null;){if(n=t[ul])return n;t=Gz(t)}return e}t=n,n=t.parentNode}return null}function nb(t){return t=t[ul]||t[Ic],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function NA(t){return t[xx]||null}var FI=[],pm=-1;function Sd(t){return{current:t}}function sr(t){0>pm||(t.current=FI[pm],FI[pm]=null,pm--)}function Yn(t,e){pm++,FI[pm]=t.current,t.current=e}var pd={},Hi=Sd(pd),Ts=Sd(!1),ah=pd;function gg(t,e){var n=t.type.contextTypes;if(!n)return pd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ps(t){return t=t.childContextTypes,t!=null}function jE(){sr(Ts),sr(Hi)}function Xz(t,e,n){if(Hi.current!==pd)throw Error(Qe(168));Yn(Hi,e),Yn(Ts,n)}function Eq(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,tme(t)||"Unknown",i));return _r({},n,r)}function FE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pd,ah=Hi.current,Yn(Hi,t),Yn(Ts,Ts.current),!0}function qz(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=Eq(t,e,ah),r.__reactInternalMemoizedMergedChildContext=t,sr(Ts),sr(Hi),Yn(Hi,t)):sr(Ts),Yn(Ts,n)}var pc=null,RA=!1,DN=!1;function Cq(t){pc===null?pc=[t]:pc.push(t)}function yge(t){RA=!0,Cq(t)}function Ed(){if(!DN&&pc!==null){DN=!0;var t=0,e=Un;try{var n=pc;for(Un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pc=null,RA=!1}catch(i){throw pc!==null&&(pc=pc.slice(t+1)),YX(Ej,Ed),i}finally{Un=e,DN=!1}}return null}var mm=[],gm=0,BE=null,UE=0,ko=[],Do=0,lh=null,xc=1,_c="";function gf(t,e){mm[gm++]=UE,mm[gm++]=BE,BE=t,UE=e}function Mq(t,e,n){ko[Do++]=xc,ko[Do++]=_c,ko[Do++]=lh,lh=t;var r=xc;t=_c;var i=32-Ta(r)-1;r&=~(1<<i),n+=1;var s=32-Ta(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xc=1<<32-Ta(e)+i|n<<i|r,_c=s+t}else xc=1<<s|n<<i|r,_c=t}function Ij(t){t.return!==null&&(gf(t,1),Mq(t,1,0))}function kj(t){for(;t===BE;)BE=mm[--gm],mm[gm]=null,UE=mm[--gm],mm[gm]=null;for(;t===lh;)lh=ko[--Do],ko[Do]=null,_c=ko[--Do],ko[Do]=null,xc=ko[--Do],ko[Do]=null}var ro=null,Js=null,lr=!1,xa=null;function Aq(t,e){var n=jo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ro=t,Js=id(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ro=t,Js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lh!==null?{id:xc,overflow:_c}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ro=t,Js=null,!0):!1;default:return!1}}function BI(t){return(t.mode&1)!==0&&(t.flags&128)===0}function UI(t){if(lr){var e=Js;if(e){var n=e;if(!Kz(t,e)){if(BI(t))throw Error(Qe(418));e=id(n.nextSibling);var r=ro;e&&Kz(t,e)?Aq(r,n):(t.flags=t.flags&-4097|2,lr=!1,ro=t)}}else{if(BI(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,lr=!1,ro=t}}}function Yz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ro=t}function p1(t){if(t!==ro)return!1;if(!lr)return Yz(t),lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DI(t.type,t.memoizedProps)),e&&(e=Js)){if(BI(t))throw Tq(),Error(Qe(418));for(;e;)Aq(t,e),e=id(e.nextSibling)}if(Yz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Js=id(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Js=null}}else Js=ro?id(t.stateNode.nextSibling):null;return!0}function Tq(){for(var t=Js;t;)t=id(t.nextSibling)}function vg(){Js=ro=null,lr=!1}function Dj(t){xa===null?xa=[t]:xa.push(t)}var xge=Gc.ReactCurrentBatchConfig;function Ny(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function m1(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zz(t){var e=t._init;return e(t._payload)}function Pq(t){function e(p,x){if(t){var _=p.deletions;_===null?(p.deletions=[x],p.flags|=16):_.push(x)}}function n(p,x){if(!t)return null;for(;x!==null;)e(p,x),x=x.sibling;return null}function r(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function i(p,x){return p=ld(p,x),p.index=0,p.sibling=null,p}function s(p,x,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<x?(p.flags|=2,x):_):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,x,_,b){return x===null||x.tag!==6?(x=$N(_,p.mode,b),x.return=p,x):(x=i(x,_),x.return=p,x)}function l(p,x,_,b){var S=_.type;return S===cm?d(p,x,_.props.children,b,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ru&&Zz(S)===x.type)?(b=i(x,_.props),b.ref=Ny(p,x,_),b.return=p,b):(b=oE(_.type,_.key,_.props,null,p.mode,b),b.ref=Ny(p,x,_),b.return=p,b)}function c(p,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=HN(_,p.mode,b),x.return=p,x):(x=i(x,_.children||[]),x.return=p,x)}function d(p,x,_,b,S){return x===null||x.tag!==7?(x=Kf(_,p.mode,b,S),x.return=p,x):(x=i(x,_),x.return=p,x)}function u(p,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$N(""+x,p.mode,_),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case i1:return _=oE(x.type,x.key,x.props,null,p.mode,_),_.ref=Ny(p,null,x),_.return=p,_;case lm:return x=HN(x,p.mode,_),x.return=p,x;case Ru:var b=x._init;return u(p,b(x._payload),_)}if(g0(x)||Cy(x))return x=Kf(x,p.mode,_,null),x.return=p,x;m1(p,x)}return null}function f(p,x,_,b){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case i1:return _.key===S?l(p,x,_,b):null;case lm:return _.key===S?c(p,x,_,b):null;case Ru:return S=_._init,f(p,x,S(_._payload),b)}if(g0(_)||Cy(_))return S!==null?null:d(p,x,_,b,null);m1(p,_)}return null}function g(p,x,_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(_)||null,a(x,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case i1:return p=p.get(b.key===null?_:b.key)||null,l(x,p,b,S);case lm:return p=p.get(b.key===null?_:b.key)||null,c(x,p,b,S);case Ru:var C=b._init;return g(p,x,_,C(b._payload),S)}if(g0(b)||Cy(b))return p=p.get(_)||null,d(x,p,b,S,null);m1(x,b)}return null}function v(p,x,_,b){for(var S=null,C=null,M=x,T=x=0,P=null;M!==null&&T<_.length;T++){M.index>T?(P=M,M=null):P=M.sibling;var N=f(p,M,_[T],b);if(N===null){M===null&&(M=P);break}t&&M&&N.alternate===null&&e(p,M),x=s(N,x,T),C===null?S=N:C.sibling=N,C=N,M=P}if(T===_.length)return n(p,M),lr&&gf(p,T),S;if(M===null){for(;T<_.length;T++)M=u(p,_[T],b),M!==null&&(x=s(M,x,T),C===null?S=M:C.sibling=M,C=M);return lr&&gf(p,T),S}for(M=r(p,M);T<_.length;T++)P=g(M,p,T,_[T],b),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?T:P.key),x=s(P,x,T),C===null?S=P:C.sibling=P,C=P);return t&&M.forEach(function(I){return e(p,I)}),lr&&gf(p,T),S}function y(p,x,_,b){var S=Cy(_);if(typeof S!="function")throw Error(Qe(150));if(_=S.call(_),_==null)throw Error(Qe(151));for(var C=S=null,M=x,T=x=0,P=null,N=_.next();M!==null&&!N.done;T++,N=_.next()){M.index>T?(P=M,M=null):P=M.sibling;var I=f(p,M,N.value,b);if(I===null){M===null&&(M=P);break}t&&M&&I.alternate===null&&e(p,M),x=s(I,x,T),C===null?S=I:C.sibling=I,C=I,M=P}if(N.done)return n(p,M),lr&&gf(p,T),S;if(M===null){for(;!N.done;T++,N=_.next())N=u(p,N.value,b),N!==null&&(x=s(N,x,T),C===null?S=N:C.sibling=N,C=N);return lr&&gf(p,T),S}for(M=r(p,M);!N.done;T++,N=_.next())N=g(M,p,T,N.value,b),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?T:N.key),x=s(N,x,T),C===null?S=N:C.sibling=N,C=N);return t&&M.forEach(function(k){return e(p,k)}),lr&&gf(p,T),S}function m(p,x,_,b){if(typeof _=="object"&&_!==null&&_.type===cm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case i1:e:{for(var S=_.key,C=x;C!==null;){if(C.key===S){if(S=_.type,S===cm){if(C.tag===7){n(p,C.sibling),x=i(C,_.props.children),x.return=p,p=x;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ru&&Zz(S)===C.type){n(p,C.sibling),x=i(C,_.props),x.ref=Ny(p,C,_),x.return=p,p=x;break e}n(p,C);break}else e(p,C);C=C.sibling}_.type===cm?(x=Kf(_.props.children,p.mode,b,_.key),x.return=p,p=x):(b=oE(_.type,_.key,_.props,null,p.mode,b),b.ref=Ny(p,x,_),b.return=p,p=b)}return o(p);case lm:e:{for(C=_.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(p,x.sibling),x=i(x,_.children||[]),x.return=p,p=x;break e}else{n(p,x);break}else e(p,x);x=x.sibling}x=HN(_,p.mode,b),x.return=p,p=x}return o(p);case Ru:return C=_._init,m(p,x,C(_._payload),b)}if(g0(_))return v(p,x,_,b);if(Cy(_))return y(p,x,_,b);m1(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(p,x.sibling),x=i(x,_),x.return=p,p=x):(n(p,x),x=$N(_,p.mode,b),x.return=p,p=x),o(p)):n(p,x)}return m}var yg=Pq(!0),Nq=Pq(!1),zE=Sd(null),$E=null,vm=null,Lj=null;function jj(){Lj=vm=$E=null}function Fj(t){var e=zE.current;sr(zE),t._currentValue=e}function zI(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fm(t,e){$E=t,Lj=vm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Es=!0),t.firstContext=null)}function Ho(t){var e=t._currentValue;if(Lj!==t)if(t={context:t,memoizedValue:e,next:null},vm===null){if($E===null)throw Error(Qe(308));vm=t,$E.dependencies={lanes:0,firstContext:t}}else vm=vm.next=t;return e}var Nf=null;function Bj(t){Nf===null?Nf=[t]:Nf.push(t)}function Rq(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bj(e)):(n.next=i.next,i.next=n),e.interleaved=n,kc(t,r)}function kc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ou=!1;function Uj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oq(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kc(t,n)}return i=r.interleaved,i===null?(e.next=e,Bj(r)):(e.next=i.next,i.next=e),r.interleaved=e,kc(t,n)}function eE(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cj(t,n)}}function Qz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function HE(t,e,n,r){var i=t.updateQueue;Ou=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){u=v.call(g,u,f);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(g,u,f):v,f==null)break e;u=_r({},u,f);break e;case 2:Ou=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uh|=o,t.lanes=o,t.memoizedState=u}}function Jz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var rb={},xl=Sd(rb),_x=Sd(rb),bx=Sd(rb);function Rf(t){if(t===rb)throw Error(Qe(174));return t}function zj(t,e){switch(Yn(bx,e),Yn(_x,t),Yn(xl,rb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bI(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bI(e,t)}sr(xl),Yn(xl,e)}function xg(){sr(xl),sr(_x),sr(bx)}function Iq(t){Rf(bx.current);var e=Rf(xl.current),n=bI(e,t.type);e!==n&&(Yn(_x,t),Yn(xl,n))}function $j(t){_x.current===t&&(sr(xl),sr(_x))}var mr=Sd(0);function VE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LN=[];function Hj(){for(var t=0;t<LN.length;t++)LN[t]._workInProgressVersionPrimary=null;LN.length=0}var tE=Gc.ReactCurrentDispatcher,jN=Gc.ReactCurrentBatchConfig,ch=0,xr=null,Kr=null,fi=null,WE=!1,j0=!1,wx=0,_ge=0;function Ni(){throw Error(Qe(321))}function Vj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!La(t[n],e[n]))return!1;return!0}function Wj(t,e,n,r,i,s){if(ch=s,xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tE.current=t===null||t.memoizedState===null?Ege:Cge,t=n(r,i),j0){s=0;do{if(j0=!1,wx=0,25<=s)throw Error(Qe(301));s+=1,fi=Kr=null,e.updateQueue=null,tE.current=Mge,t=n(r,i)}while(j0)}if(tE.current=GE,e=Kr!==null&&Kr.next!==null,ch=0,fi=Kr=xr=null,WE=!1,e)throw Error(Qe(300));return t}function Gj(){var t=wx!==0;return wx=0,t}function il(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?xr.memoizedState=fi=t:fi=fi.next=t,fi}function Vo(){if(Kr===null){var t=xr.alternate;t=t!==null?t.memoizedState:null}else t=Kr.next;var e=fi===null?xr.memoizedState:fi.next;if(e!==null)fi=e,Kr=t;else{if(t===null)throw Error(Qe(310));Kr=t,t={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},fi===null?xr.memoizedState=fi=t:fi=fi.next=t}return fi}function Sx(t,e){return typeof e=="function"?e(t):e}function FN(t){var e=Vo(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=Kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ch&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,xr.lanes|=d,uh|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,La(r,e.memoizedState)||(Es=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xr.lanes|=s,uh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function BN(t){var e=Vo(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);La(s,e.memoizedState)||(Es=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kq(){}function Dq(t,e){var n=xr,r=Vo(),i=e(),s=!La(r.memoizedState,i);if(s&&(r.memoizedState=i,Es=!0),r=r.queue,Xj(Fq.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,Ex(9,jq.bind(null,n,r,i,e),void 0,null),mi===null)throw Error(Qe(349));ch&30||Lq(n,e,i)}return i}function Lq(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jq(t,e,n,r){e.value=n,e.getSnapshot=r,Bq(e)&&Uq(t)}function Fq(t,e,n){return n(function(){Bq(e)&&Uq(t)})}function Bq(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!La(t,n)}catch{return!0}}function Uq(t){var e=kc(t,1);e!==null&&Pa(e,t,1,-1)}function e$(t){var e=il();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sx,lastRenderedState:t},e.queue=t,t=t.dispatch=Sge.bind(null,xr,t),[e.memoizedState,t]}function Ex(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zq(){return Vo().memoizedState}function nE(t,e,n,r){var i=il();xr.flags|=t,i.memoizedState=Ex(1|e,n,void 0,r===void 0?null:r)}function OA(t,e,n,r){var i=Vo();r=r===void 0?null:r;var s=void 0;if(Kr!==null){var o=Kr.memoizedState;if(s=o.destroy,r!==null&&Vj(r,o.deps)){i.memoizedState=Ex(e,n,s,r);return}}xr.flags|=t,i.memoizedState=Ex(1|e,n,s,r)}function t$(t,e){return nE(8390656,8,t,e)}function Xj(t,e){return OA(2048,8,t,e)}function $q(t,e){return OA(4,2,t,e)}function Hq(t,e){return OA(4,4,t,e)}function Vq(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wq(t,e,n){return n=n!=null?n.concat([t]):null,OA(4,4,Vq.bind(null,e,t),n)}function qj(){}function Gq(t,e){var n=Vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vj(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xq(t,e){var n=Vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vj(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qq(t,e,n){return ch&21?(La(n,e)||(n=JX(),xr.lanes|=n,uh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Es=!0),t.memoizedState=n)}function bge(t,e){var n=Un;Un=n!==0&&4>n?n:4,t(!0);var r=jN.transition;jN.transition={};try{t(!1),e()}finally{Un=n,jN.transition=r}}function Kq(){return Vo().memoizedState}function wge(t,e,n){var r=ad(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yq(t))Zq(e,n);else if(n=Rq(t,e,n,r),n!==null){var i=is();Pa(n,t,r,i),Qq(n,e,r)}}function Sge(t,e,n){var r=ad(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yq(t))Zq(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,La(a,o)){var l=e.interleaved;l===null?(i.next=i,Bj(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Rq(t,e,i,r),n!==null&&(i=is(),Pa(n,t,r,i),Qq(n,e,r))}}function Yq(t){var e=t.alternate;return t===xr||e!==null&&e===xr}function Zq(t,e){j0=WE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qq(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cj(t,n)}}var GE={readContext:Ho,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},Ege={readContext:Ho,useCallback:function(t,e){return il().memoizedState=[t,e===void 0?null:e],t},useContext:Ho,useEffect:t$,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nE(4194308,4,Vq.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nE(4194308,4,t,e)},useInsertionEffect:function(t,e){return nE(4,2,t,e)},useMemo:function(t,e){var n=il();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=il();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wge.bind(null,xr,t),[r.memoizedState,t]},useRef:function(t){var e=il();return t={current:t},e.memoizedState=t},useState:e$,useDebugValue:qj,useDeferredValue:function(t){return il().memoizedState=t},useTransition:function(){var t=e$(!1),e=t[0];return t=bge.bind(null,t[1]),il().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xr,i=il();if(lr){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),mi===null)throw Error(Qe(349));ch&30||Lq(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,t$(Fq.bind(null,r,s,t),[t]),r.flags|=2048,Ex(9,jq.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=il(),e=mi.identifierPrefix;if(lr){var n=_c,r=xc;n=(r&~(1<<32-Ta(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wx++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_ge++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cge={readContext:Ho,useCallback:Gq,useContext:Ho,useEffect:Xj,useImperativeHandle:Wq,useInsertionEffect:$q,useLayoutEffect:Hq,useMemo:Xq,useReducer:FN,useRef:zq,useState:function(){return FN(Sx)},useDebugValue:qj,useDeferredValue:function(t){var e=Vo();return qq(e,Kr.memoizedState,t)},useTransition:function(){var t=FN(Sx)[0],e=Vo().memoizedState;return[t,e]},useMutableSource:kq,useSyncExternalStore:Dq,useId:Kq,unstable_isNewReconciler:!1},Mge={readContext:Ho,useCallback:Gq,useContext:Ho,useEffect:Xj,useImperativeHandle:Wq,useInsertionEffect:$q,useLayoutEffect:Hq,useMemo:Xq,useReducer:BN,useRef:zq,useState:function(){return BN(Sx)},useDebugValue:qj,useDeferredValue:function(t){var e=Vo();return Kr===null?e.memoizedState=t:qq(e,Kr.memoizedState,t)},useTransition:function(){var t=BN(Sx)[0],e=Vo().memoizedState;return[t,e]},useMutableSource:kq,useSyncExternalStore:Dq,useId:Kq,unstable_isNewReconciler:!1};function da(t,e){if(t&&t.defaultProps){e=_r({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $I(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_r({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var IA={isMounted:function(t){return(t=t._reactInternals)?jh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=is(),i=ad(t),s=Cc(r,i);s.payload=e,n!=null&&(s.callback=n),e=sd(t,s,i),e!==null&&(Pa(e,t,i,r),eE(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=is(),i=ad(t),s=Cc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sd(t,s,i),e!==null&&(Pa(e,t,i,r),eE(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=is(),r=ad(t),i=Cc(n,r);i.tag=2,e!=null&&(i.callback=e),e=sd(t,i,r),e!==null&&(Pa(e,t,r,n),eE(e,t,r))}};function n$(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gx(n,r)||!gx(i,s):!0}function Jq(t,e,n){var r=!1,i=pd,s=e.contextType;return typeof s=="object"&&s!==null?s=Ho(s):(i=Ps(e)?ah:Hi.current,r=e.contextTypes,s=(r=r!=null)?gg(t,i):pd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=IA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function r$(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&IA.enqueueReplaceState(e,e.state,null)}function HI(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uj(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ho(s):(s=Ps(e)?ah:Hi.current,i.context=gg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($I(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&IA.enqueueReplaceState(i,i.state,null),HE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _g(t,e){try{var n="",r=e;do n+=eme(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function UN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function VI(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Age=typeof WeakMap=="function"?WeakMap:Map;function eK(t,e,n){n=Cc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qE||(qE=!0,ek=r),VI(t,e)},n}function tK(t,e,n){n=Cc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){VI(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){VI(t,e),typeof r!="function"&&(od===null?od=new Set([this]):od.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function i$(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Age;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zge.bind(null,t,e,n),e.then(t,t))}function s$(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o$(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cc(-1,1),e.tag=2,sd(n,e,1))),n.lanes|=1),t)}var Tge=Gc.ReactCurrentOwner,Es=!1;function Qi(t,e,n,r){e.child=t===null?Nq(e,null,n,r):yg(e,t.child,n,r)}function a$(t,e,n,r,i){n=n.render;var s=e.ref;return Fm(e,i),r=Wj(t,e,n,r,s,i),n=Gj(),t!==null&&!Es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dc(t,e,i)):(lr&&n&&Ij(e),e.flags|=1,Qi(t,e,r,i),e.child)}function l$(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!n3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nK(t,e,s,r,i)):(t=oE(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gx,n(o,r)&&t.ref===e.ref)return Dc(t,e,i)}return e.flags|=1,t=ld(s,r),t.ref=e.ref,t.return=e,e.child=t}function nK(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gx(s,r)&&t.ref===e.ref)if(Es=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Es=!0);else return e.lanes=t.lanes,Dc(t,e,i)}return WI(t,e,n,r,i)}function rK(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(xm,Xs),Xs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yn(xm,Xs),Xs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yn(xm,Xs),Xs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Yn(xm,Xs),Xs|=r;return Qi(t,e,i,n),e.child}function iK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function WI(t,e,n,r,i){var s=Ps(n)?ah:Hi.current;return s=gg(e,s),Fm(e,i),n=Wj(t,e,n,r,s,i),r=Gj(),t!==null&&!Es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dc(t,e,i)):(lr&&r&&Ij(e),e.flags|=1,Qi(t,e,n,i),e.child)}function c$(t,e,n,r,i){if(Ps(n)){var s=!0;FE(e)}else s=!1;if(Fm(e,i),e.stateNode===null)rE(t,e),Jq(e,n,r),HI(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ho(c):(c=Ps(n)?ah:Hi.current,c=gg(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&r$(e,o,r,c),Ou=!1;var f=e.memoizedState;o.state=f,HE(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ts.current||Ou?(typeof d=="function"&&($I(e,n,d,r),l=e.memoizedState),(a=Ou||n$(e,n,a,r,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Oq(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:da(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ho(l):(l=Ps(n)?ah:Hi.current,l=gg(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&r$(e,o,r,l),Ou=!1,f=e.memoizedState,o.state=f,HE(e,r,o,i);var v=e.memoizedState;a!==u||f!==v||Ts.current||Ou?(typeof g=="function"&&($I(e,n,g,r),v=e.memoizedState),(c=Ou||n$(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return GI(t,e,n,r,s,i)}function GI(t,e,n,r,i,s){iK(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qz(e,n,!1),Dc(t,e,s);r=e.stateNode,Tge.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yg(e,t.child,null,s),e.child=yg(e,null,a,s)):Qi(t,e,a,s),e.memoizedState=r.state,i&&qz(e,n,!0),e.child}function sK(t){var e=t.stateNode;e.pendingContext?Xz(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xz(t,e.context,!1),zj(t,e.containerInfo)}function u$(t,e,n,r,i){return vg(),Dj(i),e.flags|=256,Qi(t,e,n,r),e.child}var XI={dehydrated:null,treeContext:null,retryLane:0};function qI(t){return{baseLanes:t,cachePool:null,transitions:null}}function oK(t,e,n){var r=e.pendingProps,i=mr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Yn(mr,i&1),t===null)return UI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=LA(o,r,0,null),t=Kf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qI(n),e.memoizedState=XI,t):Kj(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Pge(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ld(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ld(a,s):(s=Kf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qI(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=XI,r}return s=t.child,t=s.sibling,r=ld(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kj(t,e){return e=LA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function g1(t,e,n,r){return r!==null&&Dj(r),yg(e,t.child,null,n),t=Kj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pge(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=UN(Error(Qe(422))),g1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=LA({mode:"visible",children:r.children},i,0,null),s=Kf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yg(e,t.child,null,o),e.child.memoizedState=qI(o),e.memoizedState=XI,s);if(!(e.mode&1))return g1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Qe(419)),r=UN(s,r,void 0),g1(t,e,o,r)}if(a=(o&t.childLanes)!==0,Es||a){if(r=mi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kc(t,i),Pa(r,t,i,-1))}return t3(),r=UN(Error(Qe(421))),g1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$ge.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Js=id(i.nextSibling),ro=e,lr=!0,xa=null,t!==null&&(ko[Do++]=xc,ko[Do++]=_c,ko[Do++]=lh,xc=t.id,_c=t.overflow,lh=e),e=Kj(e,r.children),e.flags|=4096,e)}function d$(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zI(t.return,e,n)}function zN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aK(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qi(t,e,r.children,n),r=mr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d$(t,n,e);else if(t.tag===19)d$(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yn(mr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&VE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&VE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zN(e,!0,n,null,s);break;case"together":zN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rE(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=ld(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ld(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Nge(t,e,n){switch(e.tag){case 3:sK(e),vg();break;case 5:Iq(e);break;case 1:Ps(e.type)&&FE(e);break;case 4:zj(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yn(zE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yn(mr,mr.current&1),e.flags|=128,null):n&e.child.childLanes?oK(t,e,n):(Yn(mr,mr.current&1),t=Dc(t,e,n),t!==null?t.sibling:null);Yn(mr,mr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(mr,mr.current),r)break;return null;case 22:case 23:return e.lanes=0,rK(t,e,n)}return Dc(t,e,n)}var lK,KI,cK,uK;lK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KI=function(){};cK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rf(xl.current);var s=null;switch(n){case"input":i=vI(t,i),r=vI(t,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=_I(t,i),r=_I(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=LE)}wI(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cx.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cx.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};uK=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ry(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ri(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rge(t,e,n){var r=e.pendingProps;switch(kj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(e),null;case 1:return Ps(e.type)&&jE(),Ri(e),null;case 3:return r=e.stateNode,xg(),sr(Ts),sr(Hi),Hj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(p1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xa!==null&&(rk(xa),xa=null))),KI(t,e),Ri(e),null;case 5:$j(e);var i=Rf(bx.current);if(n=e.type,t!==null&&e.stateNode!=null)cK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return Ri(e),null}if(t=Rf(xl.current),p1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ul]=e,r[xx]=s,t=(e.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<y0.length;i++)tr(y0[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":_z(r,s),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tr("invalid",r);break;case"textarea":wz(r,s),tr("invalid",r)}wI(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&h1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&h1(r.textContent,a,t),i=["children",""+a]):cx.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",r)}switch(n){case"input":s1(r),bz(r,s,!0);break;case"textarea":s1(r),Sz(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=LE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FX(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ul]=e,t[xx]=r,lK(t,e,!1,!1),e.stateNode=t;e:{switch(o=SI(n,r),n){case"dialog":tr("cancel",t),tr("close",t),i=r;break;case"iframe":case"object":case"embed":tr("load",t),i=r;break;case"video":case"audio":for(i=0;i<y0.length;i++)tr(y0[i],t);i=r;break;case"source":tr("error",t),i=r;break;case"img":case"image":case"link":tr("error",t),tr("load",t),i=r;break;case"details":tr("toggle",t),i=r;break;case"input":_z(t,r),i=vI(t,r),tr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),tr("invalid",t);break;case"textarea":wz(t,r),i=_I(t,r),tr("invalid",t);break;default:i=r}wI(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zX(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BX(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ux(t,l):typeof l=="number"&&ux(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cx.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tr("scroll",t):l!=null&&xj(t,s,l,o))}switch(n){case"input":s1(t),bz(t,r,!1);break;case"textarea":s1(t),Sz(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?km(t,!!r.multiple,s,!1):r.defaultValue!=null&&km(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=LE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ri(e),null;case 6:if(t&&e.stateNode!=null)uK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=Rf(bx.current),Rf(xl.current),p1(e)){if(r=e.stateNode,n=e.memoizedProps,r[ul]=e,(s=r.nodeValue!==n)&&(t=ro,t!==null))switch(t.tag){case 3:h1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&h1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ul]=e,e.stateNode=r}return Ri(e),null;case 13:if(sr(mr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lr&&Js!==null&&e.mode&1&&!(e.flags&128))Tq(),vg(),e.flags|=98560,s=!1;else if(s=p1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[ul]=e}else vg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ri(e),s=!1}else xa!==null&&(rk(xa),xa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mr.current&1?ei===0&&(ei=3):t3())),e.updateQueue!==null&&(e.flags|=4),Ri(e),null);case 4:return xg(),KI(t,e),t===null&&vx(e.stateNode.containerInfo),Ri(e),null;case 10:return Fj(e.type._context),Ri(e),null;case 17:return Ps(e.type)&&jE(),Ri(e),null;case 19:if(sr(mr),s=e.memoizedState,s===null)return Ri(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ry(s,!1);else{if(ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=VE(t),o!==null){for(e.flags|=128,Ry(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yn(mr,mr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nr()>bg&&(e.flags|=128,r=!0,Ry(s,!1),e.lanes=4194304)}else{if(!r)if(t=VE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ry(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lr)return Ri(e),null}else 2*Nr()-s.renderingStartTime>bg&&n!==1073741824&&(e.flags|=128,r=!0,Ry(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nr(),e.sibling=null,n=mr.current,Yn(mr,r?n&1|2:n&1),e):(Ri(e),null);case 22:case 23:return e3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xs&1073741824&&(Ri(e),e.subtreeFlags&6&&(e.flags|=8192)):Ri(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function Oge(t,e){switch(kj(e),e.tag){case 1:return Ps(e.type)&&jE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xg(),sr(Ts),sr(Hi),Hj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $j(e),null;case 13:if(sr(mr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));vg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sr(mr),null;case 4:return xg(),null;case 10:return Fj(e.type._context),null;case 22:case 23:return e3(),null;case 24:return null;default:return null}}var v1=!1,ji=!1,Ige=typeof WeakSet=="function"?WeakSet:Set,xt=null;function ym(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(t,e,r)}else n.current=null}function YI(t,e,n){try{n()}catch(r){Cr(t,e,r)}}var f$=!1;function kge(t,e){if(II=IE,t=mq(),Oj(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var g;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)f=u,u=g;for(;;){if(u===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kI={focusedElem:t,selectionRange:n},IE=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,m=v.memoizedState,p=e.stateNode,x=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:da(e.type,y),m);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(b){Cr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return v=f$,f$=!1,v}function F0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&YI(e,n,s)}i=i.next}while(i!==r)}}function kA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ZI(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dK(t){var e=t.alternate;e!==null&&(t.alternate=null,dK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ul],delete e[xx],delete e[jI],delete e[gge],delete e[vge])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fK(t){return t.tag===5||t.tag===3||t.tag===4}function h$(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function QI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=LE));else if(r!==4&&(t=t.child,t!==null))for(QI(t,e,n),t=t.sibling;t!==null;)QI(t,e,n),t=t.sibling}function JI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(JI(t,e,n),t=t.sibling;t!==null;)JI(t,e,n),t=t.sibling}var xi=null,pa=!1;function mu(t,e,n){for(n=n.child;n!==null;)hK(t,e,n),n=n.sibling}function hK(t,e,n){if(yl&&typeof yl.onCommitFiberUnmount=="function")try{yl.onCommitFiberUnmount(MA,n)}catch{}switch(n.tag){case 5:ji||ym(n,e);case 6:var r=xi,i=pa;xi=null,mu(t,e,n),xi=r,pa=i,xi!==null&&(pa?(t=xi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xi.removeChild(n.stateNode));break;case 18:xi!==null&&(pa?(t=xi,n=n.stateNode,t.nodeType===8?kN(t.parentNode,n):t.nodeType===1&&kN(t,n),px(t)):kN(xi,n.stateNode));break;case 4:r=xi,i=pa,xi=n.stateNode.containerInfo,pa=!0,mu(t,e,n),xi=r,pa=i;break;case 0:case 11:case 14:case 15:if(!ji&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&YI(n,e,o),i=i.next}while(i!==r)}mu(t,e,n);break;case 1:if(!ji&&(ym(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cr(n,e,a)}mu(t,e,n);break;case 21:mu(t,e,n);break;case 22:n.mode&1?(ji=(r=ji)||n.memoizedState!==null,mu(t,e,n),ji=r):mu(t,e,n);break;default:mu(t,e,n)}}function p$(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ige),e.forEach(function(r){var i=Hge.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xi=a.stateNode,pa=!1;break e;case 3:xi=a.stateNode.containerInfo,pa=!0;break e;case 4:xi=a.stateNode.containerInfo,pa=!0;break e}a=a.return}if(xi===null)throw Error(Qe(160));hK(s,o,i),xi=null,pa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pK(e,t),e=e.sibling}function pK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sa(e,t),tl(t),r&4){try{F0(3,t,t.return),kA(3,t)}catch(y){Cr(t,t.return,y)}try{F0(5,t,t.return)}catch(y){Cr(t,t.return,y)}}break;case 1:sa(e,t),tl(t),r&512&&n!==null&&ym(n,n.return);break;case 5:if(sa(e,t),tl(t),r&512&&n!==null&&ym(n,n.return),t.flags&32){var i=t.stateNode;try{ux(i,"")}catch(y){Cr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LX(i,s),SI(a,o);var c=SI(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?zX(i,u):d==="dangerouslySetInnerHTML"?BX(i,u):d==="children"?ux(i,u):xj(i,d,u,c)}switch(a){case"input":yI(i,s);break;case"textarea":jX(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?km(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?km(i,!!s.multiple,s.defaultValue,!0):km(i,!!s.multiple,s.multiple?[]:"",!1))}i[xx]=s}catch(y){Cr(t,t.return,y)}}break;case 6:if(sa(e,t),tl(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Cr(t,t.return,y)}}break;case 3:if(sa(e,t),tl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{px(e.containerInfo)}catch(y){Cr(t,t.return,y)}break;case 4:sa(e,t),tl(t);break;case 13:sa(e,t),tl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qj=Nr())),r&4&&p$(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ji=(c=ji)||d,sa(e,t),ji=c):sa(e,t),tl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(xt=t,d=t.child;d!==null;){for(u=xt=d;xt!==null;){switch(f=xt,g=f.child,f.tag){case 0:case 11:case 14:case 15:F0(4,f,f.return);break;case 1:ym(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Cr(r,n,y)}}break;case 5:ym(f,f.return);break;case 22:if(f.memoizedState!==null){g$(u);continue}}g!==null?(g.return=f,xt=g):g$(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=UX("display",o))}catch(y){Cr(t,t.return,y)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(y){Cr(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:sa(e,t),tl(t),r&4&&p$(t);break;case 21:break;default:sa(e,t),tl(t)}}function tl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fK(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ux(i,""),r.flags&=-33);var s=h$(t);JI(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h$(t);QI(t,a,o);break;default:throw Error(Qe(161))}}catch(l){Cr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dge(t,e,n){xt=t,mK(t)}function mK(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||v1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ji;a=v1;var c=ji;if(v1=o,(ji=l)&&!c)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?v$(i):l!==null?(l.return=o,xt=l):v$(i);for(;s!==null;)xt=s,mK(s),s=s.sibling;xt=i,v1=a,ji=c}m$(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):m$(t)}}function m$(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ji||kA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ji)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:da(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jz(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jz(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&px(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}ji||e.flags&512&&ZI(e)}catch(f){Cr(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function g$(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function v$(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kA(4,e)}catch(l){Cr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Cr(e,i,l)}}var s=e.return;try{ZI(e)}catch(l){Cr(e,s,l)}break;case 5:var o=e.return;try{ZI(e)}catch(l){Cr(e,o,l)}}}catch(l){Cr(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var Lge=Math.ceil,XE=Gc.ReactCurrentDispatcher,Yj=Gc.ReactCurrentOwner,zo=Gc.ReactCurrentBatchConfig,bn=0,mi=null,Ur=null,_i=0,Xs=0,xm=Sd(0),ei=0,Cx=null,uh=0,DA=0,Zj=0,B0=null,bs=null,Qj=0,bg=1/0,fc=null,qE=!1,ek=null,od=null,y1=!1,Yu=null,KE=0,U0=0,tk=null,iE=-1,sE=0;function is(){return bn&6?Nr():iE!==-1?iE:iE=Nr()}function ad(t){return t.mode&1?bn&2&&_i!==0?_i&-_i:xge.transition!==null?(sE===0&&(sE=JX()),sE):(t=Un,t!==0||(t=window.event,t=t===void 0?16:oq(t.type)),t):1}function Pa(t,e,n,r){if(50<U0)throw U0=0,tk=null,Error(Qe(185));eb(t,n,r),(!(bn&2)||t!==mi)&&(t===mi&&(!(bn&2)&&(DA|=n),ei===4&&Du(t,_i)),Ns(t,r),n===1&&bn===0&&!(e.mode&1)&&(bg=Nr()+500,RA&&Ed()))}function Ns(t,e){var n=t.callbackNode;xme(t,e);var r=OE(t,t===mi?_i:0);if(r===0)n!==null&&Mz(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mz(n),e===1)t.tag===0?yge(y$.bind(null,t)):Cq(y$.bind(null,t)),pge(function(){!(bn&6)&&Ed()}),n=null;else{switch(eq(r)){case 1:n=Ej;break;case 4:n=ZX;break;case 16:n=RE;break;case 536870912:n=QX;break;default:n=RE}n=SK(n,gK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gK(t,e){if(iE=-1,sE=0,bn&6)throw Error(Qe(327));var n=t.callbackNode;if(Bm()&&t.callbackNode!==n)return null;var r=OE(t,t===mi?_i:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=YE(t,r);else{e=r;var i=bn;bn|=2;var s=yK();(mi!==t||_i!==e)&&(fc=null,bg=Nr()+500,qf(t,e));do try{Bge();break}catch(a){vK(t,a)}while(!0);jj(),XE.current=s,bn=i,Ur!==null?e=0:(mi=null,_i=0,e=ei)}if(e!==0){if(e===2&&(i=TI(t),i!==0&&(r=i,e=nk(t,i))),e===1)throw n=Cx,qf(t,0),Du(t,r),Ns(t,Nr()),n;if(e===6)Du(t,r);else{if(i=t.current.alternate,!(r&30)&&!jge(i)&&(e=YE(t,r),e===2&&(s=TI(t),s!==0&&(r=s,e=nk(t,s))),e===1))throw n=Cx,qf(t,0),Du(t,r),Ns(t,Nr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:vf(t,bs,fc);break;case 3:if(Du(t,r),(r&130023424)===r&&(e=Qj+500-Nr(),10<e)){if(OE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=LI(vf.bind(null,t,bs,fc),e);break}vf(t,bs,fc);break;case 4:if(Du(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ta(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lge(r/1960))-r,10<r){t.timeoutHandle=LI(vf.bind(null,t,bs,fc),r);break}vf(t,bs,fc);break;case 5:vf(t,bs,fc);break;default:throw Error(Qe(329))}}}return Ns(t,Nr()),t.callbackNode===n?gK.bind(null,t):null}function nk(t,e){var n=B0;return t.current.memoizedState.isDehydrated&&(qf(t,e).flags|=256),t=YE(t,e),t!==2&&(e=bs,bs=n,e!==null&&rk(e)),t}function rk(t){bs===null?bs=t:bs.push.apply(bs,t)}function jge(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!La(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Du(t,e){for(e&=~Zj,e&=~DA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ta(e),r=1<<n;t[n]=-1,e&=~r}}function y$(t){if(bn&6)throw Error(Qe(327));Bm();var e=OE(t,0);if(!(e&1))return Ns(t,Nr()),null;var n=YE(t,e);if(t.tag!==0&&n===2){var r=TI(t);r!==0&&(e=r,n=nk(t,r))}if(n===1)throw n=Cx,qf(t,0),Du(t,e),Ns(t,Nr()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vf(t,bs,fc),Ns(t,Nr()),null}function Jj(t,e){var n=bn;bn|=1;try{return t(e)}finally{bn=n,bn===0&&(bg=Nr()+500,RA&&Ed())}}function dh(t){Yu!==null&&Yu.tag===0&&!(bn&6)&&Bm();var e=bn;bn|=1;var n=zo.transition,r=Un;try{if(zo.transition=null,Un=1,t)return t()}finally{Un=r,zo.transition=n,bn=e,!(bn&6)&&Ed()}}function e3(){Xs=xm.current,sr(xm)}function qf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hge(n)),Ur!==null)for(n=Ur.return;n!==null;){var r=n;switch(kj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jE();break;case 3:xg(),sr(Ts),sr(Hi),Hj();break;case 5:$j(r);break;case 4:xg();break;case 13:sr(mr);break;case 19:sr(mr);break;case 10:Fj(r.type._context);break;case 22:case 23:e3()}n=n.return}if(mi=t,Ur=t=ld(t.current,null),_i=Xs=e,ei=0,Cx=null,Zj=DA=uh=0,bs=B0=null,Nf!==null){for(e=0;e<Nf.length;e++)if(n=Nf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nf=null}return t}function vK(t,e){do{var n=Ur;try{if(jj(),tE.current=GE,WE){for(var r=xr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}WE=!1}if(ch=0,fi=Kr=xr=null,j0=!1,wx=0,Yj.current=null,n===null||n.return===null){ei=1,Cx=e,Ur=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_i,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=s$(o);if(g!==null){g.flags&=-257,o$(g,o,a,s,e),g.mode&1&&i$(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){i$(s,c,e),t3();break e}l=Error(Qe(426))}}else if(lr&&a.mode&1){var m=s$(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),o$(m,o,a,s,e),Dj(_g(l,a));break e}}s=l=_g(l,a),ei!==4&&(ei=2),B0===null?B0=[s]:B0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=eK(s,l,e);Qz(s,p);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(od===null||!od.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=tK(s,a,e);Qz(s,b);break e}}s=s.return}while(s!==null)}_K(n)}catch(S){e=S,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(!0)}function yK(){var t=XE.current;return XE.current=GE,t===null?GE:t}function t3(){(ei===0||ei===3||ei===2)&&(ei=4),mi===null||!(uh&268435455)&&!(DA&268435455)||Du(mi,_i)}function YE(t,e){var n=bn;bn|=2;var r=yK();(mi!==t||_i!==e)&&(fc=null,qf(t,e));do try{Fge();break}catch(i){vK(t,i)}while(!0);if(jj(),bn=n,XE.current=r,Ur!==null)throw Error(Qe(261));return mi=null,_i=0,ei}function Fge(){for(;Ur!==null;)xK(Ur)}function Bge(){for(;Ur!==null&&!ume();)xK(Ur)}function xK(t){var e=wK(t.alternate,t,Xs);t.memoizedProps=t.pendingProps,e===null?_K(t):Ur=e,Yj.current=null}function _K(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Oge(n,e),n!==null){n.flags&=32767,Ur=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ei=6,Ur=null;return}}else if(n=Rge(n,e,Xs),n!==null){Ur=n;return}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=t}while(e!==null);ei===0&&(ei=5)}function vf(t,e,n){var r=Un,i=zo.transition;try{zo.transition=null,Un=1,Uge(t,e,n,r)}finally{zo.transition=i,Un=r}return null}function Uge(t,e,n,r){do Bm();while(Yu!==null);if(bn&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_me(t,s),t===mi&&(Ur=mi=null,_i=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||y1||(y1=!0,SK(RE,function(){return Bm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zo.transition,zo.transition=null;var o=Un;Un=1;var a=bn;bn|=4,Yj.current=null,kge(t,n),pK(n,t),oge(kI),IE=!!II,kI=II=null,t.current=n,Dge(n),dme(),bn=a,Un=o,zo.transition=s}else t.current=n;if(y1&&(y1=!1,Yu=t,KE=i),s=t.pendingLanes,s===0&&(od=null),pme(n.stateNode),Ns(t,Nr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qE)throw qE=!1,t=ek,ek=null,t;return KE&1&&t.tag!==0&&Bm(),s=t.pendingLanes,s&1?t===tk?U0++:(U0=0,tk=t):U0=0,Ed(),null}function Bm(){if(Yu!==null){var t=eq(KE),e=zo.transition,n=Un;try{if(zo.transition=null,Un=16>t?16:t,Yu===null)var r=!1;else{if(t=Yu,Yu=null,KE=0,bn&6)throw Error(Qe(331));var i=bn;for(bn|=4,xt=t.current;xt!==null;){var s=xt,o=s.child;if(xt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:F0(8,d,s)}var u=d.child;if(u!==null)u.return=d,xt=u;else for(;xt!==null;){d=xt;var f=d.sibling,g=d.return;if(dK(d),d===c){xt=null;break}if(f!==null){f.return=g,xt=f;break}xt=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}xt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xt=o;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:F0(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,xt=p;break e}xt=s.return}}var x=t.current;for(xt=x;xt!==null;){o=xt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xt=_;else e:for(o=x;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kA(9,a)}}catch(S){Cr(a,a.return,S)}if(a===o){xt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,xt=b;break e}xt=a.return}}if(bn=i,Ed(),yl&&typeof yl.onPostCommitFiberRoot=="function")try{yl.onPostCommitFiberRoot(MA,t)}catch{}r=!0}return r}finally{Un=n,zo.transition=e}}return!1}function x$(t,e,n){e=_g(n,e),e=eK(t,e,1),t=sd(t,e,1),e=is(),t!==null&&(eb(t,1,e),Ns(t,e))}function Cr(t,e,n){if(t.tag===3)x$(t,t,n);else for(;e!==null;){if(e.tag===3){x$(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(od===null||!od.has(r))){t=_g(n,t),t=tK(e,t,1),e=sd(e,t,1),t=is(),e!==null&&(eb(e,1,t),Ns(e,t));break}}e=e.return}}function zge(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=is(),t.pingedLanes|=t.suspendedLanes&n,mi===t&&(_i&n)===n&&(ei===4||ei===3&&(_i&130023424)===_i&&500>Nr()-Qj?qf(t,0):Zj|=n),Ns(t,e)}function bK(t,e){e===0&&(t.mode&1?(e=l1,l1<<=1,!(l1&130023424)&&(l1=4194304)):e=1);var n=is();t=kc(t,e),t!==null&&(eb(t,e,n),Ns(t,n))}function $ge(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bK(t,n)}function Hge(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),bK(t,n)}var wK;wK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ts.current)Es=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Es=!1,Nge(t,e,n);Es=!!(t.flags&131072)}else Es=!1,lr&&e.flags&1048576&&Mq(e,UE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rE(t,e),t=e.pendingProps;var i=gg(e,Hi.current);Fm(e,n),i=Wj(null,e,r,t,i,n);var s=Gj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ps(r)?(s=!0,FE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uj(e),i.updater=IA,e.stateNode=i,i._reactInternals=e,HI(e,r,t,n),e=GI(null,e,r,!0,s,n)):(e.tag=0,lr&&s&&Ij(e),Qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rE(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wge(r),t=da(r,t),i){case 0:e=WI(null,e,r,t,n);break e;case 1:e=c$(null,e,r,t,n);break e;case 11:e=a$(null,e,r,t,n);break e;case 14:e=l$(null,e,r,da(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:da(r,i),WI(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:da(r,i),c$(t,e,r,i,n);case 3:e:{if(sK(e),t===null)throw Error(Qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Oq(t,e),HE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_g(Error(Qe(423)),e),e=u$(t,e,r,n,i);break e}else if(r!==i){i=_g(Error(Qe(424)),e),e=u$(t,e,r,n,i);break e}else for(Js=id(e.stateNode.containerInfo.firstChild),ro=e,lr=!0,xa=null,n=Nq(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vg(),r===i){e=Dc(t,e,n);break e}Qi(t,e,r,n)}e=e.child}return e;case 5:return Iq(e),t===null&&UI(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,DI(r,i)?o=null:s!==null&&DI(r,s)&&(e.flags|=32),iK(t,e),Qi(t,e,o,n),e.child;case 6:return t===null&&UI(e),null;case 13:return oK(t,e,n);case 4:return zj(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yg(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:da(r,i),a$(t,e,r,i,n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:return Qi(t,e,e.pendingProps.children,n),e.child;case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yn(zE,r._currentValue),r._currentValue=o,s!==null)if(La(s.value,o)){if(s.children===i.children&&!Ts.current){e=Dc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cc(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zI(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zI(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fm(e,n),i=Ho(i),r=r(i),e.flags|=1,Qi(t,e,r,n),e.child;case 14:return r=e.type,i=da(r,e.pendingProps),i=da(r.type,i),l$(t,e,r,i,n);case 15:return nK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:da(r,i),rE(t,e),e.tag=1,Ps(r)?(t=!0,FE(e)):t=!1,Fm(e,n),Jq(e,r,i),HI(e,r,i,n),GI(null,e,r,!0,t,n);case 19:return aK(t,e,n);case 22:return rK(t,e,n)}throw Error(Qe(156,e.tag))};function SK(t,e){return YX(t,e)}function Vge(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jo(t,e,n,r){return new Vge(t,e,n,r)}function n3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wge(t){if(typeof t=="function")return n3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bj)return 11;if(t===wj)return 14}return 2}function ld(t,e){var n=t.alternate;return n===null?(n=jo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oE(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")n3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cm:return Kf(n.children,i,s,e);case _j:o=8,i|=8;break;case hI:return t=jo(12,n,e,i|2),t.elementType=hI,t.lanes=s,t;case pI:return t=jo(13,n,e,i),t.elementType=pI,t.lanes=s,t;case mI:return t=jo(19,n,e,i),t.elementType=mI,t.lanes=s,t;case IX:return LA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RX:o=10;break e;case OX:o=9;break e;case bj:o=11;break e;case wj:o=14;break e;case Ru:o=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=jo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kf(t,e,n,r){return t=jo(7,t,r,e),t.lanes=n,t}function LA(t,e,n,r){return t=jo(22,t,r,e),t.elementType=IX,t.lanes=n,t.stateNode={isHidden:!1},t}function $N(t,e,n){return t=jo(6,t,null,e),t.lanes=n,t}function HN(t,e,n){return e=jo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gge(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SN(0),this.expirationTimes=SN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r3(t,e,n,r,i,s,o,a,l){return t=new Gge(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uj(s),t}function Xge(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EK(t){if(!t)return pd;t=t._reactInternals;e:{if(jh(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ps(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Ps(n))return Eq(t,n,e)}return e}function CK(t,e,n,r,i,s,o,a,l){return t=r3(n,r,!0,t,i,s,o,a,l),t.context=EK(null),n=t.current,r=is(),i=ad(n),s=Cc(r,i),s.callback=e??null,sd(n,s,i),t.current.lanes=i,eb(t,i,r),Ns(t,r),t}function jA(t,e,n,r){var i=e.current,s=is(),o=ad(i);return n=EK(n),e.context===null?e.context=n:e.pendingContext=n,e=Cc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sd(i,e,o),t!==null&&(Pa(t,i,o,s),eE(t,i,o)),o}function ZE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _$(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i3(t,e){_$(t,e),(t=t.alternate)&&_$(t,e)}function qge(){return null}var MK=typeof reportError=="function"?reportError:function(t){console.error(t)};function s3(t){this._internalRoot=t}FA.prototype.render=s3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));jA(t,e,null,null)};FA.prototype.unmount=s3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dh(function(){jA(null,t,null,null)}),e[Ic]=null}};function FA(t){this._internalRoot=t}FA.prototype.unstable_scheduleHydration=function(t){if(t){var e=rq();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ku.length&&e!==0&&e<ku[n].priority;n++);ku.splice(n,0,t),n===0&&sq(t)}};function o3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function BA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b$(){}function Kge(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ZE(o);s.call(c)}}var o=CK(e,r,t,0,null,!1,!1,"",b$);return t._reactRootContainer=o,t[Ic]=o.current,vx(t.nodeType===8?t.parentNode:t),dh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ZE(l);a.call(c)}}var l=r3(t,0,!1,null,null,!1,!1,"",b$);return t._reactRootContainer=l,t[Ic]=l.current,vx(t.nodeType===8?t.parentNode:t),dh(function(){jA(e,l,n,r)}),l}function UA(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ZE(o);a.call(l)}}jA(e,o,t,i)}else o=Kge(n,e,t,i,r);return ZE(o)}tq=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=v0(e.pendingLanes);n!==0&&(Cj(e,n|1),Ns(e,Nr()),!(bn&6)&&(bg=Nr()+500,Ed()))}break;case 13:dh(function(){var r=kc(t,1);if(r!==null){var i=is();Pa(r,t,1,i)}}),i3(t,1)}};Mj=function(t){if(t.tag===13){var e=kc(t,134217728);if(e!==null){var n=is();Pa(e,t,134217728,n)}i3(t,134217728)}};nq=function(t){if(t.tag===13){var e=ad(t),n=kc(t,e);if(n!==null){var r=is();Pa(n,t,e,r)}i3(t,e)}};rq=function(){return Un};iq=function(t,e){var n=Un;try{return Un=t,e()}finally{Un=n}};CI=function(t,e,n){switch(e){case"input":if(yI(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=NA(r);if(!i)throw Error(Qe(90));DX(r),yI(r,i)}}}break;case"textarea":jX(t,n);break;case"select":e=n.value,e!=null&&km(t,!!n.multiple,e,!1)}};VX=Jj;WX=dh;var Yge={usingClientEntryPoint:!1,Events:[nb,hm,NA,$X,HX,Jj]},Oy={findFiberByHostInstance:Pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zge={bundleType:Oy.bundleType,version:Oy.version,rendererPackageName:Oy.rendererPackageName,rendererConfig:Oy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qX(t),t===null?null:t.stateNode},findFiberByHostInstance:Oy.findFiberByHostInstance||qge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x1.isDisabled&&x1.supportsFiber)try{MA=x1.inject(Zge),yl=x1}catch{}}mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yge;mo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o3(e))throw Error(Qe(200));return Xge(t,e,null,n)};mo.createRoot=function(t,e){if(!o3(t))throw Error(Qe(299));var n=!1,r="",i=MK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r3(t,1,!1,null,null,n,!1,r,i),t[Ic]=e.current,vx(t.nodeType===8?t.parentNode:t),new s3(e)};mo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=qX(e),t=t===null?null:t.stateNode,t};mo.flushSync=function(t){return dh(t)};mo.hydrate=function(t,e,n){if(!BA(e))throw Error(Qe(200));return UA(null,t,e,!0,n)};mo.hydrateRoot=function(t,e,n){if(!o3(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CK(e,null,t,1,n??null,i,!1,s,o),t[Ic]=e.current,vx(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new FA(e)};mo.render=function(t,e,n){if(!BA(e))throw Error(Qe(200));return UA(null,t,e,!1,n)};mo.unmountComponentAtNode=function(t){if(!BA(t))throw Error(Qe(40));return t._reactRootContainer?(dh(function(){UA(null,null,t,!1,function(){t._reactRootContainer=null,t[Ic]=null})}),!0):!1};mo.unstable_batchedUpdates=Jj;mo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!BA(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return UA(t,e,n,!1,r)};mo.version="18.3.1-next-f1338f8080-20240426";function AK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AK)}catch(t){console.error(t)}}AK(),AX.exports=mo;var Fh=AX.exports;const TK=Nn(Fh);var a3,w$=Fh;a3=w$.createRoot,w$.hydrateRoot;function Qge(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var PK={exports:{}},NK={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=A;function Jge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eve=typeof Object.is=="function"?Object.is:Jge,tve=wg.useState,nve=wg.useEffect,rve=wg.useLayoutEffect,ive=wg.useDebugValue;function sve(t,e){var n=e(),r=tve({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return rve(function(){i.value=n,i.getSnapshot=e,VN(i)&&s({inst:i})},[t,n,e]),nve(function(){return VN(i)&&s({inst:i}),t(function(){VN(i)&&s({inst:i})})},[t]),ive(n),n}function VN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eve(t,n)}catch{return!0}}function ove(t,e){return e()}var ave=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ove:sve;NK.useSyncExternalStore=wg.useSyncExternalStore!==void 0?wg.useSyncExternalStore:ave;PK.exports=NK;var RK=PK.exports;const lve=CA.useInsertionEffect,cve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uve=cve?A.useLayoutEffect:A.useEffect,dve=lve||uve,OK=t=>{const e=A.useRef([t,(...n)=>e[0](...n)]).current;return dve(()=>{e[0]=t}),e[1]},fve="popstate",l3="pushState",c3="replaceState",hve="hashchange",S$=[fve,l3,c3,hve],pve=t=>{for(const e of S$)addEventListener(e,t);return()=>{for(const e of S$)removeEventListener(e,t)}},IK=(t,e)=>RK.useSyncExternalStore(pve,t,e),mve=()=>location.search,gve=({ssrSearch:t=""}={})=>IK(mve,()=>t),E$=()=>location.pathname,vve=({ssrPath:t}={})=>IK(E$,t?()=>t:E$),yve=(t,{replace:e=!1,state:n=null}={})=>history[e?c3:l3](n,"",t),xve=(t={})=>[vve(t),yve],C$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[C$]>"u"){for(const t of[l3,c3]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,C$,{value:!0})}const _ve=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",kK=(t="")=>t==="/"?"":t,bve=(t,e)=>t[0]==="~"?t.slice(1):kK(e)+t,wve=(t="",e)=>_ve(ik(kK(t)),ik(e)),Sve=t=>t[0]==="?"?t.slice(1):t,ik=t=>{try{return decodeURI(t)}catch{return t}},Eve=t=>ik(Sve(t)),DK={hook:xve,searchHook:gve,parser:Qge,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},LK=A.createContext(DK),Ev=()=>A.useContext(LK),jK={},FK=A.createContext(jK),Cve=()=>A.useContext(FK),zA=t=>{const[e,n]=t.hook(t);return[wve(t.base,e),OK((r,i)=>n(bve(r,t.base),i))]},as=()=>zA(Ev()),$A=()=>{const t=Ev();return Eve(t.searchHook(t))},BK=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,f)=>[u,l[f]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},Mve=({children:t,...e})=>{var d,u;const n=Ev(),r=e.hook?DK:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((u=e.hook)==null?void 0:u.hrefs);let a=A.useRef({}),l=a.current,c=l;for(let f in r){const g=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&g!==c[f]&&(a.current=c={...c}),c[f]=g,g!==r[f]&&(i=c)}return A.createElement(LK.Provider,{value:i,children:t})},M$=({children:t,component:e},n)=>e?A.createElement(e,{params:n}):typeof t=="function"?t(n):t,Ave=t=>{let e=A.useRef(jK),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},hs=({path:t,nest:e,match:n,...r})=>{const i=Ev(),[s]=zA(i),[o,a,l]=n??BK(i.parser,t,s,e),c=Ave({...Cve(),...a});if(!o)return null;const d=l?A.createElement(Mve,{base:l},M$(r,c)):M$(r,c);return A.createElement(FK.Provider,{value:c,children:d})},ma=A.forwardRef((t,e)=>{const n=Ev(),[r,i]=zA(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:f,...g}=t,v=OK(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(a==null||a(m),m.defaultPrevented||(m.preventDefault(),i(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&A.isValidElement(c)?A.cloneElement(c,{onClick:v,href:y}):A.createElement("a",{...g,onClick:v,href:y,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),UK=t=>Array.isArray(t)?t.flatMap(e=>UK(e&&e.type===A.Fragment?e.props.children:e)):[t],Tve=({children:t,location:e})=>{const n=Ev(),[r]=zA(n);for(const i of UK(t)){let s=0;if(A.isValidElement(i)&&(s=BK(n.parser,i.props.path,e||r,i.props.nest))[0])return A.cloneElement(i,{match:s})}return null};var Cv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fh=typeof window>"u"||"Deno"in globalThis;function Io(){}function Pve(t,e){return typeof t=="function"?t(e):t}function sk(t){return typeof t=="number"&&t>=0&&t!==1/0}function zK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Um(t,e){return typeof t=="function"?t(e):t}function _a(t,e){return typeof t=="function"?t(e):t}function A$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==u3(o,e.options))return!1}else if(!Mx(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function T$(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(hh(e.options.mutationKey)!==hh(s))return!1}else if(!Mx(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function u3(t,e){return((e==null?void 0:e.queryKeyHashFn)||hh)(t)}function hh(t){return JSON.stringify(t,(e,n)=>ok(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Mx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Mx(t[n],e[n])):!1}function $K(t,e){if(t===e)return t;const n=P$(t)&&P$(e);if(n||ok(t)&&ok(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=$K(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function QE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function P$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ok(t){if(!N$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!N$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function N$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nve(t){return new Promise(e=>{setTimeout(e,t)})}function ak(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$K(t,e):e}function Rve(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Ove(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var d3=Symbol();function HK(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===d3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zf,Uu,ng,oX,Ive=(oX=class extends Cv{constructor(){super();Ft(this,zf);Ft(this,Uu);Ft(this,ng);vt(this,ng,e=>{if(!fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,Uu)||this.setEventListener(ge(this,ng))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,Uu))==null||e.call(this),vt(this,Uu,void 0))}setEventListener(e){var n;vt(this,ng,e),(n=ge(this,Uu))==null||n.call(this),vt(this,Uu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ge(this,zf)!==e&&(vt(this,zf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ge(this,zf)=="boolean"?ge(this,zf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zf=new WeakMap,Uu=new WeakMap,ng=new WeakMap,oX),f3=new Ive,rg,zu,ig,aX,kve=(aX=class extends Cv{constructor(){super();Ft(this,rg,!0);Ft(this,zu);Ft(this,ig);vt(this,ig,e=>{if(!fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,zu)||this.setEventListener(ge(this,ig))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,zu))==null||e.call(this),vt(this,zu,void 0))}setEventListener(e){var n;vt(this,ig,e),(n=ge(this,zu))==null||n.call(this),vt(this,zu,e(this.setOnline.bind(this)))}setOnline(e){ge(this,rg)!==e&&(vt(this,rg,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ge(this,rg)}},rg=new WeakMap,zu=new WeakMap,ig=new WeakMap,aX),JE=new kve;function lk(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Dve(t){return Math.min(1e3*2**t,3e4)}function VK(t){return(t??"online")==="online"?JE.isOnline():!0}var WK=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function WN(t){return t instanceof WK}function GK(t){let e=!1,n=0,r=!1,i;const s=lk(),o=y=>{var m;r||(f(new WK(y)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>f3.isFocused()&&(t.networkMode==="always"||JE.isOnline())&&t.canRun(),d=()=>VK(t.networkMode)&&t.canRun(),u=y=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var m;i=p=>{(r||c())&&y(p)},(m=t.onPause)==null||m.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const m=n===0?t.initialPromise:void 0;try{y=m??t.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(u).catch(p=>{var C;if(r)return;const x=t.retry??(fh?0:3),_=t.retryDelay??Dve,b=typeof _=="function"?_(n,p):_,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,p);if(e||!S){f(p);return}n++,(C=t.onFail)==null||C.call(t,n,p),Nve(b).then(()=>c()?void 0:g()).then(()=>{e?f(p):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),s)}}function Lve(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yr=Lve(),$f,lX,XK=(lX=class{constructor(){Ft(this,$f)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sk(this.gcTime)&&vt(this,$f,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fh?1/0:5*60*1e3))}clearGcTimeout(){ge(this,$f)&&(clearTimeout(ge(this,$f)),vt(this,$f,void 0))}},$f=new WeakMap,lX),sg,og,Oo,Di,K_,Hf,ha,uc,cX,jve=(cX=class extends XK{constructor(e){super();Ft(this,ha);Ft(this,sg);Ft(this,og);Ft(this,Oo);Ft(this,Di);Ft(this,K_);Ft(this,Hf);vt(this,Hf,!1),vt(this,K_,e.defaultOptions),this.setOptions(e.options),this.observers=[],vt(this,Oo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,vt(this,sg,Fve(this.options)),this.state=e.state??ge(this,sg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ge(this,Di))==null?void 0:e.promise}setOptions(e){this.options={...ge(this,K_),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Oo).remove(this)}setData(e,n){const r=ak(this.state.data,e,this.options);return on(this,ha,uc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){on(this,ha,uc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ge(this,Di))==null?void 0:r.promise;return(i=ge(this,Di))==null||i.cancel(e),n?n.then(Io).catch(Io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,sg))}isActive(){return this.observers.some(e=>_a(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!zK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Di))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Di))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ge(this,Oo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ge(this,Di)&&(ge(this,Hf)?ge(this,Di).cancel({revert:!0}):ge(this,Di).cancelRetry()),this.scheduleGc()),ge(this,Oo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,ha,uc).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Di))return ge(this,Di).continueRetry(),ge(this,Di).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(vt(this,Hf,!0),r.signal)})},s=()=>{const u=HK(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),vt(this,Hf,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),vt(this,og,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&on(this,ha,uc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=u=>{var f,g,v,y;WN(u)&&u.silent||on(this,ha,uc).call(this,{type:"error",error:u}),WN(u)||((g=(f=ge(this,Oo).config).onError)==null||g.call(f,u,this),(y=(v=ge(this,Oo).config).onSettled)==null||y.call(v,this.state.data,u,this)),this.scheduleGc()};return vt(this,Di,GK({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var f,g,v,y;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(m){a(m);return}(g=(f=ge(this,Oo).config).onSuccess)==null||g.call(f,u,this),(y=(v=ge(this,Oo).config).onSettled)==null||y.call(v,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,f)=>{on(this,ha,uc).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{on(this,ha,uc).call(this,{type:"pause"})},onContinue:()=>{on(this,ha,uc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ge(this,Di).start()}},sg=new WeakMap,og=new WeakMap,Oo=new WeakMap,Di=new WeakMap,K_=new WeakMap,Hf=new WeakMap,ha=new WeakSet,uc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return WN(i)&&i.revert&&ge(this,og)?{...ge(this,og),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,Oo).notify({query:this,type:"updated",action:e})})},cX);function qK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fve(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sl,uX,Bve=(uX=class extends Cv{constructor(e={}){super();Ft(this,sl);this.config=e,vt(this,sl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??u3(i,n);let o=this.get(s);return o||(o=new jve({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ge(this,sl).has(e.queryHash)||(ge(this,sl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ge(this,sl).get(e.queryHash);n&&(e.destroy(),n===e&&ge(this,sl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,sl).get(e)}getAll(){return[...ge(this,sl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>A$(e,r)):n}notify(e){Yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sl=new WeakMap,uX),ol,Yi,Vf,al,Tu,dX,Uve=(dX=class extends XK{constructor(e){super();Ft(this,al);Ft(this,ol);Ft(this,Yi);Ft(this,Vf);this.mutationId=e.mutationId,vt(this,Yi,e.mutationCache),vt(this,ol,[]),this.state=e.state||KK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ge(this,ol).includes(e)||(ge(this,ol).push(e),this.clearGcTimeout(),ge(this,Yi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){vt(this,ol,ge(this,ol).filter(n=>n!==e)),this.scheduleGc(),ge(this,Yi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ge(this,ol).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Yi).remove(this))}continue(){var e;return((e=ge(this,Vf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,u,f,g,v,y,m,p,x,_,b,S,C,M;vt(this,Vf,GK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{on(this,al,Tu).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{on(this,al,Tu).call(this,{type:"pause"})},onContinue:()=>{on(this,al,Tu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Yi).canRun(this)}));const n=this.state.status==="pending",r=!ge(this,Vf).canStart();try{if(!n){on(this,al,Tu).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ge(this,Yi).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&on(this,al,Tu).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const T=await ge(this,Vf).start();return await((c=(l=ge(this,Yi).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,T,e,this.state.context)),await((g=(f=ge(this,Yi).config).onSettled)==null?void 0:g.call(f,T,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,T,null,e,this.state.context)),on(this,al,Tu).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(m=ge(this,Yi).config).onError)==null?void 0:p.call(m,T,e,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,T,e,this.state.context)),await((S=(b=ge(this,Yi).config).onSettled)==null?void 0:S.call(b,void 0,T,this.state.variables,this.state.context,this)),await((M=(C=this.options).onSettled)==null?void 0:M.call(C,void 0,T,e,this.state.context)),T}finally{on(this,al,Tu).call(this,{type:"error",error:T})}}finally{ge(this,Yi).runNext(this)}}},ol=new WeakMap,Yi=new WeakMap,Vf=new WeakMap,al=new WeakSet,Tu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yr.batch(()=>{ge(this,ol).forEach(r=>{r.onMutationUpdate(e)}),ge(this,Yi).notify({mutation:this,type:"updated",action:e})})},dX);function KK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gs,Y_,fX,zve=(fX=class extends Cv{constructor(e={}){super();Ft(this,Gs);Ft(this,Y_);this.config=e,vt(this,Gs,new Map),vt(this,Y_,Date.now())}build(e,n,r){const i=new Uve({mutationCache:this,mutationId:++t1(this,Y_)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=_1(e),r=ge(this,Gs).get(n)??[];r.push(e),ge(this,Gs).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=_1(e);if(ge(this,Gs).has(n)){const i=(r=ge(this,Gs).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ge(this,Gs).delete(n):ge(this,Gs).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ge(this,Gs).get(_1(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ge(this,Gs).get(_1(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,Gs).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>T$(n,r))}findAll(e={}){return this.getAll().filter(n=>T$(e,n))}notify(e){Yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Io))))}},Gs=new WeakMap,Y_=new WeakMap,fX);function _1(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function R$(t){return{onFetch:(e,n)=>{var d,u,f,g,v;const r=e.options,i=(f=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},p=HK(e.options,e.fetchOptions),x=async(_,b,S)=>{if(y)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const C={queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};m(C);const M=await p(C),{maxPages:T}=e.options,P=S?Ove:Rve;return{pages:P(_.pages,M,T),pageParams:P(_.pageParams,b,T)}};if(i&&s.length){const _=i==="backward",b=_?$ve:O$,S={pages:s,pageParams:o},C=b(r,S);a=await x(S,C,_)}else{const _=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:O$(r,a);if(l>0&&b==null)break;a=await x(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,m;return(m=(y=e.options).persister)==null?void 0:m.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function O$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $ve(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Er,$u,Hu,ag,lg,Vu,cg,ug,hX,YK=(hX=class{constructor(t={}){Ft(this,Er);Ft(this,$u);Ft(this,Hu);Ft(this,ag);Ft(this,lg);Ft(this,Vu);Ft(this,cg);Ft(this,ug);vt(this,Er,t.queryCache||new Bve),vt(this,$u,t.mutationCache||new zve),vt(this,Hu,t.defaultOptions||{}),vt(this,ag,new Map),vt(this,lg,new Map),vt(this,Vu,0)}mount(){t1(this,Vu)._++,ge(this,Vu)===1&&(vt(this,cg,f3.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Er).onFocus())})),vt(this,ug,JE.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Er).onOnline())})))}unmount(){var t,e;t1(this,Vu)._--,ge(this,Vu)===0&&((t=ge(this,cg))==null||t.call(this),vt(this,cg,void 0),(e=ge(this,ug))==null||e.call(this),vt(this,ug,void 0))}isFetching(t){return ge(this,Er).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,$u).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Er).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ge(this,Er).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Um(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ge(this,Er).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ge(this,Er).get(r.queryHash),s=i==null?void 0:i.state.data,o=Pve(e,s);if(o!==void 0)return ge(this,Er).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yr.batch(()=>ge(this,Er).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Er).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ge(this,Er);Yr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ge(this,Er),r={type:"active",...t};return Yr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yr.batch(()=>ge(this,Er).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Io).catch(Io)}invalidateQueries(t={},e={}){return Yr.batch(()=>{if(ge(this,Er).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yr.batch(()=>ge(this,Er).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Io)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Io)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ge(this,Er).build(this,e);return n.isStaleByTime(Um(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Io).catch(Io)}fetchInfiniteQuery(t){return t.behavior=R$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Io).catch(Io)}ensureInfiniteQueryData(t){return t.behavior=R$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return JE.isOnline()?ge(this,$u).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,Er)}getMutationCache(){return ge(this,$u)}getDefaultOptions(){return ge(this,Hu)}setDefaultOptions(t){vt(this,Hu,t)}setQueryDefaults(t,e){ge(this,ag).set(hh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,ag).values()];let n={};return e.forEach(r=>{Mx(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ge(this,lg).set(hh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,lg).values()];let n={};return e.forEach(r=>{Mx(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,Hu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=u3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===d3&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,Hu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,Er).clear(),ge(this,$u).clear()}},Er=new WeakMap,$u=new WeakMap,Hu=new WeakMap,ag=new WeakMap,lg=new WeakMap,Vu=new WeakMap,cg=new WeakMap,ug=new WeakMap,hX),vs,mn,Z_,Zi,Wf,dg,Wu,ll,Q_,fg,hg,Gf,Xf,Gu,pg,Dn,x0,ck,uk,dk,fk,hk,pk,mk,ZK,pX,Hve=(pX=class extends Cv{constructor(e,n){super();Ft(this,Dn);Ft(this,vs);Ft(this,mn);Ft(this,Z_);Ft(this,Zi);Ft(this,Wf);Ft(this,dg);Ft(this,Wu);Ft(this,ll);Ft(this,Q_);Ft(this,fg);Ft(this,hg);Ft(this,Gf);Ft(this,Xf);Ft(this,Gu);Ft(this,pg,new Set);this.options=n,vt(this,vs,e),vt(this,ll,null),vt(this,Wu,lk()),this.options.experimental_prefetchInRender||ge(this,Wu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,mn).addObserver(this),I$(ge(this,mn),this.options)?on(this,Dn,x0).call(this):this.updateResult(),on(this,Dn,fk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gk(ge(this,mn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gk(ge(this,mn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,on(this,Dn,hk).call(this),on(this,Dn,pk).call(this),ge(this,mn).removeObserver(this)}setOptions(e,n){const r=this.options,i=ge(this,mn);if(this.options=ge(this,vs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _a(this.options.enabled,ge(this,mn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");on(this,Dn,mk).call(this),ge(this,mn).setOptions(this.options),r._defaulted&&!QE(this.options,r)&&ge(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,mn),observer:this});const s=this.hasListeners();s&&k$(ge(this,mn),i,this.options,r)&&on(this,Dn,x0).call(this),this.updateResult(n),s&&(ge(this,mn)!==i||_a(this.options.enabled,ge(this,mn))!==_a(r.enabled,ge(this,mn))||Um(this.options.staleTime,ge(this,mn))!==Um(r.staleTime,ge(this,mn)))&&on(this,Dn,ck).call(this);const o=on(this,Dn,uk).call(this);s&&(ge(this,mn)!==i||_a(this.options.enabled,ge(this,mn))!==_a(r.enabled,ge(this,mn))||o!==ge(this,Gu))&&on(this,Dn,dk).call(this,o)}getOptimisticResult(e){const n=ge(this,vs).getQueryCache().build(ge(this,vs),e),r=this.createResult(n,e);return Wve(this,r)&&(vt(this,Zi,r),vt(this,dg,this.options),vt(this,Wf,ge(this,mn).state)),r}getCurrentResult(){return ge(this,Zi)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){ge(this,pg).add(e)}getCurrentQuery(){return ge(this,mn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ge(this,vs).defaultQueryOptions(e),r=ge(this,vs).getQueryCache().build(ge(this,vs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return on(this,Dn,x0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Zi)))}createResult(e,n){var T;const r=ge(this,mn),i=this.options,s=ge(this,Zi),o=ge(this,Wf),a=ge(this,dg),c=e!==r?e.state:ge(this,Z_),{state:d}=e;let u={...d},f=!1,g;if(n._optimisticResults){const P=this.hasListeners(),N=!P&&I$(e,n),I=P&&k$(e,r,n,i);(N||I)&&(u={...u,...qK(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:m}=u;if(n.select&&u.data!==void 0)if(s&&u.data===(o==null?void 0:o.data)&&n.select===ge(this,Q_))g=ge(this,fg);else try{vt(this,Q_,n.select),g=n.select(u.data),g=ak(s==null?void 0:s.data,g,n),vt(this,fg,g),vt(this,ll,null)}catch(P){vt(this,ll,P)}else g=u.data;if(n.placeholderData!==void 0&&g===void 0&&m==="pending"){let P;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=s.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((T=ge(this,hg))==null?void 0:T.state.data,ge(this,hg)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),vt(this,ll,null)}catch(N){vt(this,ll,N)}P!==void 0&&(m="success",g=ak(s==null?void 0:s.data,P,n),f=!0)}ge(this,ll)&&(v=ge(this,ll),g=ge(this,fg),y=Date.now(),m="error");const p=u.fetchStatus==="fetching",x=m==="pending",_=m==="error",b=x&&p,S=g!==void 0,M={status:m,fetchStatus:u.fetchStatus,isPending:x,isSuccess:m==="success",isError:_,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:_&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&S,isStale:h3(e,n),refetch:this.refetch,promise:ge(this,Wu)};if(this.options.experimental_prefetchInRender){const P=k=>{M.status==="error"?k.reject(M.error):M.data!==void 0&&k.resolve(M.data)},N=()=>{const k=vt(this,Wu,M.promise=lk());P(k)},I=ge(this,Wu);switch(I.status){case"pending":e.queryHash===r.queryHash&&P(I);break;case"fulfilled":(M.status==="error"||M.data!==I.value)&&N();break;case"rejected":(M.status!=="error"||M.error!==I.reason)&&N();break}}return M}updateResult(e){const n=ge(this,Zi),r=this.createResult(ge(this,mn),this.options);if(vt(this,Wf,ge(this,mn).state),vt(this,dg,this.options),ge(this,Wf).data!==void 0&&vt(this,hg,ge(this,mn)),QE(r,n))return;vt(this,Zi,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ge(this,pg).size)return!0;const l=new Set(a??ge(this,pg));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,Zi)).some(c=>{const d=c;return ge(this,Zi)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),on(this,Dn,ZK).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&on(this,Dn,fk).call(this)}},vs=new WeakMap,mn=new WeakMap,Z_=new WeakMap,Zi=new WeakMap,Wf=new WeakMap,dg=new WeakMap,Wu=new WeakMap,ll=new WeakMap,Q_=new WeakMap,fg=new WeakMap,hg=new WeakMap,Gf=new WeakMap,Xf=new WeakMap,Gu=new WeakMap,pg=new WeakMap,Dn=new WeakSet,x0=function(e){on(this,Dn,mk).call(this);let n=ge(this,mn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Io)),n},ck=function(){on(this,Dn,hk).call(this);const e=Um(this.options.staleTime,ge(this,mn));if(fh||ge(this,Zi).isStale||!sk(e))return;const r=zK(ge(this,Zi).dataUpdatedAt,e)+1;vt(this,Gf,setTimeout(()=>{ge(this,Zi).isStale||this.updateResult()},r))},uk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,mn)):this.options.refetchInterval)??!1},dk=function(e){on(this,Dn,pk).call(this),vt(this,Gu,e),!(fh||_a(this.options.enabled,ge(this,mn))===!1||!sk(ge(this,Gu))||ge(this,Gu)===0)&&vt(this,Xf,setInterval(()=>{(this.options.refetchIntervalInBackground||f3.isFocused())&&on(this,Dn,x0).call(this)},ge(this,Gu)))},fk=function(){on(this,Dn,ck).call(this),on(this,Dn,dk).call(this,on(this,Dn,uk).call(this))},hk=function(){ge(this,Gf)&&(clearTimeout(ge(this,Gf)),vt(this,Gf,void 0))},pk=function(){ge(this,Xf)&&(clearInterval(ge(this,Xf)),vt(this,Xf,void 0))},mk=function(){const e=ge(this,vs).getQueryCache().build(ge(this,vs),this.options);if(e===ge(this,mn))return;const n=ge(this,mn);vt(this,mn,e),vt(this,Z_,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ZK=function(e){Yr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ge(this,Zi))}),ge(this,vs).getQueryCache().notify({query:ge(this,mn),type:"observerResultsUpdated"})})},pX);function Vve(t,e){return _a(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function I$(t,e){return Vve(t,e)||t.state.data!==void 0&&gk(t,e,e.refetchOnMount)}function gk(t,e,n){if(_a(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&h3(t,e)}return!1}function k$(t,e,n,r){return(t!==e||_a(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&h3(t,n)}function h3(t,e){return _a(e.enabled,t)!==!1&&t.isStaleByTime(Um(e.staleTime,t))}function Wve(t,e){return!QE(t.getCurrentResult(),e)}var Xu,qu,ys,mc,Rc,aE,vk,mX,Gve=(mX=class extends Cv{constructor(n,r){super();Ft(this,Rc);Ft(this,Xu);Ft(this,qu);Ft(this,ys);Ft(this,mc);vt(this,Xu,n),this.setOptions(r),this.bindMethods(),on(this,Rc,aE).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Xu).defaultMutationOptions(n),QE(this.options,r)||ge(this,Xu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,ys),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&hh(r.mutationKey)!==hh(this.options.mutationKey)?this.reset():((i=ge(this,ys))==null?void 0:i.state.status)==="pending"&&ge(this,ys).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,ys))==null||n.removeObserver(this)}onMutationUpdate(n){on(this,Rc,aE).call(this),on(this,Rc,vk).call(this,n)}getCurrentResult(){return ge(this,qu)}reset(){var n;(n=ge(this,ys))==null||n.removeObserver(this),vt(this,ys,void 0),on(this,Rc,aE).call(this),on(this,Rc,vk).call(this)}mutate(n,r){var i;return vt(this,mc,r),(i=ge(this,ys))==null||i.removeObserver(this),vt(this,ys,ge(this,Xu).getMutationCache().build(ge(this,Xu),this.options)),ge(this,ys).addObserver(this),ge(this,ys).execute(n)}},Xu=new WeakMap,qu=new WeakMap,ys=new WeakMap,mc=new WeakMap,Rc=new WeakSet,aE=function(){var r;const n=((r=ge(this,ys))==null?void 0:r.state)??KK();vt(this,qu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},vk=function(n){Yr.batch(()=>{var r,i,s,o,a,l,c,d;if(ge(this,mc)&&this.hasListeners()){const u=ge(this,qu).variables,f=ge(this,qu).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,mc)).onSuccess)==null||i.call(r,n.data,u,f),(o=(s=ge(this,mc)).onSettled)==null||o.call(s,n.data,null,u,f)):(n==null?void 0:n.type)==="error"&&((l=(a=ge(this,mc)).onError)==null||l.call(a,n.error,u,f),(d=(c=ge(this,mc)).onSettled)==null||d.call(c,void 0,n.error,u,f))}this.listeners.forEach(u=>{u(ge(this,qu))})})},mX),QK=A.createContext(void 0),Ll=t=>{const e=A.useContext(QK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Xve=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(QK.Provider,{value:t,children:e})),JK=A.createContext(!1),qve=()=>A.useContext(JK);JK.Provider;function Kve(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Yve=A.createContext(Kve()),Zve=()=>A.useContext(Yve);function eY(t,e){return typeof t=="function"?t(...e):!!t}function yk(){}var Qve=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Jve=t=>{A.useEffect(()=>{t.clearReset()},[t])},eye=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&eY(n,[t.error,r]),tye=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},nye=(t,e)=>t.isLoading&&t.isFetching&&!e,rye=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,D$=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iye(t,e,n){var d,u,f,g,v;const r=Ll(),i=qve(),s=Zve(),o=r.defaultQueryOptions(t);(u=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||u.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",tye(o),Qve(o,s),Jve(s);const a=!r.getQueryCache().get(o.queryHash),[l]=A.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(A.useSyncExternalStore(A.useCallback(y=>{const m=i?yk:l.subscribe(Yr.batchCalls(y));return l.updateResult(),m},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),rye(o,c))throw D$(o,l,s);if(eye({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,c),o.experimental_prefetchInRender&&!fh&&nye(c,i)){const y=a?D$(o,l,s):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(yk).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Jr(t,e){return iye(t,Hve)}function Bn(t,e){const n=Ll(),[r]=A.useState(()=>new Gve(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const i=A.useSyncExternalStore(A.useCallback(o=>r.subscribe(Yr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=A.useCallback((o,a)=>{r.mutate(o,a).catch(yk)},[r]);if(i.error&&eY(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function sye(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const oye=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await sye(n),await n.json())},aye=new YK({defaultOptions:{queries:{queryFn:oye({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function lye(t,e){const n=A.createContext(e),r=s=>{const{children:o,...a}=s,l=A.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Gn(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];const c=u=>{var p;const{scope:f,children:g,...v}=u,y=((p=f==null?void 0:f[t])==null?void 0:p[l])||a,m=A.useMemo(()=>v,Object.values(v));return h.jsx(y.Provider,{value:m,children:g})};c.displayName=s+"Provider";function d(u,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,v=A.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,cye(i,...e)]}function cye(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function L$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nl(...t){return e=>{let n=!1;const r=t.map(i=>{const s=L$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():L$(t[i],null)}}}}function At(...t){return A.useCallback(Nl(...t),t)}function md(t){const e=uye(t),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,a=A.Children.toArray(s),l=a.find(dye);if(l){const c=l.props.children,d=a.map(u=>u===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:u);return h.jsx(e,{...o,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ib=md("Slot");function uye(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=hye(i),a=fye(s,i.props);return i.type!==A.Fragment&&(a.ref=r?Nl(r,o):o),A.cloneElement(i,a)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tY=Symbol("radix.slottable");function nY(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=tY,e}function dye(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tY}function fye(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function hye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xc(t){const e=t+"CollectionProvider",[n,r]=Gn(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:m,children:p}=y,x=ee.useRef(null),_=ee.useRef(new Map).current;return h.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=md(a),c=ee.forwardRef((y,m)=>{const{scope:p,children:x}=y,_=s(a,p),b=At(m,_.collectionRef);return h.jsx(l,{ref:b,children:x})});c.displayName=a;const d=t+"CollectionItemSlot",u="data-radix-collection-item",f=md(d),g=ee.forwardRef((y,m)=>{const{scope:p,children:x,..._}=y,b=ee.useRef(null),S=At(m,b),C=s(d,p);return ee.useEffect(()=>(C.itemMap.set(b,{ref:b,..._}),()=>void C.itemMap.delete(b))),h.jsx(f,{[u]:"",ref:S,children:x})});g.displayName=d;function v(y){const m=s(t+"CollectionConsumer",y);return ee.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((C,M)=>_.indexOf(C.ref.current)-_.indexOf(M.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kn(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Or({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=pye({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=kn(n),l=A.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function pye({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,i=A.useRef(r),s=kn(e);return A.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var mye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=mye.reduce((t,e)=>{const n=md(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ax(t,e){t&&Fh.flushSync(()=>t.dispatchEvent(e))}var ur=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function gye(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var or=t=>{const{present:e,children:n}=t,r=vye(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=At(r.ref,yye(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};or.displayName="Presence";function vye(t){const[e,n]=A.useState(),r=A.useRef({}),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,l]=gye(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=b1(r.current);s.current=a==="mounted"?c:"none"},[a]),ur(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,g=b1(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ur(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=g=>{const y=b1(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},f=g=>{g.target===e&&(s.current=b1(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function b1(t){return(t==null?void 0:t.animationName)||"none"}function yye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xye=CA[" useId ".trim().toString()]||(()=>{}),_ye=0;function Hr(t){const[e,n]=A.useState(xye());return ur(()=>{n(r=>r??String(_ye++))},[t]),e?`radix-${e}`:""}var p3="Collapsible",[bye,rY]=Gn(p3),[wye,m3]=bye(p3),iY=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=Or({prop:r,defaultProp:i,onChange:o});return h.jsx(wye,{scope:n,disabled:s,contentId:Hr(),open:l,onOpenToggle:A.useCallback(()=>c(d=>!d),[c]),children:h.jsx(qe.div,{"data-state":x3(l),"data-disabled":s?"":void 0,...a,ref:e})})});iY.displayName=p3;var sY="CollapsibleTrigger",g3=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=m3(sY,n);return h.jsx(qe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":x3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Oe(t.onClick,i.onOpenToggle)})});g3.displayName=sY;var v3="CollapsibleContent",y3=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=m3(v3,t.__scopeCollapsible);return h.jsx(or,{present:n||i.open,children:({present:s})=>h.jsx(Sye,{...r,ref:e,present:s})})});y3.displayName=v3;var Sye=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=m3(v3,n),[a,l]=A.useState(r),c=A.useRef(null),d=At(e,c),u=A.useRef(0),f=u.current,g=A.useRef(0),v=g.current,y=o.open||a,m=A.useRef(y),p=A.useRef(void 0);return A.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),ur(()=>{const x=c.current;if(x){p.current=p.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();u.current=_.height,g.current=_.width,m.current||(x.style.transitionDuration=p.current.transitionDuration,x.style.animationName=p.current.animationName),l(r)}},[o.open,r]),h.jsx(qe.div,{"data-state":x3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&i})});function x3(t){return t?"open":"closed"}var oY=iY,Eye=g3,Cye=y3,Mye=A.createContext(void 0);function jl(t){const e=A.useContext(Mye);return t||e||"ltr"}var qc="Accordion",Aye=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_3,Tye,Pye]=Xc(qc),[HA,u0t]=Gn(qc,[Pye,rY]),b3=rY(),Nye=ee.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return h.jsx(_3.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?h.jsx(kye,{...s,ref:e}):h.jsx(Iye,{...i,ref:e})})});Nye.displayName=qc;var[aY,Rye]=HA(qc),[lY,Oye]=HA(qc,{collapsible:!1}),Iye=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=Or({prop:n,defaultProp:r,onChange:i});return h.jsx(aY,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ee.useCallback(()=>s&&l(""),[s,l]),children:h.jsx(lY,{scope:t.__scopeAccordion,collapsible:s,children:h.jsx(cY,{...o,ref:e})})})}),kye=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Or({prop:n,defaultProp:r,onChange:i}),l=ee.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=ee.useCallback(d=>a((u=[])=>u.filter(f=>f!==d)),[a]);return h.jsx(aY,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:h.jsx(lY,{scope:t.__scopeAccordion,collapsible:!0,children:h.jsx(cY,{...s,ref:e})})})}),[Dye,VA]=HA(qc),cY=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=ee.useRef(null),l=At(a,e),c=Tye(n),u=jl(i)==="ltr",f=Oe(t.onKeyDown,g=>{var T;if(!Aye.includes(g.key))return;const v=g.target,y=c().filter(P=>{var N;return!((N=P.ref.current)!=null&&N.disabled)}),m=y.findIndex(P=>P.ref.current===v),p=y.length;if(m===-1)return;g.preventDefault();let x=m;const _=0,b=p-1,S=()=>{x=m+1,x>b&&(x=_)},C=()=>{x=m-1,x<_&&(x=b)};switch(g.key){case"Home":x=_;break;case"End":x=b;break;case"ArrowRight":s==="horizontal"&&(u?S():C());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(u?C():S());break;case"ArrowUp":s==="vertical"&&C();break}const M=x%p;(T=y[M].ref.current)==null||T.focus()});return h.jsx(Dye,{scope:n,disabled:r,direction:i,orientation:s,children:h.jsx(_3.Slot,{scope:n,children:h.jsx(qe.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:f})})})}),eC="AccordionItem",[Lye,w3]=HA(eC),uY=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=VA(eC,n),o=Rye(eC,n),a=b3(n),l=Hr(),c=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return h.jsx(Lye,{scope:n,open:c,disabled:d,triggerId:l,children:h.jsx(oY,{"data-orientation":s.orientation,"data-state":gY(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:u=>{u?o.onItemOpen(r):o.onItemClose(r)}})})});uY.displayName=eC;var dY="AccordionHeader",fY=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=VA(qc,n),s=w3(dY,n);return h.jsx(qe.h3,{"data-orientation":i.orientation,"data-state":gY(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});fY.displayName=dY;var xk="AccordionTrigger",hY=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=VA(qc,n),s=w3(xk,n),o=Oye(xk,n),a=b3(n);return h.jsx(_3.ItemSlot,{scope:n,children:h.jsx(Eye,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});hY.displayName=xk;var pY="AccordionContent",mY=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=VA(qc,n),s=w3(pY,n),o=b3(n);return h.jsx(Cye,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});mY.displayName=pY;function gY(t){return t?"open":"closed"}var jye=uY,Fye=fY,vY=hY,yY=mY;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xY=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,...Uye,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xY("lucide",i),...a},[...o.map(([c,d])=>A.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(zye,{ref:s,iconNode:e,className:xY(`lucide-${Bye(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ot("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=ot("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ot("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ot("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=ot("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=ot("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ot("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ot("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=ot("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=ot("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=ot("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=ot("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=ot("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=ot("FolderGit",[["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M14 13h3",key:"1dgedf"}],["path",{d:"M7 13h3",key:"1pygq7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=ot("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ot("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ot("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=ot("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=ot("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ot("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=ot("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=ot("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ot("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=ot("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=ot("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=ot("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=ot("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=ot("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=ot("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=ot("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=ot("SquareTerminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ot("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=ot("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=ot("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=ot("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=ot("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=ot("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=ot("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function PY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PY(t))&&(r&&(r+=" "),r+=e);return r}const T3="-",T0e=t=>{const e=N0e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(T3);return a[0]===""&&a.length!==1&&a.shift(),NY(a,e)||P0e(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},NY=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?NY(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(T3);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},B$=/^\[(.+)\]$/,P0e=t=>{if(B$.test(t)){const e=B$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},N0e=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return O0e(Object.entries(t.classGroups),n).forEach(([s,o])=>{bk(o,r,s,e)}),r},bk=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:U$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(R0e(i)){bk(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{bk(o,U$(e,s),n,r)})})},U$=(t,e)=>{let n=t;return e.split(T3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},R0e=t=>t.isThemeGetter,O0e=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,I0e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},RY="!",k0e=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let m=0;m<a.length;m++){let p=a[m];if(c===0){if(p===i&&(r||a.slice(m,m+s)===e)){l.push(a.slice(d,m)),d=m+s;continue}if(p==="/"){u=m;continue}}p==="["?c++:p==="]"&&c--}const f=l.length===0?a:a.substring(d),g=f.startsWith(RY),v=g?f.substring(1):f,y=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},D0e=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},L0e=t=>({cache:I0e(t.cacheSize),parseClassName:k0e(t),...T0e(t)}),j0e=/\s+/,F0e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(j0e);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?f.substring(0,g):f);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const m=D0e(d).join(":"),p=u?m+RY:m,x=p+y;if(s.includes(x))continue;s.push(x);const _=i(y,v);for(let b=0;b<_.length;++b){const S=_[b];s.push(p+S)}a=c+(a.length>0?" "+a:a)}return a};function B0e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OY(e))&&(r&&(r+=" "),r+=n);return r}const OY=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OY(t[r]))&&(n&&(n+=" "),n+=e);return n};function U0e(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=L0e(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=F0e(l,n);return i(l,d),d}return function(){return s(B0e.apply(null,arguments))}}const er=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IY=/^\[(?:([a-z-]+):)?(.+)\]$/i,z0e=/^\d+\/\d+$/,$0e=new Set(["px","full","screen"]),H0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ec=t=>$m(t)||$0e.has(t)||z0e.test(t),gu=t=>Av(t,"length",txe),$m=t=>!!t&&!Number.isNaN(Number(t)),GN=t=>Av(t,"number",$m),Iy=t=>!!t&&Number.isInteger(Number(t)),q0e=t=>t.endsWith("%")&&$m(t.slice(0,-1)),nn=t=>IY.test(t),vu=t=>H0e.test(t),K0e=new Set(["length","size","percentage"]),Y0e=t=>Av(t,K0e,kY),Z0e=t=>Av(t,"position",kY),Q0e=new Set(["image","url"]),J0e=t=>Av(t,Q0e,rxe),exe=t=>Av(t,"",nxe),ky=()=>!0,Av=(t,e,n)=>{const r=IY.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},txe=t=>V0e.test(t)&&!W0e.test(t),kY=()=>!1,nxe=t=>G0e.test(t),rxe=t=>X0e.test(t),ixe=()=>{const t=er("colors"),e=er("spacing"),n=er("blur"),r=er("brightness"),i=er("borderColor"),s=er("borderRadius"),o=er("borderSpacing"),a=er("borderWidth"),l=er("contrast"),c=er("grayscale"),d=er("hueRotate"),u=er("invert"),f=er("gap"),g=er("gradientColorStops"),v=er("gradientColorStopPositions"),y=er("inset"),m=er("margin"),p=er("opacity"),x=er("padding"),_=er("saturate"),b=er("scale"),S=er("sepia"),C=er("skew"),M=er("space"),T=er("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",nn,e],k=()=>[nn,e],j=()=>["",ec,gu],F=()=>["auto",$m,nn],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",nn],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[$m,nn];return{cacheSize:500,separator:":",theme:{colors:[ky],spacing:[ec,gu],blur:["none","",vu,nn],brightness:W(),borderColor:[t],borderRadius:["none","","full",vu,nn],borderSpacing:k(),borderWidth:j(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[q0e,gu],inset:I(),margin:I(),opacity:W(),padding:k(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[vu]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),nn]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Iy,nn]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Iy,nn]}],"grid-cols":[{"grid-cols":[ky]}],"col-start-end":[{col:["auto",{span:["full",Iy,nn]},nn]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ky]}],"row-start-end":[{row:["auto",{span:[Iy,nn]},nn]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nn,e]}],"min-w":[{"min-w":[nn,e,"min","max","fit"]}],"max-w":[{"max-w":[nn,e,"none","full","min","max","fit","prose",{screen:[vu]},vu]}],h:[{h:[nn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vu,gu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",GN]}],"font-family":[{font:[ky]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",$m,GN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ec,nn]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ec,gu]}],"underline-offset":[{"underline-offset":["auto",ec,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Z0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J0e]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ec,nn]}],"outline-w":[{outline:[ec,gu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ec,gu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vu,exe]}],"shadow-color":[{shadow:[ky]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vu,nn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Iy,nn]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ec,gu,GN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sxe=U0e(ixe);function we(...t){return sxe(Yt(t))}const oxe=A.forwardRef(({className:t,...e},n)=>h.jsx(jye,{ref:n,className:we("border-b",t),...e}));oxe.displayName="AccordionItem";const axe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsx(Fye,{className:"flex",children:h.jsxs(vY,{ref:r,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,h.jsx(Mv,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));axe.displayName=vY.displayName;const lxe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsx(yY,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:h.jsx("div",{className:we("pb-4 pt-0",t),children:e})}));lxe.displayName=yY.displayName;function cxe(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uxe="DismissableLayer",wk="dismissableLayer.update",dxe="dismissableLayer.pointerDownOutside",fxe="dismissableLayer.focusOutside",z$,DY=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=A.useContext(DY),[d,u]=A.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),v=At(e,M=>u(M)),y=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(m),x=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=p,S=pxe(M=>{const T=M.target,P=[...c.branches].some(N=>N.contains(T));!b||P||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},f),C=mxe(M=>{const T=M.target;[...c.branches].some(N=>N.contains(T))||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},f);return cxe(M=>{x===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},f),A.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(z$=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),$$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=z$)}},[d,f,n,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),$$())},[d,c]),A.useEffect(()=>{const M=()=>g({});return document.addEventListener(wk,M),()=>document.removeEventListener(wk,M)},[]),h.jsx(qe.div,{...l,ref:v,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,S.onPointerDownCapture)})});Kc.displayName=uxe;var hxe="DismissableLayerBranch",LY=A.forwardRef((t,e)=>{const n=A.useContext(DY),r=A.useRef(null),i=At(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(qe.div,{...t,ref:i})});LY.displayName=hxe;function pxe(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){jY(dxe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mxe(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&jY(fxe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $$(){const t=new CustomEvent(wk);document.dispatchEvent(t)}function jY(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ax(i,s):i.dispatchEvent(s)}var gxe=Kc,vxe=LY,XN="focusScope.autoFocusOnMount",qN="focusScope.autoFocusOnUnmount",H$={bubbles:!1,cancelable:!0},yxe="FocusScope",db=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=A.useState(null),c=kn(i),d=kn(s),u=A.useRef(null),f=At(e,y=>l(y)),g=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let y=function(_){if(g.paused||!a)return;const b=_.target;a.contains(b)?u.current=b:Pu(u.current,{select:!0})},m=function(_){if(g.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||Pu(u.current,{select:!0}))},p=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Pu(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(p);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[r,a,g.paused]),A.useEffect(()=>{if(a){W$.add(g);const y=document.activeElement;if(!a.contains(y)){const p=new CustomEvent(XN,H$);a.addEventListener(XN,c),a.dispatchEvent(p),p.defaultPrevented||(xxe(Exe(FY(a)),{select:!0}),document.activeElement===y&&Pu(a))}return()=>{a.removeEventListener(XN,c),setTimeout(()=>{const p=new CustomEvent(qN,H$);a.addEventListener(qN,d),a.dispatchEvent(p),p.defaultPrevented||Pu(y??document.body,{select:!0}),a.removeEventListener(qN,d),W$.remove(g)},0)}}},[a,c,d,g]);const v=A.useCallback(y=>{if(!n&&!r||g.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,p=document.activeElement;if(m&&p){const x=y.currentTarget,[_,b]=_xe(x);_&&b?!y.shiftKey&&p===b?(y.preventDefault(),n&&Pu(_,{select:!0})):y.shiftKey&&p===_&&(y.preventDefault(),n&&Pu(b,{select:!0})):p===x&&y.preventDefault()}},[n,r,g.paused]);return h.jsx(qe.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});db.displayName=yxe;function xxe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pu(r,{select:e}),document.activeElement!==n)return}function _xe(t){const e=FY(t),n=V$(e,t),r=V$(e.reverse(),t);return[n,r]}function FY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function V$(t,e){for(const n of t)if(!bxe(n,{upTo:e}))return n}function bxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wxe(t){return t instanceof HTMLInputElement&&"select"in t}function Pu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wxe(t)&&e&&t.select()}}var W$=Sxe();function Sxe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=G$(t,e),t.unshift(e)},remove(e){var n;t=G$(t,e),(n=t[0])==null||n.resume()}}}function G$(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Exe(t){return t.filter(e=>e.tagName!=="A")}var Cxe="Portal",Tv=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=A.useState(!1);ur(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TK.createPortal(h.jsx(qe.div,{...r,ref:e}),o):null});Tv.displayName=Cxe;var KN=0;function qA(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X$()),document.body.insertAdjacentElement("beforeend",t[1]??X$()),KN++,()=>{KN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),KN--}},[])}function X$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dl=function(){return dl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dl.apply(this,arguments)};function BY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mxe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var lE="right-scroll-bar-position",cE="width-before-scroll-bar",Axe="with-scroll-bars-hidden",Txe="--removed-body-scroll-bar-size";function YN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Pxe(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nxe=typeof window<"u"?A.useLayoutEffect:A.useEffect,q$=new WeakMap;function Rxe(t,e){var n=Pxe(null,function(r){return t.forEach(function(i){return YN(i,r)})});return Nxe(function(){var r=q$.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||YN(a,null)}),s.forEach(function(a){i.has(a)||YN(a,o)})}q$.set(n,t)},[t]),n}function Oxe(t){return t}function Ixe(t,e){e===void 0&&(e=Oxe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function kxe(t){t===void 0&&(t={});var e=Ixe(null);return e.options=dl({async:!0,ssr:!1},t),e}var UY=function(t){var e=t.sideCar,n=BY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,dl({},n))};UY.isSideCarExport=!0;function Dxe(t,e){return t.useMedium(e),UY}var zY=kxe(),ZN=function(){},KA=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:ZN,onWheelCapture:ZN,onTouchMoveCapture:ZN}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,m=t.as,p=m===void 0?"div":m,x=t.gapMode,_=BY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,S=Rxe([n,e]),C=dl(dl({},_),i);return A.createElement(A.Fragment,null,d&&A.createElement(b,{sideCar:zY,removeScrollBar:c,shards:u,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?A.cloneElement(A.Children.only(a),dl(dl({},C),{ref:S})):A.createElement(p,dl({},C,{className:l,ref:S}),a))});KA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KA.classNames={fullWidth:cE,zeroRight:lE};var Lxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jxe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lxe();return e&&t.setAttribute("nonce",e),t}function Fxe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Uxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jxe())&&(Fxe(e,n),Bxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zxe=function(){var t=Uxe();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$Y=function(){var t=zxe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$xe={left:0,top:0,right:0,gap:0},QN=function(t){return parseInt(t||"",10)||0},Hxe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[QN(n),QN(r),QN(i)]},Vxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $xe;var e=Hxe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Wxe=$Y(),Hm="data-scroll-locked",Gxe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Axe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lE,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cE,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lE," .").concat(lE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cE," .").concat(cE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hm,`] {
    `).concat(Txe,": ").concat(a,`px;
  }
`)},K$=function(){var t=parseInt(document.body.getAttribute(Hm)||"0",10);return isFinite(t)?t:0},Xxe=function(){A.useEffect(function(){return document.body.setAttribute(Hm,(K$()+1).toString()),function(){var t=K$()-1;t<=0?document.body.removeAttribute(Hm):document.body.setAttribute(Hm,t.toString())}},[])},qxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Xxe();var s=A.useMemo(function(){return Vxe(i)},[i]);return A.createElement(Wxe,{styles:Gxe(s,!e,i,n?"":"!important")})},Sk=!1;if(typeof window<"u")try{var w1=Object.defineProperty({},"passive",{get:function(){return Sk=!0,!0}});window.addEventListener("test",w1,w1),window.removeEventListener("test",w1,w1)}catch{Sk=!1}var Sp=Sk?{passive:!1}:!1,Kxe=function(t){return t.tagName==="TEXTAREA"},HY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kxe(t)&&n[e]==="visible")},Yxe=function(t){return HY(t,"overflowY")},Zxe=function(t){return HY(t,"overflowX")},Y$=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VY(t,r);if(i){var s=WY(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VY=function(t,e){return t==="v"?Yxe(e):Zxe(e)},WY=function(t,e){return t==="v"?Qxe(e):Jxe(e)},e_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},t_e=function(t,e,n,r,i){var s=e_e(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,f=0;do{var g=WY(t,a),v=g[0],y=g[1],m=g[2],p=y-m-s*v;(v||p)&&VY(t,a)&&(u+=p,f+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(u)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(c=!0),c},S1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Z$=function(t){return[t.deltaX,t.deltaY]},Q$=function(t){return t&&"current"in t?t.current:t},n_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i_e=0,Ep=[];function s_e(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(i_e++)[0],s=A.useState($Y)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Mxe([t.lockRef.current],(t.shards||[]).map(Q$),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=A.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var p=S1(y),x=n.current,_="deltaX"in y?y.deltaX:x[0]-p[0],b="deltaY"in y?y.deltaY:x[1]-p[1],S,C=y.target,M=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in y&&M==="h"&&C.type==="range")return!1;var T=Y$(M,C);if(!T)return!0;if(T?S=M:(S=M==="v"?"h":"v",T=Y$(M,C)),!T)return!1;if(!r.current&&"changedTouches"in y&&(_||b)&&(r.current=S),!S)return!0;var P=r.current||S;return t_e(P,m,y,P==="h"?_:b,!0)},[]),l=A.useCallback(function(y){var m=y;if(!(!Ep.length||Ep[Ep.length-1]!==s)){var p="deltaY"in m?Z$(m):S1(m),x=e.current.filter(function(S){return S.name===m.type&&(S.target===m.target||m.target===S.shadowParent)&&n_e(S.delta,p)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var _=(o.current.shards||[]).map(Q$).filter(Boolean).filter(function(S){return S.contains(m.target)}),b=_.length>0?a(m,_[0]):!o.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=A.useCallback(function(y,m,p,x){var _={name:y,delta:m,target:p,should:x,shadowParent:o_e(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),d=A.useCallback(function(y){n.current=S1(y),r.current=void 0},[]),u=A.useCallback(function(y){c(y.type,Z$(y),y.target,a(y,t.lockRef.current))},[]),f=A.useCallback(function(y){c(y.type,S1(y),y.target,a(y,t.lockRef.current))},[]);A.useEffect(function(){return Ep.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Sp),document.addEventListener("touchmove",l,Sp),document.addEventListener("touchstart",d,Sp),function(){Ep=Ep.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Sp),document.removeEventListener("touchmove",l,Sp),document.removeEventListener("touchstart",d,Sp)}},[]);var g=t.removeScrollBar,v=t.inert;return A.createElement(A.Fragment,null,v?A.createElement(s,{styles:r_e(i)}):null,g?A.createElement(qxe,{gapMode:t.gapMode}):null)}function o_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const a_e=Dxe(zY,s_e);var fb=A.forwardRef(function(t,e){return A.createElement(KA,dl({},t,{ref:e,sideCar:a_e}))});fb.classNames=KA.classNames;var l_e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cp=new WeakMap,E1=new WeakMap,C1={},JN=0,GY=function(t){return t&&(t.host||GY(t.parentNode))},c_e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},u_e=function(t,e,n,r){var i=c_e(e,Array.isArray(t)?t:[t]);C1[n]||(C1[n]=new WeakMap);var s=C1[n],o=[],a=new Set,l=new Set(i),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),v=g!==null&&g!=="false",y=(Cp.get(f)||0)+1,m=(s.get(f)||0)+1;Cp.set(f,y),s.set(f,m),o.push(f),y===1&&v&&E1.set(f,!0),m===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return d(e),a.clear(),JN++,function(){o.forEach(function(u){var f=Cp.get(u)-1,g=s.get(u)-1;Cp.set(u,f),s.set(u,g),f||(E1.has(u)||u.removeAttribute(r),E1.delete(u)),g||u.removeAttribute(n)}),JN--,JN||(Cp=new WeakMap,Cp=new WeakMap,E1=new WeakMap,C1={})}},YA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=l_e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),u_e(r,i,n,"aria-hidden")):function(){return null}},P3="Dialog",[XY,qY]=Gn(P3),[d_e,Ha]=XY(P3),KY=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=A.useRef(null),l=A.useRef(null),[c=!1,d]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(d_e,{scope:e,triggerRef:a,contentRef:l,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:c,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};KY.displayName=P3;var YY="DialogTrigger",ZY=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ha(YY,n),s=At(e,i.triggerRef);return h.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O3(i.open),...r,ref:s,onClick:Oe(t.onClick,i.onOpenToggle)})});ZY.displayName=YY;var N3="DialogPortal",[f_e,QY]=XY(N3,{forceMount:void 0}),JY=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ha(N3,e);return h.jsx(f_e,{scope:e,forceMount:n,children:A.Children.map(r,o=>h.jsx(or,{present:n||s.open,children:h.jsx(Tv,{asChild:!0,container:i,children:o})}))})};JY.displayName=N3;var nC="DialogOverlay",eZ=A.forwardRef((t,e)=>{const n=QY(nC,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ha(nC,t.__scopeDialog);return s.modal?h.jsx(or,{present:r||s.open,children:h.jsx(p_e,{...i,ref:e})}):null});eZ.displayName=nC;var h_e=md("DialogOverlay.RemoveScroll"),p_e=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ha(nC,n);return h.jsx(fb,{as:h_e,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(qe.div,{"data-state":O3(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mh="DialogContent",tZ=A.forwardRef((t,e)=>{const n=QY(mh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ha(mh,t.__scopeDialog);return h.jsx(or,{present:r||s.open,children:s.modal?h.jsx(m_e,{...i,ref:e}):h.jsx(g_e,{...i,ref:e})})});tZ.displayName=mh;var m_e=A.forwardRef((t,e)=>{const n=Ha(mh,t.__scopeDialog),r=A.useRef(null),i=At(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return YA(s)},[]),h.jsx(nZ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),g_e=A.forwardRef((t,e)=>{const n=Ha(mh,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return h.jsx(nZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nZ=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Ha(mh,n),l=A.useRef(null),c=At(e,l);return qA(),h.jsxs(h.Fragment,{children:[h.jsx(db,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(Kc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":O3(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(y_e,{titleId:a.titleId}),h.jsx(__e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),R3="DialogTitle",rZ=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ha(R3,n);return h.jsx(qe.h2,{id:i.titleId,...r,ref:e})});rZ.displayName=R3;var iZ="DialogDescription",sZ=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ha(iZ,n);return h.jsx(qe.p,{id:i.descriptionId,...r,ref:e})});sZ.displayName=iZ;var oZ="DialogClose",aZ=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ha(oZ,n);return h.jsx(qe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});aZ.displayName=oZ;function O3(t){return t?"open":"closed"}var lZ="DialogTitleWarning",[v_e,cZ]=lye(lZ,{contentName:mh,titleName:R3,docsSlug:"dialog"}),y_e=({titleId:t})=>{const e=cZ(lZ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},x_e="DialogDescriptionWarning",__e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cZ(x_e).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ZA=KY,I3=ZY,hb=JY,Uh=eZ,zh=tZ,Pv=rZ,Nv=sZ,pb=aZ,b_e="AlertDialog",[w_e,d0t]=Gn(b_e,[qY]),Ad=qY(),S_e="AlertDialogTrigger",E_e=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ad(n);return h.jsx(I3,{...i,...r,ref:e})});E_e.displayName=S_e;var C_e="AlertDialogPortal",uZ=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ad(e);return h.jsx(hb,{...r,...n})};uZ.displayName=C_e;var M_e="AlertDialogOverlay",dZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ad(n);return h.jsx(Uh,{...i,...r,ref:e})});dZ.displayName=M_e;var Vm="AlertDialogContent",[A_e,T_e]=w_e(Vm),P_e=nY("AlertDialogContent"),fZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Ad(n),o=A.useRef(null),a=At(e,o),l=A.useRef(null);return h.jsx(v_e,{contentName:Vm,titleName:hZ,docsSlug:"alert-dialog",children:h.jsx(A_e,{scope:n,cancelRef:l,children:h.jsxs(zh,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Oe(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(P_e,{children:r}),h.jsx(R_e,{contentRef:o})]})})})});fZ.displayName=Vm;var hZ="AlertDialogTitle",pZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ad(n);return h.jsx(Pv,{...i,...r,ref:e})});pZ.displayName=hZ;var mZ="AlertDialogDescription",gZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ad(n);return h.jsx(Nv,{...i,...r,ref:e})});gZ.displayName=mZ;var N_e="AlertDialogAction",vZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ad(n);return h.jsx(pb,{...i,...r,ref:e})});vZ.displayName=N_e;var yZ="AlertDialogCancel",xZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=T_e(yZ,n),s=Ad(n),o=At(e,i);return h.jsx(pb,{...s,...r,ref:o})});xZ.displayName=yZ;var R_e=({contentRef:t})=>{const e=`\`${Vm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vm}\` by passing a \`${mZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},O_e=uZ,_Z=dZ,bZ=fZ,wZ=vZ,SZ=xZ,EZ=pZ,CZ=gZ;const I_e=O_e,MZ=A.forwardRef(({className:t,...e},n)=>h.jsx(_Z,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));MZ.displayName=_Z.displayName;const k_e=A.forwardRef(({className:t,...e},n)=>h.jsxs(I_e,{children:[h.jsx(MZ,{}),h.jsx(bZ,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));k_e.displayName=bZ.displayName;const D_e=A.forwardRef(({className:t,...e},n)=>h.jsx(EZ,{ref:n,className:we("text-lg font-semibold",t),...e}));D_e.displayName=EZ.displayName;const L_e=A.forwardRef(({className:t,...e},n)=>h.jsx(CZ,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));L_e.displayName=CZ.displayName;const j_e=A.forwardRef(({className:t,...e},n)=>h.jsx(wZ,{ref:n,className:we(Rx(),t),...e}));j_e.displayName=wZ.displayName;const F_e=A.forwardRef(({className:t,...e},n)=>h.jsx(SZ,{ref:n,className:we(Rx({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));F_e.displayName=SZ.displayName;const J$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eH=Yt,Yc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return eH(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const f=J$(d)||J$(u);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...g}=d;return Object.entries(g).every(v=>{let[y,m]=v;return Array.isArray(m)?m.includes({...s,...a}[y]):{...s,...a}[y]===m})?[...c,u,f]:c},[]);return eH(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},B_e=Yc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),U_e=A.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:we(B_e({variant:e}),t),...n}));U_e.displayName="Alert";const z_e=A.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));z_e.displayName="AlertTitle";const $_e=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));$_e.displayName="AlertDescription";var k3="Avatar",[H_e,f0t]=Gn(k3),[V_e,AZ]=H_e(k3),TZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=A.useState("idle");return h.jsx(V_e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:h.jsx(qe.span,{...r,ref:e})})});TZ.displayName=k3;var PZ="AvatarImage",NZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=AZ(PZ,n),a=W_e(r,s),l=kn(c=>{i(c),o.onImageLoadingStatusChange(c)});return ur(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(qe.img,{...s,ref:e,src:r}):null});NZ.displayName=PZ;var RZ="AvatarFallback",OZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=AZ(RZ,n),[o,a]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?h.jsx(qe.span,{...i,ref:e}):null});OZ.displayName=RZ;function tH(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function W_e(t,{referrerPolicy:e,crossOrigin:n}){const r=X_e(),i=A.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=A.useState(()=>tH(s,t));return ur(()=>{a(tH(s,t))},[s,t]),ur(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),o}function G_e(){return()=>{}}function X_e(){return A.useSyncExternalStore(G_e,()=>!0,()=>!1)}var IZ=TZ,kZ=NZ,DZ=OZ;const q_e=A.forwardRef(({className:t,...e},n)=>h.jsx(IZ,{ref:n,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));q_e.displayName=IZ.displayName;const K_e=A.forwardRef(({className:t,...e},n)=>h.jsx(kZ,{ref:n,className:we("aspect-square h-full w-full",t),...e}));K_e.displayName=kZ.displayName;const Y_e=A.forwardRef(({className:t,...e},n)=>h.jsx(DZ,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Y_e.displayName=DZ.displayName;const Z_e=Yc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function dn({className:t,variant:e,...n}){return h.jsx("div",{className:we(Z_e({variant:e}),t),...n})}const Q_e=A.forwardRef(({...t},e)=>h.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));Q_e.displayName="Breadcrumb";const J_e=A.forwardRef(({className:t,...e},n)=>h.jsx("ol",{ref:n,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));J_e.displayName="BreadcrumbList";const ebe=A.forwardRef(({className:t,...e},n)=>h.jsx("li",{ref:n,className:we("inline-flex items-center gap-1.5",t),...e}));ebe.displayName="BreadcrumbItem";const tbe=A.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?ib:"a";return h.jsx(i,{ref:r,className:we("transition-colors hover:text-foreground",e),...n})});tbe.displayName="BreadcrumbLink";const nbe=A.forwardRef(({className:t,...e},n)=>h.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",t),...e}));nbe.displayName="BreadcrumbPage";const Rx=Yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),We=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ib:"button";return h.jsx(o,{className:we(Rx({variant:e,size:n,className:t})),ref:s,...i})});We.displayName="Button";function Sn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function co(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ji(t,e){const n=Sn(t);return isNaN(e)?co(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Fa(t,e){const n=Sn(t);if(isNaN(e))return co(t,NaN);if(!e)return n;const r=n.getDate(),i=co(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const D3=6048e5,rbe=864e5;let ibe={};function mb(){return ibe}function Rl(t,e){var a,l,c,d;const n=mb(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Sn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function gh(t){return Rl(t,{weekStartsOn:1})}function LZ(t){const e=Sn(t),n=e.getFullYear(),r=co(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=gh(r),s=co(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=gh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Cg(t){const e=Sn(t);return e.setHours(0,0,0,0),e}function rC(t){const e=Sn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hl(t,e){const n=Cg(t),r=Cg(e),i=+n-rC(n),s=+r-rC(r);return Math.round((i-s)/rbe)}function sbe(t){const e=LZ(t),n=co(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),gh(n)}function Ek(t,e){const n=e*7;return Ji(t,n)}function obe(t,e){return Fa(t,e*12)}function abe(t){let e;return t.forEach(function(n){const r=Sn(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function lbe(t){let e;return t.forEach(n=>{const r=Sn(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Cs(t,e){const n=Cg(t),r=Cg(e);return+n==+r}function L3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cbe(t){if(!L3(t)&&typeof t!="number")return!1;const e=Sn(t);return!isNaN(Number(e))}function Ox(t,e){const n=Sn(t),r=Sn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function ube(t,e,n){const r=Rl(t,n),i=Rl(e,n),s=+r-rC(r),o=+i-rC(i);return Math.round((s-o)/D3)}function j3(t){const e=Sn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Rs(t){const e=Sn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function jZ(t){const e=Sn(t),n=co(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function F3(t,e){var a,l,c,d;const n=mb(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Sn(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function FZ(t){return F3(t,{weekStartsOn:1})}const dbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fbe=(t,e,n)=>{let r;const i=dbe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eR(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hbe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gbe={date:eR({formats:hbe,defaultWidth:"full"}),time:eR({formats:pbe,defaultWidth:"full"}),dateTime:eR({formats:mbe,defaultWidth:"full"})},vbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ybe=(t,e,n,r)=>vbe[t];function Dy(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const xbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_be={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ebe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cbe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mbe={ordinalNumber:Cbe,era:Dy({values:xbe,defaultWidth:"wide"}),quarter:Dy({values:_be,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dy({values:bbe,defaultWidth:"wide"}),day:Dy({values:wbe,defaultWidth:"wide"}),dayPeriod:Dy({values:Sbe,defaultWidth:"wide",formattingValues:Ebe,defaultFormattingWidth:"wide"})};function Ly(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Tbe(a,u=>u.test(o)):Abe(a,u=>u.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function Abe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tbe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Pbe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Nbe=/^(\d+)(th|st|nd|rd)?/i,Rbe=/\d+/i,Obe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ibe={any:[/^b/i,/^(a|c)/i]},kbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dbe={any:[/1/i,/2/i,/3/i,/4/i]},Lbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ube={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$be={ordinalNumber:Pbe({matchPattern:Nbe,parsePattern:Rbe,valueCallback:t=>parseInt(t,10)}),era:Ly({matchPatterns:Obe,defaultMatchWidth:"wide",parsePatterns:Ibe,defaultParseWidth:"any"}),quarter:Ly({matchPatterns:kbe,defaultMatchWidth:"wide",parsePatterns:Dbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ly({matchPatterns:Lbe,defaultMatchWidth:"wide",parsePatterns:jbe,defaultParseWidth:"any"}),day:Ly({matchPatterns:Fbe,defaultMatchWidth:"wide",parsePatterns:Bbe,defaultParseWidth:"any"}),dayPeriod:Ly({matchPatterns:Ube,defaultMatchWidth:"any",parsePatterns:zbe,defaultParseWidth:"any"})},BZ={code:"en-US",formatDistance:fbe,formatLong:gbe,formatRelative:ybe,localize:Mbe,match:$be,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hbe(t){const e=Sn(t);return hl(e,jZ(e))+1}function UZ(t){const e=Sn(t),n=+gh(e)-+sbe(e);return Math.round(n/D3)+1}function zZ(t,e){var d,u,f,g;const n=Sn(t),r=n.getFullYear(),i=mb(),s=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=co(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Rl(o,e),l=co(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Rl(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Vbe(t,e){var a,l,c,d;const n=mb(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=zZ(t,e),s=co(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rl(s,e)}function $Z(t,e){const n=Sn(t),r=+Rl(n,e)-+Vbe(n,e);return Math.round(r/D3)+1}function Fn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const yu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fn(n+1,2)},d(t,e){return Fn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fn(t.getHours()%12||12,e.length)},H(t,e){return Fn(t.getHours(),e.length)},m(t,e){return Fn(t.getMinutes(),e.length)},s(t,e){return Fn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Fn(i,e.length)}},Mp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return yu.y(t,e)},Y:function(t,e,n,r){const i=zZ(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Fn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Fn(s,e.length)},R:function(t,e){const n=LZ(t);return Fn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return yu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$Z(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Fn(i,e.length)},I:function(t,e,n){const r=UZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):yu.d(t,e)},D:function(t,e,n){const r=Hbe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Fn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Fn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Fn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Mp.noon:r===0?i=Mp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Mp.evening:r>=12?i=Mp.afternoon:r>=4?i=Mp.morning:i=Mp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return yu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):yu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):yu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):yu.s(t,e)},S:function(t,e){return yu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iH(r);case"XXXX":case"XX":return yf(r);case"XXXXX":case"XXX":default:return yf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return iH(r);case"xxxx":case"xx":return yf(r);case"xxxxx":case"xxx":default:return yf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rH(r,":");case"OOOO":default:return"GMT"+yf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rH(r,":");case"zzzz":default:return"GMT"+yf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Fn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Fn(r,e.length)}};function rH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Fn(s,2)}function iH(t,e){return t%60===0?(t>0?"-":"+")+Fn(Math.abs(t)/60,2):yf(t,e)}function yf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Fn(Math.trunc(r/60),2),s=Fn(r%60,2);return n+i+e+s}const sH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HZ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wbe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return sH(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",sH(r,e)).replace("{{time}}",HZ(i,e))},Gbe={p:HZ,P:Wbe},Xbe=/^D+$/,qbe=/^Y+$/,Kbe=["D","DD","YY","YYYY"];function Ybe(t){return Xbe.test(t)}function Zbe(t){return qbe.test(t)}function Qbe(t,e,n){const r=Jbe(t,e,n);if(console.warn(r),Kbe.includes(t))throw new RangeError(r)}function Jbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ewe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,twe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nwe=/^'([^]*?)'?$/,rwe=/''/g,iwe=/[a-zA-Z]/;function Td(t,e,n){var d,u,f,g,v,y,m,p;const r=mb(),i=(n==null?void 0:n.locale)??r.locale??BZ,s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Sn(t);if(!cbe(a))throw new RangeError("Invalid time value");let l=e.match(twe).map(x=>{const _=x[0];if(_==="p"||_==="P"){const b=Gbe[_];return b(x,i.formatLong)}return x}).join("").match(ewe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:swe(x)};if(nH[_])return{isToken:!0,value:x};if(_.match(iwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Zbe(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ybe(_))&&Qbe(_,e,String(t));const b=nH[_[0]];return b(a,_,i.localize,c)}).join("")}function swe(t){const e=t.match(nwe);return e?e[1].replace(rwe,"'"):t}function owe(t){const e=Sn(t),n=e.getFullYear(),r=e.getMonth(),i=co(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function awe(t){return Math.trunc(+Sn(t)/1e3)}function lwe(t){const e=Sn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function cwe(t,e){return ube(lwe(t),Rs(t),e)+1}function Ck(t,e){const n=Sn(t),r=Sn(e);return n.getTime()>r.getTime()}function VZ(t,e){const n=Sn(t),r=Sn(e);return+n<+r}function B3(t,e){const n=Sn(t),r=Sn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function uwe(t,e){const n=Sn(t),r=Sn(e);return n.getFullYear()===r.getFullYear()}function tR(t,e){return Ji(t,-e)}function nR(t,e){const n=Sn(t),r=n.getFullYear(),i=n.getDate(),s=co(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=owe(s);return n.setMonth(e,Math.min(i,o)),n}function oH(t,e){const n=Sn(t);return isNaN(+n)?co(t,NaN):(n.setFullYear(e),n)}var Wt=function(){return Wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wt.apply(this,arguments)};function dwe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WZ(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function gb(t){return t.mode==="multiple"}function vb(t){return t.mode==="range"}function QA(t){return t.mode==="single"}var fwe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function hwe(t,e){return Td(t,"LLLL y",e)}function pwe(t,e){return Td(t,"d",e)}function mwe(t,e){return Td(t,"LLLL",e)}function gwe(t){return"".concat(t)}function vwe(t,e){return Td(t,"cccccc",e)}function ywe(t,e){return Td(t,"yyyy",e)}var xwe=Object.freeze({__proto__:null,formatCaption:hwe,formatDay:pwe,formatMonthCaption:mwe,formatWeekNumber:gwe,formatWeekdayName:vwe,formatYearCaption:ywe}),_we=function(t,e,n){return Td(t,"do MMMM (EEEE)",n)},bwe=function(){return"Month: "},wwe=function(){return"Go to next month"},Swe=function(){return"Go to previous month"},Ewe=function(t,e){return Td(t,"cccc",e)},Cwe=function(t){return"Week n. ".concat(t)},Mwe=function(){return"Year: "},Awe=Object.freeze({__proto__:null,labelDay:_we,labelMonthDropdown:bwe,labelNext:wwe,labelPrevious:Swe,labelWeekNumber:Cwe,labelWeekday:Ewe,labelYearDropdown:Mwe});function Twe(){var t="buttons",e=fwe,n=BZ,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:xwe,labels:Awe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function Pwe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=Rs(r):e&&(s=new Date(e,0,1)),i?o=j3(i):n&&(o=new Date(n,11,31)),{fromDate:s?Cg(s):void 0,toDate:o?Cg(o):void 0}}var GZ=A.createContext(void 0);function Nwe(t){var e,n=t.initialProps,r=Twe(),i=Pwe(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(QA(n)||gb(n)||vb(n))&&(l=n.onSelect);var c=Wt(Wt(Wt({},r),n),{captionLayout:a,classNames:Wt(Wt({},r.classNames),n.classNames),components:Wt({},n.components),formatters:Wt(Wt({},r.formatters),n.formatters),fromDate:s,labels:Wt(Wt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Wt(Wt({},r.modifiers),n.modifiers),modifiersClassNames:Wt(Wt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Wt(Wt({},r.styles),n.styles),toDate:o});return h.jsx(GZ.Provider,{value:c,children:t.children})}function Jn(){var t=A.useContext(GZ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function XZ(t){var e=Jn(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return h.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function Rwe(t){return h.jsx("svg",Wt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:h.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qZ(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,c=Jn(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Rwe;return h.jsxs("div",{className:a,style:l,children:[h.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),h.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),h.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,h.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Owe(t){var e,n=Jn(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return h.jsx(h.Fragment,{});if(!i)return h.jsx(h.Fragment,{});var u=[];if(uwe(r,i))for(var f=Rs(r),g=r.getMonth();g<=i.getMonth();g++)u.push(nR(f,g));else for(var f=Rs(new Date),g=0;g<=11;g++)u.push(nR(f,g));var v=function(m){var p=Number(m.target.value),x=nR(Rs(t.displayMonth),p);t.onChange(x)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:qZ;return h.jsx(y,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:u.map(function(m){return h.jsx("option",{value:m.getMonth(),children:a(m,{locale:o})},m.getMonth())})})}function Iwe(t){var e,n=t.displayMonth,r=Jn(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,u=r.labels.labelYearDropdown,f=[];if(!i)return h.jsx(h.Fragment,{});if(!s)return h.jsx(h.Fragment,{});for(var g=i.getFullYear(),v=s.getFullYear(),y=g;y<=v;y++)f.push(oH(jZ(new Date),y));var m=function(x){var _=oH(Rs(n),Number(x.target.value));t.onChange(_)},p=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:qZ;return h.jsx(p,{name:"years","aria-label":u(),className:l.dropdown_year,style:a.dropdown_year,onChange:m,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(x){return h.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function kwe(t,e){var n=A.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function Dwe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&Ox(s,i)<0){var c=-1*(l-1);i=Fa(s,c)}return o&&Ox(i,o)<0&&(i=o),Rs(i)}function Lwe(){var t=Jn(),e=Dwe(t),n=kwe(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=Rs(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function jwe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Rs(t),s=Rs(Fa(i,r)),o=Ox(s,i),a=[],l=0;l<o;l++){var c=Fa(i,l);a.push(c)}return n&&(a=a.reverse()),a}function Fwe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Rs(t);if(!n)return Fa(a,o);var l=Ox(n,t);if(!(l<s))return Fa(a,o)}}function Bwe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Rs(t);if(!n)return Fa(a,-o);var l=Ox(a,n);if(!(l<=0))return Fa(a,-o)}}var KZ=A.createContext(void 0);function Uwe(t){var e=Jn(),n=Lwe(),r=n[0],i=n[1],s=jwe(r,e),o=Fwe(r,e),a=Bwe(r,e),l=function(u){return s.some(function(f){return B3(u,f)})},c=function(u,f){l(u)||(f&&VZ(u,f)?i(Fa(u,1+e.numberOfMonths*-1)):i(u))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return h.jsx(KZ.Provider,{value:d,children:t.children})}function yb(){var t=A.useContext(KZ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function aH(t){var e,n=Jn(),r=n.classNames,i=n.styles,s=n.components,o=yb().goToMonth,a=function(d){o(Fa(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:XZ,c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth});return h.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[h.jsx("div",{className:r.vhidden,children:c}),h.jsx(Owe,{onChange:a,displayMonth:t.displayMonth}),h.jsx(Iwe,{onChange:a,displayMonth:t.displayMonth})]})}function zwe(t){return h.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $we(t){return h.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var iC=A.forwardRef(function(t,e){var n=Jn(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=Wt(Wt({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),h.jsx("button",Wt({},t,{ref:e,type:"button",className:o,style:a}))});function Hwe(t){var e,n,r=Jn(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,u=r.components;if(!t.nextMonth&&!t.previousMonth)return h.jsx(h.Fragment,{});var f=c(t.previousMonth,{locale:s}),g=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:s}),y=[o.nav_button,o.nav_button_next].join(" "),m=(e=u==null?void 0:u.IconRight)!==null&&e!==void 0?e:$we,p=(n=u==null?void 0:u.IconLeft)!==null&&n!==void 0?n:zwe;return h.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&h.jsx(iC,{name:"previous-month","aria-label":f,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?h.jsx(m,{className:o.nav_icon,style:a.nav_icon}):h.jsx(p,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&h.jsx(iC,{name:"next-month","aria-label":v,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?h.jsx(p,{className:o.nav_icon,style:a.nav_icon}):h.jsx(m,{className:o.nav_icon,style:a.nav_icon})})]})}function lH(t){var e=Jn().numberOfMonths,n=yb(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return B3(t.displayMonth,v)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),u=e>1&&(c||!l),f=function(){r&&s(r)},g=function(){i&&s(i)};return h.jsx(Hwe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:u,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:g})}function Vwe(t){var e,n=Jn(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:XZ,c;return i?c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=h.jsx(aH,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=h.jsxs(h.Fragment,{children:[h.jsx(aH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),h.jsx(lH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=h.jsxs(h.Fragment,{children:[h.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(lH,{displayMonth:t.displayMonth,id:t.id})]}),h.jsx("div",{className:r.caption,style:s.caption,children:c})}function Wwe(t){var e=Jn(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?h.jsx("tfoot",{className:i,style:r.tfoot,children:h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:n})})}):h.jsx(h.Fragment,{})}function Gwe(t,e,n){for(var r=n?gh(new Date):Rl(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=Ji(r,s);i.push(o)}return i}function Xwe(){var t=Jn(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=Gwe(i,s,o);return h.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&h.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,u){return h.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:a(d,{locale:i})},u)})]})}function qwe(){var t,e=Jn(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Xwe;return h.jsx("thead",{style:r.head,className:n.head,children:h.jsx(s,{})})}function Kwe(t){var e=Jn(),n=e.locale,r=e.formatters.formatDay;return h.jsx(h.Fragment,{children:r(t.date,{locale:n})})}var U3=A.createContext(void 0);function Ywe(t){if(!gb(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return h.jsx(U3.Provider,{value:e,children:t.children})}return h.jsx(Zwe,{initialProps:t.initialProps,children:t.children})}function Zwe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(c,d,u){var f,g;(f=e.onDayClick)===null||f===void 0||f.call(e,c,d,u);var v=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var y=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var m=r?WZ([],r):[];if(d.selected){var p=m.findIndex(function(x){return Cs(c,x)});m.splice(p,1)}else m.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,m,c,d,u)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=s&&r.length>s-1,u=r.some(function(f){return Cs(f,c)});return!!(d&&!u)});var l={selected:r,onDayClick:o,modifiers:a};return h.jsx(U3.Provider,{value:l,children:n})}function z3(){var t=A.useContext(U3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Qwe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Cs(i,t)&&Cs(r,t)?void 0:Cs(i,t)?{from:i,to:void 0}:Cs(r,t)?void 0:Ck(r,t)?{from:t,to:i}:{from:r,to:t}:i?Ck(t,i)?{from:i,to:t}:{from:t,to:i}:r?VZ(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var $3=A.createContext(void 0);function Jwe(t){if(!vb(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return h.jsx($3.Provider,{value:e,children:t.children})}return h.jsx(e1e,{initialProps:t.initialProps,children:t.children})}function e1e(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,c=function(g,v,y){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,g,v,y);var x=Qwe(g,r);(p=e.onSelect)===null||p===void 0||p.call(e,x,g,v,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Cs(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:tR(s,a-1),before:Ji(s,a-1)}),s&&o&&d.disabled.push({after:s,before:Ji(s,a-1)}),!s&&o&&d.disabled.push({after:tR(o,a-1),before:Ji(o,a-1)})),l){if(s&&!o&&(d.disabled.push({before:Ji(s,-l+1)}),d.disabled.push({after:Ji(s,l-1)})),s&&o){var u=hl(o,s)+1,f=l-u;d.disabled.push({before:tR(s,f)}),d.disabled.push({after:Ji(o,f)})}!s&&o&&(d.disabled.push({before:Ji(o,-l+1)}),d.disabled.push({after:Ji(o,l-1)}))}return h.jsx($3.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function H3(){var t=A.useContext($3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function uE(t){return Array.isArray(t)?WZ([],t):t!==void 0?[t]:[]}function t1e(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=uE(i)}),e}var Ba;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ba||(Ba={}));var n1e=Ba.Selected,tc=Ba.Disabled,r1e=Ba.Hidden,i1e=Ba.Today,rR=Ba.RangeEnd,iR=Ba.RangeMiddle,sR=Ba.RangeStart,s1e=Ba.Outside;function o1e(t,e,n){var r,i=(r={},r[n1e]=uE(t.selected),r[tc]=uE(t.disabled),r[r1e]=uE(t.hidden),r[i1e]=[t.today],r[rR]=[],r[iR]=[],r[sR]=[],r[s1e]=[],r);return t.fromDate&&i[tc].push({before:t.fromDate}),t.toDate&&i[tc].push({after:t.toDate}),gb(t)?i[tc]=i[tc].concat(e.modifiers[tc]):vb(t)&&(i[tc]=i[tc].concat(n.modifiers[tc]),i[sR]=n.modifiers[sR],i[iR]=n.modifiers[iR],i[rR]=n.modifiers[rR]),i}var YZ=A.createContext(void 0);function a1e(t){var e=Jn(),n=z3(),r=H3(),i=o1e(e,n,r),s=t1e(e.modifiers),o=Wt(Wt({},i),s);return h.jsx(YZ.Provider,{value:o,children:t.children})}function ZZ(){var t=A.useContext(YZ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function l1e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function c1e(t){return!!(t&&typeof t=="object"&&"from"in t)}function u1e(t){return!!(t&&typeof t=="object"&&"after"in t)}function d1e(t){return!!(t&&typeof t=="object"&&"before"in t)}function f1e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function h1e(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=hl(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=hl(t,r)>=0&&hl(i,t)>=0;return o}return i?Cs(i,t):r?Cs(r,t):!1}function p1e(t){return L3(t)}function m1e(t){return Array.isArray(t)&&t.every(L3)}function g1e(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(p1e(n))return Cs(t,n);if(m1e(n))return n.includes(t);if(c1e(n))return h1e(t,n);if(f1e(n))return n.dayOfWeek.includes(t.getDay());if(l1e(n)){var r=hl(n.before,t),i=hl(n.after,t),s=r>0,o=i<0,a=Ck(n.before,n.after);return a?o&&s:s||o}return u1e(n)?hl(t,n.after)>0:d1e(n)?hl(n.before,t)>0:typeof n=="function"?n(t):!1})}function V3(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return g1e(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!B3(t,n)&&(i.outside=!0),i}function v1e(t,e){for(var n=Rs(t[0]),r=j3(t[t.length-1]),i,s,o=n;o<=r;){var a=V3(o,e),l=!a.disabled&&!a.hidden;if(!l){o=Ji(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=Ji(o,1)}return s||i}var y1e=365;function QZ(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,u=i.locale,f={day:Ji,week:Ek,month:Fa,year:obe,startOfWeek:function(m){return i.ISOWeek?gh(m):Rl(m,{locale:u,weekStartsOn:l})},endOfWeek:function(m){return i.ISOWeek?FZ(m):F3(m,{locale:u,weekStartsOn:l})}},g=f[n](t,r==="after"?1:-1);r==="before"&&c?g=abe([c,g]):r==="after"&&d&&(g=lbe([d,g]));var v=!0;if(s){var y=V3(g,s);v=!y.disabled&&!y.hidden}return v?g:a.count>y1e?a.lastFocused:QZ(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Wt(Wt({},a),{count:a.count+1})})}var JZ=A.createContext(void 0);function x1e(t){var e=yb(),n=ZZ(),r=A.useState(),i=r[0],s=r[1],o=A.useState(),a=o[0],l=o[1],c=v1e(e.displayMonths,n),d=i??(a&&e.isDateDisplayed(a))?a:c,u=function(){l(i),s(void 0)},f=function(m){s(m)},g=Jn(),v=function(m,p){if(i){var x=QZ(i,{moveBy:m,direction:p,context:g,modifiers:n});Cs(i,x)||(e.goToDate(x,i),f(x))}},y={focusedDay:i,focusTarget:d,blur:u,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return h.jsx(JZ.Provider,{value:y,children:t.children})}function W3(){var t=A.useContext(JZ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function _1e(t,e){var n=ZZ(),r=V3(t,n,e);return r}var G3=A.createContext(void 0);function b1e(t){if(!QA(t.initialProps)){var e={selected:void 0};return h.jsx(G3.Provider,{value:e,children:t.children})}return h.jsx(w1e,{initialProps:t.initialProps,children:t.children})}function w1e(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return h.jsx(G3.Provider,{value:i,children:n})}function eQ(){var t=A.useContext(G3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function S1e(t,e){var n=Jn(),r=eQ(),i=z3(),s=H3(),o=W3(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,u=o.blur,f=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,y=o.focusYearBefore,m=o.focusYearAfter,p=o.focusStartOfWeek,x=o.focusEndOfWeek,_=function(H){var R,L,z,W;QA(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,t,e,H):gb(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,t,e,H):vb(n)?(z=s.onDayClick)===null||z===void 0||z.call(s,t,e,H):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,H)},b=function(H){var R;f(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,e,H)},S=function(H){var R;u(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,e,H)},C=function(H){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,e,H)},M=function(H){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,e,H)},T=function(H){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,e,H)},P=function(H){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,e,H)},N=function(H){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,e,H)},I=function(H){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,e,H)},k=function(H){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,e,H)},j=function(H){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,e,H)},F=function(H){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,e,H)},B=function(H){var R;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),c();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?y():g();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?m():v();break;case"Home":H.preventDefault(),H.stopPropagation(),p();break;case"End":H.preventDefault(),H.stopPropagation(),x();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,e,H)},U={onClick:_,onFocus:b,onBlur:S,onKeyDown:B,onKeyUp:F,onMouseEnter:C,onMouseLeave:M,onPointerEnter:T,onPointerLeave:P,onTouchCancel:N,onTouchEnd:I,onTouchMove:k,onTouchStart:j};return U}function E1e(){var t=Jn(),e=eQ(),n=z3(),r=H3(),i=QA(t)?e.selected:gb(t)?n.selected:vb(t)?r.selected:void 0;return i}function C1e(t){return Object.values(Ba).includes(t)}function M1e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(C1e(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function A1e(t,e){var n=Wt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Wt(Wt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function T1e(t,e,n){var r,i,s,o=Jn(),a=W3(),l=_1e(t,e),c=S1e(t,l),d=E1e(),u=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var C;l.outside||a.focusedDay&&u&&Cs(a.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,t,n,u,l.outside]);var f=M1e(o,l).join(" "),g=A1e(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Kwe,m=h.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),p={style:g,className:f,children:m,role:"gridcell"},x=a.focusTarget&&Cs(a.focusTarget,t)&&!l.outside,_=a.focusedDay&&Cs(a.focusedDay,t),b=Wt(Wt(Wt({},p),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||x?0:-1,r)),c),S={isButton:u,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:b,divProps:p};return S}function P1e(t){var e=A.useRef(null),n=T1e(t.date,t.displayMonth,e);return n.isHidden?h.jsx("div",{role:"gridcell"}):n.isButton?h.jsx(iC,Wt({name:"day",ref:e},n.buttonProps)):h.jsx("div",Wt({},n.divProps))}function N1e(t){var e=t.number,n=t.dates,r=Jn(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!i)return h.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var u=l(Number(e),{locale:a}),f=function(g){i(e,n,g)};return h.jsx(iC,{name:"week-number","aria-label":u,className:o.weeknumber,style:s.weeknumber,onClick:f,children:d})}function R1e(t){var e,n,r=Jn(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:P1e,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:N1e,d;return o&&(d=h.jsx("td",{className:s.cell,style:i.cell,children:h.jsx(c,{number:t.weekNumber,dates:t.dates})})),h.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(u){return h.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:h.jsx(l,{displayMonth:t.displayMonth,date:u})},awe(u))})]})}function cH(t,e,n){for(var r=n!=null&&n.ISOWeek?FZ(e):F3(e,n),i=n!=null&&n.ISOWeek?gh(t):Rl(t,n),s=hl(r,i),o=[],a=0;a<=s;a++)o.push(Ji(i,a));var l=o.reduce(function(c,d){var u=n!=null&&n.ISOWeek?UZ(d):$Z(d,n),f=c.find(function(g){return g.weekNumber===u});return f?(f.dates.push(d),c):(c.push({weekNumber:u,dates:[d]}),c)},[]);return l}function O1e(t,e){var n=cH(Rs(t),j3(t),e);if(e!=null&&e.useFixedWeeks){var r=cwe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=Ek(s,6-r),a=cH(Ek(s,1),o,e);n.push.apply(n,a)}}return n}function I1e(t){var e,n,r,i=Jn(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,u=i.weekStartsOn,f=i.firstWeekContainsDate,g=i.ISOWeek,v=O1e(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:u,firstWeekContainsDate:f}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:qwe,m=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:R1e,p=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Wwe;return h.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&h.jsx(y,{}),h.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(x){return h.jsx(m,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),h.jsx(p,{displayMonth:t.displayMonth})]})}function k1e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var D1e=k1e()?A.useLayoutEffect:A.useEffect,oR=!1,L1e=0;function uH(){return"react-day-picker-".concat(++L1e)}function j1e(t){var e,n=t??(oR?uH():null),r=A.useState(n),i=r[0],s=r[1];return D1e(function(){i===null&&s(uH())},[]),A.useEffect(function(){oR===!1&&(oR=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function F1e(t){var e,n,r=Jn(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=yb().displayMonths,c=j1e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,u=[s.month],f=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,y=!g&&!v;i==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(u.push(s.caption_start),f=Wt(Wt({},f),o.caption_start)),v&&(u.push(s.caption_end),f=Wt(Wt({},f),o.caption_end)),y&&(u.push(s.caption_between),f=Wt(Wt({},f),o.caption_between));var m=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:Vwe;return h.jsxs("div",{className:u.join(" "),style:f,children:[h.jsx(m,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(I1e,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function B1e(t){var e=Jn(),n=e.classNames,r=e.styles;return h.jsx("div",{className:n.months,style:r.months,children:t.children})}function U1e(t){var e,n,r=t.initialProps,i=Jn(),s=W3(),o=yb(),a=A.useState(!1),l=a[0],c=a[1];A.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var u=Wt(Wt({},i.styles.root),i.style),f=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var m;return Wt(Wt({},v),(m={},m[y]=r[y],m))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:B1e;return h.jsx("div",Wt({className:d.join(" "),style:u,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:h.jsx(g,{children:o.displayMonths.map(function(v,y){return h.jsx(F1e,{displayIndex:y,displayMonth:v},y)})})}))}function z1e(t){var e=t.children,n=dwe(t,["children"]);return h.jsx(Nwe,{initialProps:n,children:h.jsx(Uwe,{children:h.jsx(b1e,{initialProps:n,children:h.jsx(Ywe,{initialProps:n,children:h.jsx(Jwe,{initialProps:n,children:h.jsx(a1e,{children:h.jsx(x1e,{children:e})})})})})})})}function $1e(t){return h.jsx(z1e,Wt({},t,{children:h.jsx(U1e,{initialProps:t})}))}function Mk({className:t,classNames:e,showOutsideDays:n=!0,...r}){return h.jsx($1e,{showOutsideDays:n,className:we("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:we(Rx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:we(Rx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>h.jsx(Wye,{className:we("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>h.jsx(ab,{className:we("h-4 w-4",i),...s})},...r})}Mk.displayName="Calendar";const Xe=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Xe.displayName="Card";const nt=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));nt.displayName="CardHeader";const st=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));st.displayName="CardTitle";const Bt=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Bt.displayName="CardDescription";const at=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));at.displayName="CardContent";const X3=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));X3.displayName="CardFooter";function H1e(t){return Object.prototype.toString.call(t)==="[object Object]"}function dH(t){return H1e(t)||Array.isArray(t)}function V1e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function q3(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!dH(a)||!dH(l)?a===l:q3(a,l)})}function fH(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function W1e(t,e){if(t.length!==e.length)return!1;const n=fH(t),r=fH(e);return n.every((i,s)=>{const o=r[s];return q3(i,o)})}function K3(t){return typeof t=="number"}function Ak(t){return typeof t=="string"}function JA(t){return typeof t=="boolean"}function hH(t){return Object.prototype.toString.call(t)==="[object Object]"}function vr(t){return Math.abs(t)}function Y3(t){return Math.sign(t)}function z0(t,e){return vr(t-e)}function G1e(t,e){if(t===0||e===0||vr(t)<=vr(e))return 0;const n=z0(vr(t),vr(e));return vr(n/t)}function X1e(t){return Math.round(t*100)/100}function Ix(t){return kx(t).map(Number)}function Oa(t){return t[xb(t)]}function xb(t){return Math.max(0,t.length-1)}function Z3(t,e){return e===xb(t)}function pH(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function kx(t){return Object.keys(t)}function tQ(t,e){return[t,e].reduce((n,r)=>(kx(r).forEach(i=>{const s=n[i],o=r[i],a=hH(s)&&hH(o);n[i]=a?tQ(s,o):o}),n),{})}function Tk(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function q1e(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return Ak(t)?n[t](l):t(e,l,c)}return{measure:o}}function Dx(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function K1e(t,e,n,r){const i=Dx(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){g(),i.clear()}function u(m){if(!l)return;o||(o=m,n(),n());const p=m-o;for(o=m,a+=p;a>=s;)n(),a-=s;const x=a/s;r(x),l&&(l=e.requestAnimationFrame(u))}function f(){l||(l=e.requestAnimationFrame(u))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:d,start:f,stop:g,update:n,render:r}}function Y1e(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),l=u();function c(v){const{height:y,width:m}=v;return r?y:m}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function f(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:f}}function vh(t=0,e=0){const n=vr(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function nQ(t,e,n){const{constrain:r}=vh(0,t),i=t+1;let s=o(e);function o(f){return n?vr((i+f)%i):r(f)}function a(){return s}function l(f){return s=o(f),u}function c(f){return d().set(a()+f)}function d(){return nQ(t,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function Z1e(t,e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m,p,x){const{cross:_,direction:b}=t,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},M=Dx(),T=Dx(),P=vh(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},I={mouse:500,touch:600},k=v?43:25;let j=!1,F=0,B=0,U=!1,H=!1,R=!1,L=!1;function z(J){if(!x)return;function K(fe){(JA(x)||x(J,fe))&&se(fe)}const re=e;M.add(re,"dragstart",fe=>fe.preventDefault(),C).add(re,"touchmove",()=>{},C).add(re,"touchend",()=>{}).add(re,"touchstart",K).add(re,"mousedown",K).add(re,"touchcancel",Y).add(re,"contextmenu",Y).add(re,"click",Q,!0)}function W(){M.clear(),T.clear()}function G(){const J=L?n:e;T.add(J,"touchmove",$,C).add(J,"touchend",Y).add(J,"mousemove",$,C).add(J,"mouseup",Y)}function q(J){const K=J.nodeName||"";return S.includes(K)}function ne(){return(v?I:N)[L?"mouse":"touch"]}function ae(J,K){const re=u.add(Y3(J)*-1),fe=d.byDistance(J,!v).distance;return v||vr(J)<P?fe:m&&K?fe*.5:d.byIndex(re.get(),0).distance}function se(J){const K=Tk(J,r);L=K,R=v&&K&&!J.buttons&&j,j=z0(i.get(),o.get())>=2,!(K&&J.button!==0)&&(q(J.target)||(U=!0,s.pointerDown(J),c.useFriction(0).useDuration(0),i.set(o),G(),F=s.readPoint(J),B=s.readPoint(J,_),f.emit("pointerDown")))}function $(J){if(!Tk(J,r)&&J.touches.length>=2)return Y(J);const re=s.readPoint(J),fe=s.readPoint(J,_),me=z0(re,F),pe=z0(fe,B);if(!H&&!L&&(!J.cancelable||(H=me>pe,!H)))return Y(J);const Ae=s.pointerMove(J);me>y&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(b(Ae)),J.preventDefault()}function Y(J){const re=d.byDistance(0,!1).index!==u.get(),fe=s.pointerUp(J)*ne(),me=ae(b(fe),re),pe=G1e(fe,me),Ae=k-10*pe,Ce=p+pe/50;H=!1,U=!1,T.clear(),c.useDuration(Ae).useFriction(Ce),l.distance(me,!v),L=!1,f.emit("pointerUp")}function Q(J){R&&(J.stopPropagation(),J.preventDefault(),R=!1)}function te(){return U}return{init:z,destroy:W,pointerDown:te}}function Q1e(t,e){let r,i;function s(u){return u.timeStamp}function o(u,f){const v=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(Tk(u,e)?u:u.touches[0])[v]}function a(u){return r=u,i=u,o(u)}function l(u){const f=o(u)-o(i),g=s(u)-s(r)>170;return i=u,g&&(r=u),f}function c(u){if(!r||!i)return 0;const f=o(i)-o(r),g=s(u)-s(r),v=s(u)-s(i)>170,y=f/g;return g&&!v&&vr(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function J1e(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function eSe(t){function e(r){return t*(r/100)}return{measure:e}}function tSe(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,d=[],u=!1;function f(m){return i.measureSize(o.measure(m))}function g(m){if(!s)return;c=f(t),d=r.map(f);function p(x){for(const _ of x){if(u)return;const b=_.target===t,S=r.indexOf(_.target),C=b?c:d[S],M=f(b?t:r[S]);if(vr(M-C)>=.5){m.reInit(),e.emit("resize");break}}}l=new ResizeObserver(x=>{(JA(s)||s(m,x))&&p(x)}),n.requestAnimationFrame(()=>{a.forEach(x=>l.observe(x))})}function v(){u=!0,l&&l.disconnect()}return{init:g,destroy:v}}function nSe(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,d=t.get(),u=0;function f(){const C=r.get()-t.get(),M=!l;let T=0;return M?(o=0,n.set(r),t.set(r),T=C):(n.set(t),o+=C/l,o*=c,d+=o,t.add(o),T=d-u),a=Y3(T),u=d,S}function g(){const C=r.get()-e.get();return vr(C)<.001}function v(){return l}function y(){return a}function m(){return o}function p(){return _(i)}function x(){return b(s)}function _(C){return l=C,S}function b(C){return c=C,S}const S={direction:y,duration:v,velocity:m,seek:f,settled:g,useBaseFriction:x,useBaseDuration:p,useFriction:b,useDuration:_};return S}function rSe(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=vh(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",y=vr(t[v]-e.get()),m=n.get()-e.get(),p=a.constrain(y/o);n.subtract(m*p),!g&&vr(m)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:u}}function iSe(t,e,n,r,i){const s=vh(-e+t,0),o=u(),a=d(),l=f();function c(v,y){return z0(v,y)<=1}function d(){const v=o[0],y=Oa(o),m=o.lastIndexOf(v),p=o.indexOf(y)+1;return vh(m,p)}function u(){return n.map((v,y)=>{const{min:m,max:p}=s,x=s.constrain(v),_=!y,b=Z3(n,y);return _?p:b||c(m,x)?m:c(p,x)?p:x}).map(v=>parseFloat(v.toFixed(3)))}function f(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:y}=a;return o.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function sSe(t,e,n){const r=e[0],i=n?r-t:Oa(e);return{limit:vh(i,r)}}function oSe(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=vh(s,o);function c(f){return f===1?l(n.get()):f===-1?a(n.get()):!1}function d(f){if(!c(f))return;const g=t*(f*-1);r.forEach(v=>v.add(g))}return{loop:d}}function aSe(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function lSe(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=u().map(e.measure),c=f(),d=g();function u(){return a(r).map(y=>Oa(y)[o]-y[0][s]).map(vr)}function f(){return r.map(y=>n[s]-y[s]).map(y=>-vr(y))}function g(){return a(c).map(y=>y[0]).map((y,m)=>y+l[m])}return{snaps:c,snapsAligned:d}}function cSe(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=d();function d(){const f=o(s),g=!t||e==="keepSnaps";return n.length===1?[s]:g?f:f.slice(a,l).map((v,y,m)=>{const p=!y,x=Z3(m,y);if(p){const _=Oa(m[0])+1;return pH(_)}if(x){const _=xb(s)-Oa(m)[0]+1;return pH(_,Oa(m)[0])}return v})}return{slideRegistry:c}}function uSe(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((y,m)=>vr(y)-vr(m))[0]}function c(v){const y=t?o(v):a(v),m=e.map((x,_)=>({diff:d(x-y,0),index:_})).sort((x,_)=>vr(x.diff)-vr(_.diff)),{index:p}=m[0];return{index:p,distance:y}}function d(v,y){const m=[v,v+n,v-n];if(!t)return v;if(!y)return l(m);const p=m.filter(x=>Y3(x)===y);return p.length?l(p):Oa(m)-n}function u(v,y){const m=e[v]-i.get(),p=d(m,y);return{index:v,distance:p}}function f(v,y){const m=i.get()+v,{index:p,distance:x}=c(m),_=!t&&s(m);if(!y||_)return{index:p,distance:v};const b=e[p]-x,S=v+d(b,0);return{index:p,distance:S}}return{byDistance:f,byIndex:u,shortcut:d}}function dSe(t,e,n,r,i,s,o){function a(u){const f=u.distance,g=u.index!==e.get();s.add(f),f&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(u.index),o.emit("select"))}function l(u,f){const g=i.byDistance(u,f);a(g)}function c(u,f){const g=e.clone().set(u),v=i.byIndex(g.get(),f);a(v)}return{distance:l,index:c}}function fSe(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(_=>_.includes(y));K3(x)&&(i.useDuration(0),r.index(x,0),o.emit("slideFocus"))}s.add(document,"keydown",u,!1),e.forEach((y,m)=>{s.add(y,"focus",p=>{(JA(a)||a(g,p))&&v(m)},l)})}function u(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function _0(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return K3(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function rQ(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(s)return;const g=X1e(t.direction(f));g!==i&&(r.transform=n(g),i=g)}function c(f){s=!f}function d(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function hSe(t,e,n,r,i,s,o,a,l){const d=Ix(i),u=Ix(i).reverse(),f=p().concat(x());function g(M,T){return M.reduce((P,N)=>P-i[N],T)}function v(M,T){return M.reduce((P,N)=>g(P,T)>0?P.concat([N]):P,[])}function y(M){return s.map((T,P)=>({start:T-r[P]+.5+M,end:T+e-.5+M}))}function m(M,T,P){const N=y(T);return M.map(I=>{const k=P?0:-n,j=P?n:0,F=P?"end":"start",B=N[I][F];return{index:I,loopPoint:B,slideLocation:_0(-1),translate:rQ(t,l[I]),target:()=>a.get()>B?k:j}})}function p(){const M=o[0],T=v(u,M);return m(T,n,!1)}function x(){const M=e-o[0]-1,T=v(d,M);return m(T,-n,!0)}function _(){return f.every(({index:M})=>{const T=d.filter(P=>P!==M);return g(T,e)<=.1})}function b(){f.forEach(M=>{const{target:T,translate:P,slideLocation:N}=M,I=T();I!==N.get()&&(P.to(I),N.set(I))})}function S(){f.forEach(M=>M.translate.clear())}return{canLoop:_,clear:S,loop:b,loopPoints:f}}function pSe(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(JA(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function mSe(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const m=e.indexOf(y.target);i[m]=y}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function u(v){return kx(i).reduce((y,m)=>{const p=parseInt(m),{isIntersecting:x}=i[p];return(v&&x||!v&&!x)&&y.push(p),y},[])}function f(v=!0){if(v&&s)return s;if(!v&&o)return o;const y=u(v);return v&&(s=y),v||(o=y),y}return{init:c,destroy:d,get:f}}function gSe(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=v(),u=y(),f=n.map(o),g=m();function v(){if(!c)return 0;const x=n[0];return vr(e[a]-x[a])}function y(){if(!c)return 0;const x=s.getComputedStyle(Oa(r));return parseFloat(x.getPropertyValue(`margin-${l}`))}function m(){return n.map((x,_,b)=>{const S=!_,C=Z3(b,_);return S?f[_]+d:C?f[_]+u:b[_+1][a]-x[a]}).map(vr)}return{slideSizes:f,slideSizesWithGaps:g,startGap:d,endGap:u}}function vSe(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:d,direction:u}=t,f=K3(n);function g(p,x){return Ix(p).filter(_=>_%x===0).map(_=>p.slice(_,_+x))}function v(p){return p.length?Ix(p).reduce((x,_,b)=>{const S=Oa(x)||0,C=S===0,M=_===xb(p),T=i[c]-s[S][c],P=i[c]-s[_][d],N=!r&&C?u(o):0,I=!r&&M?u(a):0,k=vr(P-I-(T+N));return b&&k>e+l&&x.push(_),M&&x.push(p.length),x},[]).map((x,_,b)=>{const S=Math.max(b[_-1]||0);return p.slice(S,x)}):[]}function y(p){return f?g(p,n):v(p)}return{groupSlides:y}}function ySe(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:f,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:m,skipSnaps:p,containScroll:x,watchResize:_,watchSlides:b,watchDrag:S,watchFocus:C}=s,M=2,T=J1e(),P=T.measure(e),N=n.map(T.measure),I=Y1e(l,c),k=I.measureSize(P),j=eSe(k),F=q1e(a,k),B=!u&&!!x,U=u||!!x,{slideSizes:H,slideSizesWithGaps:R,startGap:L,endGap:z}=gSe(I,P,N,n,U,i),W=vSe(I,k,m,u,P,N,L,z,M),{snaps:G,snapsAligned:q}=lSe(I,F,P,N,W),ne=-Oa(G)+Oa(R),{snapsContained:ae,scrollContainLimit:se}=iSe(k,ne,q,x,M),$=B?ae:q,{limit:Y}=sSe(ne,$,u),Q=nQ(xb($),d,u),te=Q.clone(),ue=Ix(n),J=({dragHandler:He,scrollBody:lt,scrollBounds:Ge,options:{loop:$e}})=>{$e||Ge.constrain(He.pointerDown()),lt.seek()},K=({scrollBody:He,translate:lt,location:Ge,offsetLocation:$e,previousLocation:it,scrollLooper:Ct,slideLooper:he,dragHandler:Ee,animation:Ye,eventHandler:ce,scrollBounds:Ne,options:{loop:Be}},Ve)=>{const Ue=He.settled(),Le=!Ne.shouldConstrain(),Ze=Be?Ue:Ue&&Le,mt=Ze&&!Ee.pointerDown();mt&&Ye.stop();const jt=Ge.get()*Ve+it.get()*(1-Ve);$e.set(jt),Be&&(Ct.loop(He.direction()),he.loop()),lt.to($e.get()),mt&&ce.emit("settle"),Ze||ce.emit("scroll")},re=K1e(r,i,()=>J(ct),He=>K(ct,He)),fe=.68,me=$[Q.get()],pe=_0(me),Ae=_0(me),Ce=_0(me),ke=_0(me),rt=nSe(pe,Ce,Ae,ke,f,fe),Je=uSe(u,$,ne,Y,ke),ie=dSe(re,Q,te,rt,Je,ke,o),Z=aSe(Y),ve=Dx(),Se=mSe(e,n,o,y),{slideRegistry:Ie}=cSe(B,x,$,se,W,ue),Me=fSe(t,n,Ie,ie,rt,ve,o,C),ct={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:N,animation:re,axis:I,dragHandler:Z1e(I,t,r,i,ke,Q1e(I,i),pe,re,ie,rt,Je,Q,o,j,g,v,p,fe,S),eventStore:ve,percentOfView:j,index:Q,indexPrevious:te,limit:Y,location:pe,offsetLocation:Ce,previousLocation:Ae,options:s,resizeHandler:tSe(e,o,i,n,I,_,T),scrollBody:rt,scrollBounds:rSe(Y,Ce,ke,rt,j),scrollLooper:oSe(ne,Y,Ce,[pe,Ce,Ae,ke]),scrollProgress:Z,scrollSnapList:$.map(Z.get),scrollSnaps:$,scrollTarget:Je,scrollTo:ie,slideLooper:hSe(I,k,ne,H,R,G,$,Ce,n),slideFocus:Me,slidesHandler:pSe(e,o,b),slidesInView:Se,slideIndexes:ue,slideRegistry:Ie,slidesToScroll:W,target:ke,translate:rQ(I,e)};return ct}function xSe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function s(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(u=>u!==d),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const _Se={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function bSe(t){function e(s,o){return tQ(s,o||{})}function n(s){const o=s.breakpoints||{},a=kx(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>kx(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function wSe(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function sC(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=bSe(i),o=wSe(s),a=Dx(),l=xSe(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:f,off:g,emit:v}=l,y=I;let m=!1,p,x=c(_Se,sC.globalOptions),_=c(x),b=[],S,C,M;function T(){const{container:ue,slides:J}=_;C=(Ak(ue)?t.querySelector(ue):ue)||t.children[0];const re=Ak(J)?C.querySelectorAll(J):J;M=[].slice.call(re||C.children)}function P(ue){const J=ySe(t,C,M,r,i,ue,l);if(ue.loop&&!J.slideLooper.canLoop()){const K=Object.assign({},ue,{loop:!1});return P(K)}return J}function N(ue,J){m||(x=c(x,ue),_=d(x),b=J||b,T(),p=P(_),u([x,...b.map(({options:K})=>K)]).forEach(K=>a.add(K,"change",I)),_.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(te),p.eventHandler.init(te),p.resizeHandler.init(te),p.slidesHandler.init(te),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&M.length&&p.dragHandler.init(te),S=o.init(te,b)))}function I(ue,J){const K=W();k(),N(c({startIndex:K},ue),J),l.emit("reInit")}function k(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),a.clear()}function j(){m||(m=!0,a.clear(),k(),l.emit("destroy"),l.clear())}function F(ue,J,K){!_.active||m||(p.scrollBody.useBaseFriction().useDuration(J===!0?0:_.duration),p.scrollTo.index(ue,K||0))}function B(ue){const J=p.index.add(1).get();F(J,ue,-1)}function U(ue){const J=p.index.add(-1).get();F(J,ue,1)}function H(){return p.index.add(1).get()!==W()}function R(){return p.index.add(-1).get()!==W()}function L(){return p.scrollSnapList}function z(){return p.scrollProgress.get(p.offsetLocation.get())}function W(){return p.index.get()}function G(){return p.indexPrevious.get()}function q(){return p.slidesInView.get()}function ne(){return p.slidesInView.get(!1)}function ae(){return S}function se(){return p}function $(){return t}function Y(){return C}function Q(){return M}const te={canScrollNext:H,canScrollPrev:R,containerNode:Y,internalEngine:se,destroy:j,off:g,on:f,emit:v,plugins:ae,previousScrollSnap:G,reInit:y,rootNode:$,scrollNext:B,scrollPrev:U,scrollProgress:z,scrollSnapList:L,scrollTo:F,selectedScrollSnap:W,slideNodes:Q,slidesInView:q,slidesNotInView:ne};return N(e,n),setTimeout(()=>l.emit("init"),0),te}sC.globalOptions=void 0;function Q3(t={},e=[]){const n=A.useRef(t),r=A.useRef(e),[i,s]=A.useState(),[o,a]=A.useState(),l=A.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return A.useEffect(()=>{q3(n.current,t)||(n.current=t,l())},[t,l]),A.useEffect(()=>{W1e(r.current,e)||(r.current=e,l())},[e,l]),A.useEffect(()=>{if(V1e()&&o){sC.globalOptions=Q3.globalOptions;const c=sC(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}Q3.globalOptions=void 0;const iQ=A.createContext(null);function eT(){const t=A.useContext(iQ);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const SSe=A.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=Q3({...e,axis:t==="horizontal"?"x":"y"},r),[d,u]=A.useState(!1),[f,g]=A.useState(!1),v=A.useCallback(x=>{x&&(u(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=A.useCallback(()=>{c==null||c.scrollPrev()},[c]),m=A.useCallback(()=>{c==null||c.scrollNext()},[c]),p=A.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),m())},[y,m]);return A.useEffect(()=>{!c||!n||n(c)},[c,n]),A.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),h.jsx(iQ.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:m,canScrollPrev:d,canScrollNext:f},children:h.jsx("div",{ref:a,onKeyDownCapture:p,className:we("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});SSe.displayName="Carousel";const ESe=A.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=eT();return h.jsx("div",{ref:r,className:"overflow-hidden",children:h.jsx("div",{ref:n,className:we("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});ESe.displayName="CarouselContent";const CSe=A.forwardRef(({className:t,...e},n)=>{const{orientation:r}=eT();return h.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});CSe.displayName="CarouselItem";const MSe=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=eT();return h.jsxs(We,{ref:i,variant:e,size:n,className:we("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[h.jsx($ye,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Previous slide"})]})});MSe.displayName="CarouselPrevious";const ASe=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=eT();return h.jsxs(We,{ref:i,variant:e,size:n,className:we("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[h.jsx(sb,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Next slide"})]})});ASe.displayName="CarouselNext";var TSe=Array.isArray,Os=TSe,PSe=typeof n1=="object"&&n1&&n1.Object===Object&&n1,sQ=PSe,NSe=sQ,RSe=typeof self=="object"&&self&&self.Object===Object&&self,OSe=NSe||RSe||Function("return this")(),Fl=OSe,ISe=Fl,kSe=ISe.Symbol,_b=kSe,mH=_b,oQ=Object.prototype,DSe=oQ.hasOwnProperty,LSe=oQ.toString,jy=mH?mH.toStringTag:void 0;function jSe(t){var e=DSe.call(t,jy),n=t[jy];try{t[jy]=void 0;var r=!0}catch{}var i=LSe.call(t);return r&&(e?t[jy]=n:delete t[jy]),i}var FSe=jSe,BSe=Object.prototype,USe=BSe.toString;function zSe(t){return USe.call(t)}var $Se=zSe,gH=_b,HSe=FSe,VSe=$Se,WSe="[object Null]",GSe="[object Undefined]",vH=gH?gH.toStringTag:void 0;function XSe(t){return t==null?t===void 0?GSe:WSe:vH&&vH in Object(t)?HSe(t):VSe(t)}var Zc=XSe;function qSe(t){return t!=null&&typeof t=="object"}var Qc=qSe,KSe=Zc,YSe=Qc,ZSe="[object Symbol]";function QSe(t){return typeof t=="symbol"||YSe(t)&&KSe(t)==ZSe}var Rv=QSe,JSe=Os,eEe=Rv,tEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nEe=/^\w*$/;function rEe(t,e){if(JSe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||eEe(t)?!0:nEe.test(t)||!tEe.test(t)||e!=null&&t in Object(e)}var J3=rEe;function iEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pd=iEe;const Ov=Nn(Pd);var sEe=Zc,oEe=Pd,aEe="[object AsyncFunction]",lEe="[object Function]",cEe="[object GeneratorFunction]",uEe="[object Proxy]";function dEe(t){if(!oEe(t))return!1;var e=sEe(t);return e==lEe||e==cEe||e==aEe||e==uEe}var eF=dEe;const zt=Nn(eF);var fEe=Fl,hEe=fEe["__core-js_shared__"],pEe=hEe,aR=pEe,yH=function(){var t=/[^.]+$/.exec(aR&&aR.keys&&aR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mEe(t){return!!yH&&yH in t}var gEe=mEe,vEe=Function.prototype,yEe=vEe.toString;function xEe(t){if(t!=null){try{return yEe.call(t)}catch{}try{return t+""}catch{}}return""}var aQ=xEe,_Ee=eF,bEe=gEe,wEe=Pd,SEe=aQ,EEe=/[\\^$.*+?()[\]{}|]/g,CEe=/^\[object .+?Constructor\]$/,MEe=Function.prototype,AEe=Object.prototype,TEe=MEe.toString,PEe=AEe.hasOwnProperty,NEe=RegExp("^"+TEe.call(PEe).replace(EEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function REe(t){if(!wEe(t)||bEe(t))return!1;var e=_Ee(t)?NEe:CEe;return e.test(SEe(t))}var OEe=REe;function IEe(t,e){return t==null?void 0:t[e]}var kEe=IEe,DEe=OEe,LEe=kEe;function jEe(t,e){var n=LEe(t,e);return DEe(n)?n:void 0}var $h=jEe,FEe=$h,BEe=FEe(Object,"create"),tT=BEe,xH=tT;function UEe(){this.__data__=xH?xH(null):{},this.size=0}var zEe=UEe;function $Ee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HEe=$Ee,VEe=tT,WEe="__lodash_hash_undefined__",GEe=Object.prototype,XEe=GEe.hasOwnProperty;function qEe(t){var e=this.__data__;if(VEe){var n=e[t];return n===WEe?void 0:n}return XEe.call(e,t)?e[t]:void 0}var KEe=qEe,YEe=tT,ZEe=Object.prototype,QEe=ZEe.hasOwnProperty;function JEe(t){var e=this.__data__;return YEe?e[t]!==void 0:QEe.call(e,t)}var eCe=JEe,tCe=tT,nCe="__lodash_hash_undefined__";function rCe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tCe&&e===void 0?nCe:e,this}var iCe=rCe,sCe=zEe,oCe=HEe,aCe=KEe,lCe=eCe,cCe=iCe;function Iv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Iv.prototype.clear=sCe;Iv.prototype.delete=oCe;Iv.prototype.get=aCe;Iv.prototype.has=lCe;Iv.prototype.set=cCe;var uCe=Iv;function dCe(){this.__data__=[],this.size=0}var fCe=dCe;function hCe(t,e){return t===e||t!==t&&e!==e}var tF=hCe,pCe=tF;function mCe(t,e){for(var n=t.length;n--;)if(pCe(t[n][0],e))return n;return-1}var nT=mCe,gCe=nT,vCe=Array.prototype,yCe=vCe.splice;function xCe(t){var e=this.__data__,n=gCe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yCe.call(e,n,1),--this.size,!0}var _Ce=xCe,bCe=nT;function wCe(t){var e=this.__data__,n=bCe(e,t);return n<0?void 0:e[n][1]}var SCe=wCe,ECe=nT;function CCe(t){return ECe(this.__data__,t)>-1}var MCe=CCe,ACe=nT;function TCe(t,e){var n=this.__data__,r=ACe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var PCe=TCe,NCe=fCe,RCe=_Ce,OCe=SCe,ICe=MCe,kCe=PCe;function kv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kv.prototype.clear=NCe;kv.prototype.delete=RCe;kv.prototype.get=OCe;kv.prototype.has=ICe;kv.prototype.set=kCe;var rT=kv,DCe=$h,LCe=Fl,jCe=DCe(LCe,"Map"),nF=jCe,_H=uCe,FCe=rT,BCe=nF;function UCe(){this.size=0,this.__data__={hash:new _H,map:new(BCe||FCe),string:new _H}}var zCe=UCe;function $Ce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var HCe=$Ce,VCe=HCe;function WCe(t,e){var n=t.__data__;return VCe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var iT=WCe,GCe=iT;function XCe(t){var e=GCe(this,t).delete(t);return this.size-=e?1:0,e}var qCe=XCe,KCe=iT;function YCe(t){return KCe(this,t).get(t)}var ZCe=YCe,QCe=iT;function JCe(t){return QCe(this,t).has(t)}var eMe=JCe,tMe=iT;function nMe(t,e){var n=tMe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var rMe=nMe,iMe=zCe,sMe=qCe,oMe=ZCe,aMe=eMe,lMe=rMe;function Dv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dv.prototype.clear=iMe;Dv.prototype.delete=sMe;Dv.prototype.get=oMe;Dv.prototype.has=aMe;Dv.prototype.set=lMe;var rF=Dv,lQ=rF,cMe="Expected a function";function iF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cMe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(iF.Cache||lQ),n}iF.Cache=lQ;var cQ=iF;const uMe=Nn(cQ);var dMe=cQ,fMe=500;function hMe(t){var e=dMe(t,function(r){return n.size===fMe&&n.clear(),r}),n=e.cache;return e}var pMe=hMe,mMe=pMe,gMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vMe=/\\(\\)?/g,yMe=mMe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gMe,function(n,r,i,s){e.push(i?s.replace(vMe,"$1"):r||n)}),e}),xMe=yMe;function _Me(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var sF=_Me,bH=_b,bMe=sF,wMe=Os,SMe=Rv,EMe=1/0,wH=bH?bH.prototype:void 0,SH=wH?wH.toString:void 0;function uQ(t){if(typeof t=="string")return t;if(wMe(t))return bMe(t,uQ)+"";if(SMe(t))return SH?SH.call(t):"";var e=t+"";return e=="0"&&1/t==-EMe?"-0":e}var CMe=uQ,MMe=CMe;function AMe(t){return t==null?"":MMe(t)}var dQ=AMe,TMe=Os,PMe=J3,NMe=xMe,RMe=dQ;function OMe(t,e){return TMe(t)?t:PMe(t,e)?[t]:NMe(RMe(t))}var fQ=OMe,IMe=Rv,kMe=1/0;function DMe(t){if(typeof t=="string"||IMe(t))return t;var e=t+"";return e=="0"&&1/t==-kMe?"-0":e}var sT=DMe,LMe=fQ,jMe=sT;function FMe(t,e){e=LMe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jMe(e[n++])];return n&&n==r?t:void 0}var oF=FMe,BMe=oF;function UMe(t,e,n){var r=t==null?void 0:BMe(t,e);return r===void 0?n:r}var hQ=UMe;const io=Nn(hQ);function zMe(t){return t==null}var $Me=zMe;const Xt=Nn($Me);var HMe=Zc,VMe=Os,WMe=Qc,GMe="[object String]";function XMe(t){return typeof t=="string"||!VMe(t)&&WMe(t)&&HMe(t)==GMe}var qMe=XMe;const bb=Nn(qMe);var pQ={exports:{}},zn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF=Symbol.for("react.element"),lF=Symbol.for("react.portal"),oT=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),lT=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),KMe=Symbol.for("react.server_context"),dT=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),hT=Symbol.for("react.suspense_list"),pT=Symbol.for("react.memo"),mT=Symbol.for("react.lazy"),YMe=Symbol.for("react.offscreen"),mQ;mQ=Symbol.for("react.module.reference");function Yo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aF:switch(t=t.type,t){case oT:case lT:case aT:case fT:case hT:return t;default:switch(t=t&&t.$$typeof,t){case KMe:case uT:case dT:case mT:case pT:case cT:return t;default:return e}}case lF:return e}}}zn.ContextConsumer=uT;zn.ContextProvider=cT;zn.Element=aF;zn.ForwardRef=dT;zn.Fragment=oT;zn.Lazy=mT;zn.Memo=pT;zn.Portal=lF;zn.Profiler=lT;zn.StrictMode=aT;zn.Suspense=fT;zn.SuspenseList=hT;zn.isAsyncMode=function(){return!1};zn.isConcurrentMode=function(){return!1};zn.isContextConsumer=function(t){return Yo(t)===uT};zn.isContextProvider=function(t){return Yo(t)===cT};zn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aF};zn.isForwardRef=function(t){return Yo(t)===dT};zn.isFragment=function(t){return Yo(t)===oT};zn.isLazy=function(t){return Yo(t)===mT};zn.isMemo=function(t){return Yo(t)===pT};zn.isPortal=function(t){return Yo(t)===lF};zn.isProfiler=function(t){return Yo(t)===lT};zn.isStrictMode=function(t){return Yo(t)===aT};zn.isSuspense=function(t){return Yo(t)===fT};zn.isSuspenseList=function(t){return Yo(t)===hT};zn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oT||t===lT||t===aT||t===fT||t===hT||t===YMe||typeof t=="object"&&t!==null&&(t.$$typeof===mT||t.$$typeof===pT||t.$$typeof===cT||t.$$typeof===uT||t.$$typeof===dT||t.$$typeof===mQ||t.getModuleId!==void 0)};zn.typeOf=Yo;pQ.exports=zn;var ZMe=pQ.exports,QMe=Zc,JMe=Qc,eAe="[object Number]";function tAe(t){return typeof t=="number"||JMe(t)&&QMe(t)==eAe}var gQ=tAe;const nAe=Nn(gQ);var rAe=gQ;function iAe(t){return rAe(t)&&t!=+t}var sAe=iAe;const Lv=Nn(sAe);var ts=function(e){return e===0?0:e>0?1:-1},Of=function(e){return bb(e)&&e.indexOf("%")===e.length-1},et=function(e){return nAe(e)&&!Lv(e)},ti=function(e){return et(e)||bb(e)},oAe=0,Hh=function(e){var n=++oAe;return"".concat(e||"").concat(n)},ns=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&!bb(e))return r;var s;if(Of(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Lv(s)&&(s=r),i&&s>n&&(s=n),s},Lu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},aAe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zr=function(e,n){return et(e)&&et(n)?function(r){return e+r*(n-e)}:function(){return n}};function oC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):io(r,e))===n})}function Wm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Pk(t){"@babel/helpers - typeof";return Pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pk(t)}var lAe=["viewBox","children"],cAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EH=["points","pathLength"],lR={svg:lAe,polygon:EH,polyline:EH},cF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),!Ov(r))return null;var i={};return Object.keys(r).forEach(function(s){cF.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},uAe=function(e,n,r){return function(i){return e(n,r,i),null}},yh=function(e,n,r){if(!Ov(e)||Pk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];cF.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=uAe(o,n,r))}),i},dAe=["children"],fAe=["children"];function CH(t,e){if(t==null)return{};var n=hAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nk(t){"@babel/helpers - typeof";return Nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nk(t)}var MH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AH=null,cR=null,uF=function t(e){if(e===AH&&Array.isArray(cR))return cR;var n=[];return A.Children.forEach(e,function(r){Xt(r)||(ZMe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cR=n,AH=e,n};function so(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Mc(i)}):r=[Mc(e)],uF(t).forEach(function(i){var s=io(i,"type.displayName")||io(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function qs(t,e){var n=so(t,e);return n&&n[0]}var TH=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!et(r)||r<=0||!et(i)||i<=0)},pAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mAe=function(e){return e&&e.type&&bb(e.type)&&pAe.indexOf(e.type)>=0},vQ=function(e){return e&&Nk(e)==="object"&&"clipDot"in e},gAe=function(e,n,r,i){var s,o=(s=lR==null?void 0:lR[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!zt(e)&&(i&&o.includes(n)||cAe.includes(n))||r&&cF.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),!Ov(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;gAe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},Rk=function t(e,n){if(e===n)return!0;var r=A.Children.count(e);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return PH(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!PH(s,o))return!1}return!0},PH=function(e,n){if(Xt(e)&&Xt(n))return!0;if(!Xt(e)&&!Xt(n)){var r=e.props||{},i=r.children,s=CH(r,dAe),o=n.props||{},a=o.children,l=CH(o,fAe);return i&&a?Wm(s,l)&&Rk(i,a):!i&&!a?Wm(s,l):!1}return!1},NH=function(e,n){var r=[],i={};return uF(e).forEach(function(s,o){if(mAe(s))r.push(s);else if(s){var a=Mc(s.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var u=c(s,a,o);r.push(u),i[a]=!0}}}),r},vAe=function(e){var n=e&&e.type;return n&&MH[n]?MH[n]:null},yAe=function(e,n){return uF(n).indexOf(e)},xAe=["children","width","height","viewBox","className","style","title","desc"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ok.apply(this,arguments)}function _Ae(t,e){if(t==null)return{};var n=bAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ik(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=_Ae(t,xAe),d=i||{width:n,height:r,x:0,y:0},u=Yt("recharts-surface",s);return ee.createElement("svg",Ok({},Pt(c,!0,"svg"),{className:u,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ee.createElement("title",null,a),ee.createElement("desc",null,l),e)}var wAe=["children","className"];function kk(){return kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kk.apply(this,arguments)}function SAe(t,e){if(t==null)return{};var n=EAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fn=ee.forwardRef(function(t,e){var n=t.children,r=t.className,i=SAe(t,wAe),s=Yt("recharts-layer",r);return ee.createElement("g",kk({className:s},Pt(i,!0),{ref:e}),n)}),Ia=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function CAe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var MAe=CAe,AAe=MAe;function TAe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:AAe(t,e,n)}var PAe=TAe,NAe="\\ud800-\\udfff",RAe="\\u0300-\\u036f",OAe="\\ufe20-\\ufe2f",IAe="\\u20d0-\\u20ff",kAe=RAe+OAe+IAe,DAe="\\ufe0e\\ufe0f",LAe="\\u200d",jAe=RegExp("["+LAe+NAe+kAe+DAe+"]");function FAe(t){return jAe.test(t)}var yQ=FAe;function BAe(t){return t.split("")}var UAe=BAe,xQ="\\ud800-\\udfff",zAe="\\u0300-\\u036f",$Ae="\\ufe20-\\ufe2f",HAe="\\u20d0-\\u20ff",VAe=zAe+$Ae+HAe,WAe="\\ufe0e\\ufe0f",GAe="["+xQ+"]",Dk="["+VAe+"]",Lk="\\ud83c[\\udffb-\\udfff]",XAe="(?:"+Dk+"|"+Lk+")",_Q="[^"+xQ+"]",bQ="(?:\\ud83c[\\udde6-\\uddff]){2}",wQ="[\\ud800-\\udbff][\\udc00-\\udfff]",qAe="\\u200d",SQ=XAe+"?",EQ="["+WAe+"]?",KAe="(?:"+qAe+"(?:"+[_Q,bQ,wQ].join("|")+")"+EQ+SQ+")*",YAe=EQ+SQ+KAe,ZAe="(?:"+[_Q+Dk+"?",Dk,bQ,wQ,GAe].join("|")+")",QAe=RegExp(Lk+"(?="+Lk+")|"+ZAe+YAe,"g");function JAe(t){return t.match(QAe)||[]}var eTe=JAe,tTe=UAe,nTe=yQ,rTe=eTe;function iTe(t){return nTe(t)?rTe(t):tTe(t)}var sTe=iTe,oTe=PAe,aTe=yQ,lTe=sTe,cTe=dQ;function uTe(t){return function(e){e=cTe(e);var n=aTe(e)?lTe(e):void 0,r=n?n[0]:e.charAt(0),i=n?oTe(n,1).join(""):e.slice(1);return r[t]()+i}}var dTe=uTe,fTe=dTe,hTe=fTe("toUpperCase"),pTe=hTe;const gT=Nn(pTe);function Kn(t){return function(){return t}}const CQ=Math.cos,lC=Math.sin,Va=Math.sqrt,cC=Math.PI,vT=2*cC,jk=Math.PI,Fk=2*jk,xf=1e-6,mTe=Fk-xf;function MQ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MQ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let vTe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MQ:gTe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,d=o-e,u=a-n,f=d*d+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>xf)if(!(Math.abs(u*l-c*d)>xf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-a,y=l*l+c*c,m=g*g+v*v,p=Math.sqrt(y),x=Math.sqrt(f),_=s*Math.tan((jk-Math.acos((y+f-m)/(2*p*x)))/2),b=_/x,S=_/p;Math.abs(b-1)>xf&&this._append`L${e+b*d},${n+b*u}`,this._append`A${s},${s},0,0,${+(u*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,u=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xf||Math.abs(this._y1-d)>xf)&&this._append`L${c},${d}`,r&&(f<0&&(f=f%Fk+Fk),f>mTe?this._append`A${r},${r},0,1,${u},${e-a},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=d}`:f>xf&&this._append`A${r},${r},0,${+(f>=jk)},${u},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function dF(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vTe(e)}function fF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AQ(t){this._context=t}AQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yT(t){return new AQ(t)}function TQ(t){return t[0]}function PQ(t){return t[1]}function NQ(t,e){var n=Kn(!0),r=null,i=yT,s=null,o=dF(a);t=typeof t=="function"?t:t===void 0?TQ:Kn(t),e=typeof e=="function"?e:e===void 0?PQ:Kn(e);function a(l){var c,d=(l=fF(l)).length,u,f=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=d;++c)!(c<d&&n(u=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(u,c,l),+e(u,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function M1(t,e,n){var r=null,i=Kn(!0),s=null,o=yT,a=null,l=dF(c);t=typeof t=="function"?t:t===void 0?TQ:Kn(+t),e=typeof e=="function"?e:Kn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?PQ:Kn(+n);function c(u){var f,g,v,y=(u=fF(u)).length,m,p=!1,x,_=new Array(y),b=new Array(y);for(s==null&&(a=o(x=l())),f=0;f<=y;++f){if(!(f<y&&i(m=u[f],f,u))===p)if(p=!p)g=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=f-1;v>=g;--v)a.point(_[v],b[v]);a.lineEnd(),a.areaEnd()}p&&(_[f]=+t(m,f,u),b[f]=+e(m,f,u),a.point(r?+r(m,f,u):_[f],n?+n(m,f,u):b[f]))}if(x)return a=null,x+""||null}function d(){return NQ().defined(i).curve(o).context(s)}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Kn(+u),r=null,c):t},c.x0=function(u){return arguments.length?(t=typeof u=="function"?u:Kn(+u),c):t},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Kn(+u),c):r},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Kn(+u),n=null,c):e},c.y0=function(u){return arguments.length?(e=typeof u=="function"?u:Kn(+u),c):e},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Kn(+u),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Kn(!!u),c):i},c.curve=function(u){return arguments.length?(o=u,s!=null&&(a=o(s)),c):o},c.context=function(u){return arguments.length?(u==null?s=a=null:a=o(s=u),c):s},c}class RQ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yTe(t){return new RQ(t,!0)}function xTe(t){return new RQ(t,!1)}const hF={draw(t,e){const n=Va(e/cC);t.moveTo(n,0),t.arc(0,0,n,0,vT)}},_Te={draw(t,e){const n=Va(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OQ=Va(1/3),bTe=OQ*2,wTe={draw(t,e){const n=Va(e/bTe),r=n*OQ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},STe={draw(t,e){const n=Va(e),r=-n/2;t.rect(r,r,n,n)}},ETe=.8908130915292852,IQ=lC(cC/10)/lC(7*cC/10),CTe=lC(vT/10)*IQ,MTe=-CQ(vT/10)*IQ,ATe={draw(t,e){const n=Va(e*ETe),r=CTe*n,i=MTe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=vT*s/5,a=CQ(o),l=lC(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},uR=Va(3),TTe={draw(t,e){const n=-Va(e/(uR*3));t.moveTo(0,n*2),t.lineTo(-uR*n,-n),t.lineTo(uR*n,-n),t.closePath()}},To=-.5,Po=Va(3)/2,Bk=1/Va(12),PTe=(Bk/2+1)*3,NTe={draw(t,e){const n=Va(e/PTe),r=n/2,i=n*Bk,s=r,o=n*Bk+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(To*r-Po*i,Po*r+To*i),t.lineTo(To*s-Po*o,Po*s+To*o),t.lineTo(To*a-Po*l,Po*a+To*l),t.lineTo(To*r+Po*i,To*i-Po*r),t.lineTo(To*s+Po*o,To*o-Po*s),t.lineTo(To*a+Po*l,To*l-Po*a),t.closePath()}};function RTe(t,e){let n=null,r=dF(i);t=typeof t=="function"?t:Kn(t||hF),e=typeof e=="function"?e:Kn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uC(){}function dC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kQ(t){this._context=t}kQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OTe(t){return new kQ(t)}function DQ(t){this._context=t}DQ.prototype={areaStart:uC,areaEnd:uC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ITe(t){return new DQ(t)}function LQ(t){this._context=t}LQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kTe(t){return new LQ(t)}function jQ(t){this._context=t}jQ.prototype={areaStart:uC,areaEnd:uC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DTe(t){return new jQ(t)}function RH(t){return t<0?-1:1}function OH(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(RH(s)+RH(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function IH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dR(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function fC(t){this._context=t}fC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dR(this,this._t0,IH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dR(this,IH(this,n=OH(this,t,e)),n);break;default:dR(this,this._t0,n=OH(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function FQ(t){this._context=new BQ(t)}(FQ.prototype=Object.create(fC.prototype)).point=function(t,e){fC.prototype.point.call(this,e,t)};function BQ(t){this._context=t}BQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function LTe(t){return new fC(t)}function jTe(t){return new FQ(t)}function UQ(t){this._context=t}UQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=kH(t),i=kH(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kH(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function FTe(t){return new UQ(t)}function xT(t,e){this._context=t,this._t=e}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function BTe(t){return new xT(t,.5)}function UTe(t){return new xT(t,0)}function zTe(t){return new xT(t,1)}function Mg(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Uk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $Te(t,e){return t[e]}function HTe(t){const e=[];return e.key=t,e}function VTe(){var t=Kn([]),e=Uk,n=Mg,r=$Te;function i(s){var o=Array.from(t.apply(this,arguments),HTe),a,l=o.length,c=-1,d;for(const u of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(u,o[a].key,c,s)]).data=u;for(a=0,d=fF(e(o));a<l;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Kn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Uk:typeof s=="function"?s:Kn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Mg,i):n},i}function WTe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Mg(t,e)}}function GTe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Mg(t,e)}}function XTe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var d=t[e[a]],u=d[r][1]||0,f=d[r-1][1]||0,g=(u-f)/2,v=0;v<a;++v){var y=t[e[v]],m=y[r][1]||0,p=y[r-1][1]||0;g+=m-p}l+=u,c+=g*u}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Mg(t,e)}}function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}var qTe=["type","size","sizeType"];function zk(){return zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zk.apply(this,arguments)}function DH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(n),!0).forEach(function(r){KTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KTe(t,e,n){return e=YTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YTe(t){var e=ZTe(t,"string");return Lx(e)=="symbol"?e:e+""}function ZTe(t,e){if(Lx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QTe(t,e){if(t==null)return{};var n=JTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zQ={symbolCircle:hF,symbolCross:_Te,symbolDiamond:wTe,symbolSquare:STe,symbolStar:ATe,symbolTriangle:TTe,symbolWye:NTe},ePe=Math.PI/180,tPe=function(e){var n="symbol".concat(gT(e));return zQ[n]||hF},nPe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ePe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rPe=function(e,n){zQ["symbol".concat(gT(e))]=n},pF=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=QTe(e,qTe),c=LH(LH({},l),{},{type:r,size:s,sizeType:a}),d=function(){var m=tPe(r),p=RTe().type(m).size(nPe(s,a,r));return p()},u=c.className,f=c.cx,g=c.cy,v=Pt(c,!0);return f===+f&&g===+g&&s===+s?ee.createElement("path",zk({},v,{className:Yt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(g,")"),d:d()})):null};pF.registerSymbol=rPe;function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function $k(){return $k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$k.apply(this,arguments)}function jH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(n),!0).forEach(function(r){jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HQ(r.key),r)}}function aPe(t,e,n){return e&&oPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lPe(t,e,n){return e=hC(e),cPe(t,$Q()?Reflect.construct(e,n||[],hC(t).constructor):e.apply(t,n))}function cPe(t,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uPe(t)}function uPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Q=function(){return!!t})()}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hC(t)}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hk(t,e)}function Hk(t,e){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hk(t,e)}function jx(t,e,n){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=fPe(t,"string");return Ag(e)=="symbol"?e:e+""}function fPe(t,e){if(Ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var No=32,mF=function(t){function e(){return sPe(this,e),lPe(this,e,arguments)}return dPe(e,t),aPe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=No/2,o=No/6,a=No/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:No,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(No,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ee.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-No,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(r.legendIcon)){var c=iPe({},r);return delete c.legendIcon,ee.cloneElement(r.legendIcon,c)}return ee.createElement(pF,{fill:l,cx:s,cy:s,size:No,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:No,height:No},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var y=g.formatter||l,m=Yt(jx(jx({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var p=zt(g.value)?null:g.value;Ia(!zt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?c:g.color;return ee.createElement("li",$k({className:m,style:u,key:"legend-item-".concat(v)},yh(r.props,g,v)),ee.createElement(Ik,{width:o,height:o,viewBox:d,style:f},r.renderIcon(g)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(p,g,v):p))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(A.PureComponent);jx(mF,"displayName","Legend");jx(mF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hPe=rT;function pPe(){this.__data__=new hPe,this.size=0}var mPe=pPe;function gPe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vPe=gPe;function yPe(t){return this.__data__.get(t)}var xPe=yPe;function _Pe(t){return this.__data__.has(t)}var bPe=_Pe,wPe=rT,SPe=nF,EPe=rF,CPe=200;function MPe(t,e){var n=this.__data__;if(n instanceof wPe){var r=n.__data__;if(!SPe||r.length<CPe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new EPe(r)}return n.set(t,e),this.size=n.size,this}var APe=MPe,TPe=rT,PPe=mPe,NPe=vPe,RPe=xPe,OPe=bPe,IPe=APe;function jv(t){var e=this.__data__=new TPe(t);this.size=e.size}jv.prototype.clear=PPe;jv.prototype.delete=NPe;jv.prototype.get=RPe;jv.prototype.has=OPe;jv.prototype.set=IPe;var VQ=jv,kPe="__lodash_hash_undefined__";function DPe(t){return this.__data__.set(t,kPe),this}var LPe=DPe;function jPe(t){return this.__data__.has(t)}var FPe=jPe,BPe=rF,UPe=LPe,zPe=FPe;function pC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new BPe;++e<n;)this.add(t[e])}pC.prototype.add=pC.prototype.push=UPe;pC.prototype.has=zPe;var WQ=pC;function $Pe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var GQ=$Pe;function HPe(t,e){return t.has(e)}var XQ=HPe,VPe=WQ,WPe=GQ,GPe=XQ,XPe=1,qPe=2;function KPe(t,e,n,r,i,s){var o=n&XPe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var u=-1,f=!0,g=n&qPe?new VPe:void 0;for(s.set(t,e),s.set(e,t);++u<a;){var v=t[u],y=e[u];if(r)var m=o?r(y,v,u,e,t,s):r(v,y,u,t,e,s);if(m!==void 0){if(m)continue;f=!1;break}if(g){if(!WPe(e,function(p,x){if(!GPe(g,x)&&(v===p||i(v,p,n,r,s)))return g.push(x)})){f=!1;break}}else if(!(v===y||i(v,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var qQ=KPe,YPe=Fl,ZPe=YPe.Uint8Array,QPe=ZPe;function JPe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var e2e=JPe;function t2e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var gF=t2e,FH=_b,BH=QPe,n2e=tF,r2e=qQ,i2e=e2e,s2e=gF,o2e=1,a2e=2,l2e="[object Boolean]",c2e="[object Date]",u2e="[object Error]",d2e="[object Map]",f2e="[object Number]",h2e="[object RegExp]",p2e="[object Set]",m2e="[object String]",g2e="[object Symbol]",v2e="[object ArrayBuffer]",y2e="[object DataView]",UH=FH?FH.prototype:void 0,fR=UH?UH.valueOf:void 0;function x2e(t,e,n,r,i,s,o){switch(n){case y2e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v2e:return!(t.byteLength!=e.byteLength||!s(new BH(t),new BH(e)));case l2e:case c2e:case f2e:return n2e(+t,+e);case u2e:return t.name==e.name&&t.message==e.message;case h2e:case m2e:return t==e+"";case d2e:var a=i2e;case p2e:var l=r&o2e;if(a||(a=s2e),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=a2e,o.set(t,e);var d=r2e(a(t),a(e),r,i,s,o);return o.delete(t),d;case g2e:if(fR)return fR.call(t)==fR.call(e)}return!1}var _2e=x2e;function b2e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var KQ=b2e,w2e=KQ,S2e=Os;function E2e(t,e,n){var r=e(t);return S2e(t)?r:w2e(r,n(t))}var C2e=E2e;function M2e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var A2e=M2e;function T2e(){return[]}var P2e=T2e,N2e=A2e,R2e=P2e,O2e=Object.prototype,I2e=O2e.propertyIsEnumerable,zH=Object.getOwnPropertySymbols,k2e=zH?function(t){return t==null?[]:(t=Object(t),N2e(zH(t),function(e){return I2e.call(t,e)}))}:R2e,D2e=k2e;function L2e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var j2e=L2e,F2e=Zc,B2e=Qc,U2e="[object Arguments]";function z2e(t){return B2e(t)&&F2e(t)==U2e}var $2e=z2e,$H=$2e,H2e=Qc,YQ=Object.prototype,V2e=YQ.hasOwnProperty,W2e=YQ.propertyIsEnumerable,G2e=$H(function(){return arguments}())?$H:function(t){return H2e(t)&&V2e.call(t,"callee")&&!W2e.call(t,"callee")},vF=G2e,mC={exports:{}};function X2e(){return!1}var q2e=X2e;mC.exports;(function(t,e){var n=Fl,r=q2e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(mC,mC.exports);var ZQ=mC.exports,K2e=9007199254740991,Y2e=/^(?:0|[1-9]\d*)$/;function Z2e(t,e){var n=typeof t;return e=e??K2e,!!e&&(n=="number"||n!="symbol"&&Y2e.test(t))&&t>-1&&t%1==0&&t<e}var yF=Z2e,Q2e=9007199254740991;function J2e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Q2e}var xF=J2e,eNe=Zc,tNe=xF,nNe=Qc,rNe="[object Arguments]",iNe="[object Array]",sNe="[object Boolean]",oNe="[object Date]",aNe="[object Error]",lNe="[object Function]",cNe="[object Map]",uNe="[object Number]",dNe="[object Object]",fNe="[object RegExp]",hNe="[object Set]",pNe="[object String]",mNe="[object WeakMap]",gNe="[object ArrayBuffer]",vNe="[object DataView]",yNe="[object Float32Array]",xNe="[object Float64Array]",_Ne="[object Int8Array]",bNe="[object Int16Array]",wNe="[object Int32Array]",SNe="[object Uint8Array]",ENe="[object Uint8ClampedArray]",CNe="[object Uint16Array]",MNe="[object Uint32Array]",nr={};nr[yNe]=nr[xNe]=nr[_Ne]=nr[bNe]=nr[wNe]=nr[SNe]=nr[ENe]=nr[CNe]=nr[MNe]=!0;nr[rNe]=nr[iNe]=nr[gNe]=nr[sNe]=nr[vNe]=nr[oNe]=nr[aNe]=nr[lNe]=nr[cNe]=nr[uNe]=nr[dNe]=nr[fNe]=nr[hNe]=nr[pNe]=nr[mNe]=!1;function ANe(t){return nNe(t)&&tNe(t.length)&&!!nr[eNe(t)]}var TNe=ANe;function PNe(t){return function(e){return t(e)}}var QQ=PNe,gC={exports:{}};gC.exports;(function(t,e){var n=sQ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(gC,gC.exports);var NNe=gC.exports,RNe=TNe,ONe=QQ,HH=NNe,VH=HH&&HH.isTypedArray,INe=VH?ONe(VH):RNe,JQ=INe,kNe=j2e,DNe=vF,LNe=Os,jNe=ZQ,FNe=yF,BNe=JQ,UNe=Object.prototype,zNe=UNe.hasOwnProperty;function $Ne(t,e){var n=LNe(t),r=!n&&DNe(t),i=!n&&!r&&jNe(t),s=!n&&!r&&!i&&BNe(t),o=n||r||i||s,a=o?kNe(t.length,String):[],l=a.length;for(var c in t)(e||zNe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||FNe(c,l)))&&a.push(c);return a}var HNe=$Ne,VNe=Object.prototype;function WNe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||VNe;return t===n}var GNe=WNe;function XNe(t,e){return function(n){return t(e(n))}}var eJ=XNe,qNe=eJ,KNe=qNe(Object.keys,Object),YNe=KNe,ZNe=GNe,QNe=YNe,JNe=Object.prototype,eRe=JNe.hasOwnProperty;function tRe(t){if(!ZNe(t))return QNe(t);var e=[];for(var n in Object(t))eRe.call(t,n)&&n!="constructor"&&e.push(n);return e}var nRe=tRe,rRe=eF,iRe=xF;function sRe(t){return t!=null&&iRe(t.length)&&!rRe(t)}var wb=sRe,oRe=HNe,aRe=nRe,lRe=wb;function cRe(t){return lRe(t)?oRe(t):aRe(t)}var _T=cRe,uRe=C2e,dRe=D2e,fRe=_T;function hRe(t){return uRe(t,fRe,dRe)}var pRe=hRe,WH=pRe,mRe=1,gRe=Object.prototype,vRe=gRe.hasOwnProperty;function yRe(t,e,n,r,i,s){var o=n&mRe,a=WH(t),l=a.length,c=WH(e),d=c.length;if(l!=d&&!o)return!1;for(var u=l;u--;){var f=a[u];if(!(o?f in e:vRe.call(e,f)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var m=o;++u<l;){f=a[u];var p=t[f],x=e[f];if(r)var _=o?r(x,p,f,e,t,s):r(p,x,f,t,e,s);if(!(_===void 0?p===x||i(p,x,n,r,s):_)){y=!1;break}m||(m=f=="constructor")}if(y&&!m){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(y=!1)}return s.delete(t),s.delete(e),y}var xRe=yRe,_Re=$h,bRe=Fl,wRe=_Re(bRe,"DataView"),SRe=wRe,ERe=$h,CRe=Fl,MRe=ERe(CRe,"Promise"),ARe=MRe,TRe=$h,PRe=Fl,NRe=TRe(PRe,"Set"),tJ=NRe,RRe=$h,ORe=Fl,IRe=RRe(ORe,"WeakMap"),kRe=IRe,Vk=SRe,Wk=nF,Gk=ARe,Xk=tJ,qk=kRe,nJ=Zc,Fv=aQ,GH="[object Map]",DRe="[object Object]",XH="[object Promise]",qH="[object Set]",KH="[object WeakMap]",YH="[object DataView]",LRe=Fv(Vk),jRe=Fv(Wk),FRe=Fv(Gk),BRe=Fv(Xk),URe=Fv(qk),_f=nJ;(Vk&&_f(new Vk(new ArrayBuffer(1)))!=YH||Wk&&_f(new Wk)!=GH||Gk&&_f(Gk.resolve())!=XH||Xk&&_f(new Xk)!=qH||qk&&_f(new qk)!=KH)&&(_f=function(t){var e=nJ(t),n=e==DRe?t.constructor:void 0,r=n?Fv(n):"";if(r)switch(r){case LRe:return YH;case jRe:return GH;case FRe:return XH;case BRe:return qH;case URe:return KH}return e});var zRe=_f,hR=VQ,$Re=qQ,HRe=_2e,VRe=xRe,ZH=zRe,QH=Os,JH=ZQ,WRe=JQ,GRe=1,e6="[object Arguments]",t6="[object Array]",A1="[object Object]",XRe=Object.prototype,n6=XRe.hasOwnProperty;function qRe(t,e,n,r,i,s){var o=QH(t),a=QH(e),l=o?t6:ZH(t),c=a?t6:ZH(e);l=l==e6?A1:l,c=c==e6?A1:c;var d=l==A1,u=c==A1,f=l==c;if(f&&JH(t)){if(!JH(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new hR),o||WRe(t)?$Re(t,e,n,r,i,s):HRe(t,e,l,n,r,i,s);if(!(n&GRe)){var g=d&&n6.call(t,"__wrapped__"),v=u&&n6.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,m=v?e.value():e;return s||(s=new hR),i(y,m,n,r,s)}}return f?(s||(s=new hR),VRe(t,e,n,r,i,s)):!1}var KRe=qRe,YRe=KRe,r6=Qc;function rJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!r6(t)&&!r6(e)?t!==t&&e!==e:YRe(t,e,n,r,rJ,i)}var _F=rJ,ZRe=VQ,QRe=_F,JRe=1,eOe=2;function tOe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],d=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var u=new ZRe;if(r)var f=r(c,d,l,t,e,u);if(!(f===void 0?QRe(d,c,JRe|eOe,r,u):f))return!1}}return!0}var nOe=tOe,rOe=Pd;function iOe(t){return t===t&&!rOe(t)}var iJ=iOe,sOe=iJ,oOe=_T;function aOe(t){for(var e=oOe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sOe(i)]}return e}var lOe=aOe;function cOe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var sJ=cOe,uOe=nOe,dOe=lOe,fOe=sJ;function hOe(t){var e=dOe(t);return e.length==1&&e[0][2]?fOe(e[0][0],e[0][1]):function(n){return n===t||uOe(n,t,e)}}var pOe=hOe;function mOe(t,e){return t!=null&&e in Object(t)}var gOe=mOe,vOe=fQ,yOe=vF,xOe=Os,_Oe=yF,bOe=xF,wOe=sT;function SOe(t,e,n){e=vOe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=wOe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&bOe(i)&&_Oe(o,i)&&(xOe(t)||yOe(t)))}var EOe=SOe,COe=gOe,MOe=EOe;function AOe(t,e){return t!=null&&MOe(t,e,COe)}var TOe=AOe,POe=_F,NOe=hQ,ROe=TOe,OOe=J3,IOe=iJ,kOe=sJ,DOe=sT,LOe=1,jOe=2;function FOe(t,e){return OOe(t)&&IOe(e)?kOe(DOe(t),e):function(n){var r=NOe(n,t);return r===void 0&&r===e?ROe(n,t):POe(e,r,LOe|jOe)}}var BOe=FOe;function UOe(t){return t}var Bv=UOe;function zOe(t){return function(e){return e==null?void 0:e[t]}}var $Oe=zOe,HOe=oF;function VOe(t){return function(e){return HOe(e,t)}}var WOe=VOe,GOe=$Oe,XOe=WOe,qOe=J3,KOe=sT;function YOe(t){return qOe(t)?GOe(KOe(t)):XOe(t)}var ZOe=YOe,QOe=pOe,JOe=BOe,eIe=Bv,tIe=Os,nIe=ZOe;function rIe(t){return typeof t=="function"?t:t==null?eIe:typeof t=="object"?tIe(t)?JOe(t[0],t[1]):QOe(t):nIe(t)}var Bl=rIe;function iIe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var oJ=iIe;function sIe(t){return t!==t}var oIe=sIe;function aIe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var lIe=aIe,cIe=oJ,uIe=oIe,dIe=lIe;function fIe(t,e,n){return e===e?dIe(t,e,n):cIe(t,uIe,n)}var hIe=fIe,pIe=hIe;function mIe(t,e){var n=t==null?0:t.length;return!!n&&pIe(t,e,0)>-1}var gIe=mIe;function vIe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yIe=vIe;function xIe(){}var _Ie=xIe,pR=tJ,bIe=_Ie,wIe=gF,SIe=1/0,EIe=pR&&1/wIe(new pR([,-0]))[1]==SIe?function(t){return new pR(t)}:bIe,CIe=EIe,MIe=WQ,AIe=gIe,TIe=yIe,PIe=XQ,NIe=CIe,RIe=gF,OIe=200;function IIe(t,e,n){var r=-1,i=AIe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=TIe;else if(s>=OIe){var c=e?null:NIe(t);if(c)return RIe(c);o=!1,i=PIe,l=new MIe}else l=e?[]:a;e:for(;++r<s;){var d=t[r],u=e?e(d):d;if(d=n||d!==0?d:0,o&&u===u){for(var f=l.length;f--;)if(l[f]===u)continue e;e&&l.push(u),a.push(d)}else i(l,u,n)||(l!==a&&l.push(u),a.push(d))}return a}var kIe=IIe,DIe=Bl,LIe=kIe;function jIe(t,e){return t&&t.length?LIe(t,DIe(e)):[]}var FIe=jIe;const i6=Nn(FIe);function aJ(t,e,n){return e===!0?i6(t,n):zt(e)?i6(t,e):t}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}var BIe=["ref"];function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){bT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cJ(r.key),r)}}function zIe(t,e,n){return e&&o6(t.prototype,e),n&&o6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ie(t,e,n){return e=vC(e),HIe(t,lJ()?Reflect.construct(e,n||[],vC(t).constructor):e.apply(t,n))}function HIe(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VIe(t)}function VIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lJ=function(){return!!t})()}function vC(t){return vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vC(t)}function WIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kk(t,e)}function Kk(t,e){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kk(t,e)}function bT(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=GIe(t,"string");return Tg(e)=="symbol"?e:e+""}function GIe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XIe(t,e){if(t==null)return{};var n=qIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KIe(t){return t.value}function YIe(t,e){if(ee.isValidElement(t))return ee.cloneElement(t,e);if(typeof t=="function")return ee.createElement(t,e);e.ref;var n=XIe(e,BIe);return ee.createElement(mF,n)}var a6=1,Yf=function(t){function e(){var n;UIe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$Ie(this,e,[].concat(i)),bT(n,"lastBoundingBox",{width:-1,height:-1}),n}return WIe(e,t),zIe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>a6||Math.abs(i.height-this.lastBoundingBox.height)>a6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,u,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();u={left:((c||0)-g.width)/2}}else u=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return nc(nc({},u),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,u=nc(nc({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return ee.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(g){r.wrapperNode=g}},YIe(s,nc(nc({},this.props),{},{payload:aJ(d,c,KIe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=nc(nc({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&et(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);bT(Yf,"displayName","Legend");bT(Yf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l6=_b,ZIe=vF,QIe=Os,c6=l6?l6.isConcatSpreadable:void 0;function JIe(t){return QIe(t)||ZIe(t)||!!(c6&&t&&t[c6])}var eke=JIe,tke=KQ,nke=eke;function uJ(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=nke),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?uJ(a,e-1,n,r,i):tke(i,a):r||(i[i.length]=a)}return i}var dJ=uJ;function rke(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var ike=rke,ske=ike,oke=ske(),ake=oke,lke=ake,cke=_T;function uke(t,e){return t&&lke(t,e,cke)}var fJ=uke,dke=wb;function fke(t,e){return function(n,r){if(n==null)return n;if(!dke(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var hke=fke,pke=fJ,mke=hke,gke=mke(pke),bF=gke,vke=bF,yke=wb;function xke(t,e){var n=-1,r=yke(t)?Array(t.length):[];return vke(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var hJ=xke;function _ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var bke=_ke,u6=Rv;function wke(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=u6(t),o=e!==void 0,a=e===null,l=e===e,c=u6(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var Ske=wke,Eke=Ske;function Cke(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=Eke(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Mke=Cke,mR=sF,Ake=oF,Tke=Bl,Pke=hJ,Nke=bke,Rke=QQ,Oke=Mke,Ike=Bv,kke=Os;function Dke(t,e,n){e.length?e=mR(e,function(s){return kke(s)?function(o){return Ake(o,s.length===1?s[0]:s)}:s}):e=[Ike];var r=-1;e=mR(e,Rke(Tke));var i=Pke(t,function(s,o,a){var l=mR(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return Nke(i,function(s,o){return Oke(s,o,n)})}var Lke=Dke;function jke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Fke=jke,Bke=Fke,d6=Math.max;function Uke(t,e,n){return e=d6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=d6(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Bke(t,this,a)}}var zke=Uke;function $ke(t){return function(){return t}}var Hke=$ke,Vke=$h,Wke=function(){try{var t=Vke(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pJ=Wke,Gke=Hke,f6=pJ,Xke=Bv,qke=f6?function(t,e){return f6(t,"toString",{configurable:!0,enumerable:!1,value:Gke(e),writable:!0})}:Xke,Kke=qke,Yke=800,Zke=16,Qke=Date.now;function Jke(t){var e=0,n=0;return function(){var r=Qke(),i=Zke-(r-n);if(n=r,i>0){if(++e>=Yke)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eDe=Jke,tDe=Kke,nDe=eDe,rDe=nDe(tDe),iDe=rDe,sDe=Bv,oDe=zke,aDe=iDe;function lDe(t,e){return aDe(oDe(t,e,sDe),t+"")}var cDe=lDe,uDe=tF,dDe=wb,fDe=yF,hDe=Pd;function pDe(t,e,n){if(!hDe(n))return!1;var r=typeof e;return(r=="number"?dDe(n)&&fDe(e,n.length):r=="string"&&e in n)?uDe(n[e],t):!1}var wT=pDe,mDe=dJ,gDe=Lke,vDe=cDe,h6=wT,yDe=vDe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&h6(t,e[0],e[1])?e=[]:n>2&&h6(e[0],e[1],e[2])&&(e=[e[0]]),gDe(t,mDe(e,1),[])}),xDe=yDe;const wF=Nn(xDe);function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk.apply(this,arguments)}function _De(t,e){return EDe(t)||SDe(t,e)||wDe(t,e)||bDe()}function bDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(t,e){if(t){if(typeof t=="string")return p6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p6(t,e)}}function p6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function EDe(t){if(Array.isArray(t))return t}function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){CDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CDe(t,e,n){return e=MDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MDe(t){var e=ADe(t,"string");return Fx(e)=="symbol"?e:e+""}function ADe(t,e){if(Fx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TDe(t){return Array.isArray(t)&&ti(t[0])&&ti(t[1])?t.join(" ~ "):t}var PDe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,u=e.formatter,f=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,m=e.labelFormatter,p=e.accessibilityLayer,x=p===void 0?!1:p,_=function(){if(d&&d.length){var k={padding:0,margin:0},j=(f?wF(d,f):d).map(function(F,B){if(F.type==="none")return null;var U=gR({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),H=F.formatter||u||TDe,R=F.value,L=F.name,z=R,W=L;if(H&&z!=null&&W!=null){var G=H(R,L,F,B,d);if(Array.isArray(G)){var q=_De(G,2);z=q[0],W=q[1]}else z=G}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},ti(W)?ee.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ti(W)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},z),ee.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:k},j)}return null},b=gR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=gR({margin:0},c),C=!Xt(y),M=C?y:"",T=Yt("recharts-default-tooltip",g),P=Yt("recharts-tooltip-label",v);C&&m&&d!==void 0&&d!==null&&(M=m(y,d));var N=x?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",Yk({className:T,style:b},N),ee.createElement("p",{className:P,style:S},ee.isValidElement(M)?M:"".concat(M)),_())};function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function T1(t,e,n){return e=NDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NDe(t){var e=RDe(t,"string");return Bx(e)=="symbol"?e:e+""}function RDe(t,e){if(Bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy="recharts-tooltip-wrapper",ODe={visibility:"hidden"};function IDe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Yt(Fy,T1(T1(T1(T1({},"".concat(Fy,"-right"),et(n)&&e&&et(e.x)&&n>=e.x),"".concat(Fy,"-left"),et(n)&&e&&et(e.x)&&n<e.x),"".concat(Fy,"-bottom"),et(r)&&e&&et(e.y)&&r>=e.y),"".concat(Fy,"-top"),et(r)&&e&&et(e.y)&&r<e.y))}function g6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&et(s[r]))return s[r];var d=n[r]-a-i,u=n[r]+i;if(e[r])return o[r]?d:u;if(o[r]){var f=d,g=l[r];return f<g?Math.max(u,l[r]):Math.max(d,l[r])}var v=u+a,y=l[r]+c;return v>y?Math.max(d,l[r]):Math.max(u,l[r])}function kDe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function DDe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,u;return o.height>0&&o.width>0&&n?(d=g6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),u=g6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=kDe({translateX:d,translateY:u,useTranslate3d:a})):c=ODe,{cssProperties:c,cssClasses:IDe({translateX:d,translateY:u,coordinate:n})}}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){Qk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gJ(r.key),r)}}function FDe(t,e,n){return e&&jDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BDe(t,e,n){return e=yC(e),UDe(t,mJ()?Reflect.construct(e,n||[],yC(t).constructor):e.apply(t,n))}function UDe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zDe(t)}function zDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function yC(t){return yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yC(t)}function $De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zk(t,e)}function Zk(t,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zk(t,e)}function Qk(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=HDe(t,"string");return Pg(e)=="symbol"?e:e+""}function HDe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x6=1,VDe=function(t){function e(){var n;LDe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=BDe(this,e,[].concat(i)),Qk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qk(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return $De(e,t),FDe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>x6||Math.abs(r.height-this.state.lastBoundingBox.height)>x6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,u=i.hasPayload,f=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,m=i.useTranslate3d,p=i.viewBox,x=i.wrapperStyle,_=DDe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),b=_.cssClasses,S=_.cssProperties,C=y6(y6({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&u?"visible":"hidden",position:"absolute",top:0,left:0},x);return ee.createElement("div",{tabIndex:-1,className:b,style:C,ref:function(T){r.wrapperNode=T}},c)}}])}(A.PureComponent),WDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ka={isSsr:WDe(),get:function(e){return ka[e]},set:function(e,n){if(typeof e=="string")ka[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ka[i]=e[i]})}}};function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function _6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yJ(r.key),r)}}function qDe(t,e,n){return e&&XDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KDe(t,e,n){return e=xC(e),YDe(t,vJ()?Reflect.construct(e,n||[],xC(t).constructor):e.apply(t,n))}function YDe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZDe(t)}function ZDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!t})()}function xC(t){return xC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xC(t)}function QDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jk(t,e)}function Jk(t,e){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jk(t,e)}function SF(t,e,n){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=JDe(t,"string");return Ng(e)=="symbol"?e:e+""}function JDe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eLe(t){return t.dataKey}function tLe(t,e){return ee.isValidElement(t)?ee.cloneElement(t,e):typeof t=="function"?ee.createElement(t,e):ee.createElement(PDe,e)}var hi=function(t){function e(){return GDe(this,e),KDe(this,e,arguments)}return QDe(e,t),qDe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,u=i.filterNull,f=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,m=i.position,p=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,S=v??[];u&&S.length&&(S=aJ(v.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),y,eLe));var C=S.length>0;return ee.createElement(VDe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:C,offset:g,position:m,reverseDirection:p,useTranslate3d:x,viewBox:_,wrapperStyle:b},tLe(c,b6(b6({},this.props),{},{payload:S})))}}])}(A.PureComponent);SF(hi,"displayName","Tooltip");SF(hi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ka.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nLe=Fl,rLe=function(){return nLe.Date.now()},iLe=rLe,sLe=/\s/;function oLe(t){for(var e=t.length;e--&&sLe.test(t.charAt(e)););return e}var aLe=oLe,lLe=aLe,cLe=/^\s+/;function uLe(t){return t&&t.slice(0,lLe(t)+1).replace(cLe,"")}var dLe=uLe,fLe=dLe,w6=Pd,hLe=Rv,S6=NaN,pLe=/^[-+]0x[0-9a-f]+$/i,mLe=/^0b[01]+$/i,gLe=/^0o[0-7]+$/i,vLe=parseInt;function yLe(t){if(typeof t=="number")return t;if(hLe(t))return S6;if(w6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=w6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fLe(t);var n=mLe.test(t);return n||gLe.test(t)?vLe(t.slice(2),n?2:8):pLe.test(t)?S6:+t}var xJ=yLe,xLe=Pd,vR=iLe,E6=xJ,_Le="Expected a function",bLe=Math.max,wLe=Math.min;function SLe(t,e,n){var r,i,s,o,a,l,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(_Le);e=E6(e)||0,xLe(n)&&(d=!!n.leading,u="maxWait"in n,s=u?bLe(E6(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function g(C){var M=r,T=i;return r=i=void 0,c=C,o=t.apply(T,M),o}function v(C){return c=C,a=setTimeout(p,e),d?g(C):o}function y(C){var M=C-l,T=C-c,P=e-M;return u?wLe(P,s-T):P}function m(C){var M=C-l,T=C-c;return l===void 0||M>=e||M<0||u&&T>=s}function p(){var C=vR();if(m(C))return x(C);a=setTimeout(p,y(C))}function x(C){return a=void 0,f&&r?g(C):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function b(){return a===void 0?o:x(vR())}function S(){var C=vR(),M=m(C);if(r=arguments,i=this,l=C,M){if(a===void 0)return v(l);if(u)return clearTimeout(a),a=setTimeout(p,e),g(l)}return a===void 0&&(a=setTimeout(p,e)),o}return S.cancel=_,S.flush=b,S}var ELe=SLe,CLe=ELe,MLe=Pd,ALe="Expected a function";function TLe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ALe);return MLe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),CLe(t,e,{leading:r,maxWait:e,trailing:i})}var PLe=TLe;const _J=Nn(PLe);function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){NLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NLe(t,e,n){return e=RLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RLe(t){var e=OLe(t,"string");return Ux(e)=="symbol"?e:e+""}function OLe(t,e){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ILe(t,e){return jLe(t)||LLe(t,e)||DLe(t,e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DLe(t,e){if(t){if(typeof t=="string")return M6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M6(t,e)}}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jLe(t){if(Array.isArray(t))return t}var fl=A.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,u=t.minHeight,f=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,m=t.id,p=t.className,x=t.onResize,_=t.style,b=_===void 0?{}:_,S=A.useRef(null),C=A.useRef();C.current=x,A.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var M=A.useState({containerWidth:i.width,containerHeight:i.height}),T=ILe(M,2),P=T[0],N=T[1],I=A.useCallback(function(j,F){N(function(B){var U=Math.round(j),H=Math.round(F);return B.containerWidth===U&&B.containerHeight===H?B:{containerWidth:U,containerHeight:H}})},[]);A.useEffect(function(){var j=function(L){var z,W=L[0].contentRect,G=W.width,q=W.height;I(G,q),(z=C.current)===null||z===void 0||z.call(C,G,q)};y>0&&(j=_J(j,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),B=S.current.getBoundingClientRect(),U=B.width,H=B.height;return I(U,H),F.observe(S.current),function(){F.disconnect()}},[I,y]);var k=A.useMemo(function(){var j=P.containerWidth,F=P.containerHeight;if(j<0||F<0)return null;Ia(Of(o)||Of(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ia(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Of(o)?j:o,U=Of(l)?F:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),f&&U>f&&(U=f)),Ia(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,l,d,u,n);var H=!Array.isArray(g)&&Mc(g.type).endsWith("Chart");return ee.Children.map(g,function(R){return ee.isValidElement(R)?A.cloneElement(R,P1({width:B,height:U},H?{style:P1({height:"100%",width:"100%",maxHeight:U,maxWidth:B},R.props.style)}:{})):R})},[n,g,l,f,u,d,P,o]);return ee.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",p),style:P1(P1({},b),{},{width:o,height:l,minWidth:d,minHeight:u,maxHeight:f}),ref:S},k)}),ST=function(e){return null};ST.displayName="Cell";function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){FLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FLe(t,e,n){return e=BLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BLe(t){var e=ULe(t,"string");return zx(e)=="symbol"?e:e+""}function ULe(t,e){if(zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ap={widthCache:{},cacheCount:0},zLe=2e3,$Le={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T6="recharts_measurement_span";function HLe(t){var e=eD({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ka.isSsr)return{width:0,height:0};var r=HLe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ap.widthCache[i])return Ap.widthCache[i];try{var s=document.getElementById(T6);s||(s=document.createElement("span"),s.setAttribute("id",T6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=eD(eD({},$Le),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Ap.widthCache[i]=l,++Ap.cacheCount>zLe&&(Ap.cacheCount=0,Ap.widthCache={}),l}catch{return{width:0,height:0}}},VLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}function _C(t,e){return qLe(t)||XLe(t,e)||GLe(t,e)||WLe()}function WLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GLe(t,e){if(t){if(typeof t=="string")return P6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P6(t,e)}}function P6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function qLe(t){if(Array.isArray(t))return t}function KLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZLe(r.key),r)}}function YLe(t,e,n){return e&&N6(t.prototype,e),n&&N6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZLe(t){var e=QLe(t,"string");return $x(e)=="symbol"?e:e+""}function QLe(t,e){if($x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tje=Object.keys(bJ),_m="NaN";function nje(t,e){return t*bJ[e]}var N1=function(){function t(e,n){KLe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JLe.test(n)&&(this.num=NaN,this.unit=""),tje.includes(n)&&(this.num=nje(e,n),this.unit="px")}return YLe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=eje.exec(n))!==null&&r!==void 0?r:[],s=_C(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function wJ(t){if(t.includes(_m))return _m;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=R6.exec(e))!==null&&n!==void 0?n:[],i=_C(r,4),s=i[1],o=i[2],a=i[3],l=N1.parse(s??""),c=N1.parse(a??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return _m;e=e.replace(R6,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,f=(u=O6.exec(e))!==null&&u!==void 0?u:[],g=_C(f,4),v=g[1],y=g[2],m=g[3],p=N1.parse(v??""),x=N1.parse(m??""),_=y==="+"?p.add(x):p.subtract(x);if(_.isNaN())return _m;e=e.replace(O6,_.toString())}return e}var I6=/\(([^()]*)\)/;function rje(t){for(var e=t;e.includes("(");){var n=I6.exec(e),r=_C(n,2),i=r[1];e=e.replace(I6,wJ(i))}return e}function ije(t){var e=t.replace(/\s+/g,"");return e=rje(e),e=wJ(e),e}function sje(t){try{return ije(t)}catch{return _m}}function yR(t){var e=sje(t.slice(5,-1));return e===_m?"":e}var oje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aje=["dx","dy","angle","className","breakAll"];function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(this,arguments)}function k6(t,e){if(t==null)return{};var n=lje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D6(t,e){return fje(t)||dje(t,e)||uje(t,e)||cje()}function cje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uje(t,e){if(t){if(typeof t=="string")return L6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L6(t,e)}}function L6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function fje(t){if(Array.isArray(t))return t}var SJ=/[ \f\n\r\t\v\u2028\u2029]+/,EJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Xt(n)||(r?s=n.toString().split(""):s=n.toString().split(SJ));var o=s.map(function(l){return{word:l,width:$0(l,i).width}}),a=r?0:$0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},hje=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=et(o),u=a,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,H){var R=H.word,L=H.width,z=U[U.length-1];if(z&&(i==null||s||z.width+L+r<Number(i)))z.words.push(R),z.width+=L+r;else{var W={words:[R],width:L};U.push(W)}return U},[])},g=f(n),v=function(B){return B.reduce(function(U,H){return U.width>H.width?U:H})};if(!d)return g;for(var y="",m=function(B){var U=u.slice(0,B),H=EJ({breakAll:c,style:l,children:U+y}).wordsWithComputedWidth,R=f(H),L=R.length>o||v(R).width>Number(i);return[L,R]},p=0,x=u.length-1,_=0,b;p<=x&&_<=u.length-1;){var S=Math.floor((p+x)/2),C=S-1,M=m(C),T=D6(M,2),P=T[0],N=T[1],I=m(S),k=D6(I,1),j=k[0];if(!P&&!j&&(p=S+1),P&&j&&(x=S-1),!P&&j){b=N;break}_++}return b||g},j6=function(e){var n=Xt(e)?[]:e.toString().split(SJ);return[{words:n}]},pje=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!ka.isSsr){var l,c,d=EJ({breakAll:o,children:i,style:s});if(d){var u=d.wordsWithComputedWidth,f=d.spaceWidth;l=u,c=f}else return j6(i);return hje({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return j6(i)},F6="#808080",xh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,u=d===void 0?!1:d,f=e.textAnchor,g=f===void 0?"start":f,v=e.verticalAnchor,y=v===void 0?"end":v,m=e.fill,p=m===void 0?F6:m,x=k6(e,oje),_=A.useMemo(function(){return pje({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:u,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,u,x.style,x.width]),b=x.dx,S=x.dy,C=x.angle,M=x.className,T=x.breakAll,P=k6(x,aje);if(!ti(r)||!ti(s))return null;var N=r+(et(b)?b:0),I=s+(et(S)?S:0),k;switch(y){case"start":k=yR("calc(".concat(c,")"));break;case"middle":k=yR("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:k=yR("calc(".concat(_.length-1," * -").concat(a,")"));break}var j=[];if(u){var F=_[0].width,B=x.width;j.push("scale(".concat((et(B)?B/F:1)/F,")"))}return C&&j.push("rotate(".concat(C,", ").concat(N,", ").concat(I,")")),j.length&&(P.transform=j.join(" ")),ee.createElement("text",tD({},Pt(P,!0),{x:N,y:I,className:Yt("recharts-text",M),textAnchor:g,fill:p.includes("url")?F6:p}),_.map(function(U,H){var R=U.words.join(T?"":" ");return ee.createElement("tspan",{x:N,dy:H===0?k:a,key:"".concat(R,"-").concat(H)},R)}))};function cd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mje(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EF(t){let e,n,r;t.length!==2?(e=cd,n=(a,l)=>cd(t(a),l),r=(a,l)=>t(a)-l):(e=t===cd||t===mje?t:gje,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function o(a,l,c=0,d=a.length){const u=i(a,l,c,d-1);return u>c&&r(a[u-1],l)>-r(a[u],l)?u-1:u}return{left:i,center:o,right:s}}function gje(){return 0}function CJ(t){return t===null?NaN:+t}function*vje(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yje=EF(cd),Sb=yje.right;EF(CJ).center;class B6 extends Map{constructor(e,n=bje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(U6(this,e))}has(e){return super.has(U6(this,e))}set(e,n){return super.set(xje(this,e),n)}delete(e){return super.delete(_je(this,e))}}function U6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xje({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _je({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bje(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wje(t=cd){if(t===cd)return MJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function MJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sje=Math.sqrt(50),Eje=Math.sqrt(10),Cje=Math.sqrt(2);function bC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Sje?10:s>=Eje?5:s>=Cje?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?bC(t,e,n*2):[a,l,c]}function nD(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?bC(e,t,n):bC(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function rD(t,e,n){return e=+e,t=+t,n=+n,bC(t,e,n)[2]}function iD(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rD(e,t,n):rD(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function z6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?MJ:wje(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),u=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*u*(l-u)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*u/l+f)),v=Math.min(r,Math.floor(e+(l-c)*u/l+f));AJ(t,e,g,v,i)}const s=t[e];let o=n,a=r;for(By(t,n,e),i(t[r],s)>0&&By(t,n,r);o<a;){for(By(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?By(t,n,a):(++a,By(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function By(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Mje(t,e,n){if(t=Float64Array.from(vje(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $6(t);if(e>=1)return z6(t);var r,i=(r-1)*e,s=Math.floor(i),o=z6(AJ(t,s).subarray(0,s+1)),a=$6(t.subarray(s+1));return o+(a-o)*(i-s)}}function Aje(t,e,n=CJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Tje(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sD=Symbol("implicit");function CF(){var t=new B6,e=[],n=[],r=sD;function i(s){let o=t.get(s);if(o===void 0){if(r!==sD)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new B6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CF(e,n).unknown(r)},Zo.apply(i,arguments),i}function Hx(){var t=CF().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete t.unknown;function u(){var f=e().length,g=i<r,v=g?i:r,y=g?r:i;s=(y-v)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),v+=(y-v-s*(f-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var m=Tje(f).map(function(p){return v+s*p});return n(g?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),u()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,u()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,u()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,u()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),u()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),u()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,u()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),u()):d},t.copy=function(){return Hx(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Zo.apply(u(),arguments)}function TJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TJ(e())},t}function H0(){return TJ(Hx.apply(null,arguments).paddingInner(1))}function MF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function PJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Eb(){}var Vx=.7,wC=1/Vx,Gm="\\s*([+-]?\\d+)\\s*",Wx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pje=/^#([0-9a-f]{3,8})$/,Nje=new RegExp(`^rgb\\(${Gm},${Gm},${Gm}\\)$`),Rje=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),Oje=new RegExp(`^rgba\\(${Gm},${Gm},${Gm},${Wx}\\)$`),Ije=new RegExp(`^rgba\\(${wl},${wl},${wl},${Wx}\\)$`),kje=new RegExp(`^hsl\\(${Wx},${wl},${wl}\\)$`),Dje=new RegExp(`^hsla\\(${Wx},${wl},${wl},${Wx}\\)$`),H6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MF(Eb,_h,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:V6,formatHex:V6,formatHex8:Lje,formatHsl:jje,formatRgb:W6,toString:W6});function V6(){return this.rgb().formatHex()}function Lje(){return this.rgb().formatHex8()}function jje(){return NJ(this).formatHsl()}function W6(){return this.rgb().formatRgb()}function _h(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pje.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?G6(e):n===3?new Ms(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?R1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?R1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nje.exec(t))?new Ms(e[1],e[2],e[3],1):(e=Rje.exec(t))?new Ms(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oje.exec(t))?R1(e[1],e[2],e[3],e[4]):(e=Ije.exec(t))?R1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kje.exec(t))?K6(e[1],e[2]/100,e[3]/100,1):(e=Dje.exec(t))?K6(e[1],e[2]/100,e[3]/100,e[4]):H6.hasOwnProperty(t)?G6(H6[t]):t==="transparent"?new Ms(NaN,NaN,NaN,0):null}function G6(t){return new Ms(t>>16&255,t>>8&255,t&255,1)}function R1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ms(t,e,n,r)}function Fje(t){return t instanceof Eb||(t=_h(t)),t?(t=t.rgb(),new Ms(t.r,t.g,t.b,t.opacity)):new Ms}function oD(t,e,n,r){return arguments.length===1?Fje(t):new Ms(t,e,n,r??1)}function Ms(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}MF(Ms,oD,PJ(Eb,{brighter(t){return t=t==null?wC:Math.pow(wC,t),new Ms(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vx:Math.pow(Vx,t),new Ms(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ms(Zf(this.r),Zf(this.g),Zf(this.b),SC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X6,formatHex:X6,formatHex8:Bje,formatRgb:q6,toString:q6}));function X6(){return`#${If(this.r)}${If(this.g)}${If(this.b)}`}function Bje(){return`#${If(this.r)}${If(this.g)}${If(this.b)}${If((isNaN(this.opacity)?1:this.opacity)*255)}`}function q6(){const t=SC(this.opacity);return`${t===1?"rgb(":"rgba("}${Zf(this.r)}, ${Zf(this.g)}, ${Zf(this.b)}${t===1?")":`, ${t})`}`}function SC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function If(t){return t=Zf(t),(t<16?"0":"")+t.toString(16)}function K6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,n,r)}function NJ(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof Eb||(t=_h(t)),!t)return new Sa;if(t instanceof Sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Sa(o,a,l,t.opacity)}function Uje(t,e,n,r){return arguments.length===1?NJ(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}MF(Sa,Uje,PJ(Eb,{brighter(t){return t=t==null?wC:Math.pow(wC,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vx:Math.pow(Vx,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ms(xR(t>=240?t-240:t+120,i,r),xR(t,i,r),xR(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sa(Y6(this.h),O1(this.s),O1(this.l),SC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=SC(this.opacity);return`${t===1?"hsl(":"hsla("}${Y6(this.h)}, ${O1(this.s)*100}%, ${O1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Y6(t){return t=(t||0)%360,t<0?t+360:t}function O1(t){return Math.max(0,Math.min(1,t||0))}function xR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const AF=t=>()=>t;function zje(t,e){return function(n){return t+n*e}}function $je(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hje(t){return(t=+t)==1?RJ:function(e,n){return n-e?$je(e,n,t):AF(isNaN(e)?n:e)}}function RJ(t,e){var n=e-t;return n?zje(t,n):AF(isNaN(t)?e:t)}const EC=function t(e){var n=Hje(e);function r(i,s){var o=n((i=oD(i)).r,(s=oD(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=RJ(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Vje(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Wje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gje(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ac(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Xje(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ba(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qje(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ac(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var aD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_R=new RegExp(aD.source,"g");function Kje(t){return function(){return t}}function Yje(t){return function(e){return t(e)+""}}function OJ(t,e){var n=aD.lastIndex=_R.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=aD.exec(t))&&(i=_R.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ba(r,i)})),n=_R.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Yje(l[0].x):Kje(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function Ac(t,e){var n=typeof e,r;return e==null||n==="boolean"?AF(e):(n==="number"?ba:n==="string"?(r=_h(e))?(e=r,EC):OJ:e instanceof _h?EC:e instanceof Date?Xje:Wje(e)?Vje:Array.isArray(e)?Gje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qje:ba)(t,e)}function TF(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Z6=180/Math.PI,lD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IJ(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Z6,skewX:Math.atan(l)*Z6,scaleX:o,scaleY:a}}var I1;function Zje(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?lD:IJ(e.a,e.b,e.c,e.d,e.e,e.f)}function Qje(t){return t==null||(I1||(I1=document.createElementNS("http://www.w3.org/2000/svg","g")),I1.setAttribute("transform",t),!(t=I1.transform.baseVal.consolidate()))?lD:(t=t.matrix,IJ(t.a,t.b,t.c,t.d,t.e,t.f))}function kJ(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,u,f,g,v){if(c!==u||d!==f){var y=g.push("translate(",null,e,null,n);v.push({i:y-4,x:ba(c,u)},{i:y-2,x:ba(d,f)})}else(u||f)&&g.push("translate("+u+e+f+n)}function o(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(i(u)+"rotate(",null,r)-2,x:ba(c,d)})):d&&u.push(i(u)+"rotate("+d+r)}function a(c,d,u,f){c!==d?f.push({i:u.push(i(u)+"skewX(",null,r)-2,x:ba(c,d)}):d&&u.push(i(u)+"skewX("+d+r)}function l(c,d,u,f,g,v){if(c!==u||d!==f){var y=g.push(i(g)+"scale(",null,",",null,")");v.push({i:y-4,x:ba(c,u)},{i:y-2,x:ba(d,f)})}else(u!==1||f!==1)&&g.push(i(g)+"scale("+u+","+f+")")}return function(c,d){var u=[],f=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,u,f),o(c.rotate,d.rotate,u,f),a(c.skewX,d.skewX,u,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(g){for(var v=-1,y=f.length,m;++v<y;)u[(m=f[v]).i]=m.x(g);return u.join("")}}}var Jje=kJ(Zje,"px, ","px)","deg)"),e3e=kJ(Qje,", ",")",")"),t3e=1e-12;function Q6(t){return((t=Math.exp(t))+1/t)/2}function n3e(t){return((t=Math.exp(t))-1/t)/2}function r3e(t){return((t=Math.exp(2*t))-1)/(t+1)}const dE=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],d=o[0],u=o[1],f=o[2],g=d-a,v=u-l,y=g*g+v*v,m,p;if(y<t3e)p=Math.log(f/c)/e,m=function(M){return[a+M*g,l+M*v,c*Math.exp(e*M*p)]};else{var x=Math.sqrt(y),_=(f*f-c*c+r*y)/(2*c*n*x),b=(f*f-c*c-r*y)/(2*f*n*x),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(b*b+1)-b);p=(C-S)/e,m=function(M){var T=M*p,P=Q6(S),N=c/(n*x)*(P*r3e(e*T+S)-n3e(S));return[a+N*g,l+N*v,c*P/Q6(e*T+S)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);function i3e(t,e){e===void 0&&(e=t,t=Ac);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function s3e(t){return function(){return t}}function CC(t){return+t}var J6=[0,1];function rs(t){return t}function cD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:s3e(isNaN(e)?NaN:.5)}function o3e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function a3e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=cD(i,r),s=n(o,s)):(r=cD(r,i),s=n(s,o)),function(a){return s(r(a))}}function l3e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=cD(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Sb(t,a,1,r)-1;return s[l](i[l](a))}}function Cb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ET(){var t=J6,e=J6,n=Ac,r,i,s,o=rs,a,l,c;function d(){var f=Math.min(t.length,e.length);return o!==rs&&(o=o3e(t[0],t[f-1])),a=f>2?l3e:a3e,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return u.invert=function(f){return o(i((c||(c=a(e,t.map(r),ba)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,CC),d()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),n=TF,d()},u.clamp=function(f){return arguments.length?(o=f?!0:rs,d()):o!==rs},u.interpolate=function(f){return arguments.length?(n=f,d()):n},u.unknown=function(f){return arguments.length?(s=f,u):s},function(f,g){return r=f,i=g,d()}}function PF(){return ET()(rs,rs)}function c3e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function MC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rg(t){return t=MC(Math.abs(t)),t?t[1]:NaN}function u3e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function d3e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var f3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gx(t){if(!(e=f3e.exec(t)))throw new Error("invalid format: "+t);var e;return new NF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gx.prototype=NF.prototype;function NF(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h3e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var DJ;function p3e(t,e){var n=MC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(DJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+MC(t,Math.max(0,e+s-1))[0]}function e8(t,e){var n=MC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const t8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:c3e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>e8(t*100,e),r:e8,s:p3e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function n8(t){return t}var r8=Array.prototype.map,i8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function m3e(t){var e=t.grouping===void 0||t.thousands===void 0?n8:u3e(r8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?n8:d3e(r8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Gx(u);var f=u.fill,g=u.align,v=u.sign,y=u.symbol,m=u.zero,p=u.width,x=u.comma,_=u.precision,b=u.trim,S=u.type;S==="n"?(x=!0,S="g"):t8[S]||(_===void 0&&(_=12),b=!0,S="g"),(m||f==="0"&&g==="=")&&(m=!0,f="0",g="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",M=y==="$"?r:/[%p]/.test(S)?o:"",T=t8[S],P=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(I){var k=C,j=M,F,B,U;if(S==="c")j=T(I)+j,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),_),b&&(I=h3e(I)),H&&+I==0&&v!=="+"&&(H=!1),k=(H?v==="("?v:a:v==="-"||v==="("?"":v)+k,j=(S==="s"?i8[8+DJ/3]:"")+j+(H&&v==="("?")":""),P){for(F=-1,B=I.length;++F<B;)if(U=I.charCodeAt(F),48>U||U>57){j=(U===46?i+I.slice(F+1):I.slice(F))+j,I=I.slice(0,F);break}}}x&&!m&&(I=e(I,1/0));var R=k.length+I.length+j.length,L=R<p?new Array(p-R+1).join(f):"";switch(x&&m&&(I=e(L+I,L.length?p-j.length:1/0),L=""),g){case"<":I=k+I+j+L;break;case"=":I=k+L+I+j;break;case"^":I=L.slice(0,R=L.length>>1)+k+I+j+L.slice(R);break;default:I=L+k+I+j;break}return s(I)}return N.toString=function(){return u+""},N}function d(u,f){var g=c((u=Gx(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(Rg(f)/3)))*3,y=Math.pow(10,-v),m=i8[8+v/3];return function(p){return g(y*p)+m}}return{format:c,formatPrefix:d}}var k1,RF,LJ;g3e({thousands:",",grouping:[3],currency:["$",""]});function g3e(t){return k1=m3e(t),RF=k1.format,LJ=k1.formatPrefix,k1}function v3e(t){return Math.max(0,-Rg(Math.abs(t)))}function y3e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rg(e)/3)))*3-Rg(Math.abs(t)))}function x3e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rg(e)-Rg(t))+1}function jJ(t,e,n,r){var i=iD(t,e,n),s;switch(r=Gx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=y3e(i,o))&&(r.precision=s),LJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=x3e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=v3e(i))&&(r.precision=s-(r.type==="%")*2);break}}return RF(r)}function Nd(t){var e=t.domain;return t.ticks=function(n){var r=e();return nD(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=rD(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function AC(){var t=PF();return t.copy=function(){return Cb(t,AC())},Zo.apply(t,arguments),Nd(t)}function FJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,CC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return FJ(t).unknown(e)},t=arguments.length?Array.from(t,CC):[0,1],Nd(n)}function BJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function s8(t){return Math.log(t)}function o8(t){return Math.exp(t)}function _3e(t){return-Math.log(-t)}function b3e(t){return-Math.exp(-t)}function w3e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S3e(t){return t===10?w3e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function E3e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function a8(t){return(e,n)=>-t(-e,n)}function OF(t){const e=t(s8,o8),n=e.domain;let r=10,i,s;function o(){return i=E3e(r),s=S3e(r),n()[0]<0?(i=a8(i),s=a8(s),t(_3e,b3e)):t(s8,o8),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const u=d<c;u&&([c,d]=[d,c]);let f=i(c),g=i(d),v,y;const m=a==null?10:+a;let p=[];if(!(r%1)&&g-f<m){if(f=Math.floor(f),g=Math.ceil(g),c>0){for(;f<=g;++f)for(v=1;v<r;++v)if(y=f<0?v/s(-f):v*s(f),!(y<c)){if(y>d)break;p.push(y)}}else for(;f<=g;++f)for(v=r-1;v>=1;--v)if(y=f>0?v/s(-f):v*s(f),!(y<c)){if(y>d)break;p.push(y)}p.length*2<m&&(p=nD(c,d,m))}else p=nD(f,g,Math.min(g-f,m)).map(s);return u?p.reverse():p},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gx(l)).precision==null&&(l.trim=!0),l=RF(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let u=d/s(Math.round(i(d)));return u*r<r-.5&&(u*=r),u<=c?l(d):""}},e.nice=()=>n(BJ(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function UJ(){const t=OF(ET()).domain([1,10]);return t.copy=()=>Cb(t,UJ()).base(t.base()),Zo.apply(t,arguments),t}function l8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function c8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IF(t){var e=1,n=t(l8(e),c8(e));return n.constant=function(r){return arguments.length?t(l8(e=+r),c8(e)):e},Nd(n)}function zJ(){var t=IF(ET());return t.copy=function(){return Cb(t,zJ()).constant(t.constant())},Zo.apply(t,arguments)}function u8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function C3e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function M3e(t){return t<0?-t*t:t*t}function kF(t){var e=t(rs,rs),n=1;function r(){return n===1?t(rs,rs):n===.5?t(C3e,M3e):t(u8(n),u8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nd(e)}function DF(){var t=kF(ET());return t.copy=function(){return Cb(t,DF()).exponent(t.exponent())},Zo.apply(t,arguments),t}function A3e(){return DF.apply(null,arguments).exponent(.5)}function d8(t){return Math.sign(t)*t*t}function T3e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $J(){var t=PF(),e=[0,1],n=!1,r;function i(s){var o=T3e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(d8(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,CC)).map(d8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $J(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zo.apply(i,arguments),Nd(i)}function HJ(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Aje(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Sb(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(cd),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return HJ().domain(t).range(e).unknown(r)},Zo.apply(s,arguments)}function VJ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Sb(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return VJ().domain([t,e]).range(i).unknown(s)},Zo.apply(Nd(o),arguments)}function WJ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Sb(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return WJ().domain(t).range(e).unknown(n)},Zo.apply(i,arguments)}const bR=new Date,wR=new Date;function si(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>si(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(bR.setTime(+s),wR.setTime(+o),t(bR),t(wR),Math.floor(n(bR,wR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const TC=si(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);TC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?si(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):TC);TC.range;const bc=1e3,Fo=bc*60,wc=Fo*60,Lc=wc*24,LF=Lc*7,f8=Lc*30,SR=Lc*365,kf=si(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getUTCSeconds());kf.range;const jF=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bc)},(t,e)=>{t.setTime(+t+e*Fo)},(t,e)=>(e-t)/Fo,t=>t.getMinutes());jF.range;const FF=si(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fo)},(t,e)=>(e-t)/Fo,t=>t.getUTCMinutes());FF.range;const BF=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bc-t.getMinutes()*Fo)},(t,e)=>{t.setTime(+t+e*wc)},(t,e)=>(e-t)/wc,t=>t.getHours());BF.range;const UF=si(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wc)},(t,e)=>(e-t)/wc,t=>t.getUTCHours());UF.range;const Mb=si(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fo)/Lc,t=>t.getDate()-1);Mb.range;const CT=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lc,t=>t.getUTCDate()-1);CT.range;const GJ=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lc,t=>Math.floor(t/Lc));GJ.range;function Vh(t){return si(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fo)/LF)}const MT=Vh(0),PC=Vh(1),P3e=Vh(2),N3e=Vh(3),Og=Vh(4),R3e=Vh(5),O3e=Vh(6);MT.range;PC.range;P3e.range;N3e.range;Og.range;R3e.range;O3e.range;function Wh(t){return si(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LF)}const AT=Wh(0),NC=Wh(1),I3e=Wh(2),k3e=Wh(3),Ig=Wh(4),D3e=Wh(5),L3e=Wh(6);AT.range;NC.range;I3e.range;k3e.range;Ig.range;D3e.range;L3e.range;const zF=si(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zF.range;const $F=si(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$F.range;const jc=si(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jc.range;const Fc=si(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fc.range;function XJ(t,e,n,r,i,s){const o=[[kf,1,bc],[kf,5,5*bc],[kf,15,15*bc],[kf,30,30*bc],[s,1,Fo],[s,5,5*Fo],[s,15,15*Fo],[s,30,30*Fo],[i,1,wc],[i,3,3*wc],[i,6,6*wc],[i,12,12*wc],[r,1,Lc],[r,2,2*Lc],[n,1,LF],[e,1,f8],[e,3,3*f8],[t,1,SR]];function a(c,d,u){const f=d<c;f&&([c,d]=[d,c]);const g=u&&typeof u.range=="function"?u:l(c,d,u),v=g?g.range(c,+d+1):[];return f?v.reverse():v}function l(c,d,u){const f=Math.abs(d-c)/u,g=EF(([,,m])=>m).right(o,f);if(g===o.length)return t.every(iD(c/SR,d/SR,u));if(g===0)return TC.every(Math.max(iD(c,d,u),1));const[v,y]=o[f/o[g-1][2]<o[g][2]/f?g-1:g];return v.every(y)}return[a,l]}const[j3e,F3e]=XJ(Fc,$F,AT,GJ,UF,FF),[B3e,U3e]=XJ(jc,zF,MT,Mb,BF,jF);function ER(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function z3e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=zy(i),d=$y(i),u=zy(s),f=$y(s),g=zy(o),v=$y(o),y=zy(a),m=$y(a),p=zy(l),x=$y(l),_={a:H,A:R,b:L,B:z,c:null,d:y8,e:y8,f:uFe,g:_Fe,G:wFe,H:aFe,I:lFe,j:cFe,L:qJ,m:dFe,M:fFe,p:W,q:G,Q:b8,s:w8,S:hFe,u:pFe,U:mFe,V:gFe,w:vFe,W:yFe,x:null,X:null,y:xFe,Y:bFe,Z:SFe,"%":_8},b={a:q,A:ne,b:ae,B:se,c:null,d:x8,e:x8,f:AFe,g:jFe,G:BFe,H:EFe,I:CFe,j:MFe,L:YJ,m:TFe,M:PFe,p:$,q:Y,Q:b8,s:w8,S:NFe,u:RFe,U:OFe,V:IFe,w:kFe,W:DFe,x:null,X:null,y:LFe,Y:FFe,Z:UFe,"%":_8},S={a:N,A:I,b:k,B:j,c:F,d:g8,e:g8,f:rFe,g:m8,G:p8,H:v8,I:v8,j:J3e,L:nFe,m:Q3e,M:eFe,p:P,q:Z3e,Q:sFe,s:oFe,S:tFe,u:G3e,U:X3e,V:q3e,w:W3e,W:K3e,x:B,X:U,y:m8,Y:p8,Z:Y3e,"%":iFe};_.x=C(n,_),_.X=C(r,_),_.c=C(e,_),b.x=C(n,b),b.X=C(r,b),b.c=C(e,b);function C(Q,te){return function(ue){var J=[],K=-1,re=0,fe=Q.length,me,pe,Ae;for(ue instanceof Date||(ue=new Date(+ue));++K<fe;)Q.charCodeAt(K)===37&&(J.push(Q.slice(re,K)),(pe=h8[me=Q.charAt(++K)])!=null?me=Q.charAt(++K):pe=me==="e"?" ":"0",(Ae=te[me])&&(me=Ae(ue,pe)),J.push(me),re=K+1);return J.push(Q.slice(re,K)),J.join("")}}function M(Q,te){return function(ue){var J=Uy(1900,void 0,1),K=T(J,Q,ue+="",0),re,fe;if(K!=ue.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(re=CR(Uy(J.y,0,1)),fe=re.getUTCDay(),re=fe>4||fe===0?NC.ceil(re):NC(re),re=CT.offset(re,(J.V-1)*7),J.y=re.getUTCFullYear(),J.m=re.getUTCMonth(),J.d=re.getUTCDate()+(J.w+6)%7):(re=ER(Uy(J.y,0,1)),fe=re.getDay(),re=fe>4||fe===0?PC.ceil(re):PC(re),re=Mb.offset(re,(J.V-1)*7),J.y=re.getFullYear(),J.m=re.getMonth(),J.d=re.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),fe="Z"in J?CR(Uy(J.y,0,1)).getUTCDay():ER(Uy(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(fe+5)%7:J.w+J.U*7-(fe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,CR(J)):ER(J)}}function T(Q,te,ue,J){for(var K=0,re=te.length,fe=ue.length,me,pe;K<re;){if(J>=fe)return-1;if(me=te.charCodeAt(K++),me===37){if(me=te.charAt(K++),pe=S[me in h8?te.charAt(K++):me],!pe||(J=pe(Q,ue,J))<0)return-1}else if(me!=ue.charCodeAt(J++))return-1}return J}function P(Q,te,ue){var J=c.exec(te.slice(ue));return J?(Q.p=d.get(J[0].toLowerCase()),ue+J[0].length):-1}function N(Q,te,ue){var J=g.exec(te.slice(ue));return J?(Q.w=v.get(J[0].toLowerCase()),ue+J[0].length):-1}function I(Q,te,ue){var J=u.exec(te.slice(ue));return J?(Q.w=f.get(J[0].toLowerCase()),ue+J[0].length):-1}function k(Q,te,ue){var J=p.exec(te.slice(ue));return J?(Q.m=x.get(J[0].toLowerCase()),ue+J[0].length):-1}function j(Q,te,ue){var J=y.exec(te.slice(ue));return J?(Q.m=m.get(J[0].toLowerCase()),ue+J[0].length):-1}function F(Q,te,ue){return T(Q,e,te,ue)}function B(Q,te,ue){return T(Q,n,te,ue)}function U(Q,te,ue){return T(Q,r,te,ue)}function H(Q){return o[Q.getDay()]}function R(Q){return s[Q.getDay()]}function L(Q){return l[Q.getMonth()]}function z(Q){return a[Q.getMonth()]}function W(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function q(Q){return o[Q.getUTCDay()]}function ne(Q){return s[Q.getUTCDay()]}function ae(Q){return l[Q.getUTCMonth()]}function se(Q){return a[Q.getUTCMonth()]}function $(Q){return i[+(Q.getUTCHours()>=12)]}function Y(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var te=C(Q+="",_);return te.toString=function(){return Q},te},parse:function(Q){var te=M(Q+="",!1);return te.toString=function(){return Q},te},utcFormat:function(Q){var te=C(Q+="",b);return te.toString=function(){return Q},te},utcParse:function(Q){var te=M(Q+="",!0);return te.toString=function(){return Q},te}}}var h8={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,$3e=/^%/,H3e=/[\\^$*+?|[\]().{}]/g;function Pn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function V3e(t){return t.replace(H3e,"\\$&")}function zy(t){return new RegExp("^(?:"+t.map(V3e).join("|")+")","i")}function $y(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function W3e(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function G3e(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function X3e(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function q3e(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function K3e(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function p8(t,e,n){var r=gi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function m8(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Y3e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z3e(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Q3e(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g8(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function J3e(t,e,n){var r=gi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function v8(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eFe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tFe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nFe(t,e,n){var r=gi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rFe(t,e,n){var r=gi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iFe(t,e,n){var r=$3e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sFe(t,e,n){var r=gi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function oFe(t,e,n){var r=gi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function y8(t,e){return Pn(t.getDate(),e,2)}function aFe(t,e){return Pn(t.getHours(),e,2)}function lFe(t,e){return Pn(t.getHours()%12||12,e,2)}function cFe(t,e){return Pn(1+Mb.count(jc(t),t),e,3)}function qJ(t,e){return Pn(t.getMilliseconds(),e,3)}function uFe(t,e){return qJ(t,e)+"000"}function dFe(t,e){return Pn(t.getMonth()+1,e,2)}function fFe(t,e){return Pn(t.getMinutes(),e,2)}function hFe(t,e){return Pn(t.getSeconds(),e,2)}function pFe(t){var e=t.getDay();return e===0?7:e}function mFe(t,e){return Pn(MT.count(jc(t)-1,t),e,2)}function KJ(t){var e=t.getDay();return e>=4||e===0?Og(t):Og.ceil(t)}function gFe(t,e){return t=KJ(t),Pn(Og.count(jc(t),t)+(jc(t).getDay()===4),e,2)}function vFe(t){return t.getDay()}function yFe(t,e){return Pn(PC.count(jc(t)-1,t),e,2)}function xFe(t,e){return Pn(t.getFullYear()%100,e,2)}function _Fe(t,e){return t=KJ(t),Pn(t.getFullYear()%100,e,2)}function bFe(t,e){return Pn(t.getFullYear()%1e4,e,4)}function wFe(t,e){var n=t.getDay();return t=n>=4||n===0?Og(t):Og.ceil(t),Pn(t.getFullYear()%1e4,e,4)}function SFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pn(e/60|0,"0",2)+Pn(e%60,"0",2)}function x8(t,e){return Pn(t.getUTCDate(),e,2)}function EFe(t,e){return Pn(t.getUTCHours(),e,2)}function CFe(t,e){return Pn(t.getUTCHours()%12||12,e,2)}function MFe(t,e){return Pn(1+CT.count(Fc(t),t),e,3)}function YJ(t,e){return Pn(t.getUTCMilliseconds(),e,3)}function AFe(t,e){return YJ(t,e)+"000"}function TFe(t,e){return Pn(t.getUTCMonth()+1,e,2)}function PFe(t,e){return Pn(t.getUTCMinutes(),e,2)}function NFe(t,e){return Pn(t.getUTCSeconds(),e,2)}function RFe(t){var e=t.getUTCDay();return e===0?7:e}function OFe(t,e){return Pn(AT.count(Fc(t)-1,t),e,2)}function ZJ(t){var e=t.getUTCDay();return e>=4||e===0?Ig(t):Ig.ceil(t)}function IFe(t,e){return t=ZJ(t),Pn(Ig.count(Fc(t),t)+(Fc(t).getUTCDay()===4),e,2)}function kFe(t){return t.getUTCDay()}function DFe(t,e){return Pn(NC.count(Fc(t)-1,t),e,2)}function LFe(t,e){return Pn(t.getUTCFullYear()%100,e,2)}function jFe(t,e){return t=ZJ(t),Pn(t.getUTCFullYear()%100,e,2)}function FFe(t,e){return Pn(t.getUTCFullYear()%1e4,e,4)}function BFe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ig(t):Ig.ceil(t),Pn(t.getUTCFullYear()%1e4,e,4)}function UFe(){return"+0000"}function _8(){return"%"}function b8(t){return+t}function w8(t){return Math.floor(+t/1e3)}var Tp,QJ,JJ;zFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zFe(t){return Tp=z3e(t),QJ=Tp.format,Tp.parse,JJ=Tp.utcFormat,Tp.utcParse,Tp}function $Fe(t){return new Date(t)}function HFe(t){return t instanceof Date?+t:+new Date(+t)}function HF(t,e,n,r,i,s,o,a,l,c){var d=PF(),u=d.invert,f=d.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),m=c("%I %p"),p=c("%a %d"),x=c("%b %d"),_=c("%B"),b=c("%Y");function S(C){return(l(C)<C?g:a(C)<C?v:o(C)<C?y:s(C)<C?m:r(C)<C?i(C)<C?p:x:n(C)<C?_:b)(C)}return d.invert=function(C){return new Date(u(C))},d.domain=function(C){return arguments.length?f(Array.from(C,HFe)):f().map($Fe)},d.ticks=function(C){var M=f();return t(M[0],M[M.length-1],C??10)},d.tickFormat=function(C,M){return M==null?S:c(M)},d.nice=function(C){var M=f();return(!C||typeof C.range!="function")&&(C=e(M[0],M[M.length-1],C??10)),C?f(BJ(M,C)):d},d.copy=function(){return Cb(d,HF(t,e,n,r,i,s,o,a,l,c))},d}function VFe(){return Zo.apply(HF(B3e,U3e,jc,zF,MT,Mb,BF,jF,kf,QJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WFe(){return Zo.apply(HF(j3e,F3e,Fc,$F,AT,CT,UF,FF,kf,JJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function TT(){var t=0,e=1,n,r,i,s,o=rs,a=!1,l;function c(u){return u==null||isNaN(u=+u)?l:o(i===0?.5:(u=(s(u)-n)*i,a?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(o=u,c):o};function d(u){return function(f){var g,v;return arguments.length?([g,v]=f,o=u(g,v),c):[o(0),o(1)]}}return c.range=d(Ac),c.rangeRound=d(TF),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return s=u,n=u(t),r=u(e),i=n===r?0:1/(r-n),c}}function Rd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eee(){var t=Nd(TT()(rs));return t.copy=function(){return Rd(t,eee())},Jc.apply(t,arguments)}function tee(){var t=OF(TT()).domain([1,10]);return t.copy=function(){return Rd(t,tee()).base(t.base())},Jc.apply(t,arguments)}function nee(){var t=IF(TT());return t.copy=function(){return Rd(t,nee()).constant(t.constant())},Jc.apply(t,arguments)}function VF(){var t=kF(TT());return t.copy=function(){return Rd(t,VF()).exponent(t.exponent())},Jc.apply(t,arguments)}function GFe(){return VF.apply(null,arguments).exponent(.5)}function ree(){var t=[],e=rs;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sb(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Mje(t,s/r))},n.copy=function(){return ree(e).domain(t)},Jc.apply(n,arguments)}function PT(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=rs,d,u=!1,f;function g(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(r*y<r*s?a:l),c(u?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),o=d(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(u=!!y,g):u},g.interpolator=function(y){return arguments.length?(c=y,g):c};function v(y){return function(m){var p,x,_;return arguments.length?([p,x,_]=m,c=i3e(y,[p,x,_]),g):[c(0),c(.5),c(1)]}}return g.range=v(Ac),g.rangeRound=v(TF),g.unknown=function(y){return arguments.length?(f=y,g):f},function(y){return d=y,i=y(t),s=y(e),o=y(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function iee(){var t=Nd(PT()(rs));return t.copy=function(){return Rd(t,iee())},Jc.apply(t,arguments)}function see(){var t=OF(PT()).domain([.1,1,10]);return t.copy=function(){return Rd(t,see()).base(t.base())},Jc.apply(t,arguments)}function oee(){var t=IF(PT());return t.copy=function(){return Rd(t,oee()).constant(t.constant())},Jc.apply(t,arguments)}function WF(){var t=kF(PT());return t.copy=function(){return Rd(t,WF()).exponent(t.exponent())},Jc.apply(t,arguments)}function XFe(){return WF.apply(null,arguments).exponent(.5)}const S8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hx,scaleDiverging:iee,scaleDivergingLog:see,scaleDivergingPow:WF,scaleDivergingSqrt:XFe,scaleDivergingSymlog:oee,scaleIdentity:FJ,scaleImplicit:sD,scaleLinear:AC,scaleLog:UJ,scaleOrdinal:CF,scalePoint:H0,scalePow:DF,scaleQuantile:HJ,scaleQuantize:VJ,scaleRadial:$J,scaleSequential:eee,scaleSequentialLog:tee,scaleSequentialPow:VF,scaleSequentialQuantile:ree,scaleSequentialSqrt:GFe,scaleSequentialSymlog:nee,scaleSqrt:A3e,scaleSymlog:zJ,scaleThreshold:WJ,scaleTime:VFe,scaleUtc:WFe,tickFormat:jJ},Symbol.toStringTag,{value:"Module"}));var qFe=Rv;function KFe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!qFe(o):n(o,a)))var a=o,l=s}return l}var NT=KFe;function YFe(t,e){return t>e}var aee=YFe,ZFe=NT,QFe=aee,JFe=Bv;function e4e(t){return t&&t.length?ZFe(t,JFe,QFe):void 0}var t4e=e4e;const Zu=Nn(t4e);function n4e(t,e){return t<e}var lee=n4e,r4e=NT,i4e=lee,s4e=Bv;function o4e(t){return t&&t.length?r4e(t,s4e,i4e):void 0}var a4e=o4e;const RT=Nn(a4e);var l4e=sF,c4e=Bl,u4e=hJ,d4e=Os;function f4e(t,e){var n=d4e(t)?l4e:u4e;return n(t,c4e(e))}var h4e=f4e,p4e=dJ,m4e=h4e;function g4e(t,e){return p4e(m4e(t,e),1)}var v4e=g4e;const y4e=Nn(v4e);var x4e=_F;function _4e(t,e){return x4e(t,e)}var b4e=_4e;const bh=Nn(b4e);var Uv=1e9,w4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XF,cr=!0,Wo="[DecimalError] ",Qf=Wo+"Invalid argument: ",GF=Wo+"Exponent out of range: ",zv=Math.floor,bf=Math.pow,S4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qs,di=1e7,ir=7,cee=9007199254740991,RC=zv(cee/ir),_t={};_t.absoluteValue=_t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_t.comparedTo=_t.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_t.decimalPlaces=_t.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ir;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_t.dividedBy=_t.div=function(t){return Tc(this,new this.constructor(t))};_t.dividedToIntegerBy=_t.idiv=function(t){var e=this,n=e.constructor;return Wn(Tc(e,new n(t),0,1),n.precision)};_t.equals=_t.eq=function(t){return!this.cmp(t)};_t.exponent=function(){return Vr(this)};_t.greaterThan=_t.gt=function(t){return this.cmp(t)>0};_t.greaterThanOrEqualTo=_t.gte=function(t){return this.cmp(t)>=0};_t.isInteger=_t.isint=function(){return this.e>this.d.length-2};_t.isNegative=_t.isneg=function(){return this.s<0};_t.isPositive=_t.ispos=function(){return this.s>0};_t.isZero=function(){return this.s===0};_t.lessThan=_t.lt=function(t){return this.cmp(t)<0};_t.lessThanOrEqualTo=_t.lte=function(t){return this.cmp(t)<1};_t.logarithm=_t.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qs))throw Error(Wo+"NaN");if(n.s<1)throw Error(Wo+(n.s?"NaN":"-Infinity"));return n.eq(Qs)?new r(0):(cr=!1,e=Tc(Xx(n,s),Xx(t,s),s),cr=!0,Wn(e,i))};_t.minus=_t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fee(e,t):uee(e,(t.s=-t.s,t))};_t.modulo=_t.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wo+"NaN");return n.s?(cr=!1,e=Tc(n,t,0,1).times(t),cr=!0,n.minus(e)):Wn(new r(n),i)};_t.naturalExponential=_t.exp=function(){return dee(this)};_t.naturalLogarithm=_t.ln=function(){return Xx(this)};_t.negated=_t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_t.plus=_t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uee(e,t):fee(e,(t.s=-t.s,t))};_t.precision=_t.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qf+t);if(e=Vr(i)+1,r=i.d.length-1,n=r*ir+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_t.squareRoot=_t.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Wo+"NaN")}for(t=Vr(a),cr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=pl(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Tc(a,s,o+2)).times(.5),pl(s.d).slice(0,o)===(e=pl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Wn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return cr=!0,Wn(r,n)};_t.times=_t.mul=function(t){var e,n,r,i,s,o,a,l,c,d=this,u=d.constructor,f=d.d,g=(t=new u(t)).d;if(!d.s||!t.s)return new u(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,c=g.length,l<c&&(s=f,f=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*f[i-r-1]+e,s[i--]=a%di|0,e=a/di|0;s[i]=(s[i]+e)%di|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,cr?Wn(t,u.precision):t};_t.toDecimalPlaces=_t.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ol(t,0,Uv),e===void 0?e=r.rounding:Ol(e,0,8),Wn(n,t+Vr(n)+1,e))};_t.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wh(r,!0):(Ol(t,0,Uv),e===void 0?e=i.rounding:Ol(e,0,8),r=Wn(new i(r),t+1,e),n=wh(r,!0,t+1)),n};_t.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?wh(i):(Ol(t,0,Uv),e===void 0?e=s.rounding:Ol(e,0,8),r=Wn(new s(i),t+Vr(i)+1,e),n=wh(r.abs(),!1,t+Vr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_t.toInteger=_t.toint=function(){var t=this,e=t.constructor;return Wn(new e(t),Vr(t)+1,e.rounding)};_t.toNumber=function(){return+this};_t.toPower=_t.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Qs);if(a=new l(a),!a.s){if(t.s<1)throw Error(Wo+"Infinity");return a}if(a.eq(Qs))return a;if(r=l.precision,t.eq(Qs))return Wn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=d<0?-d:d)<=cee){for(i=new l(Qs),e=Math.ceil(r/ir+4),cr=!1;n%2&&(i=i.times(a),C8(i.d,e)),n=zv(n/2),n!==0;)a=a.times(a),C8(a.d,e);return cr=!0,t.s<0?new l(Qs).div(i):Wn(i,r)}}else if(s<0)throw Error(Wo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,cr=!1,i=t.times(Xx(a,r+c)),cr=!0,i=dee(i),i.s=s,i};_t.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Vr(i),r=wh(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ol(t,1,Uv),e===void 0?e=s.rounding:Ol(e,0,8),i=Wn(new s(i),t,e),n=Vr(i),r=wh(i,t<=n||n<=s.toExpNeg,t)),r};_t.toSignificantDigits=_t.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ol(t,1,Uv),e===void 0?e=r.rounding:Ol(e,0,8)),Wn(new r(n),t,e)};_t.toString=_t.valueOf=_t.val=_t.toJSON=_t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vr(t),n=t.constructor;return wh(t,e<=n.toExpNeg||e>=n.toExpPos)};function uee(t,e){var n,r,i,s,o,a,l,c,d=t.constructor,u=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),cr?Wn(e,u):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(u/ir),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/di|0,l[s]%=di;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,cr?Wn(e,u):e}function Ol(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qf+t)}function pl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=ir-r.length,n&&(s+=Iu(n)),s+=r;o=t[e],r=o+"",n=ir-r.length,n&&(s+=Iu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Tc=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%di|0,o=s/di|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*di+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,d,u,f,g,v,y,m,p,x,_,b,S,C,M,T,P=r.constructor,N=r.s==i.s?1:-1,I=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Wo+"Division by zero");for(l=r.e-i.e,M=k.length,S=I.length,g=new P(N),v=g.d=[],c=0;k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--l,s==null?x=s=P.precision:o?x=s+(Vr(r)-Vr(i))+1:x=s,x<0)return new P(0);if(x=x/ir+2|0,c=0,M==1)for(d=0,k=k[0],x++;(c<S||d)&&x--;c++)_=d*di+(I[c]||0),v[c]=_/k|0,d=_%k|0;else{for(d=di/(k[0]+1)|0,d>1&&(k=t(k,d),I=t(I,d),M=k.length,S=I.length),b=M,y=I.slice(0,M),m=y.length;m<M;)y[m++]=0;T=k.slice(),T.unshift(0),C=k[0],k[1]>=di/2&&++C;do d=0,a=e(k,y,M,m),a<0?(p=y[0],M!=m&&(p=p*di+(y[1]||0)),d=p/C|0,d>1?(d>=di&&(d=di-1),u=t(k,d),f=u.length,m=y.length,a=e(u,y,f,m),a==1&&(d--,n(u,M<f?T:k,f))):(d==0&&(a=d=1),u=k.slice()),f=u.length,f<m&&u.unshift(0),n(y,u,m),a==-1&&(m=y.length,a=e(k,y,M,m),a<1&&(d++,n(y,M<m?T:k,m))),m=y.length):a===0&&(d++,y=[0]),v[c++]=d,a&&y[0]?y[m++]=I[b]||0:(y=[I[b]],m=1);while((b++<S||y[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,Wn(g,o?s+Vr(g)+1:s)}}();function dee(t,e){var n,r,i,s,o,a,l=0,c=0,d=t.constructor,u=d.precision;if(Vr(t)>16)throw Error(GF+Vr(t));if(!t.s)return new d(Qs);for(e==null?(cr=!1,a=u):a=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(bf(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(Qs),d.precision=a;;){if(i=Wn(i.times(t),a),n=n.times(++l),o=s.plus(Tc(i,n,a)),pl(o.d).slice(0,a)===pl(s.d).slice(0,a)){for(;c--;)s=Wn(s.times(s),a);return d.precision=u,e==null?(cr=!0,Wn(s,u)):s}s=o}}function Vr(t){for(var e=t.e*ir,n=t.d[0];n>=10;n/=10)e++;return e}function MR(t,e,n){if(e>t.LN10.sd())throw cr=!0,n&&(t.precision=n),Error(Wo+"LN10 precision limit exceeded");return Wn(new t(t.LN10),e)}function Iu(t){for(var e="";t--;)e+="0";return e}function Xx(t,e){var n,r,i,s,o,a,l,c,d,u=1,f=10,g=t,v=g.d,y=g.constructor,m=y.precision;if(g.s<1)throw Error(Wo+(g.s?"NaN":"-Infinity"));if(g.eq(Qs))return new y(0);if(e==null?(cr=!1,c=m):c=e,g.eq(10))return e==null&&(cr=!0),MR(y,c);if(c+=f,y.precision=c,n=pl(v),r=n.charAt(0),s=Vr(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=pl(g.d),r=n.charAt(0),u++;s=Vr(g),r>1?(g=new y("0."+n),s++):g=new y(r+"."+n.slice(1))}else return l=MR(y,c+2,m).times(s+""),g=Xx(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=m,e==null?(cr=!0,Wn(g,m)):g;for(a=o=g=Tc(g.minus(Qs),g.plus(Qs),c),d=Wn(g.times(g),c),i=3;;){if(o=Wn(o.times(d),c),l=a.plus(Tc(o,new y(i),c)),pl(l.d).slice(0,c)===pl(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(MR(y,c+2,m).times(s+""))),a=Tc(a,new y(u),c),y.precision=m,e==null?(cr=!0,Wn(a,m)):a;a=l,i+=2}}function E8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zv(n/ir),t.d=[],r=(n+1)%ir,n<0&&(r+=ir),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ir;r<i;)t.d.push(+e.slice(r,r+=ir));e=e.slice(r),r=ir-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cr&&(t.e>RC||t.e<-RC))throw Error(GF+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wn(t,e,n){var r,i,s,o,a,l,c,d,u=t.d;for(o=1,s=u[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=ir,i=e,c=u[d=0];else{if(d=Math.ceil((r+1)/ir),s=u.length,d>=s)return t;for(c=s=u[d],o=1;s>=10;s/=10)o++;r%=ir,i=r-ir+o}if(n!==void 0&&(s=bf(10,o-i-1),a=c/s%10|0,l=e<0||u[d+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/bf(10,o-i):0:u[d-1])%10&1||n==(t.s<0?8:7))),e<1||!u[0])return l?(s=Vr(t),u.length=1,e=e-s-1,u[0]=bf(10,(ir-e%ir)%ir),t.e=zv(-e/ir)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(r==0?(u.length=d,s=1,d--):(u.length=d+1,s=bf(10,ir-r),u[d]=i>0?(c/bf(10,o-i)%bf(10,i)|0)*s:0),l)for(;;)if(d==0){(u[0]+=s)==di&&(u[0]=1,++t.e);break}else{if(u[d]+=s,u[d]!=di)break;u[d--]=0,s=1}for(r=u.length;u[--r]===0;)u.pop();if(cr&&(t.e>RC||t.e<-RC))throw Error(GF+Vr(t));return t}function fee(t,e){var n,r,i,s,o,a,l,c,d,u,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),cr?Wn(e,g):e;if(l=t.d,u=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,a=u.length):(n=u,r=c,a=l.length),i=Math.max(Math.ceil(g/ir),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=u.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=u[i]){d=l[i]<u[i];break}o=0}for(d&&(n=l,l=u,u=n,e.s=-e.s),a=l.length,i=u.length-a;i>0;--i)l[a++]=0;for(i=u.length;i>o;){if(l[--i]<u[i]){for(s=i;s&&l[--s]===0;)l[s]=di-1;--l[s],l[i]+=di}l[i]-=u[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,cr?Wn(e,g):e):new f(0)}function wh(t,e,n){var r,i=Vr(t),s=pl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Iu(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Iu(-i-1)+s,n&&(r=n-o)>0&&(s+=Iu(r))):i>=o?(s+=Iu(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Iu(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Iu(r))),t.s<0?"-"+s:s}function C8(t,e){if(t.length>e)return t.length=e,!0}function hee(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return E8(o,s.toString())}else if(typeof s!="string")throw Error(Qf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,S4e.test(s))E8(o,s);else throw Error(Qf+s)}if(i.prototype=_t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hee,i.config=i.set=E4e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function E4e(t){if(!t||typeof t!="object")throw Error(Wo+"Object expected");var e,n,r,i=["precision",1,Uv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qf+n+": "+r);return this}var XF=hee(w4e);Qs=new XF(1);const $n=XF;function C4e(t){return P4e(t)||T4e(t)||A4e(t)||M4e()}function M4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A4e(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function T4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function P4e(t){if(Array.isArray(t))return uD(t)}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N4e=function(e){return e},pee={"@@functional/placeholder":!0},mee=function(e){return e===pee},M8=function(e){return function n(){return arguments.length===0||arguments.length===1&&mee(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},R4e=function t(e,n){return e===1?n:M8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==pee}).length;return o>=e?n.apply(void 0,i):t(e-o,M8(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(u){return mee(u)?l.shift():u});return n.apply(void 0,C4e(d).concat(l))}))})},OT=function(e){return R4e(e.length,e)},dD=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},O4e=OT(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),I4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return N4e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},fD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gee=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function k4e(t){var e;return t===0?e=1:e=Math.floor(new $n(t).abs().log(10).toNumber())+1,e}function D4e(t,e,n){for(var r=new $n(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var L4e=OT(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),j4e=OT(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),F4e=OT(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const IT={rangeStep:D4e,getDigitCount:k4e,interpolateNumber:L4e,uninterpolateNumber:j4e,uninterpolateTruncation:F4e};function hD(t){return z4e(t)||U4e(t)||vee(t)||B4e()}function B4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function z4e(t){if(Array.isArray(t))return pD(t)}function qx(t,e){return V4e(t)||H4e(t,e)||vee(t,e)||$4e()}function $4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function V4e(t){if(Array.isArray(t))return t}function yee(t){var e=qx(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function xee(t,e,n){if(t.lte(0))return new $n(0);var r=IT.getDigitCount(t.toNumber()),i=new $n(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new $n(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new $n(Math.ceil(l))}function W4e(t,e,n){var r=1,i=new $n(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new $n(10).pow(IT.getDigitCount(t)-1),i=new $n(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new $n(Math.floor(t)))}else t===0?i=new $n(Math.floor((e-1)/2)):n||(i=new $n(Math.floor(t)));var o=Math.floor((e-1)/2),a=I4e(O4e(function(l){return i.add(new $n(l-o).mul(r)).toNumber()}),dD);return a(0,e)}function _ee(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $n(0),tickMin:new $n(0),tickMax:new $n(0)};var s=xee(new $n(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new $n(0):(o=new $n(t).add(e).div(2),o=o.sub(new $n(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new $n(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?_ee(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new $n(a).mul(s)),tickMax:o.add(new $n(l).mul(s))})}function G4e(t){var e=qx(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=yee([n,r]),l=qx(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var u=d===1/0?[c].concat(hD(dD(0,i-1).map(function(){return 1/0}))):[].concat(hD(dD(0,i-1).map(function(){return-1/0})),[d]);return n>r?fD(u):u}if(c===d)return W4e(c,i,s);var f=_ee(c,d,o,s),g=f.step,v=f.tickMin,y=f.tickMax,m=IT.rangeStep(v,y.add(new $n(.1).mul(g)),g);return n>r?fD(m):m}function X4e(t,e){var n=qx(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yee([r,i]),a=qx(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),u=xee(new $n(c).sub(l).div(d-1),s,0),f=[].concat(hD(IT.rangeStep(new $n(l),new $n(c).sub(new $n(.99).mul(u)),u)),[c]);return r>i?fD(f):f}var q4e=gee(G4e),K4e=gee(X4e),Y4e="Invariant failed";function Sh(t,e){throw new Error(Y4e)}var Z4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function Q4e(t,e){return nBe(t)||tBe(t,e)||eBe(t,e)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(t,e){if(t){if(typeof t=="string")return A8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A8(t,e)}}function A8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function nBe(t){if(Array.isArray(t))return t}function rBe(t,e){if(t==null)return{};var n=iBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,See(r.key),r)}}function aBe(t,e,n){return e&&oBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lBe(t,e,n){return e=IC(e),cBe(t,bee()?Reflect.construct(e,n||[],IC(t).constructor):e.apply(t,n))}function cBe(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uBe(t)}function uBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bee=function(){return!!t})()}function IC(t){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IC(t)}function dBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mD(t,e)}function mD(t,e){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mD(t,e)}function wee(t,e,n){return e=See(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=fBe(t,"string");return kg(e)=="symbol"?e:e+""}function fBe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ab=function(t){function e(){return sBe(this,e),lBe(this,e,arguments)}return dBe(e,t),aBe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,u=r.yAxis,f=rBe(r,Z4e),g=Pt(f,!1);this.props.direction==="x"&&d.type!=="number"&&Sh();var v=l.map(function(y){var m=c(y,a),p=m.x,x=m.y,_=m.value,b=m.errorVal;if(!b)return null;var S=[],C,M;if(Array.isArray(b)){var T=Q4e(b,2);C=T[0],M=T[1]}else C=M=b;if(s==="vertical"){var P=d.scale,N=x+i,I=N+o,k=N-o,j=P(_-C),F=P(_+M);S.push({x1:F,y1:I,x2:F,y2:k}),S.push({x1:j,y1:N,x2:F,y2:N}),S.push({x1:j,y1:I,x2:j,y2:k})}else if(s==="horizontal"){var B=u.scale,U=p+i,H=U-o,R=U+o,L=B(_-C),z=B(_+M);S.push({x1:H,y1:z,x2:R,y2:z}),S.push({x1:U,y1:L,x2:U,y2:z}),S.push({x1:H,y1:L,x2:R,y2:L})}return ee.createElement(fn,OC({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),S.map(function(W){return ee.createElement("line",OC({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ee.createElement(fn,{className:"recharts-errorBars"},v)}}])}(ee.Component);wee(Ab,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wee(Ab,"displayName","ErrorBar");function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){hBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hBe(t,e,n){return e=pBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pBe(t){var e=mBe(t,"string");return Kx(e)=="symbol"?e:e+""}function mBe(t,e){if(Kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eee=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=qs(n,Yf);if(!o)return null;var a=Yf.defaultProps,l=a!==void 0?Yd(Yd({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(d,u){var f=u.item,g=u.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(d){var u=d.item,f=u.type.defaultProps,g=f!==void 0?Yd(Yd({},f),u.props):{},v=g.dataKey,y=g.name,m=g.legendType,p=g.hide;return{inactive:p,dataKey:v,type:l.iconType||m||"square",color:qF(u),value:y||v,payload:g}}),Yd(Yd(Yd({},l),Yf.getWithHeight(o,i)),{},{payload:c,item:o})};function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(t)}function P8(t){return xBe(t)||yBe(t)||vBe(t)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(t,e){if(t){if(typeof t=="string")return gD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(t,e)}}function yBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xBe(t){if(Array.isArray(t))return gD(t)}function gD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xm(t,e,n){return e=_Be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Be(t){var e=bBe(t,"string");return Yx(e)=="symbol"?e:e+""}function bBe(t,e){if(Yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rr(t,e,n){return Xt(t)||Xt(e)?n:ti(e)?io(t,e,n):zt(e)?e(t):n}function V0(t,e,n,r){var i=y4e(t,function(a){return Rr(a,e)});if(n==="number"){var s=i.filter(function(a){return et(a)||parseFloat(a)});return s.length?[RT(s),Zu(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Xt(a)}):i;return o.map(function(a){return ti(a)||a instanceof Date?a:""})}var wBe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,u=i[c].coordinate,f=c>=a-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(ts(u-d)!==ts(f-u)){var v=[];if(ts(f-u)===ts(l[1]-l[0])){g=f;var y=u+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var m=f+l[1]-l[0];v[0]=Math.min(u,(m+u)/2),v[1]=Math.max(u,(m+u)/2)}var p=[Math.min(u,(g+u)/2),Math.max(u,(g+u)/2)];if(e>p[0]&&e<=p[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var x=Math.min(d,f),_=Math.max(d,f);if(e>(x+u)/2&&e<=(_+u)/2){o=i[c].index;break}}}else for(var b=0;b<a;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},qF=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},SBe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var d=s[a[l]].stackGroups,u=Object.keys(d),f=0,g=u.length;f<g;f++){var v=d[u[f]],y=v.items,m=v.cateAxisId,p=y.filter(function(M){return Mc(M.type).indexOf("Bar")>=0});if(p&&p.length){var x=p[0].type.defaultProps,_=x!==void 0?Mr(Mr({},x),p[0].props):p[0].props,b=_.barSize,S=_[m];o[S]||(o[S]=[]);var C=Xt(b)?n:b;o[S].push({item:p[0],stackList:p.slice(1),barSize:Xt(C)?void 0:ns(C,r,0)})}}return o},EBe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=ns(n,i,0,!0),d,u=[];if(o[0].barSize===+o[0].barSize){var f=!1,g=i/l,v=o.reduce(function(b,S){return b+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&g>0&&(f=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,m={offset:y-c,size:0};d=o.reduce(function(b,S){var C={item:S.item,position:{offset:m.offset+m.size+c,size:f?g:S.barSize}},M=[].concat(P8(b),[C]);return m=M[M.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){M.push({item:T,position:m})}),M},u)}else{var p=ns(r,i,0,!0);i-2*p-(l-1)*c<=0&&(c=0);var x=(i-2*p-(l-1)*c)/l;x>1&&(x>>=0);var _=a===+a?Math.min(x,a):x;d=o.reduce(function(b,S,C){var M=[].concat(P8(b),[{item:S.item,position:{offset:p+(x+c)*C+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){M.push({item:T,position:M[M.length-1].position})}),M},u)}return d},CBe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=Eee({children:s,legendWidth:l});if(c){var d=i||{},u=d.width,f=d.height,g=c.align,v=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&et(e[g]))return Mr(Mr({},e),{},Xm({},g,e[g]+(u||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&et(e[v]))return Mr(Mr({},e),{},Xm({},v,e[v]+(f||0)))}return e},MBe=function(e,n,r){return Xt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Cee=function(e,n,r,i,s){var o=n.props.children,a=so(o,Ab).filter(function(c){return MBe(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var u=Rr(d,r);if(Xt(u))return c;var f=Array.isArray(u)?[RT(u),Zu(u)]:[u,u],g=l.reduce(function(v,y){var m=Rr(d,y,0),p=f[0]-Math.abs(Array.isArray(m)?m[0]:m),x=f[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},ABe=function(e,n,r,i,s){var o=n.map(function(a){return Cee(e,a,r,s,i)}).filter(function(a){return!Xt(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Mee=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Cee(e,l,c,i)||V0(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var d=0,u=c.length;d<u;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},Aee=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Tee=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Sc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ts(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(u){var f=s?s.indexOf(u):u;return{coordinate:i(f)+c,value:u,offset:c}});return d.filter(function(u){return!Lv(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,f){return{coordinate:i(u)+c,value:u,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(u){return{coordinate:i(u)+c,value:u,offset:c}}):i.domain().map(function(u,f){return{coordinate:i(u)+c,value:s?s[u]:u,index:f,offset:c}})},AR=new WeakMap,D1=function(e,n){if(typeof n!="function")return e;AR.has(e)||AR.set(e,new WeakMap);var r=AR.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Pee=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Hx(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:AC(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:H0(),realScaleType:"point"}:s==="category"?{scale:Hx(),realScaleType:"band"}:{scale:AC(),realScaleType:"linear"};if(bb(i)){var l="scale".concat(gT(i));return{scale:(S8[l]||H0)(),realScaleType:S8[l]?l:"point"}}return zt(i)?{scale:i}:{scale:H0(),realScaleType:"point"}},R8=1e-4,Nee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-R8,o=Math.max(i[0],i[1])+R8,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},TBe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},PBe=function(e,n){if(!n||n.length!==2||!et(n[0])||!et(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!et(e[0])||e[0]<r)&&(s[0]=r),(!et(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},NBe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=Lv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},RBe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=Lv(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},OBe={sign:NBe,expand:WTe,none:Mg,silhouette:GTe,wiggle:XTe,positive:RBe},IBe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=OBe[r],o=VTe().keys(i).value(function(a,l){return+Rr(a,l,0)}).order(Uk).offset(s);return o(e)},kBe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(u,f){var g,v=(g=f.type)!==null&&g!==void 0&&g.defaultProps?Mr(Mr({},f.type.defaultProps),f.props):f.props,y=v.stackId,m=v.hide;if(m)return u;var p=v[r],x=u[p]||{hasStack:!1,stackGroups:{}};if(ti(y)){var _=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(f),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[Hh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Mr(Mr({},u),{},Xm({},p,x))},l),d={};return Object.keys(c).reduce(function(u,f){var g=c[f];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,m){var p=g.stackGroups[m];return Mr(Mr({},y),{},Xm({},m,{numericAxisId:r,cateAxisId:i,items:p.items,stackedData:IBe(e,p.items,s)}))},v)}return Mr(Mr({},u),{},Xm({},f,g))},d)},Ree=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=q4e(c,s,a);return e.domain([RT(d),Zu(d)]),{niceTicks:d}}if(s&&i==="number"){var u=e.domain(),f=K4e(u,s,a);return{niceTicks:f}}return null};function kC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xt(i[e.dataKey])){var a=oC(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Rr(i,Xt(o)?e.dataKey:o);return Xt(l)?null:e.scale(l)}var O8=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Rr(o,n.dataKey,n.domain[a]);return Xt(l)?null:n.scale(l)-s/2+i},DBe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},LBe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ti(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},jBe=function(e){return e.reduce(function(n,r){return[RT(r.concat([n[0]]).filter(et)),Zu(r.concat([n[1]]).filter(et))]},[1/0,-1/0])},Oee=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,d){var u=jBe(d.slice(n,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},I8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vD=function(e,n,r){if(zt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(et(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(I8.test(e[0])){var s=+I8.exec(e[0])[1];i[0]=n[0]-s}else zt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(et(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(k8.test(e[1])){var o=+k8.exec(e[1])[1];i[1]=n[1]+o}else zt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},DC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=wF(n,function(u){return u.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],d=s[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},D8=function(e,n,r){return!e||!e.length||bh(e,io(r,"type.defaultProps.domain"))?n:e},Iee=function(e,n){var r=e.type.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Mr(Mr({},Pt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:qF(e),value:Rr(n,i),type:l,payload:n,chartType:c,hide:d})};function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(t)}function L8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return e=FBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FBe(t){var e=BBe(t,"string");return Zx(e)=="symbol"?e:e+""}function BBe(t,e){if(Zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UBe(t,e){return VBe(t)||HBe(t,e)||$Be(t,e)||zBe()}function zBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(t,e){if(t){if(typeof t=="string")return j8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j8(t,e)}}function j8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function VBe(t){if(Array.isArray(t))return t}var LC=Math.PI/180,WBe=function(e){return e*180/Math.PI},Zn=function(e,n,r,i){return{x:e+Math.cos(-LC*i)*r,y:n+Math.sin(-LC*i)*r}},Dee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GBe=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,d=ns(e.cx,o,o/2),u=ns(e.cy,a,a/2),f=Dee(o,a,r),g=ns(e.innerRadius,f,0),v=ns(e.outerRadius,f,f*.8),y=Object.keys(n);return y.reduce(function(m,p){var x=n[p],_=x.domain,b=x.reversed,S;if(Xt(x.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[g,v]),b&&(S=[S[1],S[0]]);else{S=x.range;var C=S,M=UBe(C,2);l=M[0],c=M[1]}var T=Pee(x,s),P=T.realScaleType,N=T.scale;N.domain(_).range(S),Nee(N);var I=Ree(N,hc(hc({},x),{},{realScaleType:P})),k=hc(hc(hc({},x),I),{},{range:S,radius:v,realScaleType:P,scale:N,cx:d,cy:u,innerRadius:g,outerRadius:v,startAngle:l,endAngle:c});return hc(hc({},m),{},kee({},p,k))},{})},XBe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},qBe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=XBe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:WBe(c),angleInRadian:c}},KBe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},YBe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},F8=function(e,n){var r=e.x,i=e.y,s=qBe({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=KBe(n),u=d.startAngle,f=d.endAngle,g=a,v;if(u<=f){for(;g>f;)g-=360;for(;g<u;)g+=360;v=g>=u&&g<=f}else{for(;g>u;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=u}return v?hc(hc({},n),{},{radius:o,angle:YBe(g,n)}):null},Lee=function(e){return!A.isValidElement(e)&&!zt(e)&&typeof e!="boolean"?e.className:""};function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}var ZBe=["offset"];function QBe(t){return n5e(t)||t5e(t)||e5e(t)||JBe()}function JBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function t5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n5e(t){if(Array.isArray(t))return yD(t)}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r5e(t,e){if(t==null)return{};var n=i5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(n),!0).forEach(function(r){s5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5e(t,e,n){return e=o5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5e(t){var e=a5e(t,"string");return Qx(e)=="symbol"?e:e+""}function a5e(t,e){if(Qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}var l5e=function(e){var n=e.value,r=e.formatter,i=Xt(e.children)?n:e.children;return zt(r)?r(i):i},c5e=function(e,n){var r=ts(n-e),i=Math.min(Math.abs(n-e),360);return r*i},u5e=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,d=l.cy,u=l.innerRadius,f=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,m=(u+f)/2,p=c5e(g,v),x=p>=0?1:-1,_,b;i==="insideStart"?(_=g+x*o,b=y):i==="insideEnd"?(_=v-x*o,b=!y):i==="end"&&(_=v+x*o,b=y),b=p<=0?b:!b;var S=Zn(c,d,m,_),C=Zn(c,d,m,_+(b?1:-1)*359),M="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Xt(e.id)?Hh("recharts-radial-line-"):e.id;return ee.createElement("text",Jx({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",a)}),ee.createElement("defs",null,ee.createElement("path",{id:T,d:M})),ee.createElement("textPath",{xlinkHref:"#".concat(T)},n))},d5e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,u=s.endAngle,f=(d+u)/2;if(i==="outside"){var g=Zn(o,a,c+r,f),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(l+c)/2,p=Zn(o,a,m,f),x=p.x,_=p.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},f5e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,d=o.height,u=d>=0?1:-1,f=u*i,g=u>0?"end":"start",v=u>0?"start":"end",y=c>=0?1:-1,m=y*i,p=y>0?"end":"start",x=y>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-u*i,textAnchor:"middle",verticalAnchor:g};return Xr(Xr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var b={x:a+c/2,y:l+d+f,textAnchor:"middle",verticalAnchor:v};return Xr(Xr({},b),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var S={x:a-m,y:l+d/2,textAnchor:p,verticalAnchor:"middle"};return Xr(Xr({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(s==="right"){var C={x:a+c+m,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Xr(Xr({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var M=r?{width:c,height:d}:{};return s==="insideLeft"?Xr({x:a+m,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},M):s==="insideRight"?Xr({x:a+c-m,y:l+d/2,textAnchor:p,verticalAnchor:"middle"},M):s==="insideTop"?Xr({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:v},M):s==="insideBottom"?Xr({x:a+c/2,y:l+d-f,textAnchor:"middle",verticalAnchor:g},M):s==="insideTopLeft"?Xr({x:a+m,y:l+f,textAnchor:x,verticalAnchor:v},M):s==="insideTopRight"?Xr({x:a+c-m,y:l+f,textAnchor:p,verticalAnchor:v},M):s==="insideBottomLeft"?Xr({x:a+m,y:l+d-f,textAnchor:x,verticalAnchor:g},M):s==="insideBottomRight"?Xr({x:a+c-m,y:l+d-f,textAnchor:p,verticalAnchor:g},M):Ov(s)&&(et(s.x)||Of(s.x))&&(et(s.y)||Of(s.y))?Xr({x:a+ns(s.x,c),y:l+ns(s.y,d),textAnchor:"end",verticalAnchor:"end"},M):Xr({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},h5e=function(e){return"cx"in e&&et(e.cx)};function pi(t){var e=t.offset,n=e===void 0?5:e,r=r5e(t,ZBe),i=Xr({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,d=i.className,u=d===void 0?"":d,f=i.textBreakAll;if(!s||Xt(a)&&Xt(l)&&!A.isValidElement(c)&&!zt(c))return null;if(A.isValidElement(c))return A.cloneElement(c,i);var g;if(zt(c)){if(g=A.createElement(c,i),A.isValidElement(g))return g}else g=l5e(i);var v=h5e(s),y=Pt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return u5e(i,g,y);var m=v?d5e(i):f5e(i);return ee.createElement(xh,Jx({className:Yt("recharts-label",u)},y,m,{breakAll:f}),g)}pi.displayName="Label";var jee=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,u=e.x,f=e.y,g=e.top,v=e.left,y=e.width,m=e.height,p=e.clockWise,x=e.labelViewBox;if(x)return x;if(et(y)&&et(m)){if(et(u)&&et(f))return{x:u,y:f,width:y,height:m};if(et(g)&&et(v))return{x:g,y:v,width:y,height:m}}return et(u)&&et(f)?{x:u,y:f,width:0,height:0}:et(n)&&et(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:p}:e.viewBox?e.viewBox:{}},p5e=function(e,n){return e?e===!0?ee.createElement(pi,{key:"label-implicit",viewBox:n}):ti(e)?ee.createElement(pi,{key:"label-implicit",viewBox:n,value:e}):A.isValidElement(e)?e.type===pi?A.cloneElement(e,{key:"label-implicit",viewBox:n}):ee.createElement(pi,{key:"label-implicit",content:e,viewBox:n}):zt(e)?ee.createElement(pi,{key:"label-implicit",content:e,viewBox:n}):Ov(e)?ee.createElement(pi,Jx({viewBox:n},e,{key:"label-implicit"})):null:null},m5e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=jee(e),o=so(i,pi).map(function(l,c){return A.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=p5e(e.label,n||s);return[a].concat(QBe(o))};pi.parseViewBox=jee;pi.renderCallByParent=m5e;function g5e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var v5e=g5e;const y5e=Nn(v5e);function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var x5e=["valueAccessor"],_5e=["data","dataKey","clockWise","id","textBreakAll"];function b5e(t){return C5e(t)||E5e(t)||S5e(t)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5e(t,e){if(t){if(typeof t=="string")return xD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(t,e)}}function E5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C5e(t){if(Array.isArray(t))return xD(t)}function xD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(this,arguments)}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){M5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M5e(t,e,n){return e=A5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5e(t){var e=T5e(t,"string");return e_(e)=="symbol"?e:e+""}function T5e(t,e){if(e_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(e_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $8(t,e){if(t==null)return{};var n=P5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var N5e=function(e){return Array.isArray(e.value)?y5e(e.value):e.value};function Sl(t){var e=t.valueAccessor,n=e===void 0?N5e:e,r=$8(t,x5e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=$8(r,_5e);return!i||!i.length?null:ee.createElement(fn,{className:"recharts-label-list"},i.map(function(d,u){var f=Xt(s)?n(d,u):Rr(d&&d.payload,s),g=Xt(a)?{}:{id:"".concat(a,"-").concat(u)};return ee.createElement(pi,jC({},Pt(d,!0),c,g,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:pi.parseViewBox(Xt(o)?d:z8(z8({},d),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}Sl.displayName="LabelList";function R5e(t,e){return t?t===!0?ee.createElement(Sl,{key:"labelList-implicit",data:e}):ee.isValidElement(t)||zt(t)?ee.createElement(Sl,{key:"labelList-implicit",data:e,content:t}):Ov(t)?ee.createElement(Sl,jC({data:e},t,{key:"labelList-implicit"})):null:null}function O5e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=so(r,Sl).map(function(o,a){return A.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=R5e(t.label,e);return[s].concat(b5e(i))}Sl.renderCallByParent=O5e;function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}function _D(){return _D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_D.apply(this,arguments)}function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){I5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I5e(t,e,n){return e=k5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5e(t){var e=D5e(t,"string");return t_(e)=="symbol"?e:e+""}function D5e(t,e){if(t_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(t_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L5e=function(e,n){var r=ts(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},L1=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,u=Math.asin(l/d)/LC,f=c?s:s+o*u,g=Zn(n,r,d,f),v=Zn(n,r,i,f),y=c?s-o*u:s,m=Zn(n,r,d*Math.cos(u*LC),y);return{center:g,circleTangency:v,lineTangency:m,theta:u}},Fee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=L5e(o,a),c=o+l,d=Zn(n,r,s,o),u=Zn(n,r,s,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var g=Zn(n,r,i,o),v=Zn(n,r,i,c);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},j5e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,u=ts(d-c),f=L1({cx:n,cy:r,radius:s,angle:c,sign:u,cornerRadius:o,cornerIsExternal:l}),g=f.circleTangency,v=f.lineTangency,y=f.theta,m=L1({cx:n,cy:r,radius:s,angle:d,sign:-u,cornerRadius:o,cornerIsExternal:l}),p=m.circleTangency,x=m.lineTangency,_=m.theta,b=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(b<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Fee({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=L1({cx:n,cy:r,radius:i,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=C.circleTangency,T=C.lineTangency,P=C.theta,N=L1({cx:n,cy:r,radius:i,angle:d,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=N.circleTangency,k=N.lineTangency,j=N.theta,F=l?Math.abs(c-d):Math.abs(c-d)-P-j;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(u>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},F5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bee=function(e){var n=V8(V8({},F5e),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,f=n.className;if(o<s||d===u)return null;var g=Yt("recharts-sector",f),v=o-s,y=ns(a,v,0,!0),m;return y>0&&Math.abs(d-u)<360?m=j5e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):m=Fee({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:u}),ee.createElement("path",_D({},Pt(n,!0),{className:g,d:m,role:"img"}))};function n_(t){"@babel/helpers - typeof";return n_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(t)}function bD(){return bD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bD.apply(this,arguments)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){B5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B5e(t,e,n){return e=U5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5e(t){var e=z5e(t,"string");return n_(e)=="symbol"?e:e+""}function z5e(t,e){if(n_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(n_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X8={curveBasisClosed:ITe,curveBasisOpen:kTe,curveBasis:OTe,curveBumpX:yTe,curveBumpY:xTe,curveLinearClosed:DTe,curveLinear:yT,curveMonotoneX:LTe,curveMonotoneY:jTe,curveNatural:FTe,curveStep:BTe,curveStepAfter:zTe,curveStepBefore:UTe},j1=function(e){return e.x===+e.x&&e.y===+e.y},Hy=function(e){return e.x},Vy=function(e){return e.y},$5e=function(e,n){if(zt(e))return e;var r="curve".concat(gT(e));return(r==="curveMonotone"||r==="curveBump")&&n?X8["".concat(r).concat(n==="vertical"?"Y":"X")]:X8[r]||yT},H5e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=$5e(r,a),u=c?s.filter(function(y){return j1(y)}):s,f;if(Array.isArray(o)){var g=c?o.filter(function(y){return j1(y)}):o,v=u.map(function(y,m){return G8(G8({},y),{},{base:g[m]})});return a==="vertical"?f=M1().y(Vy).x1(Hy).x0(function(y){return y.base.x}):f=M1().x(Hy).y1(Vy).y0(function(y){return y.base.y}),f.defined(j1).curve(d),f(v)}return a==="vertical"&&et(o)?f=M1().y(Vy).x1(Hy).x0(o):et(o)?f=M1().x(Hy).y1(Vy).y0(o):f=NQ().x(Hy).y(Vy),f.defined(j1).curve(d),f(u)},Jf=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?H5e(e):i;return ee.createElement("path",bD({},Pt(e,!1),aC(e),{className:Yt("recharts-curve",n),d:o,ref:s}))},Uee={exports:{}},V5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W5e=V5e,G5e=W5e;function zee(){}function $ee(){}$ee.resetWarningCache=zee;var X5e=function(){function t(r,i,s,o,a,l){if(l!==G5e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$ee,resetWarningCache:zee};return n.PropTypes=n,n};Uee.exports=X5e();var q5e=Uee.exports;const In=Nn(q5e);var K5e=Object.getOwnPropertyNames,Y5e=Object.getOwnPropertySymbols,Z5e=Object.prototype.hasOwnProperty;function q8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function F1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function K8(t){return K5e(t).concat(Y5e(t))}var Q5e=Object.hasOwn||function(t,e){return Z5e.call(t,e)};function Gh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var J5e="__v",eUe="__o",tUe="_owner",Y8=Object.getOwnPropertyDescriptor,Z8=Object.keys;function nUe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function rUe(t,e){return Gh(t.getTime(),e.getTime())}function iUe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sUe(t,e){return t===e}function Q8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),d=!1,u=0;(a=c.next())&&!a.done;){if(i[u]){u++;continue}var f=o.value,g=a.value;if(n.equals(f[0],g[0],l,u,t,e,n)&&n.equals(f[1],g[1],f[0],g[0],t,e,n)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var oUe=Gh;function aUe(t,e,n){var r=Z8(t),i=r.length;if(Z8(e).length!==i)return!1;for(;i-- >0;)if(!Hee(t,e,n,r[i]))return!1;return!0}function Wy(t,e,n){var r=K8(t),i=r.length;if(K8(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!Hee(t,e,n,s)||(o=Y8(t,s),a=Y8(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function lUe(t,e){return Gh(t.valueOf(),e.valueOf())}function cUe(t,e){return t.source===e.source&&t.flags===e.flags}function J8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function uUe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function dUe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Hee(t,e,n,r){return(r===tUe||r===eUe||r===J5e)&&(t.$$typeof||e.$$typeof)?!0:Q5e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var fUe="[object Arguments]",hUe="[object Boolean]",pUe="[object Date]",mUe="[object Error]",gUe="[object Map]",vUe="[object Number]",yUe="[object Object]",xUe="[object RegExp]",_Ue="[object Set]",bUe="[object String]",wUe="[object URL]",SUe=Array.isArray,eV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tV=Object.assign,EUe=Object.prototype.toString.call.bind(Object.prototype.toString);function CUe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,u=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,y,m){if(v===y)return!0;if(v==null||y==null)return!1;var p=typeof v;if(p!==typeof y)return!1;if(p!=="object")return p==="number"?o(v,y,m):p==="function"?i(v,y,m):!1;var x=v.constructor;if(x!==y.constructor)return!1;if(x===Object)return a(v,y,m);if(SUe(v))return e(v,y,m);if(eV!=null&&eV(v))return u(v,y,m);if(x===Date)return n(v,y,m);if(x===RegExp)return c(v,y,m);if(x===Map)return s(v,y,m);if(x===Set)return d(v,y,m);var _=EUe(v);return _===pUe?n(v,y,m):_===xUe?c(v,y,m):_===gUe?s(v,y,m):_===_Ue?d(v,y,m):_===yUe?typeof v.then!="function"&&typeof y.then!="function"&&a(v,y,m):_===wUe?f(v,y,m):_===mUe?r(v,y,m):_===fUe?a(v,y,m):_===hUe||_===vUe||_===bUe?l(v,y,m):!1}}function MUe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Wy:nUe,areDatesEqual:rUe,areErrorsEqual:iUe,areFunctionsEqual:sUe,areMapsEqual:r?q8(Q8,Wy):Q8,areNumbersEqual:oUe,areObjectsEqual:r?Wy:aUe,arePrimitiveWrappersEqual:lUe,areRegExpsEqual:cUe,areSetsEqual:r?q8(J8,Wy):J8,areTypedArraysEqual:r?Wy:uUe,areUrlsEqual:dUe};if(n&&(i=tV({},i,n(i))),e){var s=F1(i.areArraysEqual),o=F1(i.areMapsEqual),a=F1(i.areObjectsEqual),l=F1(i.areSetsEqual);i=tV({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function AUe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function TUe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),u=d.cache,f=u===void 0?e?new WeakMap:void 0:u,g=d.meta;return n(l,c,{cache:f,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var PUe=Od();Od({strict:!0});Od({circular:!0});Od({circular:!0,strict:!0});Od({createInternalComparator:function(){return Gh}});Od({strict:!0,createInternalComparator:function(){return Gh}});Od({circular:!0,createInternalComparator:function(){return Gh}});Od({circular:!0,createInternalComparator:function(){return Gh},strict:!0});function Od(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=MUe(t),l=CUe(a),c=r?r(l):AUe(l);return TUe({circular:n,comparator:l,createState:i,equals:c,strict:o})}function NUe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function nV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):NUe(i)};requestAnimationFrame(r)}function wD(t){"@babel/helpers - typeof";return wD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wD(t)}function RUe(t){return DUe(t)||kUe(t)||IUe(t)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IUe(t,e){if(t){if(typeof t=="string")return rV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rV(t,e)}}function rV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DUe(t){if(Array.isArray(t))return t}function LUe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=RUe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){nV(i.bind(null,c),l);return}i(l),nV(i.bind(null,c));return}wD(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function r_(t){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(t)}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return e=jUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jUe(t){var e=FUe(t,"string");return r_(e)==="symbol"?e:String(e)}function FUe(t,e){if(r_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(r_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BUe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},UUe=function(e){return e},zUe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},W0=function(e,n){return Object.keys(n).reduce(function(r,i){return sV(sV({},r),{},Vee({},i,e(i,n[i])))},{})},oV=function(e,n,r){return e.map(function(i){return"".concat(zUe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $Ue(t,e){return WUe(t)||VUe(t,e)||Wee(t,e)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function WUe(t){if(Array.isArray(t))return t}function GUe(t){return KUe(t)||qUe(t)||Wee(t)||XUe()}function XUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function qUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KUe(t){if(Array.isArray(t))return SD(t)}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FC=1e-4,Gee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Xee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},aV=function(e,n){return function(r){var i=Gee(e,n);return Xee(i,r)}},YUe=function(e,n){return function(r){var i=Gee(e,n),s=[].concat(GUe(i.map(function(o,a){return o*a}).slice(1)),[0]);return Xee(s,r)}},lV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=$Ue(c,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var u=aV(i,o),f=aV(s,a),g=YUe(i,o),v=function(p){return p>1?1:p<0?0:p},y=function(p){for(var x=p>1?1:p,_=x,b=0;b<8;++b){var S=u(_)-x,C=g(_);if(Math.abs(S-x)<FC||C<FC)return f(_);_=v(_-S/C)}return f(_)};return y.isStepper=!1,y},ZUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(d,u,f){var g=-(d-u)*r,v=f*s,y=f+(g-v)*a/1e3,m=f*a/1e3+d;return Math.abs(m-u)<FC&&Math.abs(y)<FC?[u,0]:[m,y]};return l.isStepper=!0,l.dt=a,l},QUe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lV(i);case"spring":return ZUe();default:if(i.split("(")[0]==="cubic-bezier")return lV(i)}return typeof i=="function"?i:null};function i_(t){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(t)}function cV(t){return tze(t)||eze(t)||qee(t)||JUe()}function JUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tze(t){if(Array.isArray(t))return CD(t)}function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){ED(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ED(t,e,n){return e=nze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nze(t){var e=rze(t,"string");return i_(e)==="symbol"?e:String(e)}function rze(t,e){if(i_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(i_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ize(t,e){return aze(t)||oze(t,e)||qee(t,e)||sze()}function sze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(t,e){if(t){if(typeof t=="string")return CD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CD(t,e)}}function CD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function aze(t){if(Array.isArray(t))return t}var BC=function(e,n,r){return e+(n-e)*r},MD=function(e){var n=e.from,r=e.to;return n!==r},lze=function t(e,n,r){var i=W0(function(s,o){if(MD(o)){var a=e(o.from,o.to,o.velocity),l=ize(a,2),c=l[0],d=l[1];return yi(yi({},o),{},{from:c,velocity:d})}return o},n);return r<1?W0(function(s,o){return MD(o)?yi(yi({},o),{},{velocity:BC(o.velocity,i[s].velocity,r),from:BC(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const cze=function(t,e,n,r,i){var s=BUe(t,e),o=s.reduce(function(m,p){return yi(yi({},m),{},ED({},p,[t[p],e[p]]))},{}),a=s.reduce(function(m,p){return yi(yi({},m),{},ED({},p,{from:t[p],velocity:0,to:e[p]}))},{}),l=-1,c,d,u=function(){return null},f=function(){return W0(function(p,x){return x.from},a)},g=function(){return!Object.values(a).filter(MD).length},v=function(p){c||(c=p);var x=p-c,_=x/n.dt;a=lze(n,a,_),i(yi(yi(yi({},t),e),f())),c=p,g()||(l=requestAnimationFrame(u))},y=function(p){d||(d=p);var x=(p-d)/r,_=W0(function(S,C){return BC.apply(void 0,cV(C).concat([n(x)]))},o);if(i(yi(yi(yi({},t),e),_)),x<1)l=requestAnimationFrame(u);else{var b=W0(function(S,C){return BC.apply(void 0,cV(C).concat([n(1)]))},o);i(yi(yi(yi({},t),e),b))}};return u=n.isStepper?v:y,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}};function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}var uze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dze(t,e){if(t==null)return{};var n=fze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TR(t){return gze(t)||mze(t)||pze(t)||hze()}function hze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pze(t,e){if(t){if(typeof t=="string")return AD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(t,e)}}function mze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gze(t){if(Array.isArray(t))return AD(t)}function AD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){b0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0(t,e,n){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kee(r.key),r)}}function xze(t,e,n){return e&&yze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kee(t){var e=_ze(t,"string");return Dg(e)==="symbol"?e:String(e)}function _ze(t,e){if(Dg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TD(t,e)}function TD(t,e){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TD(t,e)}function wze(t){var e=Sze();return function(){var r=UC(t),i;if(e){var s=UC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PD(this,i)}}function PD(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ND(t)}function ND(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function UC(t){return UC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UC(t)}var Ua=function(t){bze(n,t);var e=wze(n);function n(r,i){var s;vze(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,d=o.to,u=o.steps,f=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ND(s)),s.changeStyle=s.changeStyle.bind(ND(s)),!a||g<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),PD(s);if(u&&u.length)s.state={style:u[0].style};else if(c){if(typeof f=="function")return s.state={style:c},PD(s);s.state={style:l?b0({},l,c):c}}else s.state={style:{}};return s}return xze(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,u=s.from,f=this.state.style;if(a){if(!o){var g={style:l?b0({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(g);return}if(!(PUe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||c?u:i.to;if(this.state&&f){var m={style:l?b0({},l,y):y};(l&&f[l]!==y||!l&&f!==y)&&this.setState(m)}this.runAnimation(oa(oa({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,u=i.onAnimationEnd,f=i.onAnimationStart,g=cze(o,a,QUe(c),l,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([f,d,v,l,u])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,u=c.duration,f=u===void 0?0:u,g=function(y,m,p){if(p===0)return y;var x=m.duration,_=m.easing,b=_===void 0?"ease":_,S=m.style,C=m.properties,M=m.onAnimationEnd,T=p>0?o[p-1]:m,P=C||Object.keys(S);if(typeof b=="function"||b==="spring")return[].concat(TR(y),[s.runJSAnimation.bind(s,{from:T.style,to:S,duration:x,easing:b}),x]);var N=oV(P,x,b),I=oa(oa(oa({},T.style),S),{},{transition:N});return[].concat(TR(y),[I,x,M]).filter(UUe)};return this.manager.start([l].concat(TR(o.reduce(g,[d,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=LUe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,u=i.onAnimationEnd,f=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=a?b0({},a,l):l,m=oV(Object.keys(y),o,c);v.start([d,s,oa(oa({},y),{},{transition:m}),o,u])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dze(i,uze),c=A.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||c===0||o<=0)return s;var u=function(g){var v=g.props,y=v.style,m=y===void 0?{}:y,p=v.className,x=A.cloneElement(g,oa(oa({},l),{},{style:oa(oa({},m),d),className:p}));return x};return c===1?u(A.Children.only(s)):ee.createElement("div",null,A.Children.map(s,function(f){return u(f)}))}}]),n}(A.PureComponent);Ua.displayName="Animate";Ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ua.propTypes={from:In.oneOfType([In.object,In.string]),to:In.oneOfType([In.object,In.string]),attributeName:In.string,duration:In.number,begin:In.number,easing:In.oneOfType([In.string,In.func]),steps:In.arrayOf(In.shape({duration:In.number.isRequired,style:In.object.isRequired,easing:In.oneOfType([In.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),In.func]),properties:In.arrayOf("string"),onAnimationEnd:In.func})),children:In.oneOfType([In.node,In.func]),isActive:In.bool,canBegin:In.bool,onAnimationEnd:In.func,shouldReAnimate:In.bool,onAnimationStart:In.func,onAnimationReStart:In.func};function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(null,arguments)}function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(this,arguments)}function Eze(t,e){return Tze(t)||Aze(t,e)||Mze(t,e)||Cze()}function Cze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(t,e){if(t){if(typeof t=="string")return fV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Tze(t){if(Array.isArray(t))return t}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){Pze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pze(t,e,n){return e=Nze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nze(t){var e=Rze(t,"string");return s_(e)=="symbol"?e:e+""}function Rze(t,e){if(s_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(s_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mV=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var u=[0,0,0,0],f=0,g=4;f<g;f++)u[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(n+a*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(n)),d+="L ".concat(e+r-l*u[1],",").concat(n),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*u[1])),d+="L ".concat(e+r,",").concat(n+i-a*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(n+i)),d+="L ".concat(e+l*u[3],",").concat(n+i),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*u[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Oze=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),d=Math.max(s,s+a),u=Math.min(o,o+l),f=Math.max(o,o+l);return r>=c&&r<=d&&i>=u&&i<=f}return!1},Ize={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KF=function(e){var n=pV(pV({},Ize),e),r=A.useRef(),i=A.useState(-1),s=Eze(i,2),o=s[0],a=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,c=n.y,d=n.width,u=n.height,f=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,m=n.animationBegin,p=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var _=Yt("recharts-rectangle",g);return x?ee.createElement(Ua,{canBegin:o>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:y,animationEasing:v,isActive:x},function(b){var S=b.width,C=b.height,M=b.x,T=b.y;return ee.createElement(Ua,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,isActive:p,easing:v},ee.createElement("path",zC({},Pt(n,!0),{className:_,d:mV(M,T,S,C,f),ref:r})))}):ee.createElement("path",zC({},Pt(n,!0),{className:_,d:mV(l,c,d,u,f)}))},kze=["points","className","baseLinePoints","connectNulls"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function Dze(t,e){if(t==null)return{};var n=Lze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gV(t){return Uze(t)||Bze(t)||Fze(t)||jze()}function jze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fze(t,e){if(t){if(typeof t=="string")return RD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RD(t,e)}}function Bze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uze(t){if(Array.isArray(t))return RD(t)}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vV=function(e){return e&&e.x===+e.x&&e.y===+e.y},zze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){vV(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),vV(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},G0=function(e,n){var r=zze(e);n&&(r=[r.reduce(function(s,o){return[].concat(gV(s),gV(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},$ze=function(e,n,r){var i=G0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(G0(n.reverse(),r).slice(1))},Hze=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=Dze(e,kze);if(!n||!n.length)return null;var a=Yt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=$ze(n,i,s);return ee.createElement("g",{className:a},ee.createElement("path",bm({},Pt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?ee.createElement("path",bm({},Pt(o,!0),{fill:"none",d:G0(n,s)})):null,l?ee.createElement("path",bm({},Pt(o,!0),{fill:"none",d:G0(i,s)})):null)}var d=G0(n,s);return ee.createElement("path",bm({},Pt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:a,d}))};function OD(){return OD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OD.apply(this,arguments)}var Tb=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Yt("recharts-dot",s);return n===+n&&r===+r&&i===+i?ee.createElement("circle",OD({},Pt(e,!1),aC(e),{className:o,cx:n,cy:r,r:i})):null};function o_(t){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_(t)}var Vze=["x","y","top","left","width","height","className"];function ID(){return ID=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ID.apply(this,arguments)}function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){Gze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gze(t,e,n){return e=Xze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xze(t){var e=qze(t,"string");return o_(e)=="symbol"?e:e+""}function qze(t,e){if(o_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(o_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kze(t,e){if(t==null)return{};var n=Yze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zze=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Qze=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,u=d===void 0?0:d,f=e.height,g=f===void 0?0:f,v=e.className,y=Kze(e,Vze),m=Wze({x:r,y:s,top:a,left:c,width:u,height:g},y);return!et(r)||!et(s)||!et(u)||!et(g)||!et(a)||!et(c)?null:ee.createElement("path",ID({},Pt(m,!0),{className:Yt("recharts-cross",v),d:Zze(r,s,u,g,a,c)}))},Jze=NT,e$e=aee,t$e=Bl;function n$e(t,e){return t&&t.length?Jze(t,t$e(e),e$e):void 0}var r$e=n$e;const i$e=Nn(r$e);var s$e=NT,o$e=Bl,a$e=lee;function l$e(t,e){return t&&t.length?s$e(t,o$e(e),a$e):void 0}var c$e=l$e;const u$e=Nn(c$e);var d$e=["cx","cy","angle","ticks","axisLine"],f$e=["ticks","tick","angle","tickFormatter","stroke"];function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){kT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _V(t,e){if(t==null)return{};var n=h$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zee(r.key),r)}}function m$e(t,e,n){return e&&bV(t.prototype,e),n&&bV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$e(t,e,n){return e=$C(e),v$e(t,Yee()?Reflect.construct(e,n||[],$C(t).constructor):e.apply(t,n))}function v$e(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y$e(t)}function y$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function $C(t){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$C(t)}function x$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kD(t,e)}function kD(t,e){return kD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kD(t,e)}function kT(t,e,n){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=_$e(t,"string");return Lg(e)=="symbol"?e:e+""}function _$e(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DT=function(t){function e(){return p$e(this,e),g$e(this,e,arguments)}return x$e(e,t),m$e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Zn(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=i$e(a,function(d){return d.coordinate||0}),c=u$e(a,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=_V(r,d$e),d=a.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),u=Zn(i,s,d[0],o),f=Zn(i,s,d[1],o),g=Zd(Zd(Zd({},Pt(c,!1)),{},{fill:"none"},Pt(l,!1)),{},{x1:u.x,y1:u.y,x2:f.x,y2:f.y});return ee.createElement("line",X0({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,d=_V(i,f$e),u=this.getTickTextAnchor(),f=Pt(d,!1),g=Pt(o,!1),v=s.map(function(y,m){var p=r.getTickValueCoord(y),x=Zd(Zd(Zd(Zd({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(p.x,", ").concat(p.y,")")},f),{},{stroke:"none",fill:c},g),{},{index:m},p),{},{payload:y});return ee.createElement(fn,X0({className:Yt("recharts-polar-radius-axis-tick",Lee(o)),key:"tick-".concat(y.coordinate)},yh(r.props,y,m)),e.renderTickItem(o,x,l?l(y.value,m):y.value))});return ee.createElement(fn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:ee.createElement(fn,{className:Yt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),pi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):zt(r)?o=r(i):o=ee.createElement(xh,X0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(A.PureComponent);kT(DT,"displayName","PolarRadiusAxis");kT(DT,"axisType","radiusAxis");kT(DT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}function wV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jee(r.key),r)}}function w$e(t,e,n){return e&&SV(t.prototype,e),n&&SV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S$e(t,e,n){return e=HC(e),E$e(t,Qee()?Reflect.construct(e,n||[],HC(t).constructor):e.apply(t,n))}function E$e(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(t)}function C$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qee=function(){return!!t})()}function HC(t){return HC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HC(t)}function M$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DD(t,e)}function DD(t,e){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DD(t,e)}function LT(t,e,n){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=A$e(t,"string");return jg(e)=="symbol"?e:e+""}function A$e(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T$e=Math.PI/180,EV=1e-5,jT=function(t){function e(){return b$e(this,e),S$e(this,e,arguments)}return M$e(e,t),w$e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,d=c||8,u=Zn(s,o,a,r.coordinate),f=Zn(s,o,a+(l==="inner"?-1:1)*d,r.coordinate);return{x1:u.x,y1:u.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*T$e),o;return s>EV?o=i==="outer"?"start":"end":s<-EV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=Qd(Qd({},Pt(this.props,!1)),{},{fill:"none"},Pt(a,!1));if(l==="circle")return ee.createElement(Tb,Af({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var d=this.props.ticks,u=d.map(function(f){return Zn(i,s,o,f.coordinate)});return ee.createElement(Hze,Af({className:"recharts-polar-angle-axis-line"},c,{points:u}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Pt(this.props,!1),u=Pt(o,!1),f=Qd(Qd({},d),{},{fill:"none"},Pt(a,!1)),g=s.map(function(v,y){var m=r.getTickLineCoord(v),p=r.getTickTextAnchor(v),x=Qd(Qd(Qd({textAnchor:p},d),{},{stroke:"none",fill:c},u),{},{index:y,payload:v,x:m.x2,y:m.y2});return ee.createElement(fn,Af({className:Yt("recharts-polar-angle-axis-tick",Lee(o)),key:"tick-".concat(v.coordinate)},yh(r.props,v,y)),a&&ee.createElement("line",Af({className:"recharts-polar-angle-axis-tick-line"},f,m)),o&&e.renderTickItem(o,x,l?l(v.value,y):v.value))});return ee.createElement(fn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:ee.createElement(fn,{className:Yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):zt(r)?o=r(i):o=ee.createElement(xh,Af({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(A.PureComponent);LT(jT,"displayName","PolarAngleAxis");LT(jT,"axisType","angleAxis");LT(jT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var P$e=eJ,N$e=P$e(Object.getPrototypeOf,Object),R$e=N$e,O$e=Zc,I$e=R$e,k$e=Qc,D$e="[object Object]",L$e=Function.prototype,j$e=Object.prototype,ete=L$e.toString,F$e=j$e.hasOwnProperty,B$e=ete.call(Object);function U$e(t){if(!k$e(t)||O$e(t)!=D$e)return!1;var e=I$e(t);if(e===null)return!0;var n=F$e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ete.call(n)==B$e}var z$e=U$e;const $$e=Nn(z$e);var H$e=Zc,V$e=Qc,W$e="[object Boolean]";function G$e(t){return t===!0||t===!1||V$e(t)&&H$e(t)==W$e}var X$e=G$e;const q$e=Nn(X$e);function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function K$e(t,e){return J$e(t)||Q$e(t,e)||Z$e(t,e)||Y$e()}function Y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$e(t,e){if(t){if(typeof t=="string")return CV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CV(t,e)}}function CV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function J$e(t){if(Array.isArray(t))return t}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){eHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eHe(t,e,n){return e=tHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tHe(t){var e=nHe(t,"string");return a_(e)=="symbol"?e:e+""}function nHe(t,e){if(a_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(a_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TV=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},rHe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iHe=function(e){var n=AV(AV({},rHe),e),r=A.useRef(),i=A.useState(-1),s=K$e(i,2),o=s[0],a=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,u=n.lowerWidth,f=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,m=n.animationBegin,p=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||f!==+f||d===0&&u===0||f===0)return null;var x=Yt("recharts-trapezoid",g);return p?ee.createElement(Ua,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:f,x:l,y:c},duration:y,animationEasing:v,isActive:p},function(_){var b=_.upperWidth,S=_.lowerWidth,C=_.height,M=_.x,T=_.y;return ee.createElement(Ua,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,easing:v},ee.createElement("path",VC({},Pt(n,!0),{className:x,d:TV(M,T,b,S,C),ref:r})))}):ee.createElement("g",null,ee.createElement("path",VC({},Pt(n,!0),{className:x,d:TV(l,c,d,u,f)})))},sHe=["option","shapeType","propTransformer","activeClassName","isActive"];function l_(t){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(t)}function oHe(t,e){if(t==null)return{};var n=aHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){lHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lHe(t,e,n){return e=cHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cHe(t){var e=uHe(t,"string");return l_(e)=="symbol"?e:e+""}function uHe(t,e){if(l_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(l_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dHe(t,e){return WC(WC({},e),t)}function fHe(t,e){return t==="symbols"}function NV(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ee.createElement(KF,n);case"trapezoid":return ee.createElement(iHe,n);case"sector":return ee.createElement(Bee,n);case"symbols":if(fHe(e))return ee.createElement(pF,n);break;default:return null}}function hHe(t){return A.isValidElement(t)?t.props:t}function tte(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?dHe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=oHe(t,sHe),c;if(A.isValidElement(e))c=A.cloneElement(e,WC(WC({},l),hHe(e)));else if(zt(e))c=e(l);else if($$e(e)&&!q$e(e)){var d=i(e,l);c=ee.createElement(NV,{shapeType:n,elementProps:d})}else{var u=l;c=ee.createElement(NV,{shapeType:n,elementProps:u})}return a?ee.createElement(fn,{className:o},c):c}function FT(t,e){return e!=null&&"trapezoids"in t.props}function BT(t,e){return e!=null&&"sectors"in t.props}function c_(t,e){return e!=null&&"points"in t.props}function pHe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function mHe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function gHe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function vHe(t,e){var n;return FT(t,e)?n=pHe:BT(t,e)?n=mHe:c_(t,e)&&(n=gHe),n}function yHe(t,e){var n;return FT(t,e)?n="trapezoids":BT(t,e)?n="sectors":c_(t,e)&&(n="points"),n}function xHe(t,e){if(FT(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(BT(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return c_(t,e)?e.payload:{}}function _He(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=yHe(n,e),s=xHe(n,e),o=r.filter(function(l,c){var d=bh(s,l),u=n.props[i].filter(function(v){var y=vHe(n,e);return y(v,e)}),f=n.props[i].indexOf(u[u.length-1]),g=c===f;return d&&g}),a=r.indexOf(o[o.length-1]);return a}var fE;function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){Lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rte(r.key),r)}}function wHe(t,e,n){return e&&OV(t.prototype,e),n&&OV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SHe(t,e,n){return e=GC(e),EHe(t,nte()?Reflect.construct(e,n||[],GC(t).constructor):e.apply(t,n))}function EHe(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CHe(t)}function CHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nte=function(){return!!t})()}function GC(t){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GC(t)}function MHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LD(t,e)}function LD(t,e){return LD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LD(t,e)}function Lo(t,e,n){return e=rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=AHe(t,"string");return Fg(e)=="symbol"?e:e+""}function AHe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eu=function(t){function e(n){var r;return bHe(this,e),r=SHe(this,e,[n]),Lo(r,"pieRef",null),Lo(r,"sectorRefs",[]),Lo(r,"id",Hh("recharts-pie-")),Lo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),zt(i)&&i()}),Lo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),zt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return MHe(e,t),wHe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,d=Pt(this.props,!1),u=Pt(o,!1),f=Pt(a,!1),g=o&&o.offsetRadius||20,v=r.map(function(y,m){var p=(y.startAngle+y.endAngle)/2,x=Zn(y.cx,y.cy,y.outerRadius+g,p),_=qn(qn(qn(qn({},d),y),{},{stroke:"none"},u),{},{index:m,textAnchor:e.getTextAnchor(x.x,y.cx)},x),b=qn(qn(qn(qn({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:m,points:[Zn(y.cx,y.cy,y.outerRadius,p),x]}),S=l;return Xt(l)&&Xt(c)?S="value":Xt(l)&&(S=c),ee.createElement(fn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(m)},a&&e.renderLabelLineItem(a,b,"line"),e.renderLabelItem(o,_,Rr(y,S)))});return ee.createElement(fn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var u=i.isActiveIndex(d),f=l&&i.hasActiveIndex()?l:null,g=u?o:f,v=qn(qn({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return ee.createElement(fn,wm({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},yh(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),ee.createElement(tte,wm({option:g,isActive:u,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,u=this.state,f=u.prevSectors,g=u.prevIsAnimationActive;return ee.createElement(Ua,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,m=[],p=s&&s[0],x=p.startAngle;return s.forEach(function(_,b){var S=f&&f[b],C=b>0?io(_,"paddingAngle",0):0;if(S){var M=Zr(S.endAngle-S.startAngle,_.endAngle-_.startAngle),T=qn(qn({},_),{},{startAngle:x+C,endAngle:x+M(y)+C});m.push(T),x=T.endAngle}else{var P=_.endAngle,N=_.startAngle,I=Zr(0,P-N),k=I(y),j=qn(qn({},_),{},{startAngle:x+C,endAngle:x+k+C});m.push(j),x=j.endAngle}}),ee.createElement(fn,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!bh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,d=i.cy,u=i.innerRadius,f=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!et(c)||!et(d)||!et(u)||!et(f))return null;var y=Yt("recharts-pie",a);return ee.createElement(fn,{tabIndex:this.props.rootTabIndex,className:y,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(o),pi.renderCallByParent(this.props,null,!1),(!g||v)&&Sl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(ee.isValidElement(r))return ee.cloneElement(r,i);if(zt(r))return r(i);var o=Yt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ee.createElement(Jf,wm({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(ee.isValidElement(r))return ee.cloneElement(r,i);var o=s;if(zt(r)&&(o=r(i),ee.isValidElement(o)))return o;var a=Yt("recharts-pie-label-text",typeof r!="boolean"&&!zt(r)?r.className:"");return ee.createElement(xh,wm({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(A.PureComponent);fE=eu;Lo(eu,"displayName","Pie");Lo(eu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ka.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Lo(eu,"parseDeltaAngle",function(t,e){var n=ts(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Lo(eu,"getRealPieData",function(t){var e=t.data,n=t.children,r=Pt(t,!1),i=so(n,ST);return e&&e.length?e.map(function(s,o){return qn(qn(qn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return qn(qn({},r),s.props)}):[]});Lo(eu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=Dee(i,s),a=r+ns(t.cx,i,i/2),l=n+ns(t.cy,s,s/2),c=ns(t.innerRadius,o,0),d=ns(t.outerRadius,o,o*.8),u=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:d,maxRadius:u}});Lo(eu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?qn(qn({},e.type.defaultProps),e.props):e.props,i=fE.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,f=r.tooltipType,g=Math.abs(r.minAngle),v=fE.parseCoordinateOfPie(r,n),y=fE.parseDeltaAngle(o,a),m=Math.abs(y),p=c;Xt(c)&&Xt(u)?(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):Xt(c)&&(Ia(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=u);var x=i.filter(function(T){return Rr(T,p,0)!==0}).length,_=(m>=360?x:x-1)*l,b=m-x*g-_,S=i.reduce(function(T,P){var N=Rr(P,p,0);return T+(et(N)?N:0)},0),C;if(S>0){var M;C=i.map(function(T,P){var N=Rr(T,p,0),I=Rr(T,d,P),k=(et(N)?N:0)/S,j;P?j=M.endAngle+ts(y)*l*(N!==0?1:0):j=o;var F=j+ts(y)*((N!==0?g:0)+k*b),B=(j+F)/2,U=(v.innerRadius+v.outerRadius)/2,H=[{name:I,value:N,payload:T,dataKey:p,type:f}],R=Zn(v.cx,v.cy,U,B);return M=qn(qn(qn({percent:k,cornerRadius:s,name:I,tooltipPayload:H,midAngle:B,middleRadius:U,tooltipPosition:R},T),v),{},{value:Rr(T,p),startAngle:j,endAngle:F,payload:T,paddingAngle:ts(y)*l}),M})}return qn(qn({},v),{},{sectors:C,data:i})});var THe=Math.ceil,PHe=Math.max;function NHe(t,e,n,r){for(var i=-1,s=PHe(THe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var RHe=NHe,OHe=xJ,IV=1/0,IHe=17976931348623157e292;function kHe(t){if(!t)return t===0?t:0;if(t=OHe(t),t===IV||t===-IV){var e=t<0?-1:1;return e*IHe}return t===t?t:0}var ite=kHe,DHe=RHe,LHe=wT,PR=ite;function jHe(t){return function(e,n,r){return r&&typeof r!="number"&&LHe(e,n,r)&&(n=r=void 0),e=PR(e),n===void 0?(n=e,e=0):n=PR(n),r=r===void 0?e<n?1:-1:PR(r),DHe(e,n,r,t)}}var FHe=jHe,BHe=FHe,UHe=BHe(),zHe=UHe;const XC=Nn(zHe);function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return e=$He(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $He(t){var e=HHe(t,"string");return u_(e)=="symbol"?e:e+""}function HHe(t,e){if(u_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(u_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VHe=["Webkit","Moz","O","ms"],WHe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=VHe.reduce(function(s,o){return DV(DV({},s),{},ste({},o+r,n))},{});return i[e]=n,i};function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function LV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ate(r.key),r)}}function XHe(t,e,n){return e&&jV(t.prototype,e),n&&jV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qHe(t,e,n){return e=KC(e),KHe(t,ote()?Reflect.construct(e,n||[],KC(t).constructor):e.apply(t,n))}function KHe(t,e){if(e&&(Bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YHe(t)}function YHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ote=function(){return!!t})()}function KC(t){return KC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KC(t)}function ZHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jD(t,e)}function jD(t,e){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jD(t,e)}function Ws(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=QHe(t,"string");return Bg(e)=="symbol"?e:e+""}function QHe(t,e){if(Bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JHe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=H0().domain(XC(0,l)).range([s,s+o-a]),d=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},FV=function(e){return e.changedTouches&&!!e.changedTouches.length},Ug=function(t){function e(n){var r;return GHe(this,e),r=qHe(this,e,[n]),Ws(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ws(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ws(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Ws(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ws(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ws(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ws(r,"handleSlideDragStart",function(i){var s=FV(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ZHe(e,t),XHe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,u=Math.min(i,s),f=Math.max(i,s),g=e.getIndexInRange(o,u),v=e.getIndexInRange(o,f);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Rr(s[r],a,r);return zt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,u=l.travellerWidth,f=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+d-u-a,c+d-u-o):y<0&&(y=Math.max(y,c-o,c-a));var m=this.getIndex({startX:o+y,endX:a+y});(m.startIndex!==f||m.endIndex!==g)&&v&&v(m),this.setState({startX:o+y,endX:a+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=FV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],d=this.props,u=d.x,f=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,m=d.data,p={startX:this.state.startX,endX:this.state.endX},x=r.pageX-s;x>0?x=Math.min(x,u+f-g-c):x<0&&(x=Math.max(x,u-c)),p[o]=c+x;var _=this.getIndex(p),b=_.startIndex,S=_.endIndex,C=function(){var T=m.length-1;return o==="startX"&&(a>l?b%y===0:S%y===0)||a<l&&S===T||o==="endX"&&(a>l?S%y===0:b%y===0)||a>l&&S===T};this.setState(Ws(Ws({},o,c+x),"brushMoveStartX",r.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],u=a.indexOf(d);if(u!==-1){var f=u+r;if(!(f===-1||f>=a.length)){var g=a[f];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Ws({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return ee.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,u=A.Children.only(c);return u?ee.cloneElement(u,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,d=l.travellerWidth,u=l.height,f=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,m=l.endIndex,p=Math.max(r,this.props.x),x=NR(NR({},Pt(this.props,!1)),{},{x:p,y:c,width:d,height:u}),_=g||"Min value: ".concat((s=v[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return ee.createElement(fn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,u=Math.max(Math.abs(i-r)-c,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:u,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,u=d.startX,f=d.endX,g=5,v={pointerEvents:"none",fill:c};return ee.createElement(fn,{className:"recharts-brush-texts"},ee.createElement(xh,qC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-g,y:o+a/2},v),this.getTextOfTick(i)),ee.createElement(xh,qC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+l+g,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,d=r.height,u=r.alwaysShowText,f=this.state,g=f.startX,v=f.endX,y=f.isTextActive,m=f.isSlideMoving,p=f.isTravellerMoving,x=f.isTravellerFocused;if(!i||!i.length||!et(a)||!et(l)||!et(c)||!et(d)||c<=0||d<=0)return null;var _=Yt("recharts-brush",s),b=ee.Children.count(o)===1,S=WHe("userSelect","none");return ee.createElement(fn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||m||p||x||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),ee.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ee.isValidElement(r)?s=ee.cloneElement(r,i):zt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,u=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return NR({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?JHe({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(A.PureComponent);Ws(Ug,"displayName","Brush");Ws(Ug,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var e6e=bF;function t6e(t,e){var n;return e6e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var n6e=t6e,r6e=GQ,i6e=Bl,s6e=n6e,o6e=Os,a6e=wT;function l6e(t,e,n){var r=o6e(t)?r6e:s6e;return n&&a6e(t,e,n)&&(e=void 0),r(t,i6e(e))}var c6e=l6e;const u6e=Nn(c6e);var El=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},BV=pJ;function d6e(t,e,n){e=="__proto__"&&BV?BV(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var f6e=d6e,h6e=f6e,p6e=fJ,m6e=Bl;function g6e(t,e){var n={};return e=m6e(e),p6e(t,function(r,i,s){h6e(n,i,e(r,i,s))}),n}var v6e=g6e;const y6e=Nn(v6e);function x6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var _6e=x6e,b6e=bF;function w6e(t,e){var n=!0;return b6e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var S6e=w6e,E6e=_6e,C6e=S6e,M6e=Bl,A6e=Os,T6e=wT;function P6e(t,e,n){var r=A6e(t)?E6e:C6e;return n&&T6e(t,e,n)&&(e=void 0),r(t,M6e(e))}var N6e=P6e;const lte=Nn(N6e);var R6e=["x","y"];function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}function FD(){return FD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FD.apply(this,arguments)}function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){O6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O6e(t,e,n){return e=I6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6e(t){var e=k6e(t,"string");return d_(e)=="symbol"?e:e+""}function k6e(t,e){if(d_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D6e(t,e){if(t==null)return{};var n=L6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j6e(t,e){var n=t.x,r=t.y,i=D6e(t,R6e),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),u="".concat(e.width||i.width),f=parseInt(u,10);return Gy(Gy(Gy(Gy(Gy({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function zV(t){return ee.createElement(tte,FD({shapeType:"rectangle",propTransformer:j6e,activeClassName:"recharts-active-bar"},t))}var F6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Sh(),n)}},B6e=["value","background"],cte;function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function U6e(t,e){if(t==null)return{};var n=z6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){Qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dte(r.key),r)}}function H6e(t,e,n){return e&&HV(t.prototype,e),n&&HV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V6e(t,e,n){return e=ZC(e),W6e(t,ute()?Reflect.construct(e,n||[],ZC(t).constructor):e.apply(t,n))}function W6e(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G6e(t)}function G6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ute(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ute=function(){return!!t})()}function ZC(t){return ZC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZC(t)}function X6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BD(t,e)}function BD(t,e){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BD(t,e)}function Qu(t,e,n){return e=dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=q6e(t,"string");return zg(e)=="symbol"?e:e+""}function q6e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xh=function(t){function e(){var n;$6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=V6e(this,e,[].concat(i)),Qu(n,"state",{isAnimationFinished:!1}),Qu(n,"id",Hh("recharts-bar-")),Qu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Qu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return X6e(e,t),H6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Pt(this.props,!1);return r&&r.map(function(u,f){var g=f===l,v=g?c:o,y=jr(jr(jr({},d),u),{},{isActive:g,option:v,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ee.createElement(fn,YC({className:"recharts-bar-rectangle"},yh(i.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(f)}),ee.createElement(zV,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,f=this.state.prevData;return ee.createElement(Ua,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=s.map(function(m,p){var x=f&&f[p];if(x){var _=Zr(x.x,m.x),b=Zr(x.y,m.y),S=Zr(x.width,m.width),C=Zr(x.height,m.height);return jr(jr({},m),{},{x:_(v),y:b(v),width:S(v),height:C(v)})}if(o==="horizontal"){var M=Zr(0,m.height),T=M(v);return jr(jr({},m),{},{y:m.y+m.height-T,height:T})}var P=Zr(0,m.width),N=P(v);return jr(jr({},m),{},{width:N})});return ee.createElement(fn,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!bh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Pt(this.props.background,!1);return s.map(function(c,d){c.value;var u=c.background,f=U6e(c,B6e);if(!u)return null;var g=jr(jr(jr(jr(jr({},f),{},{fill:"#eee"},u),l),yh(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ee.createElement(zV,YC({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=so(d,Ab);if(!u)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,g=function(m,p){var x=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:x,errorVal:Rr(m,p)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(fn,v,u.map(function(y){return ee.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:f,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,u=r.width,f=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!s||!s.length)return null;var m=this.state.isAnimationFinished,p=Yt("recharts-bar",o),x=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,b=x||_,S=Xt(y)?this.id:y;return ee.createElement(fn,{className:p},x||_?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(S)},ee.createElement("rect",{x:x?c:c-u/2,y:_?d:d-f/2,width:x?u:u*2,height:_?f:f*2}))):null,ee.createElement(fn,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,S),(!g||m)&&Sl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);cte=Xh;Qu(Xh,"displayName","Bar");Qu(Xh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ka.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qu(Xh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,u=t.displayedData,f=t.offset,g=TBe(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,m=y!==void 0?jr(jr({},y),n.props):n.props,p=m.dataKey,x=m.children,_=m.minPointSize,b=v==="horizontal"?o:s,S=c?b.scale.domain():null,C=DBe({numericAxis:b}),M=so(x,ST),T=u.map(function(P,N){var I,k,j,F,B,U;c?I=PBe(c[d+N],S):(I=Rr(P,p),Array.isArray(I)||(I=[C,I]));var H=F6e(_,cte.defaultProps.minPointSize)(I[1],N);if(v==="horizontal"){var R,L=[o.scale(I[0]),o.scale(I[1])],z=L[0],W=L[1];k=O8({axis:s,ticks:a,bandSize:i,offset:g.offset,entry:P,index:N}),j=(R=W??z)!==null&&R!==void 0?R:void 0,F=g.size;var G=z-W;if(B=Number.isNaN(G)?0:G,U={x:k,y:o.y,width:F,height:o.height},Math.abs(H)>0&&Math.abs(B)<Math.abs(H)){var q=ts(B||H)*(Math.abs(H)-Math.abs(B));j-=q,B+=q}}else{var ne=[s.scale(I[0]),s.scale(I[1])],ae=ne[0],se=ne[1];if(k=ae,j=O8({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:P,index:N}),F=se-ae,B=g.size,U={x:s.x,y:j,width:s.width,height:B},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var $=ts(F||H)*(Math.abs(H)-Math.abs(F));F+=$}}return jr(jr(jr({},P),{},{x:k,y:j,width:F,height:B,value:c?I:I[1],payload:P,background:U},M&&M[N]&&M[N].props),{},{tooltipPayload:[Iee(n,P)],tooltipPosition:{x:k+F/2,y:j+B/2}})});return jr({data:T,layout:v},f)});function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function K6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fte(r.key),r)}}function Y6e(t,e,n){return e&&VV(t.prototype,e),n&&VV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(n),!0).forEach(function(r){UT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UT(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=Z6e(t,"string");return f_(e)=="symbol"?e:e+""}function Z6e(t,e){if(f_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(f_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YF=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!qs(c,Xh);return d.reduce(function(g,v){var y=n[v],m=y.orientation,p=y.domain,x=y.padding,_=x===void 0?{}:x,b=y.mirror,S=y.reversed,C="".concat(m).concat(b?"Mirror":""),M,T,P,N,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var k=p[1]-p[0],j=1/0,F=y.categoricalDomain.sort();if(F.forEach(function(ne,ae){ae>0&&(j=Math.min((ne||0)-(F[ae-1]||0),j))}),Number.isFinite(j)){var B=j/k,U=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(M=B*U/2),y.padding==="no-gap"){var H=ns(e.barCategoryGap,B*U),R=B*U/2;M=R-H-(R-H)/U*H}}}i==="xAxis"?T=[r.left+(_.left||0)+(M||0),r.left+r.width-(_.right||0)-(M||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(M||0),r.top+r.height-(_.bottom||0)-(M||0)]:T=y.range,S&&(T=[T[1],T[0]]);var L=Pee(y,s,f),z=L.scale,W=L.realScaleType;z.domain(p).range(T),Nee(z);var G=Ree(z,ga(ga({},y),{},{realScaleType:W}));i==="xAxis"?(I=m==="top"&&!b||m==="bottom"&&b,P=r.left,N=u[C]-I*y.height):i==="yAxis"&&(I=m==="left"&&!b||m==="right"&&b,P=u[C]-I*y.width,N=r.top);var q=ga(ga(ga({},y),G),{},{realScaleType:W,x:P,y:N,scale:z,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return q.bandSize=DC(q,G),!y.hide&&i==="xAxis"?u[C]+=(I?-1:1)*q.height:y.hide||(u[C]+=(I?-1:1)*q.width),ga(ga({},g),{},UT({},v,q))},{})},hte=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Q6e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return hte({x:n,y:r},{x:i,y:s})},pte=function(){function t(e){K6e(this,t),this.scale=e}return Y6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();UT(pte,"EPS",1e-4);var ZF=function(e){var n=Object.keys(e).reduce(function(r,i){return ga(ga({},r),{},UT({},i,pte.create(e[i])))},{});return ga(ga({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return y6e(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return lte(i,function(s,o){return n[o].isInRange(s)})}})};function J6e(t){return(t%180+180)%180}var e8e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=J6e(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},t8e=Bl,n8e=wb,r8e=_T;function i8e(t){return function(e,n,r){var i=Object(e);if(!n8e(e)){var s=t8e(n);e=r8e(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var s8e=i8e,o8e=ite;function a8e(t){var e=o8e(t),n=e%1;return e===e?n?e-n:e:0}var l8e=a8e,c8e=oJ,u8e=Bl,d8e=l8e,f8e=Math.max;function h8e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:d8e(n);return i<0&&(i=f8e(r+i,0)),c8e(t,u8e(e),i)}var p8e=h8e,m8e=s8e,g8e=p8e,v8e=m8e(g8e),y8e=v8e;const x8e=Nn(y8e);var _8e=uMe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QF=A.createContext(void 0),JF=A.createContext(void 0),mte=A.createContext(void 0),gte=A.createContext({}),vte=A.createContext(void 0),yte=A.createContext(0),xte=A.createContext(0),GV=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,d=_8e(s);return ee.createElement(QF.Provider,{value:r},ee.createElement(JF.Provider,{value:i},ee.createElement(gte.Provider,{value:s},ee.createElement(mte.Provider,{value:d},ee.createElement(vte.Provider,{value:o},ee.createElement(yte.Provider,{value:c},ee.createElement(xte.Provider,{value:l},a)))))))},b8e=function(){return A.useContext(vte)},_te=function(e){var n=A.useContext(QF);n==null&&Sh();var r=n[e];return r==null&&Sh(),r},w8e=function(){var e=A.useContext(QF);return Lu(e)},S8e=function(){var e=A.useContext(JF),n=x8e(e,function(r){return lte(r.domain,Number.isFinite)});return n||Lu(e)},bte=function(e){var n=A.useContext(JF);n==null&&Sh();var r=n[e];return r==null&&Sh(),r},E8e=function(){var e=A.useContext(mte);return e},C8e=function(){return A.useContext(gte)},e4=function(){return A.useContext(xte)},t4=function(){return A.useContext(yte)};function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function M8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ste(r.key),r)}}function T8e(t,e,n){return e&&A8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8e(t,e,n){return e=QC(e),N8e(t,wte()?Reflect.construct(e,n||[],QC(t).constructor):e.apply(t,n))}function N8e(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R8e(t)}function R8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!t})()}function QC(t){return QC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QC(t)}function O8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UD(t,e)}function UD(t,e){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UD(t,e)}function XV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(n),!0).forEach(function(r){n4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n4(t,e,n){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=I8e(t,"string");return $g(e)=="symbol"?e:e+""}function I8e(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k8e(t,e){return F8e(t)||j8e(t,e)||L8e(t,e)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8e(t,e){if(t){if(typeof t=="string")return KV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KV(t,e)}}function KV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function F8e(t){if(Array.isArray(t))return t}function zD(){return zD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zD.apply(this,arguments)}var B8e=function(e,n){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,n):zt(e)?r=e(n):r=ee.createElement("line",zD({},n,{className:"recharts-reference-line-line"})),r},U8e=function(e,n,r,i,s,o,a,l,c){var d=s.x,u=s.y,f=s.width,g=s.height;if(r){var v=c.y,y=e.y.apply(v,{position:o});if(El(c,"discard")&&!e.y.isInRange(y))return null;var m=[{x:d+f,y},{x:d,y}];return l==="left"?m.reverse():m}if(n){var p=c.x,x=e.x.apply(p,{position:o});if(El(c,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:u+g},{x,y:u}];return a==="top"?_.reverse():_}if(i){var b=c.segment,S=b.map(function(C){return e.apply(C,{position:o})});return El(c,"discard")&&u6e(S,function(C){return!e.isInRange(C)})?null:S}return null};function z8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=b8e(),d=_te(i),u=bte(s),f=E8e();if(!c||!f)return null;Ia(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ZF({x:d.scale,y:u.scale}),v=ti(e),y=ti(n),m=r&&r.length===2,p=U8e(g,v,y,m,f,t.position,d.orientation,u.orientation,t);if(!p)return null;var x=k8e(p,2),_=x[0],b=_.x,S=_.y,C=x[1],M=C.x,T=C.y,P=El(t,"hidden")?"url(#".concat(c,")"):void 0,N=qV(qV({clipPath:P},Pt(t,!0)),{},{x1:b,y1:S,x2:M,y2:T});return ee.createElement(fn,{className:Yt("recharts-reference-line",a)},B8e(o,N),pi.renderCallByParent(t,Q6e({x1:b,y1:S,x2:M,y2:T})))}var r4=function(t){function e(){return M8e(this,e),P8e(this,e,arguments)}return O8e(e,t),T8e(e,[{key:"render",value:function(){return ee.createElement(z8e,this.props)}}])}(ee.Component);n4(r4,"displayName","ReferenceLine");n4(r4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $D(){return $D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$D.apply(this,arguments)}function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){zT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cte(r.key),r)}}function V8e(t,e,n){return e&&H8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W8e(t,e,n){return e=JC(e),G8e(t,Ete()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function G8e(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8e(t)}function X8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ete(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ete=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JC(t)}function q8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HD(t,e)}function HD(t,e){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HD(t,e)}function zT(t,e,n){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=K8e(t,"string");return Hg(e)=="symbol"?e:e+""}function K8e(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y8e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=ZF({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return El(e,"discard")&&!o.isInRange(a)?null:a},$T=function(t){function e(){return $8e(this,e),W8e(this,e,arguments)}return q8e(e,t),V8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=ti(i),d=ti(s);if(Ia(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var u=Y8e(this.props);if(!u)return null;var f=u.x,g=u.y,v=this.props,y=v.shape,m=v.className,p=El(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=ZV(ZV({clipPath:p},Pt(this.props,!0)),{},{cx:f,cy:g});return ee.createElement(fn,{className:Yt("recharts-reference-dot",m)},e.renderDot(y,x),pi.renderCallByParent(this.props,{x:f-o,y:g-o,width:2*o,height:2*o}))}}])}(ee.Component);zT($T,"displayName","ReferenceDot");zT($T,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zT($T,"renderDot",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):zt(t)?n=t(e):n=ee.createElement(Tb,$D({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function VD(){return VD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VD.apply(this,arguments)}function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){HT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ate(r.key),r)}}function J8e(t,e,n){return e&&Q8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eVe(t,e,n){return e=eM(e),tVe(t,Mte()?Reflect.construct(e,n||[],eM(t).constructor):e.apply(t,n))}function tVe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nVe(t)}function nVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!t})()}function eM(t){return eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eM(t)}function rVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WD(t,e)}function WD(t,e){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WD(t,e)}function HT(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=iVe(t,"string");return Vg(e)=="symbol"?e:e+""}function iVe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sVe=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,d=s.xAxis,u=s.yAxis;if(!d||!u)return null;var f=ZF({x:d.scale,y:u.scale}),g={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return El(s,"discard")&&(!f.isInRange(g)||!f.isInRange(v))?null:hte(g,v)},VT=function(t){function e(){return Z8e(this,e),eVe(this,e,arguments)}return rVe(e,t),J8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Ia(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ti(i),f=ti(s),g=ti(o),v=ti(a),y=this.props.shape;if(!u&&!f&&!g&&!v&&!y)return null;var m=sVe(u,f,g,v,this.props);if(!m&&!y)return null;var p=El(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ee.createElement(fn,{className:Yt("recharts-reference-area",l)},e.renderRect(y,JV(JV({clipPath:p},Pt(this.props,!0)),m)),pi.renderCallByParent(this.props,m))}}])}(ee.Component);HT(VT,"displayName","ReferenceArea");HT(VT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});HT(VT,"renderRect",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):zt(t)?n=t(e):n=ee.createElement(KF,VD({},e,{className:"recharts-reference-area-rect"})),n});function Tte(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function oVe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return e8e(r,n)}function aVe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function tM(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function lVe(t,e){return Tte(t,e+1)}function cVe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,d=o,u=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Tte(r,c)};var y=l,m,p=function(){return m===void 0&&(m=n(v,y)),m},x=v.coordinate,_=l===0||tM(t,x,p,d,a);_||(l=0,d=o,c+=1),_&&(d=x+t*(p()/2+i),l+=c)},f;c<=s.length;)if(f=u(),f)return f.v;return[]}function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}function eW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(n),!0).forEach(function(r){uVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uVe(t,e,n){return e=dVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dVe(t){var e=fVe(t,"string");return h_(e)=="symbol"?e:e+""}function fVe(t,e){if(h_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(h_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hVe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(f){var g=s[f],v,y=function(){return v===void 0&&(v=n(g,f)),v};if(f===o-1){var m=t*(g.coordinate+t*y()/2-l);s[f]=g=Li(Li({},g),{},{tickCoord:m>0?g.coordinate-m*t:g.coordinate})}else s[f]=g=Li(Li({},g),{},{tickCoord:g.coordinate});var p=tM(t,g.tickCoord,y,a,l);p&&(l=g.tickCoord-t*(y()/2+i),s[f]=Li(Li({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}function pVe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var d=r[a-1],u=n(d,a-1),f=t*(d.coordinate+t*u/2-c);o[a-1]=d=Li(Li({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var g=tM(t,d.tickCoord,function(){return u},l,c);g&&(c=d.tickCoord-t*(u/2+i),o[a-1]=Li(Li({},d),{},{isShow:!0}))}for(var v=s?a-1:a,y=function(x){var _=o[x],b,S=function(){return b===void 0&&(b=n(_,x)),b};if(x===0){var C=t*(_.coordinate-t*S()/2-l);o[x]=_=Li(Li({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else o[x]=_=Li(Li({},_),{},{tickCoord:_.coordinate});var M=tM(t,_.tickCoord,S,l,c);M&&(l=_.tickCoord+t*(S()/2+i),o[x]=Li(Li({},_),{},{isShow:!0}))},m=0;m<v;m++)y(m);return o}function i4(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,u=t.angle;if(!i||!i.length||!r)return[];if(et(l)||ka.isSsr)return lVe(i,typeof l=="number"&&et(l)?l:0);var f=[],g=a==="top"||a==="bottom"?"width":"height",v=d&&g==="width"?$0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,b){var S=zt(c)?c(_.value,b):_.value;return g==="width"?oVe($0(S,{fontSize:e,letterSpacing:n}),v,u):$0(S,{fontSize:e,letterSpacing:n})[g]},m=i.length>=2?ts(i[1].coordinate-i[0].coordinate):1,p=aVe(s,m,g);return l==="equidistantPreserveStart"?cVe(m,p,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=pVe(m,p,y,i,o,l==="preserveStartEnd"):f=hVe(m,p,y,i,o),f.filter(function(x){return x.isShow}))}var mVe=["viewBox"],gVe=["viewBox"],vVe=["ticks"];function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function tW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(n),!0).forEach(function(r){s4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RR(t,e){if(t==null)return{};var n=yVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nte(r.key),r)}}function _Ve(t,e,n){return e&&nW(t.prototype,e),n&&nW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bVe(t,e,n){return e=nM(e),wVe(t,Pte()?Reflect.construct(e,n||[],nM(t).constructor):e.apply(t,n))}function wVe(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SVe(t)}function SVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pte=function(){return!!t})()}function nM(t){return nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nM(t)}function EVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GD(t,e)}function GD(t,e){return GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GD(t,e)}function s4(t,e,n){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=CVe(t,"string");return Wg(e)=="symbol"?e:e+""}function CVe(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $v=function(t){function e(n){var r;return xVe(this,e),r=bVe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return EVe(e,t),_Ve(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=RR(r,mVe),a=this.props,l=a.viewBox,c=RR(a,gVe);return!Wm(s,l)||!Wm(o,c)||!Wm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,u=i.mirror,f=i.tickMargin,g,v,y,m,p,x,_=u?-1:1,b=r.tickSize||d,S=et(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=v=r.coordinate,m=o+ +!u*l,y=m-_*b,x=y-_*f,p=S;break;case"left":y=m=r.coordinate,v=s+ +!u*a,g=v-_*b,p=g-_*f,x=S;break;case"right":y=m=r.coordinate,v=s+ +u*a,g=v+_*b,p=g+_*f,x=S;break;default:g=v=r.coordinate,m=o+ +u*l,y=m+_*b,x=y+_*f,p=S;break}return{line:{x1:g,y1:y,x2:v,y2:m},tick:{x:p,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,u=Xi(Xi(Xi({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);u=Xi(Xi({},u),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);u=Xi(Xi({},u),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+a})}return ee.createElement("line",Sm({},u,{className:Yt("recharts-cartesian-axis-line",io(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,u=a.tickFormatter,f=a.unit,g=i4(Xi(Xi({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=Pt(this.props,!1),p=Pt(d,!1),x=Xi(Xi({},m),{},{fill:"none"},Pt(l,!1)),_=g.map(function(b,S){var C=o.getTickLineCoord(b),M=C.line,T=C.tick,P=Xi(Xi(Xi(Xi({textAnchor:v,verticalAnchor:y},m),{},{stroke:"none",fill:c},p),T),{},{index:S,payload:b,visibleTicksCount:g.length,tickFormatter:u});return ee.createElement(fn,Sm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},yh(o.props,b,S)),l&&ee.createElement("line",Sm({},x,M,{className:Yt("recharts-cartesian-axis-tick-line",io(l,"className"))})),d&&e.renderTickItem(d,P,"".concat(zt(u)?u(b.value,S):b.value).concat(f||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var u=this.props,f=u.ticks,g=RR(u,vVe),v=f;return zt(l)&&(v=f&&f.length>0?l(this.props):l(g)),o<=0||a<=0||!v||!v.length?null:ee.createElement(fn,{className:Yt("recharts-cartesian-axis",c),ref:function(m){r.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),pi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):zt(r)?o=r(i):o=ee.createElement(xh,Sm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(A.Component);s4($v,"displayName","CartesianAxis");s4($v,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MVe=["x1","y1","x2","y2","key"],AVe=["offset"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function rW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(n),!0).forEach(function(r){TVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TVe(t,e,n){return e=PVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PVe(t){var e=NVe(t,"string");return Ch(e)=="symbol"?e:e+""}function NVe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}function iW(t,e){if(t==null)return{};var n=RVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OVe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return ee.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Rte(t,e){var n;if(ee.isValidElement(t))n=ee.cloneElement(t,e);else if(zt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=iW(e,MVe),c=Pt(l,!1);c.offset;var d=iW(c,AVe);n=ee.createElement("line",Df({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function IVe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Fi(Fi({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Rte(i,c)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kVe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Fi(Fi({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Rte(i,c)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DVe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,g){return f-g});i!==d[0]&&d.unshift(0);var u=d.map(function(f,g){var v=!d[g+1],y=v?i+o-f:d[g+1]-f;if(y<=0)return null;var m=g%e.length;return ee.createElement("rect",{key:"react-".concat(g),y:f,x:r,height:y,width:s,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function LVe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,g){return f-g});s!==d[0]&&d.unshift(0);var u=d.map(function(f,g){var v=!d[g+1],y=v?s+a-f:d[g+1]-f;if(y<=0)return null;var m=g%r.length;return ee.createElement("rect",{key:"react-".concat(g),x:f,y:o,width:y,height:l,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var jVe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return Tee(i4(Fi(Fi(Fi({},$v.defaultProps),r),{},{ticks:Sc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},FVe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return Tee(i4(Fi(Fi(Fi({},$v.defaultProps),r),{},{ticks:Sc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Pp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ju(t){var e,n,r,i,s,o,a=e4(),l=t4(),c=C8e(),d=Fi(Fi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Pp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Pp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pp.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Pp.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Pp.verticalFill,x:et(t.x)?t.x:c.left,y:et(t.y)?t.y:c.top,width:et(t.width)?t.width:c.width,height:et(t.height)?t.height:c.height}),u=d.x,f=d.y,g=d.width,v=d.height,y=d.syncWithTicks,m=d.horizontalValues,p=d.verticalValues,x=w8e(),_=S8e();if(!et(g)||g<=0||!et(v)||v<=0||!et(u)||u!==+u||!et(f)||f!==+f)return null;var b=d.verticalCoordinatesGenerator||jVe,S=d.horizontalCoordinatesGenerator||FVe,C=d.horizontalPoints,M=d.verticalPoints;if((!C||!C.length)&&zt(S)){var T=m&&m.length,P=S({yAxis:_?Fi(Fi({},_),{},{ticks:T?m:_.ticks}):void 0,width:a,height:l,offset:c},T?!0:y);Ia(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ch(P),"]")),Array.isArray(P)&&(C=P)}if((!M||!M.length)&&zt(b)){var N=p&&p.length,I=b({xAxis:x?Fi(Fi({},x),{},{ticks:N?p:x.ticks}):void 0,width:a,height:l,offset:c},N?!0:y);Ia(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ch(I),"]")),Array.isArray(I)&&(M=I)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(OVe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ee.createElement(IVe,Df({},d,{offset:c,horizontalPoints:C,xAxis:x,yAxis:_})),ee.createElement(kVe,Df({},d,{offset:c,verticalPoints:M,xAxis:x,yAxis:_})),ee.createElement(DVe,Df({},d,{horizontalPoints:C})),ee.createElement(LVe,Df({},d,{verticalPoints:M})))}Ju.displayName="CartesianGrid";var BVe=["type","layout","connectNulls","ref"],UVe=["key"];function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function sW(t,e){if(t==null)return{};var n=zVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function oW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oW(Object(n),!0).forEach(function(r){va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Np(t){return WVe(t)||VVe(t)||HVe(t)||$Ve()}function $Ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HVe(t,e){if(t){if(typeof t=="string")return XD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(t,e)}}function VVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WVe(t){if(Array.isArray(t))return XD(t)}function XD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ite(r.key),r)}}function XVe(t,e,n){return e&&aW(t.prototype,e),n&&aW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qVe(t,e,n){return e=rM(e),KVe(t,Ote()?Reflect.construct(e,n||[],rM(t).constructor):e.apply(t,n))}function KVe(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YVe(t)}function YVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!t})()}function rM(t){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rM(t)}function ZVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qD(t,e)}function qD(t,e){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qD(t,e)}function va(t,e,n){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=QVe(t,"string");return Gg(e)=="symbol"?e:e+""}function QVe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bo=function(t){function e(){var n;GVe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=qVe(this,e,[].concat(i)),va(n,"state",{isAnimationFinished:!0,totalLength:0}),va(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),va(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(p,x){return p+x});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/c),u=o%c,f=a-o,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>u){g=[].concat(Np(l.slice(0,v)),[u-y]);break}var m=g.length%2===0?[0,f]:[f];return[].concat(Np(e.repeat(l,d)),Np(g),m).map(function(p){return"".concat(p,"px")}).join(", ")}),va(n,"id",Hh("recharts-line-")),va(n,"pathRef",function(o){n.mainCurve=o}),va(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),va(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ZVe(e,t),XVe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=so(d,Ab);if(!u)return null;var f=function(y,m){return{x:y.x,y:y.y,value:y.value,errorVal:Rr(y.payload,m)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(fn,g,u.map(function(v){return ee.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,u=Pt(this.props,!1),f=Pt(l,!0),g=c.map(function(y,m){var p=Vs(Vs(Vs({key:"dot-".concat(m),r:3},u),f),{},{index:m,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,p)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ee.createElement(fn,q0({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var u=sW(a,BVe),f=Vs(Vs(Vs({},Pt(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:d});return ee.createElement(Jf,q0({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,u=o.animationDuration,f=o.animationEasing,g=o.animationId,v=o.animateNewValues,y=o.width,m=o.height,p=this.state,x=p.prevPoints,_=p.totalLength;return ee.createElement(Ua,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(x){var C=x.length/a.length,M=a.map(function(k,j){var F=Math.floor(j*C);if(x[F]){var B=x[F],U=Zr(B.x,k.x),H=Zr(B.y,k.y);return Vs(Vs({},k),{},{x:U(S),y:H(S)})}if(v){var R=Zr(y*2,k.x),L=Zr(m/2,k.y);return Vs(Vs({},k),{},{x:R(S),y:L(S)})}return Vs(Vs({},k),{},{x:k.x,y:k.y})});return s.renderCurveStatically(M,r,i)}var T=Zr(0,_),P=T(S),N;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});N=s.getStrokeDasharray(P,_,I)}else N=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&o&&o.length&&(!c&&d>0||!bh(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,u=i.top,f=i.left,g=i.width,v=i.height,y=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,x=a.length===1,_=Yt("recharts-line",l),b=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,C=b||S,M=Xt(m)?this.id:m,T=(r=Pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,I=T.strokeWidth,k=I===void 0?2:I,j=vQ(o)?o:{},F=j.clipDot,B=F===void 0?!0:F,U=N*2+k;return ee.createElement(fn,{className:_},b||S?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(M)},ee.createElement("rect",{x:b?f:f-g/2,y:S?u:u-v/2,width:b?g:g*2,height:S?v:v*2})),!B&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ee.createElement("rect",{x:f-U/2,y:u-U/2,width:g+U,height:v+U}))):null,!x&&this.renderCurve(C,M),this.renderErrorBar(C,M),(x||o)&&this.renderDots(C,B,M),(!y||p)&&Sl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Np(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Np(o),Np(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ee.isValidElement(r))s=ee.cloneElement(r,i);else if(zt(r))s=r(i);else{var o=i.key,a=sW(i,UVe),l=Yt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ee.createElement(Tb,q0({key:o},a,{className:l}))}return s}}])}(A.PureComponent);va(Bo,"displayName","Line");va(Bo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ka.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});va(Bo,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,u=l.map(function(f,g){var v=Rr(f,o);return d==="horizontal"?{x:kC({axis:n,ticks:i,bandSize:a,entry:f,index:g}),y:Xt(v)?null:r.scale(v),value:v,payload:f}:{x:Xt(v)?null:n.scale(v),y:kC({axis:r,ticks:s,bandSize:a,entry:f,index:g}),value:v,payload:f}});return Vs({points:u,layout:d},c)});var JVe=["layout","type","stroke","connectNulls","isRange","ref"],eWe=["key"],kte;function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Dte(t,e){if(t==null)return{};var n=tWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jte(r.key),r)}}function rWe(t,e,n){return e&&cW(t.prototype,e),n&&cW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iWe(t,e,n){return e=iM(e),sWe(t,Lte()?Reflect.construct(e,n||[],iM(t).constructor):e.apply(t,n))}function sWe(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oWe(t)}function oWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lte=function(){return!!t})()}function iM(t){return iM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iM(t)}function aWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KD(t,e)}function KD(t,e){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KD(t,e)}function ml(t,e,n){return e=jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=lWe(t,"string");return Xg(e)=="symbol"?e:e+""}function lWe(t,e){if(Xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tu=function(t){function e(){var n;nWe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=iWe(this,e,[].concat(i)),ml(n,"state",{isAnimationFinished:!0}),ml(n,"id",Hh("recharts-area-")),ml(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),zt(o)&&o()}),ml(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),zt(o)&&o()}),n}return aWe(e,t),rWe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Pt(this.props,!1),g=Pt(c,!0),v=d.map(function(m,p){var x=Nu(Nu(Nu({key:"dot-".concat(p),r:3},f),g),{},{index:p,cx:m.x,cy:m.y,dataKey:u,value:m.value,payload:m.payload,points:d});return e.renderDotItem(c,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ee.createElement(fn,Lf({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=r*Math.abs(l-c),u=Zu(o.map(function(f){return f.y||0}));return et(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Zu(s.map(function(f){return f.y||0})),u)),et(u)?ee.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(u+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=r*Math.abs(l-c),u=Zu(o.map(function(f){return f.x||0}));return et(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Zu(s.map(function(f){return f.x||0})),u)),et(u)?ee.createElement("rect",{x:0,y:l<c?l:l-d,width:u+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,c=a.type,d=a.stroke,u=a.connectNulls,f=a.isRange;a.ref;var g=Dte(a,JVe);return ee.createElement(fn,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ee.createElement(Jf,Lf({},Pt(g,!0),{points:r,connectNulls:u,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ee.createElement(Jf,Lf({},Pt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r})),d!=="none"&&f&&ee.createElement(Jf,Lf({},Pt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,u=o.animationDuration,f=o.animationEasing,g=o.animationId,v=this.state,y=v.prevPoints,m=v.prevBaseLine;return ee.createElement(Ua,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t;if(y){var _=y.length/a.length,b=a.map(function(T,P){var N=Math.floor(P*_);if(y[N]){var I=y[N],k=Zr(I.x,T.x),j=Zr(I.y,T.y);return Nu(Nu({},T),{},{x:k(x),y:j(x)})}return T}),S;if(et(l)&&typeof l=="number"){var C=Zr(m,l);S=C(x)}else if(Xt(l)||Lv(l)){var M=Zr(m,0);S=M(x)}else S=l.map(function(T,P){var N=Math.floor(P*_);if(m[N]){var I=m[N],k=Zr(I.x,T.x),j=Zr(I.y,T.y);return Nu(Nu({},T),{},{x:k(x),y:j(x)})}return T});return s.renderAreaStatically(b,S,r,i)}return ee.createElement(fn,null,ee.createElement("defs",null,ee.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(x))),ee.createElement(fn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,c=this.state,d=c.prevPoints,u=c.prevBaseLine,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!bh(d,o)||!bh(u,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.top,d=i.left,u=i.xAxis,f=i.yAxis,g=i.width,v=i.height,y=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,x=a.length===1,_=Yt("recharts-area",l),b=u&&u.allowDataOverflow,S=f&&f.allowDataOverflow,C=b||S,M=Xt(m)?this.id:m,T=(r=Pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,I=T.strokeWidth,k=I===void 0?2:I,j=vQ(o)?o:{},F=j.clipDot,B=F===void 0?!0:F,U=N*2+k;return ee.createElement(fn,{className:_},b||S?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(M)},ee.createElement("rect",{x:b?d:d-g/2,y:S?c:c-v/2,width:b?g:g*2,height:S?v:v*2})),!B&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ee.createElement("rect",{x:d-U/2,y:c-U/2,width:g+U,height:v+U}))):null,x?null:this.renderArea(C,M),(o||x)&&this.renderDots(C,B,M),(!y||p)&&Sl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(A.PureComponent);kte=tu;ml(tu,"displayName","Area");ml(tu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ka.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ml(tu,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(et(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return a==="dataMin"?u:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});ml(tu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,u=t.displayedData,f=t.offset,g=e.layout,v=c&&c.length,y=kte.getBaseValue(e,n,r,i),m=g==="horizontal",p=!1,x=u.map(function(b,S){var C;v?C=c[d+S]:(C=Rr(b,l),Array.isArray(C)?p=!0:C=[y,C]);var M=C[1]==null||v&&Rr(b,l)==null;return m?{x:kC({axis:r,ticks:s,bandSize:a,entry:b,index:S}),y:M?null:i.scale(C[1]),value:C,payload:b}:{x:M?null:r.scale(C[1]),y:kC({axis:i,ticks:o,bandSize:a,entry:b,index:S}),value:C,payload:b}}),_;return v||p?_=x.map(function(b){var S=Array.isArray(b.value)?b.value[0]:null;return m?{x:b.x,y:S!=null&&b.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:b.y}}):_=m?i.scale(y):r.scale(y),Nu({points:x,baseLine:_,layout:g,isRange:p},f)});ml(tu,"renderDotItem",function(t,e){var n;if(ee.isValidElement(t))n=ee.cloneElement(t,e);else if(zt(t))n=t(e);else{var r=Yt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Dte(e,eWe);n=ee.createElement(Tb,Lf({},s,{key:i,className:r}))}return n});function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function cWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ute(r.key),r)}}function dWe(t,e,n){return e&&uWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fWe(t,e,n){return e=sM(e),hWe(t,Fte()?Reflect.construct(e,n||[],sM(t).constructor):e.apply(t,n))}function hWe(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pWe(t)}function pWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!t})()}function sM(t){return sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sM(t)}function mWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YD(t,e)}function YD(t,e){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YD(t,e)}function Bte(t,e,n){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=gWe(t,"string");return qg(e)=="symbol"?e:e+""}function gWe(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZD(){return ZD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZD.apply(this,arguments)}function vWe(t){var e=t.xAxisId,n=e4(),r=t4(),i=_te(e);return i==null?null:ee.createElement($v,ZD({},i,{className:Yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Sc(o,!0)}}))}var eo=function(t){function e(){return cWe(this,e),fWe(this,e,arguments)}return mWe(e,t),dWe(e,[{key:"render",value:function(){return ee.createElement(vWe,this.props)}}])}(ee.Component);Bte(eo,"displayName","XAxis");Bte(eo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function yWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hte(r.key),r)}}function _We(t,e,n){return e&&xWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bWe(t,e,n){return e=oM(e),wWe(t,zte()?Reflect.construct(e,n||[],oM(t).constructor):e.apply(t,n))}function wWe(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SWe(t)}function SWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zte=function(){return!!t})()}function oM(t){return oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oM(t)}function EWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QD(t,e)}function $te(t,e,n){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=CWe(t,"string");return Kg(e)=="symbol"?e:e+""}function CWe(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JD(){return JD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JD.apply(this,arguments)}var MWe=function(e){var n=e.yAxisId,r=e4(),i=t4(),s=bte(n);return s==null?null:ee.createElement($v,JD({},s,{className:Yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Sc(a,!0)}}))},to=function(t){function e(){return yWe(this,e),bWe(this,e,arguments)}return EWe(e,t),_We(e,[{key:"render",value:function(){return ee.createElement(MWe,this.props)}}])}(ee.Component);$te(to,"displayName","YAxis");$te(to,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uW(t){return NWe(t)||PWe(t)||TWe(t)||AWe()}function AWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TWe(t,e){if(t){if(typeof t=="string")return eL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(t,e)}}function PWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NWe(t){if(Array.isArray(t))return eL(t)}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tL=function(e,n,r,i,s){var o=so(e,r4),a=so(e,$T),l=[].concat(uW(o),uW(a)),c=so(e,VT),d="".concat(i,"Id"),u=i[0],f=n;if(l.length&&(f=l.reduce(function(y,m){if(m.props[d]===r&&El(m.props,"extendDomain")&&et(m.props[u])){var p=m.props[u];return[Math.min(y[0],p),Math.max(y[1],p)]}return y},f)),c.length){var g="".concat(u,"1"),v="".concat(u,"2");f=c.reduce(function(y,m){if(m.props[d]===r&&El(m.props,"extendDomain")&&et(m.props[g])&&et(m.props[v])){var p=m.props[g],x=m.props[v];return[Math.min(y[0],p,x),Math.max(y[1],p,x)]}return y},f)}return s&&s.length&&(f=s.reduce(function(y,m){return et(m)?[Math.min(y[0],m),Math.max(y[1],m)]:y},f)),f},Vte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,u||l,f),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,g=u.length,v=new Array(g);f<g;f++)v[f]=u[f].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,g,v){var y=n?n+c:c;if(!this._events[y])return!1;var m=this._events[y],p=arguments.length,x,_;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,u),!0;case 4:return m.fn.call(m.context,d,u,f),!0;case 5:return m.fn.call(m.context,d,u,f,g),!0;case 6:return m.fn.call(m.context,d,u,f,g,v),!0}for(_=1,x=new Array(p-1);_<p;_++)x[_-1]=arguments[_];m.fn.apply(m.context,x)}else{var b=m.length,S;for(_=0;_<b;_++)switch(m[_].once&&this.removeListener(c,m[_].fn,void 0,!0),p){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,d);break;case 3:m[_].fn.call(m[_].context,d,u);break;case 4:m[_].fn.call(m[_].context,d,u,f);break;default:if(!x)for(S=1,x=new Array(p-1);S<p;S++)x[S-1]=arguments[S];m[_].fn.apply(m[_].context,x)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!f||v.once)&&(!u||v.context===u)&&o(this,g);else{for(var y=0,m=[],p=v.length;y<p;y++)(v[y].fn!==d||f&&!v[y].once||u&&v[y].context!==u)&&m.push(v[y]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Vte);var RWe=Vte.exports;const OWe=Nn(RWe);var OR=new OWe,IR="recharts.syncMouseEvents";function p_(t){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(t)}function IWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wte(r.key),r)}}function DWe(t,e,n){return e&&kWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t,e,n){return e=Wte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=LWe(t,"string");return p_(e)=="symbol"?e:e+""}function LWe(t,e){if(p_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jWe=function(){function t(){IWe(this,t),kR(this,"activeIndex",0),kR(this,"coordinateList",[]),kR(this,"layout","horizontal")}return DWe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,d=n.offset,u=d===void 0?null:d,f=n.mouseHandlerCallback,g=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=s+l+c,f=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])}();function FWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&et(r)&&et(i))return!0}return!1}function BWe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Gte(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Zn(e,n,r,i),a=Zn(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function UWe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,u=e.angle,f=Zn(a,l,c,u),g=Zn(a,l,d,u);r=f.x,i=f.y,s=g.x,o=g.y}else return Gte(e);return[{x:r,y:i},{x:s,y:o}]}function m_(t){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(t)}function dW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(n),!0).forEach(function(r){zWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zWe(t,e,n){return e=$We(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $We(t){var e=HWe(t,"string");return m_(e)=="symbol"?e:e+""}function HWe(t,e){if(m_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(m_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VWe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,u=t.layout,f=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,y=Jf;if(f==="ScatterChart")v=o,y=Qze;else if(f==="BarChart")v=BWe(u,o,l,d),y=KF;else if(u==="radial"){var m=Gte(o),p=m.cx,x=m.cy,_=m.radius,b=m.startAngle,S=m.endAngle;v={cx:p,cy:x,startAngle:b,endAngle:S,innerRadius:_,outerRadius:_},y=Bee}else v={points:UWe(u,o,l)},y=Jf;var C=B1(B1(B1(B1({stroke:"#ccc",pointerEvents:"none"},l),v),Pt(g,!1)),{},{payload:a,payloadIndex:c,className:Yt("recharts-tooltip-cursor",g.className)});return A.isValidElement(g)?A.cloneElement(g,C):A.createElement(y,C)}var WWe=["item"],GWe=["children","className","width","height","style","compact","title","desc"];function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function fW(t,e){return KWe(t)||qWe(t,e)||qte(t,e)||XWe()}function XWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function KWe(t){if(Array.isArray(t))return t}function hW(t,e){if(t==null)return{};var n=YWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kte(r.key),r)}}function JWe(t,e,n){return e&&QWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eGe(t,e,n){return e=aM(e),tGe(t,Xte()?Reflect.construct(e,n||[],aM(t).constructor):e.apply(t,n))}function tGe(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nGe(t)}function nGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xte=function(){return!!t})()}function aM(t){return aM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aM(t)}function rGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nL(t,e)}function nL(t,e){return nL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nL(t,e)}function Zg(t){return oGe(t)||sGe(t)||qte(t)||iGe()}function iGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(t,e){if(t){if(typeof t=="string")return rL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rL(t,e)}}function sGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oGe(t){if(Array.isArray(t))return rL(t)}function rL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(n),!0).forEach(function(r){Ut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ut(t,e,n){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=aGe(t,"string");return Yg(e)=="symbol"?e:e+""}function aGe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lGe={xAxis:["bottom","top"],yAxis:["left","right"]},cGe={width:"100%",height:"100%"},Yte={x:0,y:0};function U1(t){return t}var uGe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dGe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Fe(Fe(Fe({},i),Zn(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Fe(Fe(Fe({},i),Zn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Yte},WT=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Zg(a),Zg(c)):a},[]);return o.length>0?o:e&&e.length&&et(i)&&et(s)?e.slice(i,s+1):[]};function Zte(t){return t==="number"?[0,"auto"]:void 0}var iL=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=WT(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var d,u=(d=c.props.data)!==null&&d!==void 0?d:n;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var g=u===void 0?a:u;f=oC(g,o.dataKey,i)}else f=u&&u[r]||a[r];return f?[].concat(Zg(l),[Iee(c,f)]):l},[])},mW=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=uGe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=wBe(o,a,c,l);if(d>=0&&c){var u=c[d]&&c[d].value,f=iL(e,n,d,u),g=dGe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:u,activePayload:f,activeCoordinate:g}}return null},fGe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,u=e.children,f=e.stackOffset,g=Aee(d,s);return r.reduce(function(v,y){var m,p=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,x=p.type,_=p.dataKey,b=p.allowDataOverflow,S=p.allowDuplicatedCategory,C=p.scale,M=p.ticks,T=p.includeHidden,P=p[o];if(v[P])return v;var N=WT(e.data,{graphicalItems:i.filter(function(G){var q,ne=o in G.props?G.props[o]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[o];return ne===P}),dataStartIndex:l,dataEndIndex:c}),I=N.length,k,j,F;FWe(p.domain,b,x)&&(k=vD(p.domain,null,b),g&&(x==="number"||C!=="auto")&&(F=V0(N,_,"category")));var B=Zte(x);if(!k||k.length===0){var U,H=(U=p.domain)!==null&&U!==void 0?U:B;if(_){if(k=V0(N,_,x),x==="category"&&g){var R=aAe(k);S&&R?(j=k,k=XC(0,I)):S||(k=D8(H,k,y).reduce(function(G,q){return G.indexOf(q)>=0?G:[].concat(Zg(G),[q])},[]))}else if(x==="category")S?k=k.filter(function(G){return G!==""&&!Xt(G)}):k=D8(H,k,y).reduce(function(G,q){return G.indexOf(q)>=0||q===""||Xt(q)?G:[].concat(Zg(G),[q])},[]);else if(x==="number"){var L=ABe(N,i.filter(function(G){var q,ne,ae=o in G.props?G.props[o]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[o],se="hide"in G.props?G.props.hide:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ae===P&&(T||!se)}),_,s,d);L&&(k=L)}g&&(x==="number"||C!=="auto")&&(F=V0(N,_,"category"))}else g?k=XC(0,I):a&&a[P]&&a[P].hasStack&&x==="number"?k=f==="expand"?[0,1]:Oee(a[P].stackGroups,l,c):k=Mee(N,i.filter(function(G){var q=o in G.props?G.props[o]:G.type.defaultProps[o],ne="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return q===P&&(T||!ne)}),x,d,!0);if(x==="number")k=tL(u,k,P,s,M),H&&(k=vD(H,k,b));else if(x==="category"&&H){var z=H,W=k.every(function(G){return z.indexOf(G)>=0});W&&(k=z)}}return Fe(Fe({},v),{},Ut({},P,Fe(Fe({},p),{},{axisType:s,domain:k,categoricalDomain:F,duplicateDomain:j,originalDomain:(m=p.domain)!==null&&m!==void 0?m:B,isCategorical:g,layout:d})))},{})},hGe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,u=e.children,f=WT(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=f.length,v=Aee(d,s),y=-1;return r.reduce(function(m,p){var x=p.type.defaultProps!==void 0?Fe(Fe({},p.type.defaultProps),p.props):p.props,_=x[o],b=Zte("number");if(!m[_]){y++;var S;return v?S=XC(0,g):a&&a[_]&&a[_].hasStack?(S=Oee(a[_].stackGroups,l,c),S=tL(u,S,_,s)):(S=vD(b,Mee(f,r.filter(function(C){var M,T,P=o in C.props?C.props[o]:(M=C.type.defaultProps)===null||M===void 0?void 0:M[o],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===_&&!N}),"number",d),i.defaultProps.allowDataOverflow),S=tL(u,S,_,s)),Fe(Fe({},m),{},Ut({},_,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:io(lGe,"".concat(s,".").concat(y%2),null),domain:S,originalDomain:b,isCategorical:v,layout:d})))}return m},{})},pGe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,u="".concat(i,"Id"),f=so(d,s),g={};return f&&f.length?g=fGe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=hGe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),g},mGe=function(e){var n=Lu(e),r=Sc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wF(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:DC(n,r)}},gW=function(e){var n=e.children,r=e.defaultShowTooltip,i=qs(n,Ug),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},gGe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Mc(n&&n.type);return r&&r.indexOf("Bar")>=0})},vW=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vGe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,u=r.children,f=r.margin||{},g=qs(u,Ug),v=qs(u,Yf),y=Object.keys(l).reduce(function(S,C){var M=l[C],T=M.orientation;return!M.mirror&&!M.hide?Fe(Fe({},S),{},Ut({},T,S[T]+M.width)):S},{left:f.left||0,right:f.right||0}),m=Object.keys(o).reduce(function(S,C){var M=o[C],T=M.orientation;return!M.mirror&&!M.hide?Fe(Fe({},S),{},Ut({},T,io(S,"".concat(T))+M.height)):S},{top:f.top||0,bottom:f.bottom||0}),p=Fe(Fe({},m),y),x=p.bottom;g&&(p.bottom+=g.props.height||Ug.defaultProps.height),v&&n&&(p=CBe(p,i,r,n));var _=c-p.left-p.right,b=d-p.top-p.bottom;return Fe(Fe({brushBottom:x},p),{},{width:Math.max(_,0),height:Math.max(b,0)})},yGe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},GT=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,f=function(p,x){var _=x.graphicalItems,b=x.stackGroups,S=x.offset,C=x.updateId,M=x.dataStartIndex,T=x.dataEndIndex,P=p.barSize,N=p.layout,I=p.barGap,k=p.barCategoryGap,j=p.maxBarSize,F=vW(N),B=F.numericAxisName,U=F.cateAxisName,H=gGe(_),R=[];return _.forEach(function(L,z){var W=WT(p.data,{graphicalItems:[L],dataStartIndex:M,dataEndIndex:T}),G=L.type.defaultProps!==void 0?Fe(Fe({},L.type.defaultProps),L.props):L.props,q=G.dataKey,ne=G.maxBarSize,ae=G["".concat(B,"Id")],se=G["".concat(U,"Id")],$={},Y=l.reduce(function(rt,Je){var ie=x["".concat(Je.axisType,"Map")],Z=G["".concat(Je.axisType,"Id")];ie&&ie[Z]||Je.axisType==="zAxis"||Sh();var ve=ie[Z];return Fe(Fe({},rt),{},Ut(Ut({},Je.axisType,ve),"".concat(Je.axisType,"Ticks"),Sc(ve)))},$),Q=Y[U],te=Y["".concat(U,"Ticks")],ue=b&&b[ae]&&b[ae].hasStack&&LBe(L,b[ae].stackGroups),J=Mc(L.type).indexOf("Bar")>=0,K=DC(Q,te),re=[],fe=H&&SBe({barSize:P,stackGroups:b,totalSize:yGe(Y,U)});if(J){var me,pe,Ae=Xt(ne)?j:ne,Ce=(me=(pe=DC(Q,te,!0))!==null&&pe!==void 0?pe:Ae)!==null&&me!==void 0?me:0;re=EBe({barGap:I,barCategoryGap:k,bandSize:Ce!==K?Ce:K,sizeList:fe[se],maxBarSize:Ae}),Ce!==K&&(re=re.map(function(rt){return Fe(Fe({},rt),{},{position:Fe(Fe({},rt.position),{},{offset:rt.position.offset-Ce/2})})}))}var ke=L&&L.type&&L.type.getComposedData;ke&&R.push({props:Fe(Fe({},ke(Fe(Fe({},Y),{},{displayedData:W,props:p,dataKey:q,item:L,bandSize:K,barPosition:re,offset:S,stackedData:ue,layout:N,dataStartIndex:M,dataEndIndex:T}))),{},Ut(Ut(Ut({key:L.key||"item-".concat(z)},B,Y[B]),U,Y[U]),"animationId",C)),childIndex:yAe(L,p.children),item:L})}),R},g=function(p,x){var _=p.props,b=p.dataStartIndex,S=p.dataEndIndex,C=p.updateId;if(!TH({props:_}))return null;var M=_.children,T=_.layout,P=_.stackOffset,N=_.data,I=_.reverseStackOrder,k=vW(T),j=k.numericAxisName,F=k.cateAxisName,B=so(M,r),U=kBe(N,B,"".concat(j,"Id"),"".concat(F,"Id"),P,I),H=l.reduce(function(G,q){var ne="".concat(q.axisType,"Map");return Fe(Fe({},G),{},Ut({},ne,pGe(_,Fe(Fe({},q),{},{graphicalItems:B,stackGroups:q.axisType===j&&U,dataStartIndex:b,dataEndIndex:S}))))},{}),R=vGe(Fe(Fe({},H),{},{props:_,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(H).forEach(function(G){H[G]=d(_,H[G],R,G.replace("Map",""),n)});var L=H["".concat(F,"Map")],z=mGe(L),W=f(_,Fe(Fe({},H),{},{dataStartIndex:b,dataEndIndex:S,updateId:C,graphicalItems:B,stackGroups:U,offset:R}));return Fe(Fe({formattedGraphicalItems:W,graphicalItems:B,offset:R,stackGroups:U},z),H)},v=function(m){function p(x){var _,b,S;return ZWe(this,p),S=eGe(this,p,[x]),Ut(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ut(S,"accessibilityManager",new jWe),Ut(S,"handleLegendBBoxUpdate",function(C){if(C){var M=S.state,T=M.dataStartIndex,P=M.dataEndIndex,N=M.updateId;S.setState(Fe({legendBBox:C},g({props:S.props,dataStartIndex:T,dataEndIndex:P,updateId:N},Fe(Fe({},S.state),{},{legendBBox:C}))))}}),Ut(S,"handleReceiveSyncEvent",function(C,M,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(M)}}),Ut(S,"handleBrushChange",function(C){var M=C.startIndex,T=C.endIndex;if(M!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Fe({dataStartIndex:M,dataEndIndex:T},g({props:S.props,dataStartIndex:M,dataEndIndex:T,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:M,dataEndIndex:T})}}),Ut(S,"handleMouseEnter",function(C){var M=S.getMouseInfo(C);if(M){var T=Fe(Fe({},M),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseEnter;zt(P)&&P(T,C)}}),Ut(S,"triggeredAfterMouseMove",function(C){var M=S.getMouseInfo(C),T=M?Fe(Fe({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseMove;zt(P)&&P(T,C)}),Ut(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ut(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ut(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),Ut(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseLeave;zt(T)&&T(M,C)}),Ut(S,"handleOuterEvent",function(C){var M=vAe(C),T=io(S.props,"".concat(M));if(M&&zt(T)){var P,N;/.*touch.*/i.test(M)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),T((P=N)!==null&&P!==void 0?P:{},C)}}),Ut(S,"handleClick",function(C){var M=S.getMouseInfo(C);if(M){var T=Fe(Fe({},M),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onClick;zt(P)&&P(T,C)}}),Ut(S,"handleMouseDown",function(C){var M=S.props.onMouseDown;if(zt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Ut(S,"handleMouseUp",function(C){var M=S.props.onMouseUp;if(zt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Ut(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ut(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),Ut(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),Ut(S,"handleDoubleClick",function(C){var M=S.props.onDoubleClick;if(zt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Ut(S,"handleContextMenu",function(C){var M=S.props.onContextMenu;if(zt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Ut(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&OR.emit(IR,S.props.syncId,C,S.eventEmitterSymbol)}),Ut(S,"applySyncEvent",function(C){var M=S.props,T=M.layout,P=M.syncMethod,N=S.state.updateId,I=C.dataStartIndex,k=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Fe({dataStartIndex:I,dataEndIndex:k},g({props:S.props,dataStartIndex:I,dataEndIndex:k,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var j=C.chartX,F=C.chartY,B=C.activeTooltipIndex,U=S.state,H=U.offset,R=U.tooltipTicks;if(!H)return;if(typeof P=="function")B=P(R,C);else if(P==="value"){B=-1;for(var L=0;L<R.length;L++)if(R[L].value===C.activeLabel){B=L;break}}var z=Fe(Fe({},H),{},{x:H.left,y:H.top}),W=Math.min(j,z.x+z.width),G=Math.min(F,z.y+z.height),q=R[B]&&R[B].value,ne=iL(S.state,S.props.data,B),ae=R[B]?{x:T==="horizontal"?R[B].coordinate:W,y:T==="horizontal"?G:R[B].coordinate}:Yte;S.setState(Fe(Fe({},C),{},{activeLabel:q,activeCoordinate:ae,activePayload:ne,activeTooltipIndex:B}))}else S.setState(C)}),Ut(S,"renderCursor",function(C){var M,T=S.state,P=T.isTooltipActive,N=T.activeCoordinate,I=T.activePayload,k=T.offset,j=T.activeTooltipIndex,F=T.tooltipAxisBandSize,B=S.getTooltipEventType(),U=(M=C.props.active)!==null&&M!==void 0?M:P,H=S.props.layout,R=C.key||"_recharts-cursor";return ee.createElement(VWe,{key:R,activeCoordinate:N,activePayload:I,activeTooltipIndex:j,chartName:n,element:C,isActive:U,layout:H,offset:k,tooltipAxisBandSize:F,tooltipEventType:B})}),Ut(S,"renderPolarAxis",function(C,M,T){var P=io(C,"type.axisType"),N=io(S.state,"".concat(P,"Map")),I=C.type.defaultProps,k=I!==void 0?Fe(Fe({},I),C.props):C.props,j=N&&N[k["".concat(P,"Id")]];return A.cloneElement(C,Fe(Fe({},j),{},{className:Yt(P,j.className),key:C.key||"".concat(M,"-").concat(T),ticks:Sc(j,!0)}))}),Ut(S,"renderPolarGrid",function(C){var M=C.props,T=M.radialLines,P=M.polarAngles,N=M.polarRadius,I=S.state,k=I.radiusAxisMap,j=I.angleAxisMap,F=Lu(k),B=Lu(j),U=B.cx,H=B.cy,R=B.innerRadius,L=B.outerRadius;return A.cloneElement(C,{polarAngles:Array.isArray(P)?P:Sc(B,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:Sc(F,!0).map(function(z){return z.coordinate}),cx:U,cy:H,innerRadius:R,outerRadius:L,key:C.key||"polar-grid",radialLines:T})}),Ut(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,M=S.props,T=M.children,P=M.width,N=M.height,I=S.props.margin||{},k=P-(I.left||0)-(I.right||0),j=Eee({children:T,formattedGraphicalItems:C,legendWidth:k,legendContent:c});if(!j)return null;var F=j.item,B=hW(j,WWe);return A.cloneElement(F,Fe(Fe({},B),{},{chartWidth:P,chartHeight:N,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ut(S,"renderTooltip",function(){var C,M=S.props,T=M.children,P=M.accessibilityLayer,N=qs(T,hi);if(!N)return null;var I=S.state,k=I.isTooltipActive,j=I.activeCoordinate,F=I.activePayload,B=I.activeLabel,U=I.offset,H=(C=N.props.active)!==null&&C!==void 0?C:k;return A.cloneElement(N,{viewBox:Fe(Fe({},U),{},{x:U.left,y:U.top}),active:H,label:B,payload:H?F:[],coordinate:j,accessibilityLayer:P})}),Ut(S,"renderBrush",function(C){var M=S.props,T=M.margin,P=M.data,N=S.state,I=N.offset,k=N.dataStartIndex,j=N.dataEndIndex,F=N.updateId;return A.cloneElement(C,{key:C.key||"_recharts-brush",onChange:D1(S.handleBrushChange,C.props.onChange),data:P,x:et(C.props.x)?C.props.x:I.left,y:et(C.props.y)?C.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:et(C.props.width)?C.props.width:I.width,startIndex:k,endIndex:j,updateId:"brush-".concat(F)})}),Ut(S,"renderReferenceElement",function(C,M,T){if(!C)return null;var P=S,N=P.clipPathId,I=S.state,k=I.xAxisMap,j=I.yAxisMap,F=I.offset,B=C.type.defaultProps||{},U=C.props,H=U.xAxisId,R=H===void 0?B.xAxisId:H,L=U.yAxisId,z=L===void 0?B.yAxisId:L;return A.cloneElement(C,{key:C.key||"".concat(M,"-").concat(T),xAxis:k[R],yAxis:j[z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),Ut(S,"renderActivePoints",function(C){var M=C.item,T=C.activePoint,P=C.basePoint,N=C.childIndex,I=C.isRange,k=[],j=M.props.key,F=M.item.type.defaultProps!==void 0?Fe(Fe({},M.item.type.defaultProps),M.item.props):M.item.props,B=F.activeDot,U=F.dataKey,H=Fe(Fe({index:N,dataKey:U,cx:T.x,cy:T.y,r:4,fill:qF(M.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Pt(B,!1)),aC(B));return k.push(p.renderActiveDot(B,H,"".concat(j,"-activePoint-").concat(N))),P?k.push(p.renderActiveDot(B,Fe(Fe({},H),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(N))):I&&k.push(null),k}),Ut(S,"renderGraphicChild",function(C,M,T){var P=S.filterFormatItem(C,M,T);if(!P)return null;var N=S.getTooltipEventType(),I=S.state,k=I.isTooltipActive,j=I.tooltipAxis,F=I.activeTooltipIndex,B=I.activeLabel,U=S.props.children,H=qs(U,hi),R=P.props,L=R.points,z=R.isRange,W=R.baseLine,G=P.item.type.defaultProps!==void 0?Fe(Fe({},P.item.type.defaultProps),P.item.props):P.item.props,q=G.activeDot,ne=G.hide,ae=G.activeBar,se=G.activeShape,$=!!(!ne&&k&&H&&(q||ae||se)),Y={};N!=="axis"&&H&&H.props.trigger==="click"?Y={onClick:D1(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Y={onMouseLeave:D1(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:D1(S.handleItemMouseEnter,C.props.onMouseEnter)});var Q=A.cloneElement(C,Fe(Fe({},P.props),Y));function te(Je){return typeof j.dataKey=="function"?j.dataKey(Je.payload):null}if($)if(F>=0){var ue,J;if(j.dataKey&&!j.allowDuplicatedCategory){var K=typeof j.dataKey=="function"?te:"payload.".concat(j.dataKey.toString());ue=oC(L,K,B),J=z&&W&&oC(W,K,B)}else ue=L==null?void 0:L[F],J=z&&W&&W[F];if(se||ae){var re=C.props.activeIndex!==void 0?C.props.activeIndex:F;return[A.cloneElement(C,Fe(Fe(Fe({},P.props),Y),{},{activeIndex:re})),null,null]}if(!Xt(ue))return[Q].concat(Zg(S.renderActivePoints({item:P,activePoint:ue,basePoint:J,childIndex:F,isRange:z})))}else{var fe,me=(fe=S.getItemByXY(S.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Q},pe=me.graphicalItem,Ae=pe.item,Ce=Ae===void 0?C:Ae,ke=pe.childIndex,rt=Fe(Fe(Fe({},P.props),Y),{},{activeIndex:ke});return[A.cloneElement(Ce,rt),null,null]}return z?[Q,null,null]:[Q,null]}),Ut(S,"renderCustomized",function(C,M,T){return A.cloneElement(C,Fe(Fe({key:"recharts-customized-".concat(T)},S.props),S.state))}),Ut(S,"renderMap",{CartesianGrid:{handler:U1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:U1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:U1},YAxis:{handler:U1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Hh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=_J(S.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),S.state={},S}return rGe(p,m),JWe(p,[{key:"componentDidMount",value:function(){var _,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,b=_.children,S=_.data,C=_.height,M=_.layout,T=qs(b,hi);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=iL(this.state,S,P,N),k=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+C)/2,F=M==="horizontal",B=F?{x:k,y:j}:{y:k,x:j},U=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});U&&(B=Fe(Fe({},B),U.props.points[P].tooltipPosition),I=U.props.points[P].tooltipPayload);var H={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:I,activeCoordinate:B};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){Rk([qs(_.children,hi)],[qs(this.props.children,hi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=qs(this.props.children,hi);if(_&&typeof _.props.shared=="boolean"){var b=_.props.shared?"axis":"item";return a.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var b=this.container,S=b.getBoundingClientRect(),C=VLe(S),M={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},T=S.width/b.offsetWidth||1,P=this.inRange(M.chartX,M.chartY,T);if(!P)return null;var N=this.state,I=N.xAxisMap,k=N.yAxisMap,j=this.getTooltipEventType(),F=mW(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&I&&k){var B=Lu(I).scale,U=Lu(k).scale,H=B&&B.invert?B.invert(M.chartX):null,R=U&&U.invert?U.invert(M.chartY):null;return Fe(Fe({},M),{},{xValue:H,yValue:R},F)}return F?Fe(Fe({},M),F):null}},{key:"inRange",value:function(_,b){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,M=_/S,T=b/S;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,N=M>=P.left&&M<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return N?{x:M,y:T}:null}var I=this.state,k=I.angleAxisMap,j=I.radiusAxisMap;if(k&&j){var F=Lu(k);return F8({x:M,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,b=this.getTooltipEventType(),S=qs(_,hi),C={};S&&b==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=aC(this.props,this.handleOuterEvent);return Fe(Fe({},M),C)}},{key:"addListener",value:function(){OR.on(IR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OR.removeListener(IR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,b,S){for(var C=this.state.formattedGraphicalItems,M=0,T=C.length;M<T;M++){var P=C[M];if(P.item===_||P.props.key===_.key||b===Mc(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,b=this.state.offset,S=b.left,C=b.top,M=b.height,T=b.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:_},ee.createElement("rect",{x:S,y:C,height:M,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=fW(S,2),M=C[0],T=C[1];return Fe(Fe({},b),{},Ut({},M,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=fW(S,2),M=C[0],T=C[1];return Fe(Fe({},b),{},Ut({},M,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(_){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(_){var b=this.state,S=b.formattedGraphicalItems,C=b.activeItem;if(S&&S.length)for(var M=0,T=S.length;M<T;M++){var P=S[M],N=P.props,I=P.item,k=I.type.defaultProps!==void 0?Fe(Fe({},I.type.defaultProps),I.props):I.props,j=Mc(I.type);if(j==="Bar"){var F=(N.data||[]).find(function(R){return Oze(_,R)});if(F)return{graphicalItem:P,payload:F}}else if(j==="RadialBar"){var B=(N.data||[]).find(function(R){return F8(_,R)});if(B)return{graphicalItem:P,payload:B}}else if(FT(P,C)||BT(P,C)||c_(P,C)){var U=_He({graphicalItem:P,activeTooltipItem:C,itemData:k.data}),H=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:Fe(Fe({},P),{},{childIndex:H}),payload:c_(P,C)?k.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!TH(this))return null;var b=this.props,S=b.children,C=b.className,M=b.width,T=b.height,P=b.style,N=b.compact,I=b.title,k=b.desc,j=hW(b,GWe),F=Pt(j,!1);if(N)return ee.createElement(GV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(Ik,Em({},F,{width:M,height:T,title:I,desc:k}),this.renderClipPath(),NH(S,this.renderMap)));if(this.props.accessibilityLayer){var B,U;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},F.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ee.createElement(GV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",Em({className:Yt("recharts-wrapper",C),style:Fe({position:"relative",cursor:"default",width:M,height:T},P)},H,{ref:function(L){_.container=L}}),ee.createElement(Ik,Em({},F,{width:M,height:T,title:I,desc:k,style:cGe}),this.renderClipPath(),NH(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Ut(v,"displayName",n),Ut(v,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Ut(v,"getDerivedStateFromProps",function(m,p){var x=m.dataKey,_=m.data,b=m.children,S=m.width,C=m.height,M=m.layout,T=m.stackOffset,P=m.margin,N=p.dataStartIndex,I=p.dataEndIndex;if(p.updateId===void 0){var k=gW(m);return Fe(Fe(Fe({},k),{},{updateId:0},g(Fe(Fe({props:m},k),{},{updateId:0}),p)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:C,prevLayout:M,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(x!==p.prevDataKey||_!==p.prevData||S!==p.prevWidth||C!==p.prevHeight||M!==p.prevLayout||T!==p.prevStackOffset||!Wm(P,p.prevMargin)){var j=gW(m),F={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},B=Fe(Fe({},mW(p,_,M)),{},{updateId:p.updateId+1}),U=Fe(Fe(Fe({},j),F),B);return Fe(Fe(Fe({},U),g(Fe({props:m},U),p)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:C,prevLayout:M,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(!Rk(b,p.prevChildren)){var H,R,L,z,W=qs(b,Ug),G=W&&(H=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&H!==void 0?H:N,q=W&&(L=(z=W.props)===null||z===void 0?void 0:z.endIndex)!==null&&L!==void 0?L:I,ne=G!==N||q!==I,ae=!Xt(_),se=ae&&!ne?p.updateId:p.updateId+1;return Fe(Fe({updateId:se},g(Fe(Fe({props:m},p),{},{updateId:se,dataStartIndex:G,dataEndIndex:q}),p)),{},{prevChildren:b,dataStartIndex:G,dataEndIndex:q})}return null}),Ut(v,"renderActiveDot",function(m,p,x){var _;return A.isValidElement(m)?_=A.cloneElement(m,p):zt(m)?_=m(p):_=ee.createElement(Tb,p),ee.createElement(fn,{className:"recharts-active-dot",key:x},_)});var y=A.forwardRef(function(p,x){return ee.createElement(v,Em({},p,{ref:x}))});return y.displayName=v.displayName,y},K0=GT({chartName:"LineChart",GraphicalChild:Bo,axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:YF}),xGe=GT({chartName:"BarChart",GraphicalChild:Xh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:YF}),_Ge=GT({chartName:"PieChart",GraphicalChild:eu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:jT},{axisType:"radiusAxis",AxisComp:DT}],formatAxisMap:GBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Qte=GT({chartName:"AreaChart",GraphicalChild:tu,axisComponents:[{axisType:"xAxis",AxisComp:eo},{axisType:"yAxis",AxisComp:to}],formatAxisMap:YF});const bGe={light:"",dark:".dark"},Jte=A.createContext(null);function ene(){const t=A.useContext(Jte);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const wGe=A.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const o=A.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return h.jsx(Jte.Provider,{value:{config:r},children:h.jsxs("div",{"data-chart":a,ref:s,className:we("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[h.jsx(SGe,{id:a,config:r}),h.jsx(fl,{children:n})]})})});wGe.displayName="Chart";const SGe=({id:t,config:e})=>{const n=Object.entries(e).filter(([,r])=>r.theme||r.color);return n.length?h.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(bGe).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[r])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},EGe=A.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:c,color:d,nameKey:u,labelKey:f},g)=>{const{config:v}=ene(),y=A.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[p]=e,x=`${f||(p==null?void 0:p.dataKey)||(p==null?void 0:p.name)||"value"}`,_=sL(v,p,x),b=!f&&typeof o=="string"?((S=v[o])==null?void 0:S.label)||o:_==null?void 0:_.label;return a?h.jsx("div",{className:we("font-medium",l),children:a(b,e)}):b?h.jsx("div",{className:we("font-medium",l),children:b}):null},[o,a,e,i,l,v,f]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&r!=="dot";return h.jsxs("div",{ref:g,className:we("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[m?null:y,h.jsx("div",{className:"grid gap-1.5",children:e.map((p,x)=>{const _=`${u||p.name||p.dataKey||"value"}`,b=sL(v,p,_),S=d||p.payload.fill||p.color;return h.jsx("div",{className:we("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(p==null?void 0:p.value)!==void 0&&p.name?c(p.value,p.name,p,x,p.payload):h.jsxs(h.Fragment,{children:[b!=null&&b.icon?h.jsx(b.icon,{}):!s&&h.jsx("div",{className:we("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":m&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),h.jsxs("div",{className:we("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[h.jsxs("div",{className:"grid gap-1.5",children:[m?y:null,h.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||p.name})]}),p.value&&h.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:p.value.toLocaleString()})]})]})},p.dataKey)})})]})});EGe.displayName="ChartTooltip";const CGe=A.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=ene();return n!=null&&n.length?h.jsx("div",{ref:s,className:we("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,c=sL(o,a,l);return h.jsxs("div",{className:we("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?h.jsx(c.icon,{}):h.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});CGe.displayName="ChartLegend";function sL(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}function Hv(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Pb(t){const[e,n]=A.useState(void 0);return ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var o4="Checkbox",[MGe,p0t]=Gn(o4),[AGe,TGe]=MGe(o4),tne=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=t,[f,g]=A.useState(null),v=At(e,b=>g(b)),y=A.useRef(!1),m=f?d||!!f.closest("form"):!0,[p=!1,x]=Or({prop:i,defaultProp:s,onChange:c}),_=A.useRef(p);return A.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const S=()=>x(_.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[f,x]),h.jsxs(AGe,{scope:n,state:p,disabled:a,children:[h.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":ud(p)?"mixed":p,"aria-required":o,"data-state":ine(p),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:v,onKeyDown:Oe(t.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Oe(t.onClick,b=>{x(S=>ud(S)?!0:!S),m&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),m&&h.jsx(PGe,{control:f,bubbles:!y.current,name:r,value:l,checked:p,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ud(s)?!1:s})]})});tne.displayName=o4;var nne="CheckboxIndicator",rne=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=TGe(nne,n);return h.jsx(or,{present:r||ud(s.state)||s.state===!0,children:h.jsx(qe.span,{"data-state":ine(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});rne.displayName=nne;var PGe=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=A.useRef(null),a=Hv(n),l=Pb(e);A.useEffect(()=>{const d=o.current,u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});d.indeterminate=ud(n),g.call(d,ud(n)?!1:n),d.dispatchEvent(v)}},[a,n,r]);const c=A.useRef(ud(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ud(t){return t==="indeterminate"}function ine(t){return ud(t)?"indeterminate":t?"checked":"unchecked"}var sne=tne,NGe=rne;const RGe=A.forwardRef(({className:t,...e},n)=>h.jsx(sne,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(NGe,{className:we("flex items-center justify-center text-current"),children:h.jsx(ob,{className:"h-4 w-4"})})}));RGe.displayName=sne.displayName;const OGe=oY,IGe=g3,kGe=y3;var yW=1,DGe=.9,LGe=.8,jGe=.17,DR=.1,LR=.999,FGe=.9999,BGe=.99,UGe=/[\\\/_+.#"@\[\(\{&]/,zGe=/[\\\/_+.#"@\[\(\{&]/g,$Ge=/[\s-]/,one=/[\s-]/g;function oL(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?yW:BGe;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),d=0,u,f,g,v;c>=0;)u=oL(t,e,n,r,c+1,s+1,o),u>d&&(c===i?u*=yW:UGe.test(t.charAt(c-1))?(u*=LGe,g=t.slice(i,c-1).match(zGe),g&&i>0&&(u*=Math.pow(LR,g.length))):$Ge.test(t.charAt(c-1))?(u*=DGe,v=t.slice(i,c-1).match(one),v&&i>0&&(u*=Math.pow(LR,v.length))):(u*=jGe,i>0&&(u*=Math.pow(LR,c-i))),t.charAt(c)!==e.charAt(s)&&(u*=FGe)),(u<DR&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(f=oL(t,e,n,r,c+1,s+2,o),f*DR>u&&(u=f*DR)),u>d&&(d=u),c=n.indexOf(l,c+1);return o[a]=d,d}function xW(t){return t.toLowerCase().replace(one," ")}function HGe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,oL(t,e,xW(t),xW(e),0,0,{})}var Xy='[cmdk-group=""]',jR='[cmdk-group-items=""]',VGe='[cmdk-group-heading=""]',ane='[cmdk-item=""]',_W=`${ane}:not([aria-disabled="true"])`,aL="cmdk-item-select",rm="data-value",WGe=(t,e,n)=>HGe(t,e,n),lne=A.createContext(void 0),Nb=()=>A.useContext(lne),cne=A.createContext(void 0),a4=()=>A.useContext(cne),une=A.createContext(void 0),dne=A.forwardRef((t,e)=>{let n=im(()=>{var G,q;return{search:"",value:(q=(G=t.value)!=null?G:t.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=im(()=>new Set),i=im(()=>new Map),s=im(()=>new Map),o=im(()=>new Set),a=fne(t),{label:l,children:c,value:d,onValueChange:u,filter:f,shouldFilter:g,loop:v,disablePointerSelection:y=!1,vimBindings:m=!0,...p}=t,x=Hr(),_=Hr(),b=Hr(),S=A.useRef(null),C=n7e();Mh(()=>{if(d!==void 0){let G=d.trim();n.current.value=G,M.emit()}},[d]),Mh(()=>{C(6,j)},[]);let M=A.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>n.current,setState:(G,q,ne)=>{var ae,se,$,Y;if(!Object.is(n.current[G],q)){if(n.current[G]=q,G==="search")k(),N(),C(1,I);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(b);Q?Q.focus():(ae=document.getElementById(x))==null||ae.focus()}if(C(7,()=>{var Q;n.current.selectedItemId=(Q=F())==null?void 0:Q.id,M.emit()}),ne||C(5,j),((se=a.current)==null?void 0:se.value)!==void 0){let Q=q??"";(Y=($=a.current).onValueChange)==null||Y.call($,Q);return}}M.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),T=A.useMemo(()=>({value:(G,q,ne)=>{var ae;q!==((ae=s.current.get(G))==null?void 0:ae.value)&&(s.current.set(G,{value:q,keywords:ne}),n.current.filtered.items.set(G,P(q,ne)),C(2,()=>{N(),M.emit()}))},item:(G,q)=>(r.current.add(G),q&&(i.current.has(q)?i.current.get(q).add(G):i.current.set(q,new Set([G]))),C(3,()=>{k(),N(),n.current.value||I(),M.emit()}),()=>{s.current.delete(G),r.current.delete(G),n.current.filtered.items.delete(G);let ne=F();C(4,()=>{k(),(ne==null?void 0:ne.getAttribute("id"))===G&&I(),M.emit()})}),group:G=>(i.current.has(G)||i.current.set(G,new Set),()=>{s.current.delete(G),i.current.delete(G)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:x,inputId:b,labelId:_,listInnerRef:S}),[]);function P(G,q){var ne,ae;let se=(ae=(ne=a.current)==null?void 0:ne.filter)!=null?ae:WGe;return G?se(G,n.current.search,q):0}function N(){if(!n.current.search||a.current.shouldFilter===!1)return;let G=n.current.filtered.items,q=[];n.current.filtered.groups.forEach(ae=>{let se=i.current.get(ae),$=0;se.forEach(Y=>{let Q=G.get(Y);$=Math.max(Q,$)}),q.push([ae,$])});let ne=S.current;B().sort((ae,se)=>{var $,Y;let Q=ae.getAttribute("id"),te=se.getAttribute("id");return(($=G.get(te))!=null?$:0)-((Y=G.get(Q))!=null?Y:0)}).forEach(ae=>{let se=ae.closest(jR);se?se.appendChild(ae.parentElement===se?ae:ae.closest(`${jR} > *`)):ne.appendChild(ae.parentElement===ne?ae:ae.closest(`${jR} > *`))}),q.sort((ae,se)=>se[1]-ae[1]).forEach(ae=>{var se;let $=(se=S.current)==null?void 0:se.querySelector(`${Xy}[${rm}="${encodeURIComponent(ae[0])}"]`);$==null||$.parentElement.appendChild($)})}function I(){let G=B().find(ne=>ne.getAttribute("aria-disabled")!=="true"),q=G==null?void 0:G.getAttribute(rm);M.setState("value",q||void 0)}function k(){var G,q,ne,ae;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let se=0;for(let $ of r.current){let Y=(q=(G=s.current.get($))==null?void 0:G.value)!=null?q:"",Q=(ae=(ne=s.current.get($))==null?void 0:ne.keywords)!=null?ae:[],te=P(Y,Q);n.current.filtered.items.set($,te),te>0&&se++}for(let[$,Y]of i.current)for(let Q of Y)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add($);break}n.current.filtered.count=se}function j(){var G,q,ne;let ae=F();ae&&(((G=ae.parentElement)==null?void 0:G.firstChild)===ae&&((ne=(q=ae.closest(Xy))==null?void 0:q.querySelector(VGe))==null||ne.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function F(){var G;return(G=S.current)==null?void 0:G.querySelector(`${ane}[aria-selected="true"]`)}function B(){var G;return Array.from(((G=S.current)==null?void 0:G.querySelectorAll(_W))||[])}function U(G){let q=B()[G];q&&M.setState("value",q.getAttribute(rm))}function H(G){var q;let ne=F(),ae=B(),se=ae.findIndex(Y=>Y===ne),$=ae[se+G];(q=a.current)!=null&&q.loop&&($=se+G<0?ae[ae.length-1]:se+G===ae.length?ae[0]:ae[se+G]),$&&M.setState("value",$.getAttribute(rm))}function R(G){let q=F(),ne=q==null?void 0:q.closest(Xy),ae;for(;ne&&!ae;)ne=G>0?e7e(ne,Xy):t7e(ne,Xy),ae=ne==null?void 0:ne.querySelector(_W);ae?M.setState("value",ae.getAttribute(rm)):H(G)}let L=()=>U(B().length-1),z=G=>{G.preventDefault(),G.metaKey?L():G.altKey?R(1):H(1)},W=G=>{G.preventDefault(),G.metaKey?U(0):G.altKey?R(-1):H(-1)};return A.createElement(qe.div,{ref:e,tabIndex:-1,...p,"cmdk-root":"",onKeyDown:G=>{var q;(q=p.onKeyDown)==null||q.call(p,G);let ne=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||ne))switch(G.key){case"n":case"j":{m&&G.ctrlKey&&z(G);break}case"ArrowDown":{z(G);break}case"p":case"k":{m&&G.ctrlKey&&W(G);break}case"ArrowUp":{W(G);break}case"Home":{G.preventDefault(),U(0);break}case"End":{G.preventDefault(),L();break}case"Enter":{G.preventDefault();let ae=F();if(ae){let se=new Event(aL);ae.dispatchEvent(se)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:i7e},l),XT(t,G=>A.createElement(cne.Provider,{value:M},A.createElement(lne.Provider,{value:T},G))))}),GGe=A.forwardRef((t,e)=>{var n,r;let i=Hr(),s=A.useRef(null),o=A.useContext(une),a=Nb(),l=fne(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Mh(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let d=hne(i,s,[t.value,t.children,s],t.keywords),u=a4(),f=gd(C=>C.value&&C.value===d.current),g=gd(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);A.useEffect(()=>{let C=s.current;if(!(!C||t.disabled))return C.addEventListener(aL,v),()=>C.removeEventListener(aL,v)},[g,t.onSelect,t.disabled]);function v(){var C,M;y(),(M=(C=l.current).onSelect)==null||M.call(C,d.current)}function y(){u.setState("value",d.current,!0)}if(!g)return null;let{disabled:m,value:p,onSelect:x,forceMount:_,keywords:b,...S}=t;return A.createElement(qe.div,{ref:Nl(s,e),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!f,"data-disabled":!!m,"data-selected":!!f,onPointerMove:m||a.getDisablePointerSelection()?void 0:y,onClick:m?void 0:v},t.children)}),XGe=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=Hr(),a=A.useRef(null),l=A.useRef(null),c=Hr(),d=Nb(),u=gd(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Mh(()=>d.group(o),[]),hne(o,a,[t.value,t.heading,l]);let f=A.useMemo(()=>({id:o,forceMount:i}),[i]);return A.createElement(qe.div,{ref:Nl(a,e),...s,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&A.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),XT(t,g=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},A.createElement(une.Provider,{value:f},g))))}),qGe=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),s=gd(o=>!o.search);return!n&&!s?null:A.createElement(qe.div,{ref:Nl(i,e),...r,"cmdk-separator":"",role:"separator"})}),KGe=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=a4(),o=gd(c=>c.search),a=gd(c=>c.selectedItemId),l=Nb();return A.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),A.createElement(qe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:o,onChange:c=>{i||s.setState("search",c.target.value),n==null||n(c.target.value)}})}),YGe=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=A.useRef(null),o=A.useRef(null),a=gd(c=>c.selectedItemId),l=Nb();return A.useEffect(()=>{if(o.current&&s.current){let c=o.current,d=s.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),A.createElement(qe.div,{ref:Nl(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},XT(t,c=>A.createElement("div",{ref:Nl(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),ZGe=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return A.createElement(ZA,{open:n,onOpenChange:r},A.createElement(hb,{container:o},A.createElement(Uh,{"cmdk-overlay":"",className:i}),A.createElement(zh,{"aria-label":t.label,"cmdk-dialog":"",className:s},A.createElement(dne,{ref:e,...a}))))}),QGe=A.forwardRef((t,e)=>gd(n=>n.filtered.count===0)?A.createElement(qe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),JGe=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return A.createElement(qe.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},XT(t,o=>A.createElement("div",{"aria-hidden":!0},o)))}),Is=Object.assign(dne,{List:YGe,Item:GGe,Input:KGe,Group:XGe,Separator:qGe,Dialog:ZGe,Empty:QGe,Loading:JGe});function e7e(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function t7e(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function fne(t){let e=A.useRef(t);return Mh(()=>{e.current=t}),e}var Mh=typeof window>"u"?A.useEffect:A.useLayoutEffect;function im(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function gd(t){let e=a4(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function hne(t,e,n,r=[]){let i=A.useRef(),s=Nb();return Mh(()=>{var o;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(rm,a),i.current=a}),i}var n7e=()=>{let[t,e]=A.useState(),n=im(()=>new Map);return Mh(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function r7e(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function XT({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(r7e(e),{ref:e.ref},n(e.props.children)):n(e)}var i7e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const pne=A.forwardRef(({className:t,...e},n)=>h.jsx(Is,{ref:n,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));pne.displayName=Is.displayName;const s7e=({children:t,...e})=>h.jsx(U4,{...e,children:h.jsx(eP,{className:"overflow-hidden p-0 shadow-lg",children:h.jsx(pne,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),mne=A.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(bl,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Is.Input,{ref:n,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));mne.displayName=Is.Input.displayName;const gne=A.forwardRef(({className:t,...e},n)=>h.jsx(Is.List,{ref:n,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));gne.displayName=Is.List.displayName;const vne=A.forwardRef((t,e)=>h.jsx(Is.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));vne.displayName=Is.Empty.displayName;const yne=A.forwardRef(({className:t,...e},n)=>h.jsx(Is.Group,{ref:n,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));yne.displayName=Is.Group.displayName;const o7e=A.forwardRef(({className:t,...e},n)=>h.jsx(Is.Separator,{ref:n,className:we("-mx-1 h-px bg-border",t),...e}));o7e.displayName=Is.Separator.displayName;const xne=A.forwardRef(({className:t,...e},n)=>h.jsx(Is.Item,{ref:n,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));xne.displayName=Is.Item.displayName;const a7e=["top","right","bottom","left"],vd=Math.min,Zs=Math.max,lM=Math.round,z1=Math.floor,Cl=t=>({x:t,y:t}),l7e={left:"right",right:"left",bottom:"top",top:"bottom"},c7e={start:"end",end:"start"};function lL(t,e,n){return Zs(t,vd(e,n))}function Bc(t,e){return typeof t=="function"?t(e):t}function Uc(t){return t.split("-")[0]}function Vv(t){return t.split("-")[1]}function l4(t){return t==="x"?"y":"x"}function c4(t){return t==="y"?"height":"width"}function yd(t){return["top","bottom"].includes(Uc(t))?"y":"x"}function u4(t){return l4(yd(t))}function u7e(t,e,n){n===void 0&&(n=!1);const r=Vv(t),i=u4(t),s=c4(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=cM(o)),[o,cM(o)]}function d7e(t){const e=cM(t);return[cL(t),e,cL(e)]}function cL(t){return t.replace(/start|end/g,e=>c7e[e])}function f7e(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function h7e(t,e,n,r){const i=Vv(t);let s=f7e(Uc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(cL)))),s}function cM(t){return t.replace(/left|right|bottom|top/g,e=>l7e[e])}function p7e(t){return{top:0,right:0,bottom:0,left:0,...t}}function _ne(t){return typeof t!="number"?p7e(t):{top:t,right:t,bottom:t,left:t}}function uM(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bW(t,e,n){let{reference:r,floating:i}=t;const s=yd(e),o=u4(e),a=c4(o),l=Uc(e),c=s==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:u};break;case"left":g={x:r.x-i.width,y:u};break;default:g={x:r.x,y:r.y}}switch(Vv(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const m7e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:u}=bW(c,r,l),f=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:m,fn:p}=a[y],{x,y:_,data:b,reset:S}=await p({x:d,y:u,initialPlacement:r,placement:f,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,u=_??u,g={...g,[m]:{...g[m],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:u}=bW(c,f,l)),y=-1)}return{x:d,y:u,placement:f,strategy:i,middlewareData:g}};async function g_(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:g=0}=Bc(e,t),v=_ne(g),m=a[f?u==="floating"?"reference":"floating":u],p=uM(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=uM(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:_,strategy:l}):x);return{top:(p.top-S.top+v.top)/b.y,bottom:(S.bottom-p.bottom+v.bottom)/b.y,left:(p.left-S.left+v.left)/b.x,right:(S.right-p.right+v.right)/b.x}}const g7e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Bc(t,e)||{};if(c==null)return{};const u=_ne(d),f={x:n,y:r},g=u4(i),v=c4(g),y=await o.getDimensions(c),m=g==="y",p=m?"top":"left",x=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[g]-f[g]-s.floating[v],S=f[g]-s.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=C?C[_]:0;(!M||!await(o.isElement==null?void 0:o.isElement(C)))&&(M=a.floating[_]||s.floating[v]);const T=b/2-S/2,P=M/2-y[v]/2-1,N=vd(u[p],P),I=vd(u[x],P),k=N,j=M-y[v]-I,F=M/2-y[v]/2+T,B=lL(k,F,j),U=!l.arrow&&Vv(i)!=null&&F!==B&&s.reference[v]/2-(F<k?N:I)-y[v]/2<0,H=U?F<k?F-k:F-j:0;return{[g]:f[g]+H,data:{[g]:B,centerOffset:F-B-H,...U&&{alignmentOffset:H}},reset:U}}}),v7e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...m}=Bc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=Uc(i),x=yd(a),_=Uc(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(_||!y?[cM(a)]:d7e(a)),C=v!=="none";!f&&C&&S.push(...h7e(a,y,v,b));const M=[a,...S],T=await g_(e,m),P=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[p]),u){const F=u7e(i,o,b);P.push(T[F[0]],T[F[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(F=>F<=0)){var I,k;const F=(((I=s.flip)==null?void 0:I.index)||0)+1,B=M[F];if(B)return{data:{index:F,overflows:N},reset:{placement:B}};let U=(k=N.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(g){case"bestFit":{var j;const H=(j=N.filter(R=>{if(C){const L=yd(R.placement);return L===x||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:j[0];H&&(U=H);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function wW(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function SW(t){return a7e.some(e=>t[e]>=0)}const y7e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Bc(t,e);switch(r){case"referenceHidden":{const s=await g_(e,{...i,elementContext:"reference"}),o=wW(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SW(o)}}}case"escaped":{const s=await g_(e,{...i,altBoundary:!0}),o=wW(s,n.floating);return{data:{escapedOffsets:o,escaped:SW(o)}}}default:return{}}}}};async function x7e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uc(n),a=Vv(n),l=yd(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=Bc(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const _7e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await x7e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},b7e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:p,y:x}=m;return{x:p,y:x}}},...l}=Bc(t,e),c={x:n,y:r},d=await g_(e,l),u=yd(Uc(i)),f=l4(u);let g=c[f],v=c[u];if(s){const m=f==="y"?"top":"left",p=f==="y"?"bottom":"right",x=g+d[m],_=g-d[p];g=lL(x,g,_)}if(o){const m=u==="y"?"top":"left",p=u==="y"?"bottom":"right",x=v+d[m],_=v-d[p];v=lL(x,v,_)}const y=a.fn({...e,[f]:g,[u]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[u]:o}}}}}},w7e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Bc(t,e),d={x:n,y:r},u=yd(i),f=l4(u);let g=d[f],v=d[u];const y=Bc(a,e),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=f==="y"?"height":"width",b=s.reference[f]-s.floating[_]+m.mainAxis,S=s.reference[f]+s.reference[_]-m.mainAxis;g<b?g=b:g>S&&(g=S)}if(c){var p,x;const _=f==="y"?"width":"height",b=["top","left"].includes(Uc(i)),S=s.reference[u]-s.floating[_]+(b&&((p=o.offset)==null?void 0:p[u])||0)+(b?0:m.crossAxis),C=s.reference[u]+s.reference[_]+(b?0:((x=o.offset)==null?void 0:x[u])||0)-(b?m.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[f]:g,[u]:v}}}},S7e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Bc(t,e),d=await g_(e,c),u=Uc(i),f=Vv(i),g=yd(i)==="y",{width:v,height:y}=s.floating;let m,p;u==="top"||u==="bottom"?(m=u,p=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=u,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,_=v-d.left-d.right,b=vd(y-d[m],x),S=vd(v-d[p],_),C=!e.middlewareData.shift;let M=b,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=x),C&&!f){const N=Zs(d.left,0),I=Zs(d.right,0),k=Zs(d.top,0),j=Zs(d.bottom,0);g?T=v-2*(N!==0||I!==0?N+I:Zs(d.left,d.right)):M=y-2*(k!==0||j!==0?k+j:Zs(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:M});const P=await o.getDimensions(a.floating);return v!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function qT(){return typeof window<"u"}function Wv(t){return bne(t)?(t.nodeName||"").toLowerCase():"#document"}function oo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ul(t){var e;return(e=(bne(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bne(t){return qT()?t instanceof Node||t instanceof oo(t).Node:!1}function za(t){return qT()?t instanceof Element||t instanceof oo(t).Element:!1}function Il(t){return qT()?t instanceof HTMLElement||t instanceof oo(t).HTMLElement:!1}function EW(t){return!qT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oo(t).ShadowRoot}function Rb(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$a(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function E7e(t){return["table","td","th"].includes(Wv(t))}function KT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function d4(t){const e=f4(),n=za(t)?$a(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C7e(t){let e=xd(t);for(;Il(e)&&!Qg(e);){if(d4(e))return e;if(KT(e))return null;e=xd(e)}return null}function f4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qg(t){return["html","body","#document"].includes(Wv(t))}function $a(t){return oo(t).getComputedStyle(t)}function YT(t){return za(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xd(t){if(Wv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EW(t)&&t.host||Ul(t);return EW(e)?e.host:e}function wne(t){const e=xd(t);return Qg(e)?t.ownerDocument?t.ownerDocument.body:t.body:Il(e)&&Rb(e)?e:wne(e)}function v_(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wne(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=oo(i);if(s){const a=uL(o);return e.concat(o,o.visualViewport||[],Rb(i)?i:[],a&&n?v_(a):[])}return e.concat(i,v_(i,[],n))}function uL(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sne(t){const e=$a(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Il(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=lM(n)!==s||lM(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function h4(t){return za(t)?t:t.contextElement}function qm(t){const e=h4(t);if(!Il(e))return Cl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Sne(e);let o=(s?lM(n.width):n.width)/r,a=(s?lM(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const M7e=Cl(0);function Ene(t){const e=oo(t);return!f4()||!e.visualViewport?M7e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A7e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oo(t)?!1:e}function Ah(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=h4(t);let o=Cl(1);e&&(r?za(r)&&(o=qm(r)):o=qm(t));const a=A7e(s,n,r)?Ene(s):Cl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,u=i.height/o.y;if(s){const f=oo(s),g=r&&za(r)?oo(r):r;let v=f,y=uL(v);for(;y&&r&&g!==v;){const m=qm(y),p=y.getBoundingClientRect(),x=$a(y),_=p.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,b=p.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,u*=m.y,l+=_,c+=b,v=oo(y),y=uL(v)}}return uM({width:d,height:u,x:l,y:c})}function p4(t,e){const n=YT(t).scrollLeft;return e?e.left+n:Ah(Ul(t)).left+n}function Cne(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:p4(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function T7e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ul(r),a=e?KT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Cl(1);const d=Cl(0),u=Il(r);if((u||!u&&!s)&&((Wv(r)!=="body"||Rb(o))&&(l=YT(r)),Il(r))){const g=Ah(r);c=qm(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const f=o&&!u&&!s?Cne(o,l,!0):Cl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function P7e(t){return Array.from(t.getClientRects())}function N7e(t){const e=Ul(t),n=YT(t),r=t.ownerDocument.body,i=Zs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+p4(t);const a=-n.scrollTop;return $a(r).direction==="rtl"&&(o+=Zs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function R7e(t,e){const n=oo(t),r=Ul(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=f4();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function O7e(t,e){const n=Ah(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Il(t)?qm(t):Cl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function CW(t,e,n){let r;if(e==="viewport")r=R7e(t,n);else if(e==="document")r=N7e(Ul(t));else if(za(e))r=O7e(e,n);else{const i=Ene(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return uM(r)}function Mne(t,e){const n=xd(t);return n===e||!za(n)||Qg(n)?!1:$a(n).position==="fixed"||Mne(n,e)}function I7e(t,e){const n=e.get(t);if(n)return n;let r=v_(t,[],!1).filter(a=>za(a)&&Wv(a)!=="body"),i=null;const s=$a(t).position==="fixed";let o=s?xd(t):t;for(;za(o)&&!Qg(o);){const a=$a(o),l=d4(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rb(o)&&!l&&Mne(t,o))?r=r.filter(d=>d!==o):i=a,o=xd(o)}return e.set(t,r),r}function k7e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?KT(e)?[]:I7e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=CW(e,d,i);return c.top=Zs(u.top,c.top),c.right=vd(u.right,c.right),c.bottom=vd(u.bottom,c.bottom),c.left=Zs(u.left,c.left),c},CW(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function D7e(t){const{width:e,height:n}=Sne(t);return{width:e,height:n}}function L7e(t,e,n){const r=Il(e),i=Ul(e),s=n==="fixed",o=Ah(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Cl(0);if(r||!r&&!s)if((Wv(e)!=="body"||Rb(i))&&(a=YT(e)),r){const f=Ah(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=p4(i));const c=i&&!r&&!s?Cne(i,a):Cl(0),d=o.left+a.scrollLeft-l.x-c.x,u=o.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:o.width,height:o.height}}function FR(t){return $a(t).position==="static"}function MW(t,e){if(!Il(t)||$a(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ul(t)===n&&(n=n.ownerDocument.body),n}function Ane(t,e){const n=oo(t);if(KT(t))return n;if(!Il(t)){let i=xd(t);for(;i&&!Qg(i);){if(za(i)&&!FR(i))return i;i=xd(i)}return n}let r=MW(t,e);for(;r&&E7e(r)&&FR(r);)r=MW(r,e);return r&&Qg(r)&&FR(r)&&!d4(r)?n:r||C7e(t)||n}const j7e=async function(t){const e=this.getOffsetParent||Ane,n=this.getDimensions,r=await n(t.floating);return{reference:L7e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F7e(t){return $a(t).direction==="rtl"}const B7e={convertOffsetParentRelativeRectToViewportRelativeRect:T7e,getDocumentElement:Ul,getClippingRect:k7e,getOffsetParent:Ane,getElementRects:j7e,getClientRects:P7e,getDimensions:D7e,getScale:qm,isElement:za,isRTL:F7e};function Tne(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function U7e(t,e){let n=null,r;const i=Ul(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:u,width:f,height:g}=c;if(a||e(),!f||!g)return;const v=z1(u),y=z1(i.clientWidth-(d+f)),m=z1(i.clientHeight-(u+g)),p=z1(d),_={rootMargin:-v+"px "+-y+"px "+-m+"px "+-p+"px",threshold:Zs(0,vd(1,l))||1};let b=!0;function S(C){const M=C[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!Tne(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return o(!0),s}function z7e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=h4(t),d=i||s?[...c?v_(c):[],...v_(e)]:[];d.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const u=c&&a?U7e(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(p=>{let[x]=p;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Ah(t):null;l&&m();function m(){const p=Ah(t);y&&!Tne(y,p)&&n(),y=p,v=requestAnimationFrame(m)}return n(),()=>{var p;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),u==null||u(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const $7e=_7e,H7e=b7e,V7e=v7e,W7e=S7e,G7e=y7e,AW=g7e,X7e=w7e,q7e=(t,e,n)=>{const r=new Map,i={platform:B7e,...n},s={...i.platform,_c:r};return m7e(t,e,{...i,platform:s})};var hE=typeof document<"u"?A.useLayoutEffect:A.useEffect;function dM(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!dM(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!dM(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Pne(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TW(t,e){const n=Pne(t);return Math.round(e*n)/n}function BR(t){const e=A.useRef(t);return hE(()=>{e.current=t}),e}function K7e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=A.useState(r);dM(f,r)||g(r);const[v,y]=A.useState(null),[m,p]=A.useState(null),x=A.useCallback(R=>{R!==C.current&&(C.current=R,y(R))},[]),_=A.useCallback(R=>{R!==M.current&&(M.current=R,p(R))},[]),b=s||v,S=o||m,C=A.useRef(null),M=A.useRef(null),T=A.useRef(d),P=l!=null,N=BR(l),I=BR(i),k=BR(c),j=A.useCallback(()=>{if(!C.current||!M.current)return;const R={placement:e,strategy:n,middleware:f};I.current&&(R.platform=I.current),q7e(C.current,M.current,R).then(L=>{const z={...L,isPositioned:k.current!==!1};F.current&&!dM(T.current,z)&&(T.current=z,Fh.flushSync(()=>{u(z)}))})},[f,e,n,I,k]);hE(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const F=A.useRef(!1);hE(()=>(F.current=!0,()=>{F.current=!1}),[]),hE(()=>{if(b&&(C.current=b),S&&(M.current=S),b&&S){if(N.current)return N.current(b,S,j);j()}},[b,S,j,N,P]);const B=A.useMemo(()=>({reference:C,floating:M,setReference:x,setFloating:_}),[x,_]),U=A.useMemo(()=>({reference:b,floating:S}),[b,S]),H=A.useMemo(()=>{const R={position:n,left:0,top:0};if(!U.floating)return R;const L=TW(U.floating,d.x),z=TW(U.floating,d.y);return a?{...R,transform:"translate("+L+"px, "+z+"px)",...Pne(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,a,U.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:j,refs:B,elements:U,floatingStyles:H}),[d,j,B,U,H])}const Y7e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AW({element:r.current,padding:i}).fn(n):{}:r?AW({element:r,padding:i}).fn(n):{}}}},Z7e=(t,e)=>({...$7e(t),options:[t,e]}),Q7e=(t,e)=>({...H7e(t),options:[t,e]}),J7e=(t,e)=>({...X7e(t),options:[t,e]}),e9e=(t,e)=>({...V7e(t),options:[t,e]}),t9e=(t,e)=>({...W7e(t),options:[t,e]}),n9e=(t,e)=>({...G7e(t),options:[t,e]}),r9e=(t,e)=>({...Y7e(t),options:[t,e]});var i9e="Arrow",Nne=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return h.jsx(qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nne.displayName=i9e;var s9e=Nne,m4="Popper",[Rne,zl]=Gn(m4),[o9e,One]=Rne(m4),Ine=t=>{const{__scopePopper:e,children:n}=t,[r,i]=A.useState(null);return h.jsx(o9e,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ine.displayName=m4;var kne="PopperAnchor",Dne=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=One(kne,n),o=A.useRef(null),a=At(e,o);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(qe.div,{...i,ref:a})});Dne.displayName=kne;var g4="PopperContent",[a9e,l9e]=Rne(g4),Lne=A.forwardRef((t,e)=>{var $,Y,Q,te,ue,J;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,m=One(g4,n),[p,x]=A.useState(null),_=At(e,K=>x(K)),[b,S]=A.useState(null),C=Pb(b),M=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,P=r+(s!=="center"?"-"+s:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],k=I.length>0,j={padding:N,boundary:I.filter(u9e),altBoundary:k},{refs:F,floatingStyles:B,placement:U,isPositioned:H,middlewareData:R}=K7e({strategy:"fixed",placement:P,whileElementsMounted:(...K)=>z7e(...K,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[Z7e({mainAxis:i+T,alignmentAxis:o}),l&&Q7e({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?J7e():void 0,...j}),l&&e9e({...j}),t9e({...j,apply:({elements:K,rects:re,availableWidth:fe,availableHeight:me})=>{const{width:pe,height:Ae}=re.reference,Ce=K.floating.style;Ce.setProperty("--radix-popper-available-width",`${fe}px`),Ce.setProperty("--radix-popper-available-height",`${me}px`),Ce.setProperty("--radix-popper-anchor-width",`${pe}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&r9e({element:b,padding:a}),d9e({arrowWidth:M,arrowHeight:T}),f&&n9e({strategy:"referenceHidden",...j})]}),[L,z]=Bne(U),W=kn(v);ur(()=>{H&&(W==null||W())},[H,W]);const G=($=R.arrow)==null?void 0:$.x,q=(Y=R.arrow)==null?void 0:Y.y,ne=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[ae,se]=A.useState();return ur(()=>{p&&se(window.getComputedStyle(p).zIndex)},[p]),h.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:H?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(te=R.transformOrigin)==null?void 0:te.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((J=R.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(a9e,{scope:n,placedSide:L,onArrowChange:S,arrowX:G,arrowY:q,shouldHideArrow:ne,children:h.jsx(qe.div,{"data-side":L,"data-align":z,...y,ref:_,style:{...y.style,animation:H?void 0:"none"}})})})});Lne.displayName=g4;var jne="PopperArrow",c9e={top:"bottom",right:"left",bottom:"top",left:"right"},Fne=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=l9e(jne,r),o=c9e[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(s9e,{...i,ref:n,style:{...i.style,display:"block"}})})});Fne.displayName=jne;function u9e(t){return t!==null}var d9e=t=>({name:"transformOrigin",options:t,fn(e){var m,p,x;const{placement:n,rects:r,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=Bne(n),u={start:"0%",center:"50%",end:"100%"}[d],f=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,g=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?u:`${f}px`,y=`${-l}px`):c==="top"?(v=o?u:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?u:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?u:`${g}px`),{data:{x:v,y}}}});function Bne(t){const[e,n="center"]=t.split("-");return[e,n]}var v4=Ine,Gv=Dne,Ob=Lne,Ib=Fne,UR="rovingFocusGroup.onEntryFocus",f9e={bubbles:!1,cancelable:!0},ZT="RovingFocusGroup",[dL,Une,h9e]=Xc(ZT),[p9e,$l]=Gn(ZT,[h9e]),[m9e,g9e]=p9e(ZT),zne=A.forwardRef((t,e)=>h.jsx(dL.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(dL.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(v9e,{...t,ref:e})})}));zne.displayName=ZT;var v9e=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=t,f=A.useRef(null),g=At(e,f),v=jl(s),[y=null,m]=Or({prop:o,defaultProp:a,onChange:l}),[p,x]=A.useState(!1),_=kn(c),b=Une(n),S=A.useRef(!1),[C,M]=A.useState(0);return A.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(UR,_),()=>T.removeEventListener(UR,_)},[_]),h.jsx(m9e,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:A.useCallback(T=>m(T),[m]),onItemShiftTab:A.useCallback(()=>x(!0),[]),onFocusableItemAdd:A.useCallback(()=>M(T=>T+1),[]),onFocusableItemRemove:A.useCallback(()=>M(T=>T-1),[]),children:h.jsx(qe.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...u,ref:g,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{S.current=!0}),onFocus:Oe(t.onFocus,T=>{const P=!S.current;if(T.target===T.currentTarget&&P&&!p){const N=new CustomEvent(UR,f9e);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const I=b().filter(U=>U.focusable),k=I.find(U=>U.active),j=I.find(U=>U.id===y),B=[k,j,...I].filter(Boolean).map(U=>U.ref.current);Vne(B,d)}}S.current=!1}),onBlur:Oe(t.onBlur,()=>x(!1))})})}),$ne="RovingFocusGroupItem",Hne=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Hr(),l=s||a,c=g9e($ne,n),d=c.currentTabStopId===l,u=Une(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return A.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),h.jsx(dL.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:h.jsx(qe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Oe(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Oe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=_9e(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let p=u().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")p.reverse();else if(y==="prev"||y==="next"){y==="prev"&&p.reverse();const x=p.indexOf(v.currentTarget);p=c.loop?b9e(p,x+1):p.slice(x+1)}setTimeout(()=>Vne(p))}})})})});Hne.displayName=$ne;var y9e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x9e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _9e(t,e,n){const r=x9e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return y9e[r]}function Vne(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b9e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kb=zne,Db=Hne,fL=["Enter"," "],w9e=["ArrowDown","PageUp","Home"],Wne=["ArrowUp","PageDown","End"],S9e=[...w9e,...Wne],E9e={ltr:[...fL,"ArrowRight"],rtl:[...fL,"ArrowLeft"]},C9e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},QT="Menu",[y_,M9e,A9e]=Xc(QT),[qh,Lb]=Gn(QT,[A9e,zl,$l]),y4=zl(),Gne=$l(),[m0t,Kh]=qh(QT),[g0t,jb]=qh(QT),T9e="MenuAnchor",x4=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=y4(n);return h.jsx(Gv,{...i,...r,ref:e})});x4.displayName=T9e;var _4="MenuPortal",[P9e,Xne]=qh(_4,{forceMount:void 0}),qne=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Kh(_4,e);return h.jsx(P9e,{scope:e,forceMount:n,children:h.jsx(or,{present:n||s.open,children:h.jsx(Tv,{asChild:!0,container:i,children:r})})})};qne.displayName=_4;var $o="MenuContent",[N9e,b4]=qh($o),Kne=A.forwardRef((t,e)=>{const n=Xne($o,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Kh($o,t.__scopeMenu),o=jb($o,t.__scopeMenu);return h.jsx(y_.Provider,{scope:t.__scopeMenu,children:h.jsx(or,{present:r||s.open,children:h.jsx(y_.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(R9e,{...i,ref:e}):h.jsx(O9e,{...i,ref:e})})})})}),R9e=A.forwardRef((t,e)=>{const n=Kh($o,t.__scopeMenu),r=A.useRef(null),i=At(e,r);return A.useEffect(()=>{const s=r.current;if(s)return YA(s)},[]),h.jsx(w4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),O9e=A.forwardRef((t,e)=>{const n=Kh($o,t.__scopeMenu);return h.jsx(w4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I9e=md("MenuContent.ScrollLock"),w4=A.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:g,disableOutsideScroll:v,...y}=t,m=Kh($o,n),p=jb($o,n),x=y4(n),_=Gne(n),b=M9e(n),[S,C]=A.useState(null),M=A.useRef(null),T=At(e,M,m.onContentChange),P=A.useRef(0),N=A.useRef(""),I=A.useRef(0),k=A.useRef(null),j=A.useRef("right"),F=A.useRef(0),B=v?fb:A.Fragment,U=v?{as:I9e,allowPinchZoom:!0}:void 0,H=L=>{var $,Y;const z=N.current+L,W=b().filter(Q=>!Q.disabled),G=document.activeElement,q=($=W.find(Q=>Q.ref.current===G))==null?void 0:$.textValue,ne=W.map(Q=>Q.textValue),ae=W9e(ne,z,q),se=(Y=W.find(Q=>Q.textValue===ae))==null?void 0:Y.ref.current;(function Q(te){N.current=te,window.clearTimeout(P.current),te!==""&&(P.current=window.setTimeout(()=>Q(""),1e3))})(z),se&&setTimeout(()=>se.focus())};A.useEffect(()=>()=>window.clearTimeout(P.current),[]),qA();const R=A.useCallback(L=>{var W,G;return j.current===((W=k.current)==null?void 0:W.side)&&X9e(L,(G=k.current)==null?void 0:G.area)},[]);return h.jsx(N9e,{scope:n,searchRef:N,onItemEnter:A.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:A.useCallback(L=>{var z;R(L)||((z=M.current)==null||z.focus(),C(null))},[R]),onTriggerLeave:A.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:A.useCallback(L=>{k.current=L},[]),children:h.jsx(B,{...U,children:h.jsx(db,{asChild:!0,trapped:i,onMountAutoFocus:Oe(s,L=>{var z;L.preventDefault(),(z=M.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:g,children:h.jsx(kb,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Oe(l,L=>{p.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(Ob,{role:"menu","aria-orientation":"vertical","data-state":dre(m.open),"data-radix-menu-content":"",dir:p.dir,...x,...y,ref:T,style:{outline:"none",...y.style},onKeyDown:Oe(y.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,q=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!G&&q&&H(L.key));const ne=M.current;if(L.target!==ne||!S9e.includes(L.key))return;L.preventDefault();const se=b().filter($=>!$.disabled).map($=>$.ref.current);Wne.includes(L.key)&&se.reverse(),H9e(se)}),onBlur:Oe(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(P.current),N.current="")}),onPointerMove:Oe(t.onPointerMove,x_(L=>{const z=L.target,W=F.current!==L.clientX;if(L.currentTarget.contains(z)&&W){const G=L.clientX>F.current?"right":"left";j.current=G,F.current=L.clientX}}))})})})})})})});Kne.displayName=$o;var k9e="MenuGroup",S4=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(qe.div,{role:"group",...r,ref:e})});S4.displayName=k9e;var D9e="MenuLabel",Yne=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(qe.div,{...r,ref:e})});Yne.displayName=D9e;var fM="MenuItem",PW="menu.itemSelect",JT=A.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=A.useRef(null),o=jb(fM,t.__scopeMenu),a=b4(fM,t.__scopeMenu),l=At(e,s),c=A.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const f=new CustomEvent(PW,{bubbles:!0,cancelable:!0});u.addEventListener(PW,g=>r==null?void 0:r(g),{once:!0}),Ax(u,f),f.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(Zne,{...i,ref:l,disabled:n,onClick:Oe(t.onClick,d),onPointerDown:u=>{var f;(f=t.onPointerDown)==null||f.call(t,u),c.current=!0},onPointerUp:Oe(t.onPointerUp,u=>{var f;c.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:Oe(t.onKeyDown,u=>{const f=a.searchRef.current!=="";n||f&&u.key===" "||fL.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});JT.displayName=fM;var Zne=A.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=b4(fM,n),a=Gne(n),l=A.useRef(null),c=At(e,l),[d,u]=A.useState(!1),[f,g]=A.useState("");return A.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),h.jsx(y_.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:h.jsx(Db,{asChild:!0,...a,focusable:!r,children:h.jsx(qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Oe(t.onPointerMove,x_(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(t.onPointerLeave,x_(v=>o.onItemLeave(v))),onFocus:Oe(t.onFocus,()=>u(!0)),onBlur:Oe(t.onBlur,()=>u(!1))})})})}),L9e="MenuCheckboxItem",Qne=A.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return h.jsx(rre,{scope:t.__scopeMenu,checked:n,children:h.jsx(JT,{role:"menuitemcheckbox","aria-checked":hM(n)?"mixed":n,...i,ref:e,"data-state":C4(n),onSelect:Oe(i.onSelect,()=>r==null?void 0:r(hM(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Qne.displayName=L9e;var Jne="MenuRadioGroup",[j9e,F9e]=qh(Jne,{value:void 0,onValueChange:()=>{}}),ere=A.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=kn(r);return h.jsx(j9e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:h.jsx(S4,{...i,ref:e})})});ere.displayName=Jne;var tre="MenuRadioItem",nre=A.forwardRef((t,e)=>{const{value:n,...r}=t,i=F9e(tre,t.__scopeMenu),s=n===i.value;return h.jsx(rre,{scope:t.__scopeMenu,checked:s,children:h.jsx(JT,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":C4(s),onSelect:Oe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});nre.displayName=tre;var E4="MenuItemIndicator",[rre,B9e]=qh(E4,{checked:!1}),ire=A.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=B9e(E4,n);return h.jsx(or,{present:r||hM(s.checked)||s.checked===!0,children:h.jsx(qe.span,{...i,ref:e,"data-state":C4(s.checked)})})});ire.displayName=E4;var U9e="MenuSeparator",sre=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sre.displayName=U9e;var z9e="MenuArrow",ore=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=y4(n);return h.jsx(Ib,{...i,...r,ref:e})});ore.displayName=z9e;var $9e="MenuSub",[v0t,are]=qh($9e),w0="MenuSubTrigger",lre=A.forwardRef((t,e)=>{const n=Kh(w0,t.__scopeMenu),r=jb(w0,t.__scopeMenu),i=are(w0,t.__scopeMenu),s=b4(w0,t.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),h.jsx(x4,{asChild:!0,...c,children:h.jsx(Zne,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":dre(n.open),...t,ref:Nl(e,i.onTriggerChange),onClick:u=>{var f;(f=t.onClick)==null||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Oe(t.onPointerMove,x_(u=>{s.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Oe(t.onPointerLeave,x_(u=>{var g,v;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const y=(v=n.content)==null?void 0:v.dataset.side,m=y==="right",p=m?-5:5,x=f[m?"left":"right"],_=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+p,y:u.clientY},{x,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(t.onKeyDown,u=>{var g;const f=s.searchRef.current!=="";t.disabled||f&&u.key===" "||E9e[r.dir].includes(u.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),u.preventDefault())})})})});lre.displayName=w0;var cre="MenuSubContent",ure=A.forwardRef((t,e)=>{const n=Xne($o,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Kh($o,t.__scopeMenu),o=jb($o,t.__scopeMenu),a=are(cre,t.__scopeMenu),l=A.useRef(null),c=At(e,l);return h.jsx(y_.Provider,{scope:t.__scopeMenu,children:h.jsx(or,{present:r||s.open,children:h.jsx(y_.Slot,{scope:t.__scopeMenu,children:h.jsx(w4,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;o.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Oe(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Oe(t.onKeyDown,d=>{var g;const u=d.currentTarget.contains(d.target),f=C9e[o.dir].includes(d.key);u&&f&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});ure.displayName=cre;function dre(t){return t?"open":"closed"}function hM(t){return t==="indeterminate"}function C4(t){return hM(t)?"indeterminate":t?"checked":"unchecked"}function H9e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function V9e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function W9e(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=V9e(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function G9e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function X9e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return G9e(n,e)}function x_(t){return e=>e.pointerType==="mouse"?t(e):void 0}var M4=x4,A4=qne,T4=Kne,P4=S4,N4=Yne,R4=JT,O4=Qne,I4=ere,k4=nre,D4=ire,L4=sre,j4=ore,F4=lre,B4=ure,fre="ContextMenu",[q9e,y0t]=Gn(fre,[Lb]),ks=Lb(),[x0t,hre]=q9e(fre),pre="ContextMenuTrigger",K9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=hre(pre,n),o=ks(n),a=A.useRef({x:0,y:0}),l=A.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=A.useRef(0),d=A.useCallback(()=>window.clearTimeout(c.current),[]),u=f=>{a.current={x:f.clientX,y:f.clientY},s.onOpenChange(!0)};return A.useEffect(()=>d,[d]),A.useEffect(()=>void(r&&d()),[r,d]),h.jsxs(h.Fragment,{children:[h.jsx(M4,{...o,virtualRef:l}),h.jsx(qe.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Oe(t.onContextMenu,f=>{d(),u(f),f.preventDefault()}),onPointerDown:r?t.onPointerDown:Oe(t.onPointerDown,$1(f=>{d(),c.current=window.setTimeout(()=>u(f),700)})),onPointerMove:r?t.onPointerMove:Oe(t.onPointerMove,$1(d)),onPointerCancel:r?t.onPointerCancel:Oe(t.onPointerCancel,$1(d)),onPointerUp:r?t.onPointerUp:Oe(t.onPointerUp,$1(d))})]})});K9e.displayName=pre;var Y9e="ContextMenuPortal",mre=t=>{const{__scopeContextMenu:e,...n}=t,r=ks(e);return h.jsx(A4,{...r,...n})};mre.displayName=Y9e;var gre="ContextMenuContent",vre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=hre(gre,n),s=ks(n),o=A.useRef(!1);return h.jsx(T4,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=t.onCloseAutoFocus)==null||l.call(t,a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{var l;(l=t.onInteractOutside)==null||l.call(t,a),!a.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vre.displayName=gre;var Z9e="ContextMenuGroup",Q9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(P4,{...i,...r,ref:e})});Q9e.displayName=Z9e;var J9e="ContextMenuLabel",yre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(N4,{...i,...r,ref:e})});yre.displayName=J9e;var eXe="ContextMenuItem",xre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(R4,{...i,...r,ref:e})});xre.displayName=eXe;var tXe="ContextMenuCheckboxItem",_re=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(O4,{...i,...r,ref:e})});_re.displayName=tXe;var nXe="ContextMenuRadioGroup",rXe=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(I4,{...i,...r,ref:e})});rXe.displayName=nXe;var iXe="ContextMenuRadioItem",bre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(k4,{...i,...r,ref:e})});bre.displayName=iXe;var sXe="ContextMenuItemIndicator",wre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(D4,{...i,...r,ref:e})});wre.displayName=sXe;var oXe="ContextMenuSeparator",Sre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(L4,{...i,...r,ref:e})});Sre.displayName=oXe;var aXe="ContextMenuArrow",lXe=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(j4,{...i,...r,ref:e})});lXe.displayName=aXe;var cXe="ContextMenuSubTrigger",Ere=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(F4,{...i,...r,ref:e})});Ere.displayName=cXe;var uXe="ContextMenuSubContent",Cre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=ks(n);return h.jsx(B4,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cre.displayName=uXe;function $1(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var dXe=mre,Mre=vre,Are=yre,Tre=xre,Pre=_re,Nre=bre,Rre=wre,Ore=Sre,Ire=Ere,kre=Cre;const fXe=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(Ire,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,h.jsx(ab,{className:"ml-auto h-4 w-4"})]}));fXe.displayName=Ire.displayName;const hXe=A.forwardRef(({className:t,...e},n)=>h.jsx(kre,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e}));hXe.displayName=kre.displayName;const pXe=A.forwardRef(({className:t,...e},n)=>h.jsx(dXe,{children:h.jsx(Mre,{ref:n,className:we("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e})}));pXe.displayName=Mre.displayName;const mXe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Tre,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));mXe.displayName=Tre.displayName;const gXe=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(Pre,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Rre,{children:h.jsx(ob,{className:"h-4 w-4"})})}),e]}));gXe.displayName=Pre.displayName;const vXe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Nre,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Rre,{children:h.jsx(WA,{className:"h-2 w-2 fill-current"})})}),e]}));vXe.displayName=Nre.displayName;const yXe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Are,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...n}));yXe.displayName=Are.displayName;const xXe=A.forwardRef(({className:t,...e},n)=>h.jsx(Ore,{ref:n,className:we("-mx-1 my-1 h-px bg-border",t),...e}));xXe.displayName=Ore.displayName;const U4=ZA,Dre=I3,_Xe=hb,Lre=A.forwardRef(({className:t,...e},n)=>h.jsx(Uh,{ref:n,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Lre.displayName=Uh.displayName;const eP=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(_Xe,{children:[h.jsx(Lre,{}),h.jsxs(zh,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(pb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ub,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eP.displayName=zh.displayName;const z4=({className:t,...e})=>h.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});z4.displayName="DialogHeader";const $4=A.forwardRef(({className:t,...e},n)=>h.jsx(Pv,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));$4.displayName=Pv.displayName;const H4=A.forwardRef(({className:t,...e},n)=>h.jsx(Nv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));H4.displayName=Nv.displayName;function bXe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const jre=ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Xv=()=>{const t=ee.useContext(jre);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};bXe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function wXe(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function SXe(){return V4(/^Mac/)}function EXe(){return V4(/^iPhone/)}function NW(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function CXe(){return V4(/^iPad/)||SXe()&&navigator.maxTouchPoints>1}function Fre(){return EXe()||CXe()}function V4(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const MXe=24,AXe=typeof window<"u"?A.useLayoutEffect:A.useEffect;function RW(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const zR=typeof document<"u"&&window.visualViewport;function OW(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Bre(t){for(OW(t)&&(t=t.parentElement);t&&!OW(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const TXe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let H1=0,$R;function PXe(t={}){let{isDisabled:e}=t;AXe(()=>{if(!e)return H1++,H1===1&&Fre()&&($R=NXe()),()=>{H1--,H1===0&&($R==null||$R())}},[e])}function NXe(){let t,e=0,n=u=>{t=Bre(u.target),!(t===document.documentElement&&t===document.body)&&(e=u.changedTouches[0].pageY)},r=u=>{if(!t||t===document.documentElement||t===document.body){u.preventDefault();return}let f=u.changedTouches[0].pageY,g=t.scrollTop,v=t.scrollHeight-t.clientHeight;v!==0&&((g<=0&&f>e||g>=v&&f<e)&&u.preventDefault(),e=f)},i=u=>{let f=u.target;hL(f)&&f!==document.activeElement&&(u.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},s=u=>{let f=u.target;hL(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",zR&&(zR.height<window.innerHeight?requestAnimationFrame(()=>{IW(f)}):zR.addEventListener("resize",()=>IW(f),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=RW(RXe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=RW(qy(document,"touchstart",n,{passive:!1,capture:!0}),qy(document,"touchmove",r,{passive:!1,capture:!0}),qy(document,"touchend",i,{passive:!1,capture:!0}),qy(document,"focus",s,!0),qy(window,"scroll",o));return()=>{c(),d(),window.scrollTo(a,l)}}function RXe(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function qy(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function IW(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Bre(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+MXe;s>o&&(n.scrollTop+=i-r)}t=n.parentElement}}function hL(t){return t instanceof HTMLInputElement&&!TXe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function OXe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function IXe(...t){return e=>t.forEach(n=>OXe(n,e))}function Ure(...t){return A.useCallback(IXe(...t),t)}const zre=new WeakMap;function qr(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,s])=>{if(i.startsWith("--")){t.style.setProperty(i,s);return}r[i]=t.style[i],t.style[i]=s}),!n&&zre.set(t,r)}function kXe(t,e){if(!t||!(t instanceof HTMLElement))return;let n=zre.get(t);n&&(t.style[e]=n[e])}const Fr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function V1(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Fr(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Fr(e)?5:4]):null)}function DXe(t){return 8*(Math.log(t+1)-2)}function HR(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function LXe(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const pr={DURATION:.5,EASE:[.32,.72,0,1]},$re=.4,jXe=.25,FXe=100,Hre=8,Jd=16,pL=26,VR="vaul-dragging";function Vre(t){const e=ee.useRef(t);return ee.useEffect(()=>{e.current=t}),ee.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function BXe({defaultProp:t,onChange:e}){const n=ee.useState(t),[r]=n,i=ee.useRef(r),s=Vre(e);return ee.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Wre({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=BXe({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Vre(n),l=ee.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function UXe({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:o,direction:a="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=Wre({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[f,g]=ee.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ee.useEffect(()=>{function M(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const v=ee.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=ee.useMemo(()=>{var M;return(M=n==null?void 0:n.findIndex(T=>T===d))!=null?M:null},[n,d]),m=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===d||!n,p=ee.useMemo(()=>{const M=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=n==null?void 0:n.map(P=>{const N=typeof P=="string";let I=0;if(N&&(I=parseInt(P,10)),Fr(a)){const j=N?I:f?P*M.height:0;return f?a==="bottom"?M.height-j:-M.height+j:j}const k=N?I:f?P*M.width:0;return f?a==="right"?M.width-k:-M.width+k:k}))!=null?T:[]},[n,f,l]),x=ee.useMemo(()=>y!==null?p==null?void 0:p[y]:null,[p,y]),_=ee.useCallback(M=>{var T;const P=(T=p==null?void 0:p.findIndex(N=>N===M))!=null?T:null;o(P),qr(r.current,{transition:`transform ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,transform:Fr(a)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),p&&P!==p.length-1&&s!==void 0&&P!==s&&P<s?qr(i.current,{transition:`opacity ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,opacity:"0"}):qr(i.current,{transition:`opacity ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,opacity:"1"}),u(n==null?void 0:n[Math.max(P,0)])},[r.current,n,p,s,i,u]);ee.useEffect(()=>{if(d||t){var M;const T=(M=n==null?void 0:n.findIndex(P=>P===t||P===d))!=null?M:-1;p&&T!==-1&&typeof p[T]=="number"&&_(p[T])}},[d,t,n,p,_]);function b({draggedDistance:M,closeDrawer:T,velocity:P,dismissible:N}){if(s===void 0)return;const I=a==="bottom"||a==="right"?(x??0)-M:(x??0)+M,k=y===s-1,j=y===0,F=M>0;if(k&&qr(i.current,{transition:`opacity ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`}),!c&&P>2&&!F){N?T():_(p[0]);return}if(!c&&P>2&&F&&p&&n){_(p[n.length-1]);return}const B=p==null?void 0:p.reduce((H,R)=>typeof H!="number"||typeof R!="number"?H:Math.abs(R-I)<Math.abs(H-I)?R:H),U=Fr(a)?window.innerHeight:window.innerWidth;if(P>$re&&Math.abs(M)<U*.4){const H=F?1:-1;if(H>0&&v&&n){_(p[n.length-1]);return}if(j&&H<0&&N&&T(),y===null)return;_(p[y+H]);return}_(B)}function S({draggedDistance:M}){if(x===null)return;const T=a==="bottom"||a==="right"?x-M:x+M;(a==="bottom"||a==="right")&&T<p[p.length-1]||(a==="top"||a==="left")&&T>p[p.length-1]||qr(r.current,{transform:Fr(a)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function C(M,T){if(!n||typeof y!="number"||!p||s===void 0)return null;const P=y===s-1;if(y>=s&&T)return 0;if(P&&!T)return 1;if(!m&&!P)return null;const I=P?y+1:y-1,k=P?p[I]-p[I-1]:p[I+1]-p[I],j=M/Math.abs(k);return P?1-j:j}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:m,getPercentageDragged:C,setActiveSnapPoint:u,activeSnapPointIndex:y,onRelease:b,onDrag:S,snapPointsOffset:p}}const zXe=()=>()=>{};function $Xe(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=Xv(),s=ee.useRef(null),o=A.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-pL)/window.innerWidth}ee.useEffect(()=>{if(e&&n){s.current&&clearTimeout(s.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;LXe(r&&!i?HR(document.body,{background:"black"}):zXe,HR(l,{transformOrigin:Fr(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${pr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${pr.EASE.join(",")})`}));const c=HR(l,{borderRadius:`${Hre}px`,overflow:"hidden",...Fr(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},pr.DURATION*1e3)}}},[e,n,o])}let Ky=null;function HXe({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:s}){const[o,a]=ee.useState(()=>typeof window<"u"?window.location.href:""),l=ee.useRef(0),c=ee.useCallback(()=>{if(NW()&&Ky===null&&t&&!s){Ky={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:u,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-u}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=f-window.innerHeight;g&&l.current>=f&&(document.body.style.top=`${-(l.current+g)}px`)}),300)}},[t]),d=ee.useCallback(()=>{if(NW()&&Ky!==null&&!s){const u=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ky),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(f,u)}),Ky=null}},[o]);return ee.useEffect(()=>{function u(){l.current=window.scrollY}return u(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),ee.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[e,d]),ee.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{d()},500)):d())},[t,r,o,e,n,c,d]),{restorePositionSetting:d}}function Gre({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=jXe,scrollLockTimeout:c=FXe,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:f=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:y,modal:m=!0,onClose:p,nested:x,noBodyStyles:_=!1,direction:b="bottom",defaultOpen:S=!1,disablePreventScroll:C=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:T=!1,repositionInputs:P=!0,onAnimationEnd:N,container:I,autoFocus:k=!1}){var j,F;const[B=!1,U]=Wre({defaultProp:S,prop:t,onChange:ce=>{e==null||e(ce),!ce&&!x&&Ie(),setTimeout(()=>{N==null||N(ce)},pr.DURATION*1e3),ce&&!m&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ce||(document.body.style.pointerEvents="auto")}}),[H,R]=ee.useState(!1),[L,z]=ee.useState(!1),[W,G]=ee.useState(!1),q=ee.useRef(null),ne=ee.useRef(null),ae=ee.useRef(null),se=ee.useRef(null),$=ee.useRef(null),Y=ee.useRef(!1),Q=ee.useRef(null),te=ee.useRef(0),ue=ee.useRef(!1),J=ee.useRef(!S),K=ee.useRef(0),re=ee.useRef(null),fe=ee.useRef(((j=re.current)==null?void 0:j.getBoundingClientRect().height)||0),me=ee.useRef(((F=re.current)==null?void 0:F.getBoundingClientRect().width)||0),pe=ee.useRef(0),Ae=ee.useCallback(ce=>{s&&ce===ie.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:Ce,activeSnapPointIndex:ke,setActiveSnapPoint:rt,onRelease:Je,snapPointsOffset:ie,onDrag:Z,shouldFade:ve,getPercentageDragged:Se}=UXe({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:re,fadeFromIndex:f,overlayRef:q,onSnapPointChange:Ae,direction:b,container:I,snapToSequentialPoint:M});PXe({isDisabled:!B||L||!m||W||!H||!P||!C});const{restorePositionSetting:Ie}=HXe({isOpen:B,modal:m,nested:x??!1,hasBeenOpened:H,preventScrollRestoration:T,noBodyStyles:_});function Me(){return(window.innerWidth-pL)/window.innerWidth}function ct(ce){var Ne,Be;!d&&!s||re.current&&!re.current.contains(ce.target)||(fe.current=((Ne=re.current)==null?void 0:Ne.getBoundingClientRect().height)||0,me.current=((Be=re.current)==null?void 0:Be.getBoundingClientRect().width)||0,z(!0),ae.current=new Date,Fre()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),te.current=Fr(b)?ce.pageY:ce.pageX)}function He(ce,Ne){var Be;let Ve=ce;const Ue=(Be=window.getSelection())==null?void 0:Be.toString(),Le=re.current?V1(re.current,b):null,Ze=new Date;if(Ve.tagName==="SELECT"||Ve.hasAttribute("data-vaul-no-drag")||Ve.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(ne.current&&Ze.getTime()-ne.current.getTime()<500)return!1;if(Le!==null&&(b==="bottom"?Le>0:Le<0))return!0;if(Ue&&Ue.length>0)return!1;if($.current&&Ze.getTime()-$.current.getTime()<c&&Le===0||Ne)return $.current=Ze,!1;for(;Ve;){if(Ve.scrollHeight>Ve.clientHeight){if(Ve.scrollTop!==0)return $.current=new Date,!1;if(Ve.getAttribute("role")==="dialog")return!0}Ve=Ve.parentNode}return!0}function lt(ce){if(re.current&&L){const Ne=b==="bottom"||b==="right"?1:-1,Be=(te.current-(Fr(b)?ce.pageY:ce.pageX))*Ne,Ve=Be>0,Ue=s&&!d&&!Ve;if(Ue&&ke===0)return;const Le=Math.abs(Be),Ze=document.querySelector("[data-vaul-drawer-wrapper]"),mt=b==="bottom"||b==="top"?fe.current:me.current;let jt=Le/mt;const $t=Se(Le,Ve);if($t!==null&&(jt=$t),Ue&&jt>=1||!Y.current&&!He(ce.target,Ve))return;if(re.current.classList.add(VR),Y.current=!0,qr(re.current,{transition:"none"}),qr(q.current,{transition:"none"}),s&&Z({draggedDistance:Be}),Ve&&!s){const Rn=DXe(Be),ta=Math.min(Rn*-1,0)*Ne;qr(re.current,{transform:Fr(b)?`translate3d(0, ${ta}px, 0)`:`translate3d(${ta}px, 0, 0)`});return}const Ln=1-jt;if((ve||f&&ke===f-1)&&(r==null||r(ce,jt),qr(q.current,{opacity:`${Ln}`,transition:"none"},!0)),Ze&&q.current&&o){const Rn=Math.min(Me()+jt*(1-Me()),1),ta=8-jt*8,cs=Math.max(0,14-jt*14);qr(Ze,{borderRadius:`${ta}px`,transform:Fr(b)?`scale(${Rn}) translate3d(0, ${cs}px, 0)`:`scale(${Rn}) translate3d(${cs}px, 0, 0)`,transition:"none"},!0)}if(!s){const Rn=Le*Ne;qr(re.current,{transform:Fr(b)?`translate3d(0, ${Rn}px, 0)`:`translate3d(${Rn}px, 0, 0)`})}}}ee.useEffect(()=>{window.requestAnimationFrame(()=>{J.current=!0})},[]),ee.useEffect(()=>{var ce;function Ne(){if(!re.current||!P)return;const Be=document.activeElement;if(hL(Be)||ue.current){var Ve;const Ue=((Ve=window.visualViewport)==null?void 0:Ve.height)||0,Le=window.innerHeight;let Ze=Le-Ue;const mt=re.current.getBoundingClientRect().height||0,jt=mt>Le*.8;pe.current||(pe.current=mt);const $t=re.current.getBoundingClientRect().top;if(Math.abs(K.current-Ze)>60&&(ue.current=!ue.current),s&&s.length>0&&ie&&ke){const Ln=ie[ke]||0;Ze+=Ln}if(K.current=Ze,mt>Ue||ue.current){const Ln=re.current.getBoundingClientRect().height;let Rn=Ln;Ln>Ue&&(Rn=Ue-(jt?$t:pL)),y?re.current.style.height=`${Ln-Math.max(Ze,0)}px`:re.current.style.height=`${Math.max(Rn,Ue-$t)}px`}else wXe()||(re.current.style.height=`${pe.current}px`);s&&s.length>0&&!ue.current?re.current.style.bottom="0px":re.current.style.bottom=`${Math.max(Ze,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",Ne),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",Ne)}},[ke,s,ie]);function Ge(ce){it(),p==null||p(),ce||U(!1),setTimeout(()=>{s&&rt(s[0])},pr.DURATION*1e3)}function $e(){if(!re.current)return;const ce=document.querySelector("[data-vaul-drawer-wrapper]"),Ne=V1(re.current,b);qr(re.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`}),qr(q.current,{transition:`opacity ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,opacity:"1"}),o&&Ne&&Ne>0&&B&&qr(ce,{borderRadius:`${Hre}px`,overflow:"hidden",...Fr(b)?{transform:`scale(${Me()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Me()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${pr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${pr.EASE.join(",")})`},!0)}function it(){!L||!re.current||(re.current.classList.remove(VR),Y.current=!1,z(!1),se.current=new Date)}function Ct(ce){if(!L||!re.current)return;re.current.classList.remove(VR),Y.current=!1,z(!1),se.current=new Date;const Ne=V1(re.current,b);if(!ce||!He(ce.target,!1)||!Ne||Number.isNaN(Ne)||ae.current===null)return;const Be=se.current.getTime()-ae.current.getTime(),Ve=te.current-(Fr(b)?ce.pageY:ce.pageX),Ue=Math.abs(Ve)/Be;if(Ue>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){Je({draggedDistance:Ve*(b==="bottom"||b==="right"?1:-1),closeDrawer:Ge,velocity:Ue,dismissible:d}),i==null||i(ce,!0);return}if(b==="bottom"||b==="right"?Ve>0:Ve<0){$e(),i==null||i(ce,!0);return}if(Ue>$re){Ge(),i==null||i(ce,!1);return}var Le;const Ze=Math.min((Le=re.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var mt;const jt=Math.min((mt=re.current.getBoundingClientRect().width)!=null?mt:0,window.innerWidth),$t=b==="left"||b==="right";if(Math.abs(Ne)>=($t?jt:Ze)*l){Ge(),i==null||i(ce,!1);return}i==null||i(ce,!0),$e()}ee.useEffect(()=>(B&&(qr(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{kXe(document.documentElement,"scrollBehavior")}),[B]);function he(ce){const Ne=ce?(window.innerWidth-Jd)/window.innerWidth:1,Be=ce?-Jd:0;Q.current&&window.clearTimeout(Q.current),qr(re.current,{transition:`transform ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,transform:Fr(b)?`scale(${Ne}) translate3d(0, ${Be}px, 0)`:`scale(${Ne}) translate3d(${Be}px, 0, 0)`}),!ce&&re.current&&(Q.current=setTimeout(()=>{const Ve=V1(re.current,b);qr(re.current,{transition:"none",transform:Fr(b)?`translate3d(0, ${Ve}px, 0)`:`translate3d(${Ve}px, 0, 0)`})},500))}function Ee(ce,Ne){if(Ne<0)return;const Be=(window.innerWidth-Jd)/window.innerWidth,Ve=Be+Ne*(1-Be),Ue=-Jd+Ne*Jd;qr(re.current,{transform:Fr(b)?`scale(${Ve}) translate3d(0, ${Ue}px, 0)`:`scale(${Ve}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function Ye(ce,Ne){const Be=Fr(b)?window.innerHeight:window.innerWidth,Ve=Ne?(Be-Jd)/Be:1,Ue=Ne?-Jd:0;Ne&&qr(re.current,{transition:`transform ${pr.DURATION}s cubic-bezier(${pr.EASE.join(",")})`,transform:Fr(b)?`scale(${Ve}) translate3d(0, ${Ue}px, 0)`:`scale(${Ve}) translate3d(${Ue}px, 0, 0)`})}return ee.useEffect(()=>{m||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[m]),ee.createElement(ZA,{defaultOpen:S,onOpenChange:ce=>{!d&&!ce||(ce?R(!0):Ge(!0),U(ce))},open:B},ee.createElement(jre.Provider,{value:{activeSnapPoint:Ce,snapPoints:s,setActiveSnapPoint:rt,drawerRef:re,overlayRef:q,onOpenChange:e,onPress:ct,onRelease:Ct,onDrag:lt,dismissible:d,shouldAnimate:J,handleOnly:u,isOpen:B,isDragging:L,shouldFade:ve,closeDrawer:Ge,onNestedDrag:Ee,onNestedOpenChange:he,onNestedRelease:Ye,keyboardIsOpen:ue,modal:m,snapPointsOffset:ie,activeSnapPointIndex:ke,direction:b,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:_,container:I,autoFocus:k}},n))}const Xre=ee.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:s,isOpen:o,modal:a,shouldAnimate:l}=Xv(),c=Ure(e,n),d=r&&r.length>0;if(!a)return null;const u=ee.useCallback(f=>i(f),[i]);return ee.createElement(Uh,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...t})});Xre.displayName="Drawer.Overlay";const qre=ee.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},i){const{drawerRef:s,onPress:o,onRelease:a,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:f,isOpen:g,direction:v,snapPoints:y,container:m,handleOnly:p,shouldAnimate:x,autoFocus:_}=Xv(),[b,S]=ee.useState(!1),C=Ure(i,s),M=ee.useRef(null),T=ee.useRef(null),P=ee.useRef(!1),N=y&&y.length>0;$Xe();const I=(j,F,B=0)=>{if(P.current)return!0;const U=Math.abs(j.y),H=Math.abs(j.x),R=H>U,L=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(j.x*L<0)&&H>=0&&H<=B)return R}else if(!(j.y*L<0)&&U>=0&&U<=B)return!R;return P.current=!0,!0};ee.useEffect(()=>{N&&window.requestAnimationFrame(()=>{S(!0)})},[]);function k(j){M.current=null,P.current=!1,a(j)}return ee.createElement(zh,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":g&&N?"true":"false","data-vaul-custom-container":m?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...r,ref:C,style:d&&d.length>0?{"--snap-point-height":`${d[u??0]}px`,...e}:e,onPointerDown:j=>{p||(r.onPointerDown==null||r.onPointerDown.call(r,j),M.current={x:j.pageX,y:j.pageY},o(j))},onOpenAutoFocus:j=>{n==null||n(j),_||j.preventDefault()},onPointerDownOutside:j=>{if(t==null||t(j),!f||j.defaultPrevented){j.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:j=>{if(!f){j.preventDefault();return}},onPointerMove:j=>{if(T.current=j,p||(r.onPointerMove==null||r.onPointerMove.call(r,j),!M.current))return;const F=j.pageY-M.current.y,B=j.pageX-M.current.x,U=j.pointerType==="touch"?10:2;I({x:B,y:F},v,U)?l(j):(Math.abs(B)>U||Math.abs(F)>U)&&(M.current=null)},onPointerUp:j=>{r.onPointerUp==null||r.onPointerUp.call(r,j),M.current=null,P.current=!1,a(j)},onPointerOut:j=>{r.onPointerOut==null||r.onPointerOut.call(r,j),k(T.current)},onContextMenu:j=>{r.onContextMenu==null||r.onContextMenu.call(r,j),T.current&&k(T.current)}})});qre.displayName="Drawer.Content";const VXe=250,WXe=120,Kre=ee.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:i,isDragging:s,snapPoints:o,activeSnapPoint:a,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:f,onDrag:g}=Xv(),v=ee.useRef(null),y=ee.useRef(!1);function m(){if(y.current){_();return}window.setTimeout(()=>{p()},WXe)}function p(){if(s||t||y.current){_();return}if(_(),!o||o.length===0){c||i();return}if(a===o[o.length-1]&&c){i();return}const S=o.findIndex(M=>M===a);if(S===-1)return;const C=o[S+1];l(C)}function x(){v.current=window.setTimeout(()=>{y.current=!0},VXe)}function _(){v.current&&window.clearTimeout(v.current),y.current=!1}return ee.createElement("div",{onClick:m,onPointerCancel:_,onPointerDown:b=>{d&&f(b),x()},onPointerMove:b=>{d&&g(b)},ref:r,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},ee.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});Kre.displayName="Drawer.Handle";function GXe({onDrag:t,onOpenChange:e,open:n,...r}){const{onNestedDrag:i,onNestedOpenChange:s,onNestedRelease:o}=Xv();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return ee.createElement(Gre,{nested:!0,open:n,onClose:()=>{s(!1)},onDrag:(a,l)=>{i(a,l),t==null||t(a,l)},onOpenChange:a=>{a&&s(a),e==null||e(a)},onRelease:o,...r})}function XXe(t){const e=Xv(),{container:n=e.container,...r}=t;return ee.createElement(hb,{container:n,...r})}const Id={Root:Gre,NestedRoot:GXe,Content:qre,Overlay:Xre,Trigger:I3,Portal:XXe,Handle:Kre,Close:pb,Title:Pv,Description:Nv},qXe=Id.Portal,Yre=A.forwardRef(({className:t,...e},n)=>h.jsx(Id.Overlay,{ref:n,className:we("fixed inset-0 z-50 bg-black/80",t),...e}));Yre.displayName=Id.Overlay.displayName;const KXe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(qXe,{children:[h.jsx(Yre,{}),h.jsxs(Id.Content,{ref:r,className:we("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[h.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));KXe.displayName="DrawerContent";const YXe=A.forwardRef(({className:t,...e},n)=>h.jsx(Id.Title,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));YXe.displayName=Id.Title.displayName;const ZXe=A.forwardRef(({className:t,...e},n)=>h.jsx(Id.Description,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));ZXe.displayName=Id.Description.displayName;var Zre="DropdownMenu",[QXe,_0t]=Gn(Zre,[Lb]),Ds=Lb(),[b0t,Qre]=QXe(Zre),Jre="DropdownMenuTrigger",JXe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Qre(Jre,n),o=Ds(n);return h.jsx(M4,{asChild:!0,...o,children:h.jsx(qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Nl(e,s.triggerRef),onPointerDown:Oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});JXe.displayName=Jre;var eqe="DropdownMenuPortal",eie=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ds(e);return h.jsx(A4,{...r,...n})};eie.displayName=eqe;var tie="DropdownMenuContent",nie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qre(tie,n),s=Ds(n),o=A.useRef(!1);return h.jsx(T4,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nie.displayName=tie;var tqe="DropdownMenuGroup",nqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(P4,{...i,...r,ref:e})});nqe.displayName=tqe;var rqe="DropdownMenuLabel",rie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(N4,{...i,...r,ref:e})});rie.displayName=rqe;var iqe="DropdownMenuItem",iie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(R4,{...i,...r,ref:e})});iie.displayName=iqe;var sqe="DropdownMenuCheckboxItem",sie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(O4,{...i,...r,ref:e})});sie.displayName=sqe;var oqe="DropdownMenuRadioGroup",aqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(I4,{...i,...r,ref:e})});aqe.displayName=oqe;var lqe="DropdownMenuRadioItem",oie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(k4,{...i,...r,ref:e})});oie.displayName=lqe;var cqe="DropdownMenuItemIndicator",aie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(D4,{...i,...r,ref:e})});aie.displayName=cqe;var uqe="DropdownMenuSeparator",lie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(L4,{...i,...r,ref:e})});lie.displayName=uqe;var dqe="DropdownMenuArrow",fqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(j4,{...i,...r,ref:e})});fqe.displayName=dqe;var hqe="DropdownMenuSubTrigger",cie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(F4,{...i,...r,ref:e})});cie.displayName=hqe;var pqe="DropdownMenuSubContent",uie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ds(n);return h.jsx(B4,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uie.displayName=pqe;var mqe=eie,die=nie,fie=rie,hie=iie,pie=sie,mie=oie,gie=aie,vie=lie,yie=cie,xie=uie;const gqe=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(yie,{ref:i,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(ab,{className:"ml-auto"})]}));gqe.displayName=yie.displayName;const vqe=A.forwardRef(({className:t,...e},n)=>h.jsx(xie,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));vqe.displayName=xie.displayName;const yqe=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(mqe,{children:h.jsx(die,{ref:r,sideOffset:e,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));yqe.displayName=die.displayName;const xqe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(hie,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));xqe.displayName=hie.displayName;const _qe=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(pie,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(gie,{children:h.jsx(ob,{className:"h-4 w-4"})})}),e]}));_qe.displayName=pie.displayName;const bqe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(mie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(gie,{children:h.jsx(WA,{className:"h-2 w-2 fill-current"})})}),e]}));bqe.displayName=mie.displayName;const wqe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(fie,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));wqe.displayName=fie.displayName;const Sqe=A.forwardRef(({className:t,...e},n)=>h.jsx(vie,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));Sqe.displayName=vie.displayName;const Eqe=ee.createContext(null),Cqe=()=>ee.useContext(Eqe),Mqe=A.createContext({}),tP=()=>{const t=A.useContext(Mqe),e=A.useContext(_ie),{getFieldState:n,formState:r}=Cqe(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},_ie=A.createContext({}),Aqe=A.forwardRef(({className:t,...e},n)=>{const r=A.useId();return h.jsx(_ie.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});Aqe.displayName="FormItem";const Tqe=A.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=tP();return h.jsx(pn,{ref:n,className:we(r&&"text-destructive",t),htmlFor:i,...e})});Tqe.displayName="FormLabel";const Pqe=A.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=tP();return h.jsx(ib,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Pqe.displayName="FormControl";const Nqe=A.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=tP();return h.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});Nqe.displayName="FormDescription";const Rqe=A.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=tP(),o=i?String((i==null?void 0:i.message)??""):e;return o?h.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});Rqe.displayName="FormMessage";var WR,bie="HoverCard",[wie,w0t]=Gn(bie,[zl]),W4=zl(),[S0t,G4]=wie(bie),Sie="HoverCardTrigger",Oqe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=G4(Sie,n),s=W4(n);return h.jsx(Gv,{asChild:!0,...s,children:h.jsx(qe.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,mM(i.onOpen)),onPointerLeave:Oe(t.onPointerLeave,mM(i.onClose)),onFocus:Oe(t.onFocus,i.onOpen),onBlur:Oe(t.onBlur,i.onClose),onTouchStart:Oe(t.onTouchStart,o=>o.preventDefault())})})});Oqe.displayName=Sie;var Iqe="HoverCardPortal",[E0t,kqe]=wie(Iqe,{forceMount:void 0}),pM="HoverCardContent",Eie=A.forwardRef((t,e)=>{const n=kqe(pM,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,s=G4(pM,t.__scopeHoverCard);return h.jsx(or,{present:r||s.open,children:h.jsx(Dqe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Oe(t.onPointerEnter,mM(s.onOpen)),onPointerLeave:Oe(t.onPointerLeave,mM(s.onClose)),ref:e})})});Eie.displayName=pM;var Dqe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,l=G4(pM,n),c=W4(n),d=A.useRef(null),u=At(e,d),[f,g]=A.useState(!1);return A.useEffect(()=>{if(f){const v=document.body;return WR=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=WR,v.style.webkitUserSelect=WR}}},[f]),A.useEffect(()=>{if(d.current){const v=()=>{g(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var m;((m=document.getSelection())==null?void 0:m.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),A.useEffect(()=>{d.current&&Fqe(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),h.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Oe(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:h.jsx(Ob,{...c,...a,onPointerDown:Oe(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:u,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Lqe="HoverCardArrow",jqe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=W4(n);return h.jsx(Ib,{...i,...r,ref:e})});jqe.displayName=Lqe;function mM(t){return e=>e.pointerType==="touch"?void 0:t()}function Fqe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Cie=Eie;const Bqe=A.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>h.jsx(Cie,{ref:i,align:e,sideOffset:n,className:we("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",t),...r}));Bqe.displayName=Cie.displayName;var Uqe=Object.defineProperty,zqe=Object.defineProperties,$qe=Object.getOwnPropertyDescriptors,gM=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Aie=Object.prototype.propertyIsEnumerable,kW=(t,e,n)=>e in t?Uqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hqe=(t,e)=>{for(var n in e||(e={}))Mie.call(e,n)&&kW(t,n,e[n]);if(gM)for(var n of gM(e))Aie.call(e,n)&&kW(t,n,e[n]);return t},Vqe=(t,e)=>zqe(t,$qe(e)),Wqe=(t,e)=>{var n={};for(var r in t)Mie.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gM)for(var r of gM(t))e.indexOf(r)<0&&Aie.call(t,r)&&(n[r]=t[r]);return n};function Gqe(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function Xqe(t){let e=A.useRef();return A.useEffect(()=>{e.current=t}),e.current}var qqe=18,Tie=40,Kqe=`${Tie}px`,Yqe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Zqe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),d=A.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),u=A.useCallback(()=>{let f=t.current,g=e.current;if(!f||!g||l||n==="none")return;let v=f,y=v.getBoundingClientRect().left+v.offsetWidth,m=v.getBoundingClientRect().top+v.offsetHeight/2,p=y-qqe,x=m;document.querySelectorAll(Yqe).length===0&&document.elementFromPoint(p,x)===f||(s(!0),c(!0))},[t,e,l,n]);return A.useEffect(()=>{let f=t.current;if(!f||n==="none")return;function g(){let y=window.innerWidth-f.getBoundingClientRect().right;a(y>=Tie)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[t,n]),A.useEffect(()=>{let f=r||document.activeElement===e.current;if(n==="none"||!f)return;let g=setTimeout(u,0),v=setTimeout(u,2e3),y=setTimeout(u,5e3),m=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(y),clearTimeout(m)}},[e,r,n,u]),{hasPWMBadge:i,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:Kqe}}var Pie=A.createContext({}),Nie=A.forwardRef((t,e)=>{var n=t,{value:r,onChange:i,maxLength:s,textAlign:o="left",pattern:a,placeholder:l,inputMode:c="numeric",onComplete:d,pushPasswordManagerStrategy:u="increase-width",pasteTransformer:f,containerClassName:g,noScriptCSSFallback:v=Qqe,render:y,children:m}=n,p=Wqe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),x,_,b,S,C;let[M,T]=A.useState(typeof p.defaultValue=="string"?p.defaultValue:""),P=r??M,N=Xqe(P),I=A.useCallback(re=>{i==null||i(re),T(re)},[i]),k=A.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),j=A.useRef(null),F=A.useRef(null),B=A.useRef({value:P,onChange:I,isIOS:typeof window<"u"&&((_=(x=window==null?void 0:window.CSS)==null?void 0:x.supports)==null?void 0:_.call(x,"-webkit-touch-callout","none"))}),U=A.useRef({prev:[(b=j.current)==null?void 0:b.selectionStart,(S=j.current)==null?void 0:S.selectionEnd,(C=j.current)==null?void 0:C.selectionDirection]});A.useImperativeHandle(e,()=>j.current,[]),A.useEffect(()=>{let re=j.current,fe=F.current;if(!re||!fe)return;B.current.value!==re.value&&B.current.onChange(re.value),U.current.prev=[re.selectionStart,re.selectionEnd,re.selectionDirection];function me(){if(document.activeElement!==re){G(null),ne(null);return}let Ce=re.selectionStart,ke=re.selectionEnd,rt=re.selectionDirection,Je=re.maxLength,ie=re.value,Z=U.current.prev,ve=-1,Se=-1,Ie;if(ie.length!==0&&Ce!==null&&ke!==null){let lt=Ce===ke,Ge=Ce===ie.length&&ie.length<Je;if(lt&&!Ge){let $e=Ce;if($e===0)ve=0,Se=1,Ie="forward";else if($e===Je)ve=$e-1,Se=$e,Ie="backward";else if(Je>1&&ie.length>1){let it=0;if(Z[0]!==null&&Z[1]!==null){Ie=$e<Z[1]?"backward":"forward";let Ct=Z[0]===Z[1]&&Z[0]<Je;Ie==="backward"&&!Ct&&(it=-1)}ve=it+$e,Se=it+$e+1}}ve!==-1&&Se!==-1&&ve!==Se&&j.current.setSelectionRange(ve,Se,Ie)}let Me=ve!==-1?ve:Ce,ct=Se!==-1?Se:ke,He=Ie??rt;G(Me),ne(ct),U.current.prev=[Me,ct,He]}if(document.addEventListener("selectionchange",me,{capture:!0}),me(),document.activeElement===re&&z(!0),!document.getElementById("input-otp-style")){let Ce=document.createElement("style");if(Ce.id="input-otp-style",document.head.appendChild(Ce),Ce.sheet){let ke="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Yy(Ce.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Yy(Ce.sheet,`[data-input-otp]:autofill { ${ke} }`),Yy(Ce.sheet,`[data-input-otp]:-webkit-autofill { ${ke} }`),Yy(Ce.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Yy(Ce.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let pe=()=>{fe&&fe.style.setProperty("--root-height",`${re.clientHeight}px`)};pe();let Ae=new ResizeObserver(pe);return Ae.observe(re),()=>{document.removeEventListener("selectionchange",me,{capture:!0}),Ae.disconnect()}},[]);let[H,R]=A.useState(!1),[L,z]=A.useState(!1),[W,G]=A.useState(null),[q,ne]=A.useState(null);A.useEffect(()=>{Gqe(()=>{var re,fe,me,pe;(re=j.current)==null||re.dispatchEvent(new Event("input"));let Ae=(fe=j.current)==null?void 0:fe.selectionStart,Ce=(me=j.current)==null?void 0:me.selectionEnd,ke=(pe=j.current)==null?void 0:pe.selectionDirection;Ae!==null&&Ce!==null&&(G(Ae),ne(Ce),U.current.prev=[Ae,Ce,ke])})},[P,L]),A.useEffect(()=>{N!==void 0&&P!==N&&N.length<s&&P.length===s&&(d==null||d(P))},[s,d,N,P]);let ae=Zqe({containerRef:F,inputRef:j,pushPasswordManagerStrategy:u,isFocused:L}),se=A.useCallback(re=>{let fe=re.currentTarget.value.slice(0,s);if(fe.length>0&&k&&!k.test(fe)){re.preventDefault();return}typeof N=="string"&&fe.length<N.length&&document.dispatchEvent(new Event("selectionchange")),I(fe)},[s,I,N,k]),$=A.useCallback(()=>{var re;if(j.current){let fe=Math.min(j.current.value.length,s-1),me=j.current.value.length;(re=j.current)==null||re.setSelectionRange(fe,me),G(fe),ne(me)}z(!0)},[s]),Y=A.useCallback(re=>{var fe,me;let pe=j.current;if(!f&&(!B.current.isIOS||!re.clipboardData||!pe))return;let Ae=re.clipboardData.getData("text/plain"),Ce=f?f(Ae):Ae;re.preventDefault();let ke=(fe=j.current)==null?void 0:fe.selectionStart,rt=(me=j.current)==null?void 0:me.selectionEnd,Je=(ke!==rt?P.slice(0,ke)+Ce+P.slice(rt):P.slice(0,ke)+Ce+P.slice(ke)).slice(0,s);if(Je.length>0&&k&&!k.test(Je))return;pe.value=Je,I(Je);let ie=Math.min(Je.length,s-1),Z=Je.length;pe.setSelectionRange(ie,Z),G(ie),ne(Z)},[s,I,k,P]),Q=A.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),te=A.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),ue=A.useMemo(()=>A.createElement("input",Vqe(Hqe({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":q,inputMode:c,pattern:k==null?void 0:k.source,"aria-placeholder":l,style:te,maxLength:s,value:P,ref:j,onPaste:re=>{var fe;Y(re),(fe=p.onPaste)==null||fe.call(p,re)},onChange:se,onMouseOver:re=>{var fe;R(!0),(fe=p.onMouseOver)==null||fe.call(p,re)},onMouseLeave:re=>{var fe;R(!1),(fe=p.onMouseLeave)==null||fe.call(p,re)},onFocus:re=>{var fe;$(),(fe=p.onFocus)==null||fe.call(p,re)},onBlur:re=>{var fe;z(!1),(fe=p.onBlur)==null||fe.call(p,re)}})),[se,$,Y,c,te,s,q,W,p,k==null?void 0:k.source,P]),J=A.useMemo(()=>({slots:Array.from({length:s}).map((re,fe)=>{var me;let pe=L&&W!==null&&q!==null&&(W===q&&fe===W||fe>=W&&fe<q),Ae=P[fe]!==void 0?P[fe]:null,Ce=P[0]!==void 0?null:(me=l==null?void 0:l[fe])!=null?me:null;return{char:Ae,placeholderChar:Ce,isActive:pe,hasFakeCaret:pe&&Ae===null}}),isFocused:L,isHovering:!p.disabled&&H}),[L,H,s,q,W,p.disabled,P]),K=A.useMemo(()=>y?y(J):A.createElement(Pie.Provider,{value:J},m),[m,J,y]);return A.createElement(A.Fragment,null,v!==null&&A.createElement("noscript",null,A.createElement("style",null,v)),A.createElement("div",{ref:F,"data-input-otp-container":!0,style:Q,className:g},K,A.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});Nie.displayName="Input";function Yy(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Qqe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Jqe=A.forwardRef(({className:t,containerClassName:e,...n},r)=>h.jsx(Nie,{ref:r,containerClassName:we("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:we("disabled:cursor-not-allowed",t),...n}));Jqe.displayName="InputOTP";const eKe=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex items-center",t),...e}));eKe.displayName="InputOTPGroup";const tKe=A.forwardRef(({index:t,className:e,...n},r)=>{const i=A.useContext(Pie),{char:s,hasFakeCaret:o,isActive:a}=i.slots[t];return h.jsxs("div",{ref:r,className:we("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[s,o&&h.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});tKe.displayName="InputOTPSlot";const nKe=A.forwardRef(({...t},e)=>h.jsx("div",{ref:e,role:"separator",...t,children:h.jsx(Yye,{})}));nKe.displayName="InputOTPSeparator";const Tn=A.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Tn.displayName="Input";var rKe="Label",Rie=A.forwardRef((t,e)=>h.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rie.displayName=rKe;var Oie=Rie;const iKe=Yc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pn=A.forwardRef(({className:t,...e},n)=>h.jsx(Oie,{ref:n,className:we(iKe(),t),...e}));pn.displayName=Oie.displayName;var nP="Menubar",[mL,sKe,oKe]=Xc(nP),[Iie,C0t]=Gn(nP,[oKe,$l]),Ls=Lb(),kie=$l(),[aKe,Die]=Iie(nP),Lie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:s,loop:o=!0,dir:a,...l}=t,c=jl(a),d=kie(n),[u="",f]=Or({prop:r,onChange:i,defaultProp:s}),[g,v]=A.useState(null);return h.jsx(aKe,{scope:n,value:u,onMenuOpen:A.useCallback(y=>{f(y),v(y)},[f]),onMenuClose:A.useCallback(()=>f(""),[f]),onMenuToggle:A.useCallback(y=>{f(m=>m?"":y),v(y)},[f]),dir:c,loop:o,children:h.jsx(mL.Provider,{scope:n,children:h.jsx(mL.Slot,{scope:n,children:h.jsx(kb,{asChild:!0,...d,orientation:"horizontal",loop:o,dir:c,currentTabStopId:g,onCurrentTabStopIdChange:v,children:h.jsx(qe.div,{role:"menubar",...l,ref:e})})})})})});Lie.displayName=nP;var lKe="MenubarMenu",[M0t,jie]=Iie(lKe),gL="MenubarTrigger",Fie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=t,s=kie(n),o=Ls(n),a=Die(gL,n),l=jie(gL,n),c=A.useRef(null),d=At(e,c,l.triggerRef),[u,f]=A.useState(!1),g=a.value===l.value;return h.jsx(mL.ItemSlot,{scope:n,value:l.value,disabled:r,children:h.jsx(Db,{asChild:!0,...s,focusable:!r,tabStopId:l.value,children:h.jsx(M4,{asChild:!0,...o,children:h.jsx(qe.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?l.contentId:void 0,"data-highlighted":u?"":void 0,"data-state":g?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:d,onPointerDown:Oe(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(a.onMenuOpen(l.value),g||v.preventDefault())}),onPointerEnter:Oe(t.onPointerEnter,()=>{var y;!!a.value&&!g&&(a.onMenuOpen(l.value),(y=c.current)==null||y.focus())}),onKeyDown:Oe(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&a.onMenuToggle(l.value),v.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(v.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Oe(t.onFocus,()=>f(!0)),onBlur:Oe(t.onBlur,()=>f(!1))})})})})});Fie.displayName=gL;var cKe="MenubarPortal",Bie=t=>{const{__scopeMenubar:e,...n}=t,r=Ls(e);return h.jsx(A4,{...r,...n})};Bie.displayName=cKe;var vL="MenubarContent",Uie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...i}=t,s=Ls(n),o=Die(vL,n),a=jie(vL,n),l=sKe(n),c=A.useRef(!1);return h.jsx(T4,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...s,...i,ref:e,align:r,onCloseAutoFocus:Oe(t.onCloseAutoFocus,d=>{var f;!!!o.value&&!c.current&&((f=a.triggerRef.current)==null||f.focus()),c.current=!1,d.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,d=>{const u=d.target;l().some(g=>{var v;return(v=g.ref.current)==null?void 0:v.contains(u)})&&d.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:d=>{a.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:Oe(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const u=d.target,f=u.hasAttribute("data-radix-menubar-subtrigger"),g=u.closest("[data-radix-menubar-content]")!==d.currentTarget,y=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!y&&f||g&&y)return;let x=l().filter(S=>!S.disabled).map(S=>S.value);y&&x.reverse();const _=x.indexOf(a.value);x=o.loop?EKe(x,_+1):x.slice(_+1);const[b]=x;b&&o.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Uie.displayName=vL;var uKe="MenubarGroup",dKe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(P4,{...i,...r,ref:e})});dKe.displayName=uKe;var fKe="MenubarLabel",zie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(N4,{...i,...r,ref:e})});zie.displayName=fKe;var hKe="MenubarItem",$ie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(R4,{...i,...r,ref:e})});$ie.displayName=hKe;var pKe="MenubarCheckboxItem",Hie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(O4,{...i,...r,ref:e})});Hie.displayName=pKe;var mKe="MenubarRadioGroup",gKe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(I4,{...i,...r,ref:e})});gKe.displayName=mKe;var vKe="MenubarRadioItem",Vie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(k4,{...i,...r,ref:e})});Vie.displayName=vKe;var yKe="MenubarItemIndicator",Wie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(D4,{...i,...r,ref:e})});Wie.displayName=yKe;var xKe="MenubarSeparator",Gie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(L4,{...i,...r,ref:e})});Gie.displayName=xKe;var _Ke="MenubarArrow",bKe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(j4,{...i,...r,ref:e})});bKe.displayName=_Ke;var wKe="MenubarSubTrigger",Xie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(F4,{"data-radix-menubar-subtrigger":"",...i,...r,ref:e})});Xie.displayName=wKe;var SKe="MenubarSubContent",qie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ls(n);return h.jsx(B4,{...i,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});qie.displayName=SKe;function EKe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Kie=Lie,Yie=Fie,CKe=Bie,Zie=Uie,Qie=zie,Jie=$ie,ese=Hie,tse=Vie,nse=Wie,rse=Gie,ise=Xie,sse=qie;const MKe=A.forwardRef(({className:t,...e},n)=>h.jsx(Kie,{ref:n,className:we("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));MKe.displayName=Kie.displayName;const AKe=A.forwardRef(({className:t,...e},n)=>h.jsx(Yie,{ref:n,className:we("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));AKe.displayName=Yie.displayName;const TKe=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(ise,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,h.jsx(ab,{className:"ml-auto h-4 w-4"})]}));TKe.displayName=ise.displayName;const PKe=A.forwardRef(({className:t,...e},n)=>h.jsx(sse,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...e}));PKe.displayName=sse.displayName;const NKe=A.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...i},s)=>h.jsx(CKe,{children:h.jsx(Zie,{ref:s,align:e,alignOffset:n,sideOffset:r,className:we("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...i})}));NKe.displayName=Zie.displayName;const RKe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Jie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));RKe.displayName=Jie.displayName;const OKe=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(ese,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(nse,{children:h.jsx(ob,{className:"h-4 w-4"})})}),e]}));OKe.displayName=ese.displayName;const IKe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(tse,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(nse,{children:h.jsx(WA,{className:"h-2 w-2 fill-current"})})}),e]}));IKe.displayName=tse.displayName;const kKe=A.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Qie,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));kKe.displayName=Qie.displayName;const DKe=A.forwardRef(({className:t,...e},n)=>h.jsx(rse,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));DKe.displayName=rse.displayName;var LKe="VisuallyHidden",Fb=A.forwardRef((t,e)=>h.jsx(qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fb.displayName=LKe;var ose=Fb,qv="NavigationMenu",[X4,ase,jKe]=Xc(qv),[yL,FKe,BKe]=Xc(qv),[q4,A0t]=Gn(qv,[jKe,BKe]),[UKe,Qo]=q4(qv),[zKe,$Ke]=q4(qv),lse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...d}=t,[u,f]=A.useState(null),g=At(e,P=>f(P)),v=jl(c),y=A.useRef(0),m=A.useRef(0),p=A.useRef(0),[x,_]=A.useState(!0),[b="",S]=Or({prop:r,onChange:P=>{const N=P!=="",I=a>0;N?(window.clearTimeout(p.current),I&&_(!1)):(window.clearTimeout(p.current),p.current=window.setTimeout(()=>_(!0),a)),i==null||i(P)},defaultProp:s}),C=A.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>S(""),150)},[S]),M=A.useCallback(P=>{window.clearTimeout(m.current),S(P)},[S]),T=A.useCallback(P=>{b===P?window.clearTimeout(m.current):y.current=window.setTimeout(()=>{window.clearTimeout(m.current),S(P)},o)},[b,S,o]);return A.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),h.jsx(use,{scope:n,isRootMenu:!0,value:b,dir:v,orientation:l,rootNavigationMenu:u,onTriggerEnter:P=>{window.clearTimeout(y.current),x?T(P):M(P)},onTriggerLeave:()=>{window.clearTimeout(y.current),C()},onContentEnter:()=>window.clearTimeout(m.current),onContentLeave:C,onItemSelect:P=>{S(N=>N===P?"":P)},onItemDismiss:()=>S(""),children:h.jsx(qe.nav,{"aria-label":"Main","data-orientation":l,dir:v,...d,ref:g})})});lse.displayName=qv;var cse="NavigationMenuSub",HKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",...a}=t,l=Qo(cse,n),[c="",d]=Or({prop:r,onChange:i,defaultProp:s});return h.jsx(use,{scope:n,isRootMenu:!1,value:c,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:u=>d(u),onItemSelect:u=>d(u),onItemDismiss:()=>d(""),children:h.jsx(qe.div,{"data-orientation":o,...a,ref:e})})});HKe.displayName=cse;var use=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:d,onTriggerLeave:u,onContentEnter:f,onContentLeave:g}=t,[v,y]=A.useState(null),[m,p]=A.useState(new Map),[x,_]=A.useState(null);return h.jsx(UKe,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:Hv(a),baseId:Hr(),dir:i,orientation:s,viewport:v,onViewportChange:y,indicatorTrack:x,onIndicatorTrackChange:_,onTriggerEnter:kn(d),onTriggerLeave:kn(u),onContentEnter:kn(f),onContentLeave:kn(g),onItemSelect:kn(l),onItemDismiss:kn(c),onViewportContentChange:A.useCallback((b,S)=>{p(C=>(C.set(b,S),new Map(C)))},[]),onViewportContentRemove:A.useCallback(b=>{p(S=>S.has(b)?(S.delete(b),new Map(S)):S)},[]),children:h.jsx(X4.Provider,{scope:e,children:h.jsx(zKe,{scope:e,items:m,children:o})})})},dse="NavigationMenuList",fse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Qo(dse,n),s=h.jsx(qe.ul,{"data-orientation":i.orientation,...r,ref:e});return h.jsx(qe.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:h.jsx(X4.Slot,{scope:n,children:i.isRootMenu?h.jsx(_se,{asChild:!0,children:s}):s})})});fse.displayName=dse;var hse="NavigationMenuItem",[VKe,pse]=q4(hse),WKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=Hr(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=A.useRef(null),l=A.useRef(null),c=A.useRef(null),d=A.useRef(()=>{}),u=A.useRef(!1),f=A.useCallback((v="start")=>{if(a.current){d.current();const y=_L(a.current);y.length&&Z4(v==="start"?y:y.reverse())}},[]),g=A.useCallback(()=>{if(a.current){const v=_L(a.current);v.length&&(d.current=JKe(v))}},[]);return h.jsx(VKe,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:u,onEntryKeyDown:f,onFocusProxyEnter:f,onRootContentClose:g,onContentFocusOutside:g,children:h.jsx(qe.li,{...i,ref:e})})});WKe.displayName=hse;var xL="NavigationMenuTrigger",mse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=Qo(xL,t.__scopeNavigationMenu),o=pse(xL,t.__scopeNavigationMenu),a=A.useRef(null),l=At(a,o.triggerRef,e),c=wse(s.baseId,o.value),d=Sse(s.baseId,o.value),u=A.useRef(!1),f=A.useRef(!1),g=o.value===s.value;return h.jsxs(h.Fragment,{children:[h.jsx(X4.ItemSlot,{scope:n,value:o.value,children:h.jsx(bse,{asChild:!0,children:h.jsx(qe.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":Q4(g),"aria-expanded":g,"aria-controls":d,...i,ref:l,onPointerEnter:Oe(t.onPointerEnter,()=>{f.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:Oe(t.onPointerMove,vM(()=>{r||f.current||o.wasEscapeCloseRef.current||u.current||(s.onTriggerEnter(o.value),u.current=!0)})),onPointerLeave:Oe(t.onPointerLeave,vM(()=>{r||(s.onTriggerLeave(),u.current=!1)})),onClick:Oe(t.onClick,()=>{s.onItemSelect(o.value),f.current=g}),onKeyDown:Oe(t.onKeyDown,v=>{const m={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];g&&v.key===m&&(o.onEntryKeyDown(),v.preventDefault())})})})}),g&&h.jsxs(h.Fragment,{children:[h.jsx(ose,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:v=>{const y=o.contentRef.current,m=v.relatedTarget,p=m===a.current,x=y==null?void 0:y.contains(m);(p||!x)&&o.onFocusProxyEnter(p?"start":"end")}}),s.viewport&&h.jsx("span",{"aria-owns":d})]})]})});mse.displayName=xL;var GKe="NavigationMenuLink",DW="navigationMenu.linkSelect",XKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:i,...s}=t;return h.jsx(bse,{asChild:!0,children:h.jsx(qe.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...s,ref:e,onClick:Oe(t.onClick,o=>{const a=o.target,l=new CustomEvent(DW,{bubbles:!0,cancelable:!0});if(a.addEventListener(DW,c=>i==null?void 0:i(c),{once:!0}),Ax(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(pE,{bubbles:!0,cancelable:!0});Ax(a,c)}},{checkForDefaultPrevented:!1})})})});XKe.displayName=GKe;var K4="NavigationMenuIndicator",gse=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qo(K4,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?TK.createPortal(h.jsx(or,{present:n||s,children:h.jsx(qKe,{...r,ref:e})}),i.indicatorTrack):null});gse.displayName=K4;var qKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Qo(K4,n),s=ase(n),[o,a]=A.useState(null),[l,c]=A.useState(null),d=i.orientation==="horizontal",u=!!i.value;A.useEffect(()=>{var y;const v=(y=s().find(m=>m.value===i.value))==null?void 0:y.ref.current;v&&a(v)},[s,i.value]);const f=()=>{o&&c({size:d?o.offsetWidth:o.offsetHeight,offset:d?o.offsetLeft:o.offsetTop})};return bL(o,f),bL(i.indicatorTrack,f),l?h.jsx(qe.div,{"aria-hidden":!0,"data-state":u?"visible":"hidden","data-orientation":i.orientation,...r,ref:e,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),Jg="NavigationMenuContent",vse=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qo(Jg,t.__scopeNavigationMenu),s=pse(Jg,t.__scopeNavigationMenu),o=At(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?h.jsx(KKe,{forceMount:n,...l,ref:o}):h.jsx(or,{present:n||a,children:h.jsx(yse,{"data-state":Q4(a),...l,ref:o,onPointerEnter:Oe(t.onPointerEnter,i.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,vM(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})})});vse.displayName=Jg;var KKe=A.forwardRef((t,e)=>{const n=Qo(Jg,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return ur(()=>{r(t.value,{ref:e,...t})},[t,e,r]),ur(()=>()=>i(t.value),[t.value,i]),null}),pE="navigationMenu.rootContentDismiss",yse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,d=Qo(Jg,n),u=A.useRef(null),f=At(u,e),g=wse(d.baseId,r),v=Sse(d.baseId,r),y=ase(n),m=A.useRef(null),{onItemDismiss:p}=d;A.useEffect(()=>{const _=u.current;if(d.isRootMenu&&_){const b=()=>{var S;p(),a(),_.contains(document.activeElement)&&((S=i.current)==null||S.focus())};return _.addEventListener(pE,b),()=>_.removeEventListener(pE,b)}},[d.isRootMenu,t.value,i,p,a]);const x=A.useMemo(()=>{const b=y().map(N=>N.value);d.dir==="rtl"&&b.reverse();const S=b.indexOf(d.value),C=b.indexOf(d.previousValue),M=r===d.value,T=C===b.indexOf(r);if(!M&&!T)return m.current;const P=(()=>{if(S!==C){if(M&&C!==-1)return S>C?"from-end":"from-start";if(T&&S!==-1)return S>C?"to-start":"to-end"}return null})();return m.current=P,P},[d.previousValue,d.value,d.dir,y,r]);return h.jsx(_se,{asChild:!0,children:h.jsx(Kc,{id:v,"aria-labelledby":g,"data-motion":x,"data-orientation":d.orientation,...c,ref:f,disableOutsidePointerEvents:!1,onDismiss:()=>{var b;const _=new Event(pE,{bubbles:!0,cancelable:!0});(b=u.current)==null||b.dispatchEvent(_)},onFocusOutside:Oe(t.onFocusOutside,_=>{var S;l();const b=_.target;(S=d.rootNavigationMenu)!=null&&S.contains(b)&&_.preventDefault()}),onPointerDownOutside:Oe(t.onPointerDownOutside,_=>{var M;const b=_.target,S=y().some(T=>{var P;return(P=T.ref.current)==null?void 0:P.contains(b)}),C=d.isRootMenu&&((M=d.viewport)==null?void 0:M.contains(b));(S||C||!d.isRootMenu)&&_.preventDefault()}),onKeyDown:Oe(t.onKeyDown,_=>{var C;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const M=_L(_.currentTarget),T=document.activeElement,P=M.findIndex(k=>k===T),I=_.shiftKey?M.slice(0,P).reverse():M.slice(P+1,M.length);Z4(I)?_.preventDefault():(C=s.current)==null||C.focus()}}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,_=>{o.current=!0})})})}),Y4="NavigationMenuViewport",xse=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!Qo(Y4,t.__scopeNavigationMenu).value;return h.jsx(or,{present:n||s,children:h.jsx(YKe,{...r,ref:e})})});xse.displayName=Y4;var YKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=Qo(Y4,n),o=At(e,s.onViewportChange),a=$Ke(Jg,t.__scopeNavigationMenu),[l,c]=A.useState(null),[d,u]=A.useState(null),f=l?(l==null?void 0:l.width)+"px":void 0,g=l?(l==null?void 0:l.height)+"px":void 0,v=!!s.value,y=v?s.value:s.previousValue;return bL(d,()=>{d&&c({width:d.offsetWidth,height:d.offsetHeight})}),h.jsx(qe.div,{"data-state":Q4(v),"data-orientation":s.orientation,...i,ref:o,style:{pointerEvents:!v&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":f,"--radix-navigation-menu-viewport-height":g,...i.style},onPointerEnter:Oe(t.onPointerEnter,s.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,vM(s.onContentLeave)),children:Array.from(a.items).map(([p,{ref:x,forceMount:_,...b}])=>{const S=y===p;return h.jsx(or,{present:_||S,children:h.jsx(yse,{...b,ref:Nl(x,C=>{S&&C&&u(C)})})},p)})})}),ZKe="FocusGroup",_se=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Qo(ZKe,n);return h.jsx(yL.Provider,{scope:n,children:h.jsx(yL.Slot,{scope:n,children:h.jsx(qe.div,{dir:i.dir,...r,ref:e})})})}),LW=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],QKe="FocusGroupItem",bse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=FKe(n),s=Qo(QKe,n);return h.jsx(yL.ItemSlot,{scope:n,children:h.jsx(qe.button,{...r,ref:e,onKeyDown:Oe(t.onKeyDown,o=>{if(["Home","End",...LW].includes(o.key)){let l=i().map(u=>u.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),LW.includes(o.key)){const u=l.indexOf(o.currentTarget);l=l.slice(u+1)}setTimeout(()=>Z4(l)),o.preventDefault()}})})})});function _L(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Z4(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function JKe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function bL(t,e){const n=kn(e);ur(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function Q4(t){return t?"open":"closed"}function wse(t,e){return`${t}-trigger-${e}`}function Sse(t,e){return`${t}-content-${e}`}function vM(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ese=lse,Cse=fse,Mse=mse,Ase=gse,Tse=vse,Pse=xse;const eYe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Ese,{ref:r,className:we("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,h.jsx(Nse,{})]}));eYe.displayName=Ese.displayName;const tYe=A.forwardRef(({className:t,...e},n)=>h.jsx(Cse,{ref:n,className:we("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));tYe.displayName=Cse.displayName;const nYe=Yc("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),rYe=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Mse,{ref:r,className:we(nYe(),"group",t),...n,children:[e," ",h.jsx(Mv,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));rYe.displayName=Mse.displayName;const iYe=A.forwardRef(({className:t,...e},n)=>h.jsx(Tse,{ref:n,className:we("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",t),...e}));iYe.displayName=Tse.displayName;const Nse=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:we("absolute left-0 top-full flex justify-center"),children:h.jsx(Pse,{className:we("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:n,...e})}));Nse.displayName=Pse.displayName;const sYe=A.forwardRef(({className:t,...e},n)=>h.jsx(Ase,{ref:n,className:we("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:h.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));sYe.displayName=Ase.displayName;const oYe=A.forwardRef(({className:t,...e},n)=>h.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));oYe.displayName="PaginationContent";const aYe=A.forwardRef(({className:t,...e},n)=>h.jsx("li",{ref:n,className:we("",t),...e}));aYe.displayName="PaginationItem";var J4="Popover",[Rse,T0t]=Gn(J4,[zl]),Bb=zl(),[lYe,kd]=Rse(J4),Ose=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Bb(e),l=A.useRef(null),[c,d]=A.useState(!1),[u=!1,f]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(v4,{...a,children:h.jsx(lYe,{scope:e,contentId:Hr(),triggerRef:l,open:u,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:c,onCustomAnchorAdd:A.useCallback(()=>d(!0),[]),onCustomAnchorRemove:A.useCallback(()=>d(!1),[]),modal:o,children:n})})};Ose.displayName=J4;var Ise="PopoverAnchor",cYe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=kd(Ise,n),s=Bb(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return A.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(Gv,{...s,...r,ref:e})});cYe.displayName=Ise;var kse="PopoverTrigger",Dse=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=kd(kse,n),s=Bb(n),o=At(e,i.triggerRef),a=h.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Use(i.open),...r,ref:o,onClick:Oe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:h.jsx(Gv,{asChild:!0,...s,children:a})});Dse.displayName=kse;var eB="PopoverPortal",[uYe,dYe]=Rse(eB,{forceMount:void 0}),Lse=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=kd(eB,e);return h.jsx(uYe,{scope:e,forceMount:n,children:h.jsx(or,{present:n||s.open,children:h.jsx(Tv,{asChild:!0,container:i,children:r})})})};Lse.displayName=eB;var ev="PopoverContent",jse=A.forwardRef((t,e)=>{const n=dYe(ev,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=kd(ev,t.__scopePopover);return h.jsx(or,{present:r||s.open,children:s.modal?h.jsx(hYe,{...i,ref:e}):h.jsx(pYe,{...i,ref:e})})});jse.displayName=ev;var fYe=md("PopoverContent.RemoveScroll"),hYe=A.forwardRef((t,e)=>{const n=kd(ev,t.__scopePopover),r=A.useRef(null),i=At(e,r),s=A.useRef(!1);return A.useEffect(()=>{const o=r.current;if(o)return YA(o)},[]),h.jsx(fb,{as:fYe,allowPinchZoom:!0,children:h.jsx(Fse,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),pYe=A.forwardRef((t,e)=>{const n=kd(ev,t.__scopePopover),r=A.useRef(!1),i=A.useRef(!1);return h.jsx(Fse,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Fse=A.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=t,f=kd(ev,n),g=Bb(n);return qA(),h.jsx(db,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:h.jsx(Ob,{"data-state":Use(f.open),role:"dialog",id:f.contentId,...g,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Bse="PopoverClose",mYe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=kd(Bse,n);return h.jsx(qe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});mYe.displayName=Bse;var gYe="PopoverArrow",vYe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bb(n);return h.jsx(Ib,{...i,...r,ref:e})});vYe.displayName=gYe;function Use(t){return t?"open":"closed"}var yYe=Ose,xYe=Dse,_Ye=Lse,zse=jse;const bYe=yYe,wYe=xYe,$se=A.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>h.jsx(_Ye,{children:h.jsx(zse,{ref:i,align:e,sideOffset:n,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));$se.displayName=zse.displayName;var tB="Progress",nB=100,[SYe,P0t]=Gn(tB),[EYe,CYe]=SYe(tB),Hse=A.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=MYe,...o}=t;(i||i===0)&&!jW(i)&&console.error(AYe(`${i}`,"Progress"));const a=jW(i)?i:nB;r!==null&&!FW(r,a)&&console.error(TYe(`${r}`,"Progress"));const l=FW(r,a)?r:null,c=yM(l)?s(l,a):void 0;return h.jsx(EYe,{scope:n,value:l,max:a,children:h.jsx(qe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":yM(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Gse(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Hse.displayName=tB;var Vse="ProgressIndicator",Wse=A.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=CYe(Vse,n);return h.jsx(qe.div,{"data-state":Gse(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Wse.displayName=Vse;function MYe(t,e){return`${Math.round(t/e*100)}%`}function Gse(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function yM(t){return typeof t=="number"}function jW(t){return yM(t)&&!isNaN(t)&&t>0}function FW(t,e){return yM(t)&&!isNaN(t)&&t<=e&&t>=0}function AYe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nB}\`.`}function TYe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nB} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Xse=Hse,PYe=Wse;const rB=A.forwardRef(({className:t,value:e,...n},r)=>h.jsx(Xse,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(PYe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));rB.displayName=Xse.displayName;var iB="Radio",[NYe,qse]=Gn(iB),[RYe,OYe]=NYe(iB),Kse=A.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...d}=t,[u,f]=A.useState(null),g=At(e,m=>f(m)),v=A.useRef(!1),y=u?c||!!u.closest("form"):!0;return h.jsxs(RYe,{scope:n,checked:i,disabled:o,children:[h.jsx(qe.button,{type:"button",role:"radio","aria-checked":i,"data-state":Qse(i),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:Oe(t.onClick,m=>{i||l==null||l(),y&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),y&&h.jsx(IYe,{control:u,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});Kse.displayName=iB;var Yse="RadioIndicator",Zse=A.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=OYe(Yse,n);return h.jsx(or,{present:r||s.checked,children:h.jsx(qe.span,{"data-state":Qse(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});Zse.displayName=Yse;var IYe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=A.useRef(null),o=Hv(n),a=Pb(e);return A.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&u){const f=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qse(t){return t?"checked":"unchecked"}var kYe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sB="RadioGroup",[DYe,N0t]=Gn(sB,[$l,qse]),Jse=$l(),eoe=qse(),[LYe,jYe]=DYe(sB),toe=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...f}=t,g=Jse(n),v=jl(c),[y,m]=Or({prop:s,defaultProp:i,onChange:u});return h.jsx(LYe,{scope:n,name:r,required:o,disabled:a,value:y,onValueChange:m,children:h.jsx(kb,{asChild:!0,...g,orientation:l,dir:v,loop:d,children:h.jsx(qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...f,ref:e})})})});toe.displayName=sB;var noe="RadioGroupItem",roe=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=jYe(noe,n),o=s.disabled||r,a=Jse(n),l=eoe(n),c=A.useRef(null),d=At(e,c),u=s.value===i.value,f=A.useRef(!1);return A.useEffect(()=>{const g=y=>{kYe.includes(y.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),h.jsx(Db,{asChild:!0,...a,focusable:!o,active:u,children:h.jsx(Kse,{disabled:o,required:s.required,checked:u,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:Oe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Oe(i.onFocus,()=>{var g;f.current&&((g=c.current)==null||g.click())})})})});roe.displayName=noe;var FYe="RadioGroupIndicator",ioe=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=eoe(n);return h.jsx(Zse,{...i,...r,ref:e})});ioe.displayName=FYe;var soe=toe,ooe=roe,BYe=ioe;const UYe=A.forwardRef(({className:t,...e},n)=>h.jsx(soe,{className:we("grid gap-2",t),...e,ref:n}));UYe.displayName=soe.displayName;const zYe=A.forwardRef(({className:t,...e},n)=>h.jsx(ooe,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(BYe,{className:"flex items-center justify-center",children:h.jsx(WA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));zYe.displayName=ooe.displayName;const{createElement:tv,createContext:$Ye,createRef:R0t,forwardRef:aoe,useCallback:ms,useContext:loe,useEffect:eh,useImperativeHandle:coe,useLayoutEffect:HYe,useMemo:VYe,useRef:xs,useState:Km}=CA,BW=CA[`useId${Math.random()}`.slice(0,5)],WYe=HYe,rP=$Ye(null);rP.displayName="PanelGroupContext";const th=WYe,GYe=typeof BW=="function"?BW:()=>null;let XYe=0;function oB(t=null){const e=GYe(),n=xs(t||e||null);return n.current===null&&(n.current=""+XYe++),t??n.current}function uoe({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:d,onResize:u,order:f,style:g,tagName:v="div",...y}){const m=loe(rP);if(m===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:x,getPanelSize:_,getPanelStyle:b,groupId:S,isPanelCollapsed:C,reevaluatePanelConstraints:M,registerPanel:T,resizePanel:P,unregisterPanel:N}=m,I=oB(o),k=xs({callbacks:{onCollapse:c,onExpand:d,onResize:u},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:I,idIsFromProps:o!==void 0,order:f});xs({didLogMissingDefaultSizeWarning:!1}),th(()=>{const{callbacks:F,constraints:B}=k.current,U={...B};k.current.id=I,k.current.idIsFromProps=o!==void 0,k.current.order=f,F.onCollapse=c,F.onExpand=d,F.onResize=u,B.collapsedSize=n,B.collapsible=r,B.defaultSize=i,B.maxSize=a,B.minSize=l,(U.collapsedSize!==B.collapsedSize||U.collapsible!==B.collapsible||U.maxSize!==B.maxSize||U.minSize!==B.minSize)&&M(k.current,U)}),th(()=>{const F=k.current;return T(F),()=>{N(F)}},[f,I,T,N]),coe(s,()=>({collapse:()=>{p(k.current)},expand:F=>{x(k.current,F)},getId(){return I},getSize(){return _(k.current)},isCollapsed(){return C(k.current)},isExpanded(){return!C(k.current)},resize:F=>{P(k.current,F)}}),[p,x,_,C,I,P]);const j=b(k.current,i);return tv(v,{...y,children:t,className:e,id:o,style:{...j,...g},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":S,"data-panel-id":I,"data-panel-size":parseFloat(""+j.flexGrow).toFixed(1)})}const doe=aoe((t,e)=>tv(uoe,{...t,forwardedRef:e}));uoe.displayName="Panel";doe.displayName="forwardRef(Panel)";let wL=null,jf=null;function qYe(t,e){if(e){const n=(e&goe)!==0,r=(e&voe)!==0,i=(e&yoe)!==0,s=(e&xoe)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function KYe(){jf!==null&&(document.head.removeChild(jf),wL=null,jf=null)}function GR(t,e){const n=qYe(t,e);wL!==n&&(wL=n,jf===null&&(jf=document.createElement("style"),document.head.appendChild(jf)),jf.innerHTML=`*{cursor: ${n}!important;}`)}function foe(t){return t.type==="keydown"}function hoe(t){return t.type.startsWith("pointer")}function poe(t){return t.type.startsWith("mouse")}function iP(t){if(hoe(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(poe(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function YYe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function ZYe(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function QYe(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:$W(t),b:$W(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;an(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:zW(UW(n.a)),b:zW(UW(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const JYe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function eZe(t){var e;const n=getComputedStyle((e=moe(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function tZe(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||eZe(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||JYe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function UW(t){let e=t.length;for(;e--;){const n=t[e];if(an(n,"Missing node"),tZe(n))return n}return null}function zW(t){return t&&Number(getComputedStyle(t).zIndex)||0}function $W(t){const e=[];for(;t;)e.push(t),t=moe(t);return e}function moe(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const goe=1,voe=2,yoe=4,xoe=8,nZe=YYe()==="coarse";let Da=[],Ym=!1,ju=new Map,sP=new Map;const __=new Set;function rZe(t,e,n,r,i){var s;const{ownerDocument:o}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(s=ju.get(o))!==null&&s!==void 0?s:0;return ju.set(o,l+1),__.add(a),xM(),function(){var d;sP.delete(t),__.delete(a);const u=(d=ju.get(o))!==null&&d!==void 0?d:1;if(ju.set(o,u-1),xM(),u===1&&ju.delete(o),Da.includes(a)){const f=Da.indexOf(a);f>=0&&Da.splice(f,1),lB(),i("up",!0,null)}}}function HW(t){const{target:e}=t,{x:n,y:r}=iP(t);Ym=!0,aB({target:e,x:n,y:r}),xM(),Da.length>0&&(_M("down",t),t.preventDefault(),t.stopPropagation())}function Zy(t){const{x:e,y:n}=iP(t);if(Ym&&t.buttons===0&&(Ym=!1,_M("up",t)),!Ym){const{target:r}=t;aB({target:r,x:e,y:n})}_M("move",t),lB(),Da.length>0&&t.preventDefault()}function Rp(t){const{target:e}=t,{x:n,y:r}=iP(t);sP.clear(),Ym=!1,Da.length>0&&t.preventDefault(),_M("up",t),aB({target:e,x:n,y:r}),lB(),xM()}function aB({target:t,x:e,y:n}){Da.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),__.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:c,right:d,top:u}=a,f=nZe?o.coarse:o.fine;if(e>=c-f&&e<=d+f&&n>=u-f&&n<=l+f){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&QYe(r,s)>0){let v=r,y=!1;for(;v&&!v.contains(s);){if(ZYe(v.getBoundingClientRect(),a)){y=!0;break}v=v.parentElement}if(y)return}Da.push(i)}})}function XR(t,e){sP.set(t,e)}function lB(){let t=!1,e=!1;Da.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;sP.forEach(r=>{n|=r}),t&&e?GR("intersection",n):t?GR("horizontal",n):e?GR("vertical",n):KYe()}function xM(){ju.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Rp),n.removeEventListener("pointerdown",HW),n.removeEventListener("pointerleave",Zy),n.removeEventListener("pointermove",Zy)}),window.removeEventListener("pointerup",Rp),window.removeEventListener("pointercancel",Rp),__.size>0&&(Ym?(Da.length>0&&ju.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Rp),n.addEventListener("pointerleave",Zy),n.addEventListener("pointermove",Zy))}),window.addEventListener("pointerup",Rp),window.addEventListener("pointercancel",Rp)):ju.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",HW,{capture:!0}),n.addEventListener("pointermove",Zy))}))}function _M(t,e){__.forEach(n=>{const{setResizeHandlerState:r}=n,i=Da.includes(n);r(t,i,e)})}function iZe(){const[t,e]=Km(0);return ms(()=>e(n=>n+1),[])}function an(t,e){if(!t)throw console.error(e),Error(e)}const cB=10;function Th(t,e,n=cB){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function gc(t,e,n=cB){return Th(t,e,n)===0}function Ks(t,e,n){return Th(t,e,n)===0}function sZe(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!Ks(i,s,n))return!1}return!0}function Cm({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];an(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(Th(n,a)<0)if(s){const l=(i+a)/2;Th(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(cB)),n}function S0({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(Ks(t,0))return e;const o=[...e],[a,l]=r;an(a!=null,"Invalid first pivot index"),an(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const u=t<0?l:a,f=n[u];an(f,`Panel constraints not found for index ${u}`);const{collapsedSize:g=0,collapsible:v,minSize:y=0}=f;if(v){const m=e[u];if(an(m!=null,`Previous layout not found for panel index ${u}`),Ks(m,g)){const p=y-m;Th(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}{const u=t<0?a:l,f=n[u];an(f,`No panel constraints found for index ${u}`);const{collapsedSize:g=0,collapsible:v,minSize:y=0}=f;if(v){const m=e[u];if(an(m!=null,`Previous layout not found for panel index ${u}`),Ks(m,y)){const p=m-g;Th(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}}{const u=t<0?1:-1;let f=t<0?l:a,g=0;for(;;){const y=e[f];an(y!=null,`Previous layout not found for panel index ${f}`);const p=Cm({panelConstraints:n,panelIndex:f,size:100})-y;if(g+=p,f+=u,f<0||f>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-v:v}{let f=t<0?a:l;for(;f>=0&&f<n.length;){const g=Math.abs(t)-Math.abs(c),v=e[f];an(v!=null,`Previous layout not found for panel index ${f}`);const y=v-g,m=Cm({panelConstraints:n,panelIndex:f,size:y});if(!Ks(v,m)&&(c+=v-m,o[f]=m,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(sZe(i,o))return i;{const u=t<0?l:a,f=e[u];an(f!=null,`Previous layout not found for panel index ${u}`);const g=f+c,v=Cm({panelConstraints:n,panelIndex:u,size:g});if(o[u]=v,!Ks(v,g)){let y=g-v,p=t<0?l:a;for(;p>=0&&p<n.length;){const x=o[p];an(x!=null,`Previous layout not found for panel index ${p}`);const _=x+y,b=Cm({panelConstraints:n,panelIndex:p,size:_});if(Ks(x,b)||(y-=b-x,o[p]=b),Ks(y,0))break;t>0?p--:p++}}}const d=o.reduce((u,f)=>f+u,0);return Ks(d,100)?o:i}function oZe({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];an(a!=null,"No pivot index found"),e.forEach((u,f)=>{const{constraints:g}=u,{maxSize:v=100,minSize:y=0}=g;f===a?(r=y,i=v):(s+=y,o+=v)});const l=Math.min(i,100-s),c=Math.max(r,100-o),d=t[a];return{valueMax:l,valueMin:c,valueNow:d}}function b_(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function _oe(t,e,n=document){const i=b_(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e);return i??null}function boe(t,e,n){const r=_oe(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function woe(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function oP(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function aZe(t,e,n,r=document){var i,s,o,a;const l=oP(e,r),c=b_(t,r),d=l?c.indexOf(l):-1,u=(i=(s=n[d])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,f=(o=(a=n[d+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[u,f]}function lZe({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){xs({didWarnAboutMissingResizeHandle:!1}),th(()=>{if(!s)return;const a=b_(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:d,valueNow:u}=oZe({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),f=a[l];if(f!=null){const g=i[l];an(g,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",g.id),f.setAttribute("aria-valuemax",""+Math.round(c)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",u!=null?""+Math.round(u):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),eh(()=>{if(!s)return;const a=e.current;an(a,"Eager values not found");const{panelDataArray:l}=a,c=woe(n,s);an(c!=null,`No group found for id "${n}"`);const d=b_(n,s);an(d,`No resize handles found for group id "${n}"`);const u=d.map(f=>{const g=f.getAttribute("data-panel-resize-handle-id");an(g,"Resize handle element has no handle id attribute");const[v,y]=aZe(n,g,l,s);if(v==null||y==null)return()=>{};const m=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const x=l.findIndex(_=>_.id===v);if(x>=0){const _=l[x];an(_,`No panel data found for index ${x}`);const b=r[x],{collapsedSize:S=0,collapsible:C,minSize:M=0}=_.constraints;if(b!=null&&C){const T=S0({delta:Ks(b,S)?M-S:S-b,initialLayout:r,panelConstraints:l.map(P=>P.constraints),pivotIndices:boe(n,g,s),prevLayout:r,trigger:"keyboard"});r!==T&&o(T)}}break}}};return f.addEventListener("keydown",m),()=>{f.removeEventListener("keydown",m)}});return()=>{u.forEach(f=>f())}},[s,t,e,n,r,i,o])}function VW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Soe(t,e){const n=t==="horizontal",{x:r,y:i}=iP(e);return n?r:i}function cZe(t,e,n,r,i){const s=n==="horizontal",o=oP(e,i);an(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute("data-panel-group-id");an(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Soe(n,t),d=woe(a,i);an(d,`No group element found for id "${a}"`);const u=d.getBoundingClientRect(),f=s?u.width:u.height;return(c-l)/f*100}function uZe(t,e,n,r,i,s){if(foe(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:cZe(t,e,n,r,s)}function dZe({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];an(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];an(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,c=i/l;r++,e[s]=c,i-=c}return e}function Op(t,e,n){e.forEach((r,i)=>{const s=t[i];an(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:d}=a,u=n[l];if(u==null||r!==u){n[l]=r;const{onCollapse:f,onExpand:g,onResize:v}=o;v&&v(r,u),d&&(f||g)&&(g&&(u==null||gc(u,c))&&!gc(r,c)&&g(),f&&(u==null||!gc(u,c))&&gc(r,c)&&f())}})}function W1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function fZe({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function hZe(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function WW(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Eoe(t){return`react-resizable-panels:${t}`}function Coe(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Moe(t,e){try{const n=Eoe(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function pZe(t,e,n){var r,i;const s=(r=Moe(t,n))!==null&&r!==void 0?r:{},o=Coe(e);return(i=s[o])!==null&&i!==void 0?i:null}function mZe(t,e,n,r,i){var s;const o=Eoe(t),a=Coe(e),l=(s=Moe(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function GW({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Ks(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];an(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];an(o!=null,`No layout data found for index ${s}`);const a=Cm({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!Ks(i,0))for(let s=0;s<e.length;s++){const o=n[s];an(o!=null,`No layout data found for index ${s}`);const a=o+i,l=Cm({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,Ks(i,0)))break}return n}const gZe=100,E0={getItem:t=>(WW(E0),E0.getItem(t)),setItem:(t,e)=>{WW(E0),E0.setItem(t,e)}},XW={};function Aoe({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=E0,style:c,tagName:d="div",...u}){const f=oB(s),g=xs(null),[v,y]=Km(null),[m,p]=Km([]),x=iZe(),_=xs({}),b=xs(new Map),S=xs(0),C=xs({autoSaveId:t,direction:r,dragState:v,id:f,keyboardResizeBy:a,onLayout:o,storage:l}),M=xs({layout:m,panelDataArray:[],panelDataArrayChanged:!1});xs({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),coe(i,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:q}=M.current;return q},setLayout:q=>{const{onLayout:ne}=C.current,{layout:ae,panelDataArray:se}=M.current,$=GW({layout:q,panelConstraints:se.map(Y=>Y.constraints)});VW(ae,$)||(p($),M.current.layout=$,ne&&ne($),Op(se,$,_.current))}}),[]),th(()=>{C.current.autoSaveId=t,C.current.direction=r,C.current.dragState=v,C.current.id=f,C.current.onLayout=o,C.current.storage=l}),lZe({committedValuesRef:C,eagerValuesRef:M,groupId:f,layout:m,panelDataArray:M.current.panelDataArray,setLayout:p,panelGroupElement:g.current}),eh(()=>{const{panelDataArray:q}=M.current;if(t){if(m.length===0||m.length!==q.length)return;let ne=XW[t];ne==null&&(ne=hZe(mZe,gZe),XW[t]=ne);const ae=[...q],se=new Map(b.current);ne(t,ae,se,m,l)}},[t,m,l]),eh(()=>{});const T=ms(q=>{const{onLayout:ne}=C.current,{layout:ae,panelDataArray:se}=M.current;if(q.constraints.collapsible){const $=se.map(ue=>ue.constraints),{collapsedSize:Y=0,panelSize:Q,pivotIndices:te}=ef(se,q,ae);if(an(Q!=null,`Panel size not found for panel "${q.id}"`),!gc(Q,Y)){b.current.set(q.id,Q);const J=sm(se,q)===se.length-1?Q-Y:Y-Q,K=S0({delta:J,initialLayout:ae,panelConstraints:$,pivotIndices:te,prevLayout:ae,trigger:"imperative-api"});W1(ae,K)||(p(K),M.current.layout=K,ne&&ne(K),Op(se,K,_.current))}}},[]),P=ms((q,ne)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:$}=M.current;if(q.constraints.collapsible){const Y=$.map(re=>re.constraints),{collapsedSize:Q=0,panelSize:te=0,minSize:ue=0,pivotIndices:J}=ef($,q,se),K=ne??ue;if(gc(te,Q)){const re=b.current.get(q.id),fe=re!=null&&re>=K?re:K,pe=sm($,q)===$.length-1?te-fe:fe-te,Ae=S0({delta:pe,initialLayout:se,panelConstraints:Y,pivotIndices:J,prevLayout:se,trigger:"imperative-api"});W1(se,Ae)||(p(Ae),M.current.layout=Ae,ae&&ae(Ae),Op($,Ae,_.current))}}},[]),N=ms(q=>{const{layout:ne,panelDataArray:ae}=M.current,{panelSize:se}=ef(ae,q,ne);return an(se!=null,`Panel size not found for panel "${q.id}"`),se},[]),I=ms((q,ne)=>{const{panelDataArray:ae}=M.current,se=sm(ae,q);return fZe({defaultSize:ne,dragState:v,layout:m,panelData:ae,panelIndex:se})},[v,m]),k=ms(q=>{const{layout:ne,panelDataArray:ae}=M.current,{collapsedSize:se=0,collapsible:$,panelSize:Y}=ef(ae,q,ne);return an(Y!=null,`Panel size not found for panel "${q.id}"`),$===!0&&gc(Y,se)},[]),j=ms(q=>{const{layout:ne,panelDataArray:ae}=M.current,{collapsedSize:se=0,collapsible:$,panelSize:Y}=ef(ae,q,ne);return an(Y!=null,`Panel size not found for panel "${q.id}"`),!$||Th(Y,se)>0},[]),F=ms(q=>{const{panelDataArray:ne}=M.current;ne.push(q),ne.sort((ae,se)=>{const $=ae.order,Y=se.order;return $==null&&Y==null?0:$==null?-1:Y==null?1:$-Y}),M.current.panelDataArrayChanged=!0,x()},[x]);th(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:q,onLayout:ne,storage:ae}=C.current,{layout:se,panelDataArray:$}=M.current;let Y=null;if(q){const te=pZe(q,$,ae);te&&(b.current=new Map(Object.entries(te.expandToSizes)),Y=te.layout)}Y==null&&(Y=dZe({panelDataArray:$}));const Q=GW({layout:Y,panelConstraints:$.map(te=>te.constraints)});VW(se,Q)||(p(Q),M.current.layout=Q,ne&&ne(Q),Op($,Q,_.current))}}),th(()=>{const q=M.current;return()=>{q.layout=[]}},[]);const B=ms(q=>{let ne=!1;const ae=g.current;return ae&&window.getComputedStyle(ae,null).getPropertyValue("direction")==="rtl"&&(ne=!0),function($){$.preventDefault();const Y=g.current;if(!Y)return()=>null;const{direction:Q,dragState:te,id:ue,keyboardResizeBy:J,onLayout:K}=C.current,{layout:re,panelDataArray:fe}=M.current,{initialLayout:me}=te??{},pe=boe(ue,q,Y);let Ae=uZe($,q,Q,te,J,Y);const Ce=Q==="horizontal";Ce&&ne&&(Ae=-Ae);const ke=fe.map(ie=>ie.constraints),rt=S0({delta:Ae,initialLayout:me??re,panelConstraints:ke,pivotIndices:pe,prevLayout:re,trigger:foe($)?"keyboard":"mouse-or-touch"}),Je=!W1(re,rt);(hoe($)||poe($))&&S.current!=Ae&&(S.current=Ae,!Je&&Ae!==0?Ce?XR(q,Ae<0?goe:voe):XR(q,Ae<0?yoe:xoe):XR(q,0)),Je&&(p(rt),M.current.layout=rt,K&&K(rt),Op(fe,rt,_.current))}},[]),U=ms((q,ne)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:$}=M.current,Y=$.map(re=>re.constraints),{panelSize:Q,pivotIndices:te}=ef($,q,se);an(Q!=null,`Panel size not found for panel "${q.id}"`);const J=sm($,q)===$.length-1?Q-ne:ne-Q,K=S0({delta:J,initialLayout:se,panelConstraints:Y,pivotIndices:te,prevLayout:se,trigger:"imperative-api"});W1(se,K)||(p(K),M.current.layout=K,ae&&ae(K),Op($,K,_.current))},[]),H=ms((q,ne)=>{const{layout:ae,panelDataArray:se}=M.current,{collapsedSize:$=0,collapsible:Y}=ne,{collapsedSize:Q=0,collapsible:te,maxSize:ue=100,minSize:J=0}=q.constraints,{panelSize:K}=ef(se,q,ae);K!=null&&(Y&&te&&gc(K,$)?gc($,Q)||U(q,Q):K<J?U(q,J):K>ue&&U(q,ue))},[U]),R=ms((q,ne)=>{const{direction:ae}=C.current,{layout:se}=M.current;if(!g.current)return;const $=oP(q,g.current);an($,`Drag handle element not found for id "${q}"`);const Y=Soe(ae,ne);y({dragHandleId:q,dragHandleRect:$.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:se})},[]),L=ms(()=>{y(null)},[]),z=ms(q=>{const{panelDataArray:ne}=M.current,ae=sm(ne,q);ae>=0&&(ne.splice(ae,1),delete _.current[q.id],M.current.panelDataArrayChanged=!0,x())},[x]),W=VYe(()=>({collapsePanel:T,direction:r,dragState:v,expandPanel:P,getPanelSize:N,getPanelStyle:I,groupId:f,isPanelCollapsed:k,isPanelExpanded:j,reevaluatePanelConstraints:H,registerPanel:F,registerResizeHandle:B,resizePanel:U,startDragging:R,stopDragging:L,unregisterPanel:z,panelGroupElement:g.current}),[T,v,r,P,N,I,f,k,j,H,F,B,U,R,L,z]),G={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return tv(rP.Provider,{value:W},tv(d,{...u,children:e,className:n,id:s,ref:g,style:{...G,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":f}))}const Toe=aoe((t,e)=>tv(Aoe,{...t,forwardedRef:e}));Aoe.displayName="PanelGroup";Toe.displayName="forwardRef(PanelGroup)";function sm(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function ef(t,e,n){const r=sm(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function vZe({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){eh(()=>{if(t||n==null||r==null)return;const i=oP(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute("data-panel-group-id");an(a,`No group element found for id "${a}"`);const l=b_(a,r),c=_oe(a,e,r);an(c!==null,`No resize element found for id "${e}"`);const d=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[d].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,t,e,n])}function Poe({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:s,onDragging:o,onFocus:a,style:l={},tabIndex:c=0,tagName:d="div",...u}){var f,g;const v=xs(null),y=xs({onDragging:o});eh(()=>{y.current.onDragging=o});const m=loe(rP);if(m===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:p,groupId:x,registerResizeHandle:_,startDragging:b,stopDragging:S,panelGroupElement:C}=m,M=oB(i),[T,P]=Km("inactive"),[N,I]=Km(!1),[k,j]=Km(null),F=xs({state:T});th(()=>{F.current.state=T}),eh(()=>{if(n)j(null);else{const R=_(M);j(()=>R)}},[n,M,_]);const B=(f=r==null?void 0:r.coarse)!==null&&f!==void 0?f:15,U=(g=r==null?void 0:r.fine)!==null&&g!==void 0?g:5;return eh(()=>{if(n||k==null)return;const R=v.current;return an(R,"Element ref not attached"),rZe(M,R,p,{coarse:B,fine:U},(z,W,G)=>{if(W)switch(z){case"down":{P("drag"),an(G,'Expected event to be defined for "down" action'),b(M,G);const{onDragging:q}=y.current;q&&q(!0);break}case"move":{const{state:q}=F.current;q!=="drag"&&P("hover"),an(G,'Expected event to be defined for "move" action'),k(G);break}case"up":{P("hover"),S();const{onDragging:q}=y.current;q&&q(!1);break}}else P("inactive")})},[B,p,n,U,_,M,k,b,S]),vZe({disabled:n,handleId:M,resizeHandler:k,panelGroupElement:C}),tv(d,{...u,children:t,className:e,id:i,onBlur:()=>{I(!1),s==null||s()},onFocus:()=>{I(!0),a==null||a()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:c,"data-panel-group-direction":p,"data-panel-group-id":x,"data-resize-handle":"","data-resize-handle-active":T==="drag"?"pointer":N?"keyboard":void 0,"data-resize-handle-state":T,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":M})}Poe.displayName="PanelResizeHandle";const yZe=({className:t,...e})=>h.jsx(Toe,{className:we("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),qR=doe,qW=({withHandle:t,className:e,...n})=>h.jsx(Poe,{className:we("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&h.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:h.jsx(r0e,{className:"h-2.5 w-2.5"})})});function w_(t,[e,n]){return Math.min(n,Math.max(e,t))}function xZe(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var uB="ScrollArea",[Noe,O0t]=Gn(uB),[_Ze,Jo]=Noe(uB),Roe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=A.useState(null),[c,d]=A.useState(null),[u,f]=A.useState(null),[g,v]=A.useState(null),[y,m]=A.useState(null),[p,x]=A.useState(0),[_,b]=A.useState(0),[S,C]=A.useState(!1),[M,T]=A.useState(!1),P=At(e,I=>l(I)),N=jl(i);return h.jsx(_Ze,{scope:n,type:r,dir:N,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:f,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:M,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:b,children:h.jsx(qe.div,{dir:N,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Roe.displayName=uB;var Ooe="ScrollAreaViewport",Ioe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=Jo(Ooe,n),a=A.useRef(null),l=At(e,a,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ioe.displayName=Ooe;var Hl="ScrollAreaScrollbar",dB=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jo(Hl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?h.jsx(bZe,{...r,ref:e,forceMount:n}):i.type==="scroll"?h.jsx(wZe,{...r,ref:e,forceMount:n}):i.type==="auto"?h.jsx(koe,{...r,ref:e,forceMount:n}):i.type==="always"?h.jsx(fB,{...r,ref:e}):null});dB.displayName=Hl;var bZe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jo(Hl,t.__scopeScrollArea),[s,o]=A.useState(!1);return A.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(or,{present:n||s,children:h.jsx(koe,{"data-state":s?"visible":"hidden",...r,ref:e})})}),wZe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jo(Hl,t.__scopeScrollArea),s=t.orientation==="horizontal",o=lP(()=>l("SCROLL_END"),100),[a,l]=xZe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const f=()=>{const g=c[d];u!==g&&(l("SCROLL"),o()),u=g};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),h.jsx(or,{present:n||a!=="hidden",children:h.jsx(fB,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),koe=A.forwardRef((t,e)=>{const n=Jo(Hl,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=A.useState(!1),a=t.orientation==="horizontal",l=lP(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return nv(n.viewport,l),nv(n.content,l),h.jsx(or,{present:r||s,children:h.jsx(fB,{"data-state":s?"visible":"hidden",...i,ref:e})})}),fB=A.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Jo(Hl,t.__scopeScrollArea),s=A.useRef(null),o=A.useRef(0),[a,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Boe(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function u(f,g){return TZe(f,o.current,a,g)}return n==="horizontal"?h.jsx(SZe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,g=KW(f,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=u(f,i.dir))}}):n==="vertical"?h.jsx(EZe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,g=KW(f,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=u(f))}}):null}),SZe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Jo(Hl,t.__scopeScrollArea),[o,a]=A.useState(),l=A.useRef(null),c=At(e,l,s.onScrollbarXChange);return A.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(Loe,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aP(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),zoe(f,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wM(o.paddingLeft),paddingEnd:wM(o.paddingRight)}})}})}),EZe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Jo(Hl,t.__scopeScrollArea),[o,a]=A.useState(),l=A.useRef(null),c=At(e,l,s.onScrollbarYChange);return A.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(Loe,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aP(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),zoe(f,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wM(o.paddingTop),paddingEnd:wM(o.paddingBottom)}})}})}),[CZe,Doe]=Noe(Hl),Loe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...f}=t,g=Jo(Hl,n),[v,y]=A.useState(null),m=At(e,P=>y(P)),p=A.useRef(null),x=A.useRef(""),_=g.viewport,b=r.content-r.viewport,S=kn(d),C=kn(l),M=lP(u,10);function T(P){if(p.current){const N=P.clientX-p.current.left,I=P.clientY-p.current.top;c({x:N,y:I})}}return A.useEffect(()=>{const P=N=>{const I=N.target;(v==null?void 0:v.contains(I))&&S(N,b)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,v,b,S]),A.useEffect(C,[r,C]),nv(v,M),nv(g.content,M),h.jsx(CZe,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:kn(s),onThumbPointerUp:kn(o),onThumbPositionChange:C,onThumbPointerDown:kn(a),children:h.jsx(qe.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Oe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),p.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Oe(t.onPointerMove,T),onPointerUp:Oe(t.onPointerUp,P=>{const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),p.current=null})})})}),bM="ScrollAreaThumb",joe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Doe(bM,t.__scopeScrollArea);return h.jsx(or,{present:n||i.hasThumb,children:h.jsx(MZe,{ref:e,...r})})}),MZe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Jo(bM,n),o=Doe(bM,n),{onThumbPositionChange:a}=o,l=At(e,u=>o.onThumbChange(u)),c=A.useRef(void 0),d=lP(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const u=s.viewport;if(u){const f=()=>{if(d(),!c.current){const g=PZe(u,a);c.current=g,a()}};return a(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,d,a]),h.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Oe(t.onPointerDownCapture,u=>{const g=u.target.getBoundingClientRect(),v=u.clientX-g.left,y=u.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:Oe(t.onPointerUp,o.onThumbPointerUp)})});joe.displayName=bM;var hB="ScrollAreaCorner",Foe=A.forwardRef((t,e)=>{const n=Jo(hB,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(AZe,{...t,ref:e}):null});Foe.displayName=hB;var AZe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Jo(hB,n),[s,o]=A.useState(0),[a,l]=A.useState(0),c=!!(s&&a);return nv(i.scrollbarX,()=>{var u;const d=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),nv(i.scrollbarY,()=>{var u;const d=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?h.jsx(qe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wM(t){return t?parseInt(t,10):0}function Boe(t,e){const n=t/e;return isNaN(n)?0:n}function aP(t){const e=Boe(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function TZe(t,e,n,r="ltr"){const i=aP(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return Uoe([l,c],u)(t)}function KW(t,e,n="ltr"){const r=aP(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=w_(t,l);return Uoe([0,o],[0,a])(c)}function Uoe(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function zoe(t,e){return t>0&&t<e}var PZe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function lP(t,e){const n=kn(t),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function nv(t,e){const n=kn(e);ur(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var $oe=Roe,NZe=Ioe,RZe=Foe;const Zm=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs($oe,{ref:r,className:we("relative overflow-hidden",t),...n,children:[h.jsx(NZe,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(Hoe,{}),h.jsx(RZe,{})]}));Zm.displayName=$oe.displayName;const Hoe=A.forwardRef(({className:t,orientation:e="vertical",...n},r)=>h.jsx(dB,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:h.jsx(joe,{className:"relative flex-1 rounded-full bg-border"})}));Hoe.displayName=dB.displayName;var OZe=[" ","Enter","ArrowUp","ArrowDown"],IZe=[" ","Enter"],Ub="Select",[cP,uP,kZe]=Xc(Ub),[Kv,I0t]=Gn(Ub,[kZe,zl]),dP=zl(),[DZe,Dd]=Kv(Ub),[LZe,jZe]=Kv(Ub),Voe=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:f,required:g,form:v}=t,y=dP(e),[m,p]=A.useState(null),[x,_]=A.useState(null),[b,S]=A.useState(!1),C=jl(c),[M=!1,T]=Or({prop:r,defaultProp:i,onChange:s}),[P,N]=Or({prop:o,defaultProp:a,onChange:l}),I=A.useRef(null),k=m?v||!!m.closest("form"):!0,[j,F]=A.useState(new Set),B=Array.from(j).map(U=>U.props.value).join(";");return h.jsx(v4,{...y,children:h.jsxs(DZe,{required:g,scope:e,trigger:m,onTriggerChange:p,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Hr(),value:P,onValueChange:N,open:M,onOpenChange:T,dir:C,triggerPointerDownPosRef:I,disabled:f,children:[h.jsx(cP.Provider,{scope:e,children:h.jsx(LZe,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(U=>{F(H=>new Set(H).add(U))},[]),onNativeOptionRemove:A.useCallback(U=>{F(H=>{const R=new Set(H);return R.delete(U),R})},[]),children:n})}),k?h.jsxs(mae,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:u,value:P,onChange:U=>N(U.target.value),disabled:f,form:v,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(j)]},B):null]})})};Voe.displayName=Ub;var Woe="SelectTrigger",Goe=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=dP(n),o=Dd(Woe,n),a=o.disabled||r,l=At(e,o.onTriggerChange),c=uP(n),d=A.useRef("touch"),[u,f,g]=gae(y=>{const m=c().filter(_=>!_.disabled),p=m.find(_=>_.value===o.value),x=vae(m,y,p);x!==void 0&&o.onValueChange(x.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return h.jsx(Gv,{asChild:!0,...s,children:h.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pae(o.value)?"":void 0,...i,ref:l,onClick:Oe(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:Oe(i.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Oe(i.onKeyDown,y=>{const m=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&OZe.includes(y.key)&&(v(),y.preventDefault())})})})});Goe.displayName=Woe;var Xoe="SelectValue",qoe=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Dd(Xoe,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,u=At(e,l.onValueNodeChange);return ur(()=>{c(d)},[c,d]),h.jsx(qe.span,{...a,ref:u,style:{pointerEvents:"none"},children:pae(l.value)?h.jsx(h.Fragment,{children:o}):s})});qoe.displayName=Xoe;var FZe="SelectIcon",Koe=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(qe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Koe.displayName=FZe;var BZe="SelectPortal",Yoe=t=>h.jsx(Tv,{asChild:!0,...t});Yoe.displayName=BZe;var Ph="SelectContent",Zoe=A.forwardRef((t,e)=>{const n=Dd(Ph,t.__scopeSelect),[r,i]=A.useState();if(ur(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Fh.createPortal(h.jsx(Qoe,{scope:t.__scopeSelect,children:h.jsx(cP.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(Joe,{...t,ref:e})});Zoe.displayName=Ph;var ua=10,[Qoe,Ld]=Kv(Ph),UZe="SelectContentImpl",zZe=md("SelectContent.RemoveScroll"),Joe=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:m,...p}=t,x=Dd(Ph,n),[_,b]=A.useState(null),[S,C]=A.useState(null),M=At(e,$=>b($)),[T,P]=A.useState(null),[N,I]=A.useState(null),k=uP(n),[j,F]=A.useState(!1),B=A.useRef(!1);A.useEffect(()=>{if(_)return YA(_)},[_]),qA();const U=A.useCallback($=>{const[Y,...Q]=k().map(J=>J.ref.current),[te]=Q.slice(-1),ue=document.activeElement;for(const J of $)if(J===ue||(J==null||J.scrollIntoView({block:"nearest"}),J===Y&&S&&(S.scrollTop=0),J===te&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==ue))return},[k,S]),H=A.useCallback(()=>U([T,_]),[U,T,_]);A.useEffect(()=>{j&&H()},[j,H]);const{onOpenChange:R,triggerPointerDownPosRef:L}=x;A.useEffect(()=>{if(_){let $={x:0,y:0};const Y=te=>{var ue,J;$={x:Math.abs(Math.round(te.pageX)-(((ue=L.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(te.pageY)-(((J=L.current)==null?void 0:J.y)??0))}},Q=te=>{$.x<=10&&$.y<=10?te.preventDefault():_.contains(te.target)||R(!1),document.removeEventListener("pointermove",Y),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q,{capture:!0})}}},[_,R,L]),A.useEffect(()=>{const $=()=>R(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[R]);const[z,W]=gae($=>{const Y=k().filter(ue=>!ue.disabled),Q=Y.find(ue=>ue.ref.current===document.activeElement),te=vae(Y,$,Q);te&&setTimeout(()=>te.ref.current.focus())}),G=A.useCallback(($,Y,Q)=>{const te=!B.current&&!Q;(x.value!==void 0&&x.value===Y||te)&&(P($),te&&(B.current=!0))},[x.value]),q=A.useCallback(()=>_==null?void 0:_.focus(),[_]),ne=A.useCallback(($,Y,Q)=>{const te=!B.current&&!Q;(x.value!==void 0&&x.value===Y||te)&&I($)},[x.value]),ae=r==="popper"?SL:eae,se=ae===SL?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:m}:{};return h.jsx(Qoe,{scope:n,content:_,viewport:S,onViewportChange:C,itemRefCallback:G,selectedItem:T,onItemLeave:q,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:N,position:r,isPositioned:j,searchRef:z,children:h.jsx(fb,{as:zZe,allowPinchZoom:!0,children:h.jsx(db,{asChild:!0,trapped:x.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Oe(i,$=>{var Y;(Y=x.trigger)==null||Y.focus({preventScroll:!0}),$.preventDefault()}),children:h.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:$=>$.preventDefault(),...p,...se,onPlaced:()=>F(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Oe(p.onKeyDown,$=>{const Y=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!Y&&$.key.length===1&&W($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let te=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes($.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ue=$.target,J=te.indexOf(ue);te=te.slice(J+1)}setTimeout(()=>U(te)),$.preventDefault()}})})})})})})});Joe.displayName=UZe;var $Ze="SelectItemAlignedPosition",eae=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Dd(Ph,n),o=Ld(Ph,n),[a,l]=A.useState(null),[c,d]=A.useState(null),u=At(e,M=>d(M)),f=uP(n),g=A.useRef(!1),v=A.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:p,focusSelectedItem:x}=o,_=A.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&m&&p){const M=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),N=p.getBoundingClientRect();if(s.dir!=="rtl"){const ue=N.left-T.left,J=P.left-ue,K=M.left-J,re=M.width+K,fe=Math.max(re,T.width),me=window.innerWidth-ua,pe=w_(J,[ua,Math.max(ua,me-fe)]);a.style.minWidth=re+"px",a.style.left=pe+"px"}else{const ue=T.right-N.right,J=window.innerWidth-P.right-ue,K=window.innerWidth-M.right-J,re=M.width+K,fe=Math.max(re,T.width),me=window.innerWidth-ua,pe=w_(J,[ua,Math.max(ua,me-fe)]);a.style.minWidth=re+"px",a.style.right=pe+"px"}const I=f(),k=window.innerHeight-ua*2,j=y.scrollHeight,F=window.getComputedStyle(c),B=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),L=B+U+j+R+H,z=Math.min(m.offsetHeight*5,L),W=window.getComputedStyle(y),G=parseInt(W.paddingTop,10),q=parseInt(W.paddingBottom,10),ne=M.top+M.height/2-ua,ae=k-ne,se=m.offsetHeight/2,$=m.offsetTop+se,Y=B+U+$,Q=L-Y;if(Y<=ne){const ue=I.length>0&&m===I[I.length-1].ref.current;a.style.bottom="0px";const J=c.clientHeight-y.offsetTop-y.offsetHeight,K=Math.max(ae,se+(ue?q:0)+J+H),re=Y+K;a.style.height=re+"px"}else{const ue=I.length>0&&m===I[0].ref.current;a.style.top="0px";const K=Math.max(ne,B+y.offsetTop+(ue?G:0)+se)+Q;a.style.height=K+"px",y.scrollTop=Y-ne+y.offsetTop}a.style.margin=`${ua}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,s.trigger,s.valueNode,a,c,y,m,p,s.dir,r]);ur(()=>_(),[_]);const[b,S]=A.useState();ur(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=A.useCallback(M=>{M&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return h.jsx(VZe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:h.jsx(qe.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});eae.displayName=$Ze;var HZe="SelectPopperPosition",SL=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ua,...s}=t,o=dP(n);return h.jsx(Ob,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SL.displayName=HZe;var[VZe,pB]=Kv(Ph,{}),EL="SelectViewport",tae=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ld(EL,n),o=pB(EL,n),a=At(e,s.onViewportChange),l=A.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(cP.Slot,{scope:n,children:h.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Oe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-ua*2,y=parseFloat(u.style.minHeight),m=parseFloat(u.style.height),p=Math.max(y,m);if(p<v){const x=p+g,_=Math.min(v,x),b=x-_;u.style.height=_+"px",u.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});tae.displayName=EL;var nae="SelectGroup",[WZe,GZe]=Kv(nae),XZe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hr();return h.jsx(WZe,{scope:n,id:i,children:h.jsx(qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});XZe.displayName=nae;var rae="SelectLabel",iae=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=GZe(rae,n);return h.jsx(qe.div,{id:i.id,...r,ref:e})});iae.displayName=rae;var SM="SelectItem",[qZe,sae]=Kv(SM),oae=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Dd(SM,n),l=Ld(SM,n),c=a.value===r,[d,u]=A.useState(s??""),[f,g]=A.useState(!1),v=At(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,r,i)}),y=Hr(),m=A.useRef("touch"),p=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(qZe,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:A.useCallback(x=>{u(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx(cP.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:h.jsx(qe.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Oe(o.onFocus,()=>g(!0)),onBlur:Oe(o.onBlur,()=>g(!1)),onClick:Oe(o.onClick,()=>{m.current!=="mouse"&&p()}),onPointerUp:Oe(o.onPointerUp,()=>{m.current==="mouse"&&p()}),onPointerDown:Oe(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:Oe(o.onPointerMove,x=>{var _;m.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Oe(o.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(IZe.includes(x.key)&&p(),x.key===" "&&x.preventDefault())})})})})});oae.displayName=SM;var C0="SelectItemText",aae=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Dd(C0,n),a=Ld(C0,n),l=sae(C0,n),c=jZe(C0,n),[d,u]=A.useState(null),f=At(e,p=>u(p),l.onItemTextChange,p=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,p,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=A.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=c;return ur(()=>(y(v),()=>m(v)),[y,m,v]),h.jsxs(h.Fragment,{children:[h.jsx(qe.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fh.createPortal(s.children,o.valueNode):null]})});aae.displayName=C0;var lae="SelectItemIndicator",cae=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sae(lae,n).isSelected?h.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});cae.displayName=lae;var CL="SelectScrollUpButton",uae=A.forwardRef((t,e)=>{const n=Ld(CL,t.__scopeSelect),r=pB(CL,t.__scopeSelect),[i,s]=A.useState(!1),o=At(e,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(fae,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});uae.displayName=CL;var ML="SelectScrollDownButton",dae=A.forwardRef((t,e)=>{const n=Ld(ML,t.__scopeSelect),r=pB(ML,t.__scopeSelect),[i,s]=A.useState(!1),o=At(e,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(fae,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});dae.displayName=ML;var fae=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ld("SelectScrollButton",n),o=A.useRef(null),a=uP(n),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),ur(()=>{var d;const c=a().find(u=>u.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Oe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Oe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Oe(i.onPointerLeave,()=>{l()})})}),KZe="SelectSeparator",hae=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});hae.displayName=KZe;var AL="SelectArrow",YZe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dP(n),s=Dd(AL,n),o=Ld(AL,n);return s.open&&o.position==="popper"?h.jsx(Ib,{...i,...r,ref:e}):null});YZe.displayName=AL;function pae(t){return t===""||t===void 0}var mae=A.forwardRef((t,e)=>{const{value:n,...r}=t,i=A.useRef(null),s=At(e,i),o=Hv(n);return A.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const u=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(u)}},[o,n]),h.jsx(Fb,{asChild:!0,children:h.jsx("select",{...r,ref:s,defaultValue:n})})});mae.displayName="BubbleSelect";function gae(t){const e=kn(t),n=A.useRef(""),r=A.useRef(0),i=A.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function vae(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=ZZe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function ZZe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QZe=Voe,yae=Goe,JZe=qoe,eQe=Koe,tQe=Yoe,xae=Zoe,nQe=tae,_ae=iae,bae=oae,rQe=aae,iQe=cae,wae=uae,Sae=dae,Eae=hae;const Go=QZe,Xo=JZe,uo=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(yae,{ref:r,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(eQe,{asChild:!0,children:h.jsx(Mv,{className:"h-4 w-4 opacity-50"})})]}));uo.displayName=yae.displayName;const Cae=A.forwardRef(({className:t,...e},n)=>h.jsx(wae,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Gye,{className:"h-4 w-4"})}));Cae.displayName=wae.displayName;const Mae=A.forwardRef(({className:t,...e},n)=>h.jsx(Sae,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Mv,{className:"h-4 w-4"})}));Mae.displayName=Sae.displayName;const fo=A.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(tQe,{children:h.jsxs(xae,{ref:i,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(Cae,{}),h.jsx(nQe,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(Mae,{})]})}));fo.displayName=xae.displayName;const sQe=A.forwardRef(({className:t,...e},n)=>h.jsx(_ae,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sQe.displayName=_ae.displayName;const cn=A.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(bae,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(iQe,{children:h.jsx(ob,{className:"h-4 w-4"})})}),h.jsx(rQe,{children:e})]}));cn.displayName=bae.displayName;const oQe=A.forwardRef(({className:t,...e},n)=>h.jsx(Eae,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));oQe.displayName=Eae.displayName;var aQe="Separator",YW="horizontal",lQe=["horizontal","vertical"],Aae=A.forwardRef((t,e)=>{const{decorative:n,orientation:r=YW,...i}=t,s=cQe(r)?r:YW,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(qe.div,{"data-orientation":s,...a,...i,ref:e})});Aae.displayName=aQe;function cQe(t){return lQe.includes(t)}var Tae=Aae;const mE=A.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>h.jsx(Tae,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));mE.displayName=Tae.displayName;const uQe=ZA,dQe=hb,Pae=A.forwardRef(({className:t,...e},n)=>h.jsx(Uh,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Pae.displayName=Uh.displayName;const fQe=Yc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Nae=A.forwardRef(({side:t="right",className:e,children:n,...r},i)=>h.jsxs(dQe,{children:[h.jsx(Pae,{}),h.jsxs(zh,{ref:i,className:we(fQe({side:t}),e),...r,children:[n,h.jsxs(pb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(ub,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nae.displayName=zh.displayName;const Rae=({className:t,...e})=>h.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});Rae.displayName="SheetHeader";const Oae=A.forwardRef(({className:t,...e},n)=>h.jsx(Pv,{ref:n,className:we("text-lg font-semibold text-foreground",t),...e}));Oae.displayName=Pv.displayName;const Iae=A.forwardRef(({className:t,...e},n)=>h.jsx(Nv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Iae.displayName=Nv.displayName;const KR=768;function hQe(){const[t,e]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${KR-1}px)`),r=()=>{e(window.innerWidth<KR)};return n.addEventListener("change",r),e(window.innerWidth<KR),()=>n.removeEventListener("change",r)},[]),!!t}const pQe="sidebar_state",mQe=60*60*24*7,gQe="16rem",vQe="18rem",yQe="3rem",xQe="b",kae=A.createContext(null);function mB(){const t=A.useContext(kae);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function _Qe({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o}){const a=hQe(),[l,c]=A.useState(!1),[d,u]=A.useState(t),f=e??d,g=A.useCallback(p=>{const x=typeof p=="function"?p(f):p;n?n(x):u(x),document.cookie=`${pQe}=${x}; path=/; max-age=${mQe}`},[n,f]),v=A.useCallback(()=>a?c(p=>!p):g(p=>!p),[a,g,c]);A.useEffect(()=>{const p=x=>{x.key===xQe&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),v())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[v]);const y=f?"expanded":"collapsed",m=A.useMemo(()=>({state:y,open:f,setOpen:g,isMobile:a,openMobile:l,setOpenMobile:c,toggleSidebar:v}),[y,f,g,a,l,c,v]);return h.jsx(kae.Provider,{value:m,children:h.jsx(rce,{delayDuration:0,children:h.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":gQe,"--sidebar-width-icon":yQe,...i},className:we("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function bQe({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:l,setOpenMobile:c}=mB();return n==="none"?h.jsx("div",{"data-slot":"sidebar",className:we("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?h.jsx(uQe,{open:l,onOpenChange:c,...s,children:h.jsxs(Nae,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":vQe},side:t,children:[h.jsxs(Rae,{className:"sr-only",children:[h.jsx(Oae,{children:"Sidebar"}),h.jsx(Iae,{children:"Displays the mobile sidebar."})]}),h.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):h.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[h.jsx("div",{"data-slot":"sidebar-gap",className:we("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),h.jsx("div",{"data-slot":"sidebar-container",className:we("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:h.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function wQe({className:t,onClick:e,...n}){const{toggleSidebar:r}=mB();return h.jsxs(We,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:i=>{e==null||e(i),r()},...n,children:[h.jsx(d0e,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SQe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...e})}function EQe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function CQe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...e})}function MQe({className:t,asChild:e=!1,...n}){const r=e?ib:"div";return h.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:we("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function AQe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:we("w-full text-sm",t),...e})}function ZW({className:t,...e}){return h.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...e})}function QW({className:t,...e}){return h.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:we("group/menu-item relative",t),...e})}const TQe=Yc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function JW({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o}){const a=t?ib:"button",{isMobile:l,state:c}=mB(),d=h.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:we(TQe({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),h.jsxs(ret,{children:[h.jsx(iet,{asChild:!0,children:d}),h.jsx(ice,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):d}var Dae=["PageUp","PageDown"],Lae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jae={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Yv="Slider",[TL,PQe,NQe]=Xc(Yv),[Fae,k0t]=Gn(Yv,[NQe]),[RQe,fP]=Fae(Yv),Bae=A.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:v,...y}=t,m=A.useRef(new Set),p=A.useRef(0),_=o==="horizontal"?OQe:IQe,[b=[],S]=Or({prop:d,defaultProp:c,onChange:I=>{var j;(j=[...m.current][p.current])==null||j.focus(),u(I)}}),C=A.useRef(b);function M(I){const k=FQe(b,I);N(I,k)}function T(I){N(I,p.current)}function P(){const I=C.current[p.current];b[p.current]!==I&&f(b)}function N(I,k,{commit:j}={commit:!1}){const F=$Qe(s),B=HQe(Math.round((I-r)/s)*s+r,F),U=w_(B,[r,i]);S((H=[])=>{const R=LQe(H,U,k);if(zQe(R,l*s)){p.current=R.indexOf(U);const L=String(R)!==String(H);return L&&j&&f(R),L?R:H}else return H})}return h.jsx(RQe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:p,thumbs:m.current,values:b,orientation:o,form:v,children:h.jsx(TL.Provider,{scope:t.__scopeSlider,children:h.jsx(TL.Slot,{scope:t.__scopeSlider,children:h.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Oe(y.onPointerDown,()=>{a||(C.current=b)}),min:r,max:i,inverted:g,onSlideStart:a?void 0:M,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,b.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:k})=>{if(!a){const B=Dae.includes(I.key)||I.shiftKey&&Lae.includes(I.key)?10:1,U=p.current,H=b[U],R=s*B*k;N(H+R,U,{commit:!0})}}})})})})});Bae.displayName=Yv;var[Uae,zae]=Fae(Yv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),OQe=A.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[u,f]=A.useState(null),g=At(e,_=>f(_)),v=A.useRef(void 0),y=jl(i),m=y==="ltr",p=m&&!s||!m&&s;function x(_){const b=v.current||u.getBoundingClientRect(),S=[0,b.width],M=gB(S,p?[n,r]:[r,n]);return v.current=b,M(_-b.left)}return h.jsx(Uae,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:h.jsx($ae,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const b=x(_.clientX);o==null||o(b)},onSlideMove:_=>{const b=x(_.clientX);a==null||a(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:_=>{const S=jae[p?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:S?-1:1})}})})}),IQe=A.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=A.useRef(null),u=At(e,d),f=A.useRef(void 0),g=!i;function v(y){const m=f.current||d.current.getBoundingClientRect(),p=[0,m.height],_=gB(p,g?[r,n]:[n,r]);return f.current=m,_(y-m.top)}return h.jsx(Uae,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:h.jsx($ae,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const m=v(y.clientY);s==null||s(m)},onSlideMove:y=>{const m=v(y.clientY);o==null||o(m)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:y=>{const p=jae[g?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:p?-1:1})}})})}),$ae=A.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=fP(Yv,n);return h.jsx(qe.span,{...c,ref:e,onKeyDown:Oe(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Dae.concat(Lae).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:Oe(t.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(f)?f.focus():r(u)}),onPointerMove:Oe(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Oe(t.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),s(u))})})}),Hae="SliderTrack",Vae=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=fP(Hae,n);return h.jsx(qe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Vae.displayName=Hae;var PL="SliderRange",Wae=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=fP(PL,n),s=zae(PL,n),o=A.useRef(null),a=At(e,o),l=i.values.length,c=i.values.map(f=>Xae(f,i.min,i.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return h.jsx(qe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});Wae.displayName=PL;var NL="SliderThumb",Gae=A.forwardRef((t,e)=>{const n=PQe(t.__scopeSlider),[r,i]=A.useState(null),s=At(e,a=>i(a)),o=A.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return h.jsx(kQe,{...t,ref:s,index:o})}),kQe=A.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=fP(NL,n),a=zae(NL,n),[l,c]=A.useState(null),d=At(e,x=>c(x)),u=l?o.form||!!l.closest("form"):!0,f=Pb(l),g=o.values[r],v=g===void 0?0:Xae(g,o.min,o.max),y=jQe(r,o.values.length),m=f==null?void 0:f[a.size],p=m?BQe(m,v,a.direction):0;return A.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${p}px)`},children:[h.jsx(TL.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(qe.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&h.jsx(DQe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});Gae.displayName=NL;var DQe=t=>{const{value:e,...n}=t,r=A.useRef(null),i=Hv(e);return A.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),h.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function LQe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Xae(t,e,n){const s=100/(n-e)*(t-e);return w_(s,[0,100])}function jQe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function FQe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function BQe(t,e,n){const r=t/2,s=gB([0,50],[0,r]);return(r-s(e)*n)*n}function UQe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function zQe(t,e){if(e>0){const n=UQe(t);return Math.min(...n)>=e}return!0}function gB(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function $Qe(t){return(String(t).split(".")[1]||"").length}function HQe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var qae=Bae,VQe=Vae,WQe=Wae,GQe=Gae;const Kae=A.forwardRef(({className:t,...e},n)=>h.jsxs(qae,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[h.jsx(VQe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:h.jsx(WQe,{className:"absolute h-full bg-primary"})}),h.jsx(GQe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Kae.displayName=qae.displayName;var vB="Switch",[XQe,D0t]=Gn(vB),[qQe,KQe]=XQe(vB),Yae=A.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=t,[f,g]=A.useState(null),v=At(e,_=>g(_)),y=A.useRef(!1),m=f?d||!!f.closest("form"):!0,[p=!1,x]=Or({prop:i,defaultProp:s,onChange:c});return h.jsxs(qQe,{scope:n,checked:p,disabled:a,children:[h.jsx(qe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":Jae(p),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:v,onClick:Oe(t.onClick,_=>{x(b=>!b),m&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),m&&h.jsx(YQe,{control:f,bubbles:!y.current,name:r,value:l,checked:p,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Yae.displayName=vB;var Zae="SwitchThumb",Qae=A.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=KQe(Zae,n);return h.jsx(qe.span,{"data-state":Jae(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Qae.displayName=Zae;var YQe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=A.useRef(null),o=Hv(n),a=Pb(e);return A.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&u){const f=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jae(t){return t?"checked":"unchecked"}var ele=Yae,ZQe=Qae;const Qm=A.forwardRef(({className:t,...e},n)=>h.jsx(ele,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(ZQe,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qm.displayName=ele.displayName;const zb=A.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));zb.displayName="Table";const $b=A.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));$b.displayName="TableHeader";const Hb=A.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));Hb.displayName="TableBody";const QQe=A.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));QQe.displayName="TableFooter";const Ml=A.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ml.displayName="TableRow";const Qr=A.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Qr.displayName="TableHead";const Br=A.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Br.displayName="TableCell";const JQe=A.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));JQe.displayName="TableCaption";var yB="Tabs",[eJe,L0t]=Gn(yB,[$l]),tle=$l(),[tJe,xB]=eJe(yB),nle=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=jl(a),[u,f]=Or({prop:r,onChange:i,defaultProp:s});return h.jsx(tJe,{scope:n,baseId:Hr(),value:u,onValueChange:f,orientation:o,dir:d,activationMode:l,children:h.jsx(qe.div,{dir:d,"data-orientation":o,...c,ref:e})})});nle.displayName=yB;var rle="TabsList",ile=A.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=xB(rle,n),o=tle(n);return h.jsx(kb,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:h.jsx(qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});ile.displayName=rle;var sle="TabsTrigger",ole=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=xB(sle,n),a=tle(n),l=cle(o.baseId,r),c=ule(o.baseId,r),d=r===o.value;return h.jsx(Db,{asChild:!0,...a,focusable:!i,active:d,children:h.jsx(qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Oe(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:Oe(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:Oe(t.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!i&&u&&o.onValueChange(r)})})})});ole.displayName=sle;var ale="TabsContent",lle=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=xB(ale,n),l=cle(a.baseId,r),c=ule(a.baseId,r),d=r===a.value,u=A.useRef(d);return A.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(or,{present:i||d,children:({present:f})=>h.jsx(qe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:f&&s})})});lle.displayName=ale;function cle(t,e){return`${t}-trigger-${e}`}function ule(t,e){return`${t}-content-${e}`}var nJe=nle,dle=ile,fle=ole,hle=lle;const Vl=nJe,Wa=A.forwardRef(({className:t,...e},n)=>h.jsx(dle,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Wa.displayName=dle.displayName;const Qn=A.forwardRef(({className:t,...e},n)=>h.jsx(fle,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Qn.displayName=fle.displayName;const un=A.forwardRef(({className:t,...e},n)=>h.jsx(hle,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));un.displayName=hle.displayName;const hP=A.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));hP.displayName="Textarea";var _B="ToastProvider",[bB,rJe,iJe]=Xc("Toast"),[ple,j0t]=Gn("Toast",[iJe]),[sJe,pP]=ple(_B),mle=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=A.useState(null),[c,d]=A.useState(0),u=A.useRef(!1),f=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_B}\`. Expected non-empty \`string\`.`),h.jsx(bB.Provider,{scope:e,children:h.jsx(sJe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:A.useCallback(()=>d(g=>g+1),[]),onToastRemove:A.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};mle.displayName=_B;var gle="ToastViewport",oJe=["F8"],RL="toast.viewportPause",OL="toast.viewportResume",vle=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oJe,label:i="Notifications ({hotkey})",...s}=t,o=pP(gle,n),a=rJe(n),l=A.useRef(null),c=A.useRef(null),d=A.useRef(null),u=A.useRef(null),f=At(e,u,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;A.useEffect(()=>{const m=p=>{var _;r.length!==0&&r.every(b=>p[b]||p.code===b)&&((_=u.current)==null||_.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),A.useEffect(()=>{const m=l.current,p=u.current;if(v&&m&&p){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(RL);p.dispatchEvent(C),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(OL);p.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!m.contains(C.relatedTarget)&&_()},S=()=>{m.contains(document.activeElement)||_()};return m.addEventListener("focusin",x),m.addEventListener("focusout",b),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",b),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const y=A.useCallback(({tabbingDirection:m})=>{const x=a().map(_=>{const b=_.ref.current,S=[b,...xJe(b)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?x.reverse():x).flat()},[a]);return A.useEffect(()=>{const m=u.current;if(m){const p=x=>{var S,C,M;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const T=document.activeElement,P=x.shiftKey;if(x.target===m&&P){(S=c.current)==null||S.focus();return}const k=y({tabbingDirection:P?"backwards":"forwards"}),j=k.findIndex(F=>F===T);YR(k.slice(j+1))?x.preventDefault():P?(C=c.current)==null||C.focus():(M=d.current)==null||M.focus()}};return m.addEventListener("keydown",p),()=>m.removeEventListener("keydown",p)}},[a,y]),h.jsxs(vxe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&h.jsx(IL,{ref:c,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});YR(m)}}),h.jsx(bB.Slot,{scope:n,children:h.jsx(qe.ol,{tabIndex:-1,...s,ref:f})}),v&&h.jsx(IL,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});YR(m)}})]})});vle.displayName=gle;var yle="ToastFocusProxy",IL=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=pP(yle,n);return h.jsx(Fb,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});IL.displayName=yle;var mP="Toast",aJe="toast.swipeStart",lJe="toast.swipeMove",cJe="toast.swipeCancel",uJe="toast.swipeEnd",xle=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(or,{present:n||a,children:h.jsx(hJe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:Oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});xle.displayName=mP;var[dJe,fJe]=ple(mP,{onClose(){}}),hJe=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:g,...v}=t,y=pP(mP,n),[m,p]=A.useState(null),x=At(e,F=>p(F)),_=A.useRef(null),b=A.useRef(null),S=i||y.duration,C=A.useRef(0),M=A.useRef(S),T=A.useRef(0),{onToastAdd:P,onToastRemove:N}=y,I=kn(()=>{var B;(m==null?void 0:m.contains(document.activeElement))&&((B=y.viewport)==null||B.focus()),o()}),k=A.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(I,F))},[I]);A.useEffect(()=>{const F=y.viewport;if(F){const B=()=>{k(M.current),c==null||c()},U=()=>{const H=new Date().getTime()-C.current;M.current=M.current-H,window.clearTimeout(T.current),l==null||l()};return F.addEventListener(RL,U),F.addEventListener(OL,B),()=>{F.removeEventListener(RL,U),F.removeEventListener(OL,B)}}},[y.viewport,S,l,c,k]),A.useEffect(()=>{s&&!y.isClosePausedRef.current&&k(S)},[s,S,y.isClosePausedRef,k]),A.useEffect(()=>(P(),()=>N()),[P,N]);const j=A.useMemo(()=>m?Mle(m):null,[m]);return y.viewport?h.jsxs(h.Fragment,{children:[j&&h.jsx(pJe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),h.jsx(dJe,{scope:n,onClose:I,children:Fh.createPortal(h.jsx(bB.ItemSlot,{scope:n,children:h.jsx(gxe,{asChild:!0,onEscapeKeyDown:Oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Oe(t.onPointerDown,F=>{F.button===0&&(_.current={x:F.clientX,y:F.clientY})}),onPointerMove:Oe(t.onPointerMove,F=>{if(!_.current)return;const B=F.clientX-_.current.x,U=F.clientY-_.current.y,H=!!b.current,R=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,z=R?L(0,B):0,W=R?0:L(0,U),G=F.pointerType==="touch"?10:2,q={x:z,y:W},ne={originalEvent:F,delta:q};H?(b.current=q,G1(lJe,u,ne,{discrete:!1})):eG(q,y.swipeDirection,G)?(b.current=q,G1(aJe,d,ne,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(B)>G||Math.abs(U)>G)&&(_.current=null)}),onPointerUp:Oe(t.onPointerUp,F=>{const B=b.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),b.current=null,_.current=null,B){const H=F.currentTarget,R={originalEvent:F,delta:B};eG(B,y.swipeDirection,y.swipeThreshold)?G1(uJe,g,R,{discrete:!0}):G1(cJe,f,R,{discrete:!0}),H.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),pJe=t=>{const{__scopeToast:e,children:n,...r}=t,i=pP(mP,e),[s,o]=A.useState(!1),[a,l]=A.useState(!1);return vJe(()=>o(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Tv,{asChild:!0,children:h.jsx(Fb,{...r,children:s&&h.jsxs(h.Fragment,{children:[i.label," ",n]})})})},mJe="ToastTitle",_le=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(qe.div,{...r,ref:e})});_le.displayName=mJe;var gJe="ToastDescription",ble=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(qe.div,{...r,ref:e})});ble.displayName=gJe;var wle="ToastAction",Sle=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Cle,{altText:n,asChild:!0,children:h.jsx(wB,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wle}\`. Expected non-empty \`string\`.`),null)});Sle.displayName=wle;var Ele="ToastClose",wB=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=fJe(Ele,n);return h.jsx(Cle,{asChild:!0,children:h.jsx(qe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,i.onClose)})})});wB.displayName=Ele;var Cle=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return h.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Mle(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),yJe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Mle(r))}}),e}function G1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ax(i,s):i.dispatchEvent(s)}var eG=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function vJe(t=()=>{}){const e=kn(t);ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function yJe(t){return t.nodeType===t.ELEMENT_NODE}function xJe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YR(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _Je=mle,Ale=vle,Tle=xle,Ple=_le,Nle=ble,Rle=Sle,Ole=wB;const bJe=_Je,Ile=A.forwardRef(({className:t,...e},n)=>h.jsx(Ale,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ile.displayName=Ale.displayName;const wJe=Yc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white",warning:"warning group border-orange-500 bg-orange-500 text-white"}},defaultVariants:{variant:"default"}}),kle=A.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Tle,{ref:r,className:we(wJe({variant:e}),t),...n}));kle.displayName=Tle.displayName;const SJe=A.forwardRef(({className:t,...e},n)=>h.jsx(Rle,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));SJe.displayName=Rle.displayName;const Dle=A.forwardRef(({className:t,...e},n)=>h.jsx(Ole,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(ub,{className:"h-4 w-4"})}));Dle.displayName=Ole.displayName;const Lle=A.forwardRef(({className:t,...e},n)=>h.jsx(Ple,{ref:n,className:we("text-sm font-semibold",t),...e}));Lle.displayName=Ple.displayName;const jle=A.forwardRef(({className:t,...e},n)=>h.jsx(Nle,{ref:n,className:we("text-sm opacity-90",t),...e}));jle.displayName=Nle.displayName;const EJe=1,CJe=5e3;let ZR=0;function MJe(){return ZR=(ZR+1)%Number.MAX_SAFE_INTEGER,ZR.toString()}const QR=new Map,tG=t=>{if(QR.has(t))return;const e=setTimeout(()=>{QR.delete(t),Y0({type:"REMOVE_TOAST",toastId:t})},CJe);QR.set(t,e)},AJe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,EJe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tG(n):t.toasts.forEach(r=>{tG(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gE=[];let vE={toasts:[]};function Y0(t){vE=AJe(vE,t),gE.forEach(e=>{e(vE)})}function TJe({...t}){const e=MJe(),n=i=>Y0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Y0({type:"DISMISS_TOAST",toastId:e});return Y0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Zv(){const[t,e]=A.useState(vE);return A.useEffect(()=>(gE.push(e),()=>{const n=gE.indexOf(e);n>-1&&gE.splice(n,1)}),[t]),{...t,toast:TJe,dismiss:n=>Y0({type:"DISMISS_TOAST",toastId:n})}}function PJe(){const{toasts:t}=Zv();return h.jsxs(bJe,{children:[t.map(function({id:e,title:n,description:r,action:i,variant:s,...o}){return h.jsxs(kle,{...o,children:[h.jsxs("div",{className:"flex items-center",children:[s==="success"&&h.jsx(qye,{className:"h-5 w-5 text-green-400 mr-3"}),s==="destructive"&&h.jsx(wY,{className:"h-5 w-5 text-red-400 mr-3"}),s==="warning"&&h.jsx(S0e,{className:"h-5 w-5 text-orange-400 mr-3"}),s==="default"&&h.jsx(o0e,{className:"h-5 w-5 text-blue-400 mr-3"}),h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(Lle,{children:n}),r&&h.jsx(jle,{children:r})]})]}),i,h.jsx(Dle,{})]},e)}),h.jsx(Ile,{})]})}var NJe="Toggle",SB=A.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=Or({prop:n,onChange:i,defaultProp:r});return h.jsx(qe.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Oe(t.onClick,()=>{t.disabled||a(!o)})})});SB.displayName=NJe;var Fle=SB,Qv="ToggleGroup",[Ble,F0t]=Gn(Qv,[$l]),Ule=$l(),EB=ee.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return h.jsx(RJe,{...i,ref:e})}if(n==="multiple"){const i=r;return h.jsx(OJe,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Qv}\``)});EB.displayName=Qv;var[zle,$le]=Ble(Qv),RJe=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=Or({prop:n,defaultProp:r,onChange:i});return h.jsx(zle,{scope:t.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:ee.useCallback(()=>a(""),[a]),children:h.jsx(Hle,{...s,ref:e})})}),OJe=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Or({prop:n,defaultProp:r,onChange:i}),l=ee.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=ee.useCallback(d=>a((u=[])=>u.filter(f=>f!==d)),[a]);return h.jsx(zle,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:h.jsx(Hle,{...s,ref:e})})});EB.displayName=Qv;var[IJe,kJe]=Ble(Qv),Hle=ee.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=t,c=Ule(n),d=jl(o),u={role:"group",dir:d,...l};return h.jsx(IJe,{scope:n,rovingFocus:i,disabled:r,children:i?h.jsx(kb,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:h.jsx(qe.div,{...u,ref:e})}):h.jsx(qe.div,{...u,ref:e})})}),EM="ToggleGroupItem",Vle=ee.forwardRef((t,e)=>{const n=$le(EM,t.__scopeToggleGroup),r=kJe(EM,t.__scopeToggleGroup),i=Ule(t.__scopeToggleGroup),s=n.value.includes(t.value),o=r.disabled||t.disabled,a={...t,pressed:s,disabled:o},l=ee.useRef(null);return r.rovingFocus?h.jsx(Db,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:h.jsx(nG,{...a,ref:e})}):h.jsx(nG,{...a,ref:e})});Vle.displayName=EM;var nG=ee.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,s=$le(EM,n),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return h.jsx(SB,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Wle=EB,Gle=Vle;const Xle=A.createContext({size:"default",variant:"default"}),DJe=A.forwardRef(({className:t,variant:e,size:n,children:r,...i},s)=>h.jsx(Wle,{ref:s,className:we("flex items-center justify-center gap-1",t),...i,children:h.jsx(Xle.Provider,{value:{variant:e,size:n},children:r})}));DJe.displayName=Wle.displayName;const LJe=A.forwardRef(({className:t,children:e,variant:n,size:r,...i},s)=>{const o=A.useContext(Xle);return h.jsx(Gle,{ref:s,className:we(qle({variant:o.variant||n,size:o.size||r}),t),...i,children:e})});LJe.displayName=Gle.displayName;const qle=Yc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),jJe=A.forwardRef(({className:t,variant:e,size:n,...r},i)=>h.jsx(Fle,{ref:i,className:we(qle({variant:e,size:n,className:t})),...r}));jJe.displayName=Fle.displayName;var[gP,B0t]=Gn("Tooltip",[zl]),vP=zl(),Kle="TooltipProvider",FJe=700,kL="tooltip.open",[BJe,CB]=gP(Kle),Yle=t=>{const{__scopeTooltip:e,delayDuration:n=FJe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=A.useRef(!0),a=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(BJe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};Yle.displayName=Kle;var yP="Tooltip",[UJe,xP]=gP(yP),Zle=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=CB(yP,t.__scopeTooltip),c=vP(e),[d,u]=A.useState(null),f=Hr(),g=A.useRef(0),v=o??l.disableHoverableContent,y=a??l.delayDuration,m=A.useRef(!1),[p=!1,x]=Or({prop:r,defaultProp:i,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(kL))):l.onClose(),s==null||s(M)}}),_=A.useMemo(()=>p?m.current?"delayed-open":"instant-open":"closed",[p]),b=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m.current=!1,x(!0)},[x]),S=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x(!1)},[x]),C=A.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{m.current=!0,x(!0),g.current=0},y)},[y,x]);return A.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),h.jsx(v4,{...c,children:h.jsx(UJe,{scope:e,contentId:f,open:p,stateAttribute:_,trigger:d,onTriggerChange:u,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?C():b()},[l.isOpenDelayedRef,C,b]),onTriggerLeave:A.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:b,onClose:S,disableHoverableContent:v,children:n})})};Zle.displayName=yP;var DL="TooltipTrigger",Qle=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=xP(DL,n),s=CB(DL,n),o=vP(n),a=A.useRef(null),l=At(e,a,i.onTriggerChange),c=A.useRef(!1),d=A.useRef(!1),u=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),h.jsx(Gv,{asChild:!0,...o,children:h.jsx(qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Oe(t.onBlur,i.onClose),onClick:Oe(t.onClick,i.onClose)})})});Qle.displayName=DL;var zJe="TooltipPortal",[U0t,$Je]=gP(zJe,{forceMount:void 0}),rv="TooltipContent",Jle=A.forwardRef((t,e)=>{const n=$Je(rv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=xP(rv,t.__scopeTooltip);return h.jsx(or,{present:r||o.open,children:o.disableHoverableContent?h.jsx(ece,{side:i,...s,ref:e}):h.jsx(HJe,{side:i,...s,ref:e})})}),HJe=A.forwardRef((t,e)=>{const n=xP(rv,t.__scopeTooltip),r=CB(rv,t.__scopeTooltip),i=A.useRef(null),s=At(e,i),[o,a]=A.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:u}=r,f=A.useCallback(()=>{a(null),u(!1)},[u]),g=A.useCallback((v,y)=>{const m=v.currentTarget,p={x:v.clientX,y:v.clientY},x=qJe(p,m.getBoundingClientRect()),_=KJe(p,x),b=YJe(y.getBoundingClientRect()),S=QJe([..._,...b]);a(S),u(!0)},[u]);return A.useEffect(()=>()=>f(),[f]),A.useEffect(()=>{if(l&&d){const v=m=>g(m,d),y=m=>g(m,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,f]),A.useEffect(()=>{if(o){const v=y=>{const m=y.target,p={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(m))||(d==null?void 0:d.contains(m)),_=!ZJe(p,o);x?f():_&&(f(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,f]),h.jsx(ece,{...t,ref:s})}),[VJe,WJe]=gP(yP,{isInside:!1}),GJe=nY("TooltipContent"),ece=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=xP(rv,n),c=vP(n),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(kL,d),()=>document.removeEventListener(kL,d)),[d]),A.useEffect(()=>{if(l.trigger){const u=f=>{const g=f.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),h.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:h.jsxs(Ob,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(GJe,{children:r}),h.jsx(VJe,{scope:n,isInside:!0,children:h.jsx(ose,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Jle.displayName=rv;var tce="TooltipArrow",XJe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vP(n);return WJe(tce,n).isInside?null:h.jsx(Ib,{...i,...r,ref:e})});XJe.displayName=tce;function qJe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function KJe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function YJe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function ZJe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function QJe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),JJe(e)}function JJe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var eet=Yle,tet=Zle,net=Qle,nce=Jle;const rce=eet,ret=tet,iet=net,ice=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(nce,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));ice.displayName=nce.displayName;const rG=t=>{let e;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(e):c;if(!Object.is(u,e)){const f=e;e=d??(typeof u!="object"||u===null)?u:Object.assign({},e,u),n.forEach(g=>g(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},set=t=>t?rG(t):rG,oet=t=>t;function aet(t,e=oet){const n=ee.useSyncExternalStore(t.subscribe,ee.useCallback(()=>e(t.getState()),[t,e]),ee.useCallback(()=>e(t.getInitialState()),[t,e]));return ee.useDebugValue(n),n}const iG=t=>{const e=set(t),n=r=>aet(e,r);return Object.assign(n,e),n},cet=t=>t?iG(t):iG,MB=cet(t=>({currentModule:"vareon",theme:typeof window<"u"&&window.localStorage.getItem("theme")==="light"?"light":"dark",performanceMode:!1,systemStatus:{arcana:"online",myntrix:"online",neosyntis:"online",cognisys:"online"},commandPaletteOpen:!1,sidebarCollapsed:!1,notifications:[],setCurrentModule:e=>t({currentModule:e}),toggleTheme:()=>t(e=>{const n=e.theme==="dark"?"light":"dark";return typeof window<"u"&&(window.localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")),{theme:n}}),togglePerformanceMode:()=>t(e=>({performanceMode:!e.performanceMode})),setSystemStatus:(e,n)=>t(r=>({systemStatus:{...r.systemStatus,[e]:n}})),toggleCommandPalette:()=>t(e=>({commandPaletteOpen:!e.commandPaletteOpen})),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed})),addNotification:(e,n)=>t(r=>({notifications:[...r.notifications,{id:Date.now().toString(),message:e,type:n}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)}))}));if(typeof window<"u"){const t=MB.getState().theme;document.documentElement.classList.toggle("dark",t==="dark")}function uet({children:t}){const e=MB(n=>n.theme);return A.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e)},[e]),h.jsx(h.Fragment,{children:t})}function det(){const[,t]=as(),{commandPaletteOpen:e,toggleCommandPalette:n}=MB();A.useEffect(()=>{const s=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),n())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n]);const r=A.useMemo(()=>[{group:"Modules",items:[{icon:E3,label:"VAREON Dashboard",path:"/dashboard",keywords:"home dashboard portal"},{icon:bl,label:"NEOSYNTIS Lab",path:"/dashboard/neosyntis",keywords:"research workflow dataset search"},{icon:Na,label:"MYNTRIX Core",path:"/dashboard/myntrix",keywords:"agents hardware cnc device"},{icon:Md,label:"COGNISYS",path:"/dashboard/cognisys",keywords:"models routing orchestration"},{icon:ja,label:"ARCANA System",path:"/dashboard/arcana",keywords:"chat ai terminal shell"}]},{group:"NEOSYNTIS",items:[{icon:bl,label:"Search Engine",path:"/dashboard/neosyntis?tab=search",keywords:"research workflow dataset search"},{icon:GA,label:"Datasets",path:"/dashboard/neosyntis?tab=datasets",keywords:"data dataset huggingface"},{icon:tC,label:"Workflow Builder",path:"/dashboard/neosyntis?tab=workflow",keywords:"workflow nodes automation"},{icon:ph,label:"Telemetry",path:"/dashboard/neosyntis?tab=telemetry",keywords:"metrics stats logs"},{icon:Eg,label:"Device Settings",path:"/dashboard/neosyntis?tab=devices",keywords:"cnc esp32 arduino"}]},{group:"MYNTRIX",items:[{icon:_l,label:"Agent Manager",path:"/dashboard/myntrix?tab=agents",keywords:"agents ai bots"},{icon:tC,label:"Task Scheduler",path:"/dashboard/myntrix?tab=scheduler",keywords:"tasks schedule cron"},{icon:Na,label:"Device Control",path:"/dashboard/myntrix?tab=devices",keywords:"device cnc 3d hardware"},{icon:ph,label:"Resource Monitor",path:"/dashboard/myntrix?tab=monitor",keywords:"cpu memory resources"}]},{group:"Actions",items:[{icon:_l,label:"Start New Chat",path:"/dashboard/arcana?action=new-chat",keywords:"chat conversation"},{icon:ja,label:"Open Terminal",path:"/dashboard/arcana?tab=terminal",keywords:"shell command line"},{icon:Jye,label:"Create Workflow",path:"/dashboard/neosyntis?tab=workflow&action=new",keywords:"workflow create new"},{icon:Eg,label:"Settings",path:"/dashboard/settings",keywords:"settings preferences config"}]}],[]),i=s=>{t(s),n()};return h.jsxs(s7e,{open:e,onOpenChange:n,children:[h.jsx(mne,{placeholder:"Type a command or search..."}),h.jsxs(gne,{children:[h.jsx(vne,{children:"No results found."}),r.map(s=>h.jsx(yne,{heading:s.group,children:s.items.map(o=>h.jsxs(xne,{value:`${o.label} ${o.keywords}`,onSelect:()=>i(o.path),"data-testid":`command-${o.label.toLowerCase().replace(/\s+/g,"-")}`,children:[h.jsx(o.icon,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:o.label})]},o.path))},s.group))]})]})}const fet=[{icon:E3,label:"VAREON",path:"/",module:"vareon"},{icon:bl,label:"NEOSYNTIS",path:"/dashboard/neosyntis",module:"neosyntis"},{icon:Na,label:"MYNTRIX",path:"/dashboard/myntrix",module:"myntrix"},{icon:Md,label:"COGNISYS",path:"/dashboard/cognisys",module:"cognisys"},{icon:ja,label:"ARCANA",path:"/dashboard/arcana",module:"arcana"}];function het(){const[t,e]=as();return h.jsxs(h.Fragment,{children:[h.jsx(EQe,{children:h.jsxs(CQe,{children:[h.jsx(MQe,{children:"Modules"}),h.jsx(AQe,{children:h.jsx(ZW,{children:fet.map(n=>{const r=t===n.path,i=n.icon;return h.jsx(QW,{children:h.jsxs(JW,{isActive:r,onClick:()=>e(n.path),"data-testid":`link-${n.module}`,children:[h.jsx(i,{className:"h-4 w-4"}),h.jsx("span",{children:n.label})]})},n.path)})})})]})}),h.jsxs(SQe,{children:[h.jsx(ZW,{children:h.jsx(QW,{children:h.jsxs(JW,{isActive:t==="/dashboard/profile",onClick:()=>e("/dashboard/profile"),"data-testid":"link-user-profile",children:[h.jsx(cb,{className:"h-4 w-4"}),h.jsx("span",{children:"User Profile"})]})})}),h.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500","data-testid":"status-indicator-online"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"All Systems Online"})]})]})]})}const pet=[{icon:Cd,title:"Intent Detection",description:"Automatically classifies user requests into shell commands, code generation, or conversation using specialized LLM models.",model:"mistralai/mistral-small-3.2-24b"},{icon:Px,title:"Code Generation",description:"Generates complete, runnable code in multiple languages with context-aware suggestions and error fixing capabilities.",model:"moonshotai/kimi-dev-72b"},{icon:ja,title:"Shell Command Translation",description:"Converts natural language instructions into safe, executable shell commands with whitelist-based security.",model:"nvidia/llama-3.3-nemotron-super-49b"},{icon:A3,title:"Reasoning System",description:"Generates detailed reasoning traces explaining the AI's thought process and planned actions before execution.",enabled:"Configurable"},{icon:C3,title:"Conversational AI",description:"Maintains context-aware conversations with chat history, providing helpful assistance for general queries.",model:"mistralai/mistral-small-3.2-24b"},{icon:Qye,title:"File Operations",description:"Manages generated code files, uploaded documents, and system artifacts with security-restricted access controls.",storage:"In-memory / File system"}];function met(){return h.jsx("div",{className:"bg-background py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Arcana AI Capabilities"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Multi-model LLM orchestration powering the entire VAREON ecosystem"})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:pet.map(t=>h.jsxs(Xe,{className:"group border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsx(t.icon,{className:"h-10 w-10 text-primary transition-transform duration-300 group-hover:scale-110"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsx("h3",{className:"mb-3 text-lg font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:t.description}),(t.model||t.enabled||t.storage)&&h.jsx("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:h.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[t.model&&`Model: ${t.model.split("/")[1]}`,t.enabled&&`Status: ${t.enabled}`,t.storage&&`Storage: ${t.storage}`]})})]},t.title))}),h.jsx("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Legacy Integration Architecture"}),h.jsx("p",{className:"mx-auto max-w-3xl text-muted-foreground",children:"The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All legacy modules (ai_core.py, ai_services.py, llm_utils.py) are preserved in myntrix_core/lib/legacy/ and accessed via safe wrapper functions, enabling the entire ecosystem to leverage proven AI capabilities while maintaining modern architecture standards."})]})})]})})}function get(){const t=[{id:"arcana",label:"Arcana AI",subtitle:"Intelligence Core"},{id:"neosyntis",label:"NEOSYNTIS",subtitle:"Development Lab"},{id:"myntrix",label:"MYNTRIX",subtitle:"Execution Core"},{id:"edge",label:"Edge Devices",subtitle:"Production"}];return h.jsx("div",{className:"bg-card py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"How It Works"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Seamless integration from AI reasoning to production execution"})]}),h.jsx("div",{className:"flex flex-col items-center space-y-8 md:flex-row md:space-x-4 md:space-y-0",children:t.map((e,n)=>h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"group relative transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[h.jsx("div",{className:"absolute -inset-1 rounded-xl bg-gradient-to-r from-primary to-chart-2 opacity-25 blur transition group-hover:opacity-50"}),h.jsxs("div",{className:"relative flex h-32 w-40 flex-col items-center justify-center rounded-xl border border-border bg-background p-4",children:[h.jsx("div",{className:"mb-2 text-lg font-bold text-foreground",children:e.label}),h.jsx("div",{className:"text-xs text-muted-foreground",children:e.subtitle})]})]}),n<t.length-1&&h.jsx(sb,{className:"mx-4 hidden h-8 w-8 text-primary md:block animate-pulse-horizontal"})]},e.id))}),h.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"1. AI Processing"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Arcana AI analyzes tasks using multi-model orchestration, intent detection, and reasoning capabilities"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"2. Validation"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"MYNTRIX validates execution plans, performs safety checks, and requires human approval for critical operations"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"3. Execution"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Commands are executed on edge devices with real-time telemetry monitoring and status updates"})]})]})]})})}const sG="";function vet(){const[t,e]=A.useState(!0),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),{toast:l}=Zv(),[,c]=as(),d=Bn({mutationFn:async v=>{const y=await fetch(`${sG}/api/token`,{method:"POST",body:v});if(!y.ok){const m=await y.json();throw new Error(m.detail||"Login failed")}return y.json()},onSuccess:v=>{localStorage.setItem("access_token",v.access_token),l({title:"Login Successful",description:"You have been logged in.",variant:"success"}),c("/dashboard")},onError:v=>{l({title:"Login Failed",description:v.message||"An unexpected error occurred.",variant:"destructive"})}}),u=Bn({mutationFn:async v=>{const y=await fetch(`${sG}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok){const m=await y.json();throw new Error(m.detail||"Registration failed")}return y.json()},onSuccess:v=>{l({title:"Registration Successful",description:"Please check your email to verify your account.",variant:"success"}),c("/waiting-for-verification")},onError:v=>{l({title:"Registration Failed",description:v.message||"An unexpected error occurred.",variant:"destructive"})}}),f=v=>{if(v.preventDefault(),t){const y=new FormData;y.append("username",n),y.append("password",o),d.mutate(y)}else u.mutate({email:n,username:i,password:o})},g=d.isPending||u.isPending;return h.jsxs(Xe,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(nt,{className:"text-center",children:[h.jsx(st,{className:"text-3xl font-bold",children:t?"Welcome Back":"Create Account"}),h.jsx(Bt,{children:t?"Sign in to access your dashboard":"Get started with VAREON"})]}),h.jsx(at,{children:h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx(l0e,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Tn,{id:"email",type:"email",placeholder:"Email",value:n,onChange:v=>r(v.target.value),required:!0,className:"pl-10"})]}),h.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-0 opacity-0 overflow-hidden":"max-h-20 opacity-100"}`,children:h.jsxs("div",{className:"relative",children:[h.jsx(cb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Tn,{id:"username",type:"text",placeholder:"Username",value:i,onChange:v=>s(v.target.value),required:!t,className:"pl-10"})]})}),h.jsxs("div",{className:"relative",children:[h.jsx(AY,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Tn,{id:"password",type:"password",placeholder:"Password",value:o,onChange:v=>a(v.target.value),required:!0,className:"pl-10"})]}),h.jsx(We,{type:"submit",className:"w-full",disabled:g,children:g?h.jsx(Ra,{className:"animate-spin"}):t?"Login":"Sign Up"}),h.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t?"Don't have an account?":"Already have an account?",h.jsx(We,{variant:"link",className:"pl-1",onClick:()=>e(!t),type:"button",children:t?"Sign Up":"Login"})]})]})})]})}function yet(){const[t,e]=A.useState([{role:"assistant",content:"Hello! I'm Arcana AI. I can help you with code generation, shell commands, or general conversation. What would you like to work on?",type:"text"}]),[n,r]=A.useState(""),[i,s]=A.useState(!1),o=async()=>{if(!n.trim())return;const a={role:"user",content:n,type:"text"};e(c=>[...c,a]);const l=n;r(""),s(!0);try{const c=await fetch("/api/chat/demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const u={role:"assistant",content:(await c.json()).response||"Sorry, I couldn't get a response.",type:"text"};e(f=>[...f,u])}catch(c){console.error("Failed to send message:",c);const d={role:"assistant",content:"Sorry, something went wrong. Please try again later.",type:"text"};e(u=>[...u,d])}finally{s(!1)}};return h.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl border border-border bg-card",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(_l,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"font-semibold text-foreground",children:"Arcana AI"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"})]})]}),h.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:[t.map((a,l)=>h.jsx("div",{className:`flex animate-fade-in-up ${a.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`flex max-w-[80%] space-x-2 ${a.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[h.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${a.role==="user"?"bg-primary":"bg-muted"}`,children:a.role==="user"?h.jsx(cb,{className:"h-4 w-4 text-primary-foreground"}):h.jsx(_l,{className:"h-4 w-4 text-foreground"})}),h.jsxs("div",{className:`rounded-xl p-3 ${a.role==="user"?"bg-primary/20 text-foreground":a.type==="code"||a.type==="command"?"bg-muted font-mono text-sm border border-border":"bg-muted text-foreground"}`,children:[a.type==="code"&&h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[h.jsx(Px,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:a.language||"code"})]}),a.type==="command"&&h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[h.jsx(ja,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"shell"})]}),h.jsx("div",{className:"whitespace-pre-wrap",children:a.content})]})]})},l)),i&&h.jsx("div",{className:"flex justify-start",children:h.jsxs("div",{className:"flex max-w-[80%] space-x-2",children:[h.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:h.jsx(_l,{className:"h-4 w-4 text-foreground"})}),h.jsx("div",{className:"rounded-xl p-3 bg-muted text-foreground",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{className:"animate-pulse-dot",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]})})]})})]}),h.jsx("div",{className:"border-t border-border p-4",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(hP,{value:n,onChange:a=>r(a.target.value),placeholder:"Ask Arcana AI anything...",className:"min-h-[60px] resize-none",onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),o())},"data-testid":"input-chat-message"}),h.jsx(We,{onClick:o,size:"icon",className:"shrink-0","data-testid":"button-send-message",children:h.jsx(M3,{className:"h-4 w-4"})})]})})]})}const xet=[{icon:Cd,title:"Arcana AI",description:"Multi-model LLM orchestration with intent detection, code generation, and reasoning capabilities. The intelligent core powering the entire ecosystem.",features:["Intent Detection","Code Generation","Shell Commands","Reasoning System"],href:"/arcana-demo",color:"text-primary"},{icon:MY,title:"NEOSYNTIS Lab",description:"Interactive research dashboard for AI-powered development. Real-time collaboration, telemetry visualization, and intelligent task execution.",features:["AI Chat Interface","File Management","WebSocket Terminal","Analytics"],href:"/neosyntis-demo",color:"text-chart-2"},{icon:Na,title:"MYNTRIX Core",description:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety.",features:["Job Planning","Safety Validation","Dry-run Mode","MQTT Integration"],href:"/myntrix-demo",color:"text-chart-3"}];function _et(){return h.jsx("div",{className:"bg-background py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Integrated Ecosystem"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Three powerful platforms working in harmony to deliver adaptive intelligence from development to deployment."})]}),h.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:xet.map(t=>h.jsxs(Xe,{className:"group relative overflow-hidden border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[h.jsx("div",{className:"mb-4",children:h.jsx(t.icon,{className:`h-12 w-12 ${t.color} transition-transform duration-300 group-hover:scale-110`})}),h.jsx("h3",{className:"mb-3 text-2xl font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"mb-6 text-muted-foreground",children:t.description}),h.jsx("div",{className:"mb-6 space-y-2",children:t.features.map(e=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),h.jsx("span",{className:"text-sm text-foreground",children:e})]},e))}),h.jsx(ma,{href:t.href,children:h.jsxs(We,{variant:"ghost",className:"group/btn w-full justify-between","data-testid":`button-explore-${t.title.toLowerCase().replace(" ","-")}`,children:["Explore ",t.title,h.jsx(sb,{className:"h-4 w-4 transition-transform group-hover/btn:translate-x-1"})]})})]},t.title))})]})})}function Vb(){const t=[{title:"Product",links:[{label:"Arcana AI",href:"/arcana"},{label:"NEOSYNTIS",href:"/neosyntis"},{label:"MYNTRIX",href:"/myntrix"}]},{title:"Resources",links:[{label:"Documentation",href:"#"},{label:"API Reference",href:"#"},{label:"GitHub",href:"#"}]},{title:"Company",links:[{label:"About",href:"#"},{label:"Blog",href:"#"},{label:"Contact",href:"#"}]}];return h.jsx("footer",{className:"border-t border-border bg-card",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),h.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]}),h.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Engineering Adaptive Intelligence for the modern enterprise."}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(Nx,{className:"h-5 w-5"})}),h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(E0e,{className:"h-5 w-5"})}),h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(a0e,{className:"h-5 w-5"})})]})]}),t.map(e=>h.jsxs("div",{children:[h.jsx("h3",{className:"mb-4 text-sm font-semibold text-foreground",children:e.title}),h.jsx("ul",{className:"space-y-2",children:e.links.map(n=>h.jsx("li",{children:h.jsx(ma,{href:n.href,children:h.jsx("a",{className:"text-sm text-muted-foreground hover:text-foreground",children:n.label})})},n.label))})]},e.title))]}),h.jsx("div",{className:"mt-12 border-t border-border pt-8",children:h.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," VAREON. All rights reserved."]})})]})})}function bet(){return h.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-background"}),h.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),h.jsx("div",{className:"absolute inset-0 z-0 animate-pulse-slow bg-gradient-to-br from-primary/5 via-transparent to-transparent"}),h.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex min-h-[80vh] flex-col items-center justify-center text-center",children:[h.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 animate-fade-in","data-testid":"hero-sparkles-badge",children:[h.jsx(XA,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-sm font-medium text-primary",children:"Powered by Arcana AI"})]}),h.jsxs("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl md:text-7xl animate-fade-in-up",children:["Engineering",h.jsx("br",{}),h.jsx("span",{className:"bg-gradient-to-r from-primary to-chart-2 bg-clip-text text-transparent",children:"Adaptive Intelligence"})]}),h.jsx("p",{className:"mb-12 max-w-2xl text-lg text-muted-foreground sm:text-xl animate-fade-in-up animation-delay-200",children:"The VAREON ecosystem integrates cutting-edge AI with manufacturing execution systems. From research to production, powered by Arcana's multi-model orchestration."}),h.jsxs("div",{className:"flex flex-col items-center space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0 animate-fade-in-up animation-delay-400",children:[h.jsx(ma,{href:"/neosyntis-demo",children:h.jsxs(We,{size:"lg",className:"group","data-testid":"button-try-neosyntis",children:["Try NEOSYNTIS Lab",h.jsx(sb,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),h.jsx(ma,{href:"/arcana-demo",children:h.jsx(We,{size:"lg",variant:"outline","data-testid":"button-explore-arcana",children:"Explore Arcana AI"})})]}),h.jsxs("div",{className:"mt-20 grid gap-6 sm:grid-cols-3 animate-fade-in animation-delay-600",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"150K+"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Inferences Daily"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-2",children:"99.9%"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-3",children:"24/7"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time Monitoring"})]})]})]})})]})}function wet(){const[t,e]=A.useState(`G1 X10 Y10 F500
G1 X20 Y20
G1 X0 Y0`),[n,r]=A.useState("cnc-node-1"),[i,s]=A.useState("dry-run"),[o,a]=A.useState("idle"),[l,c]=A.useState(""),d=()=>{a("validating"),c(""),setTimeout(()=>{i==="dry-run"?(a("success"),c(` Validation passed
 No forbidden commands detected
 Coordinates within safe bounds
 Feedrate acceptable (500 mm/min)

Simulated execution complete. Ready for approval.`)):(a("success"),c(`Job submitted for approval.
Job ID: job_`+Math.random().toString(36).substr(2,9)))},1500)};return h.jsxs(Xe,{className:"border border-card-border p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:"Submit Job"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and validate manufacturing jobs with AI-powered safety checks"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"G-code / Task Content"}),h.jsx(hP,{value:t,onChange:u=>e(u.target.value),className:"min-h-[120px] font-mono text-sm",placeholder:"Enter G-code or task description...","data-testid":"input-job-content"})]}),h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Target Node"}),h.jsxs(Go,{value:n,onValueChange:r,children:[h.jsx(uo,{"data-testid":"select-node",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"cnc-node-1",children:"CNC Node 1"}),h.jsx(cn,{value:"cnc-node-2",children:"CNC Node 2"}),h.jsx(cn,{value:"cnc-node-3",children:"CNC Node 3"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Execution Mode"}),h.jsxs(Go,{value:i,onValueChange:s,children:[h.jsx(uo,{"data-testid":"select-mode",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"dry-run",children:"Dry Run (Simulate)"}),h.jsx(cn,{value:"validate",children:"Validate Only"}),h.jsx(cn,{value:"execute",children:"Execute (Requires Approval)"})]})]})]})]}),h.jsx(We,{onClick:d,className:"w-full",disabled:o==="validating","data-testid":"button-submit-job",children:o==="validating"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Validating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Sg,{className:"mr-2 h-4 w-4"}),"Run ",i==="dry-run"?"Dry Run":"Job"]})}),l&&h.jsxs("div",{className:`rounded-lg border p-4 ${o==="success"?"border-chart-3 bg-chart-3/10":"border-destructive bg-destructive/10"}`,children:[h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o==="success"?h.jsx(bY,{className:"h-5 w-5 text-chart-3"}):h.jsx(wY,{className:"h-5 w-5 text-destructive"}),h.jsx("span",{className:"font-semibold text-foreground",children:o==="success"?"Validation Result":"Error"})]}),h.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-foreground",children:l})]})]})]})}function sce(){const[t,e]=A.useState({isLoggedIn:!1,token:null}),[,n]=as();return A.useEffect(()=>{const s=localStorage.getItem("access_token");e(s?{isLoggedIn:!0,token:s}:{isLoggedIn:!1,token:null})},[n]),{...t,login:s=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,token:s}),n("/dashboard")},logout:()=>{localStorage.removeItem("access_token"),e({isLoggedIn:!1,token:null}),n("/")}}}function Wb(){const[t,e]=as(),[n,r]=A.useState(!1),{isLoggedIn:i,logout:s}=sce(),o=[{path:"/",label:"Home"},{path:"/arcana-demo",label:"Arcana AI"},{path:"/neosyntis-demo",label:"NEOSYNTIS"},{path:"/myntrix-demo",label:"MYNTRIX"}],a=()=>{e(i?"/dashboard":"/auth"),r(!1)},l=()=>{s(),r(!1)};return h.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-md",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex h-16 items-center justify-between",children:[h.jsx(ma,{href:"/",children:h.jsxs("a",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 group",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary group-hover:animate-pulse-sm",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),h.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]})}),h.jsx("div",{className:"hidden items-center space-x-1 md:flex",children:o.map(c=>h.jsx(ma,{href:c.path,children:h.jsxs("a",{className:`relative rounded-lg px-4 py-2 text-sm font-medium transition-colors duration-200 ${t===c.path?"text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[c.label,t===c.path&&h.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-primary animate-grow-x"})]})},c.path))}),h.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:i?h.jsxs(h.Fragment,{children:[h.jsx(ma,{href:"/dashboard",children:h.jsx(We,{variant:"ghost",size:"sm",children:"Dashboard"})}),h.jsx(We,{size:"sm",onClick:l,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ma,{href:"/auth",children:h.jsx(We,{variant:"ghost",size:"sm",children:"Sign In"})}),h.jsx(We,{size:"sm",onClick:a,"data-testid":"button-get-started",children:"Get Started"})]})}),h.jsx(We,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"data-testid":"button-mobile-menu",children:n?h.jsx(ub,{className:"h-5 w-5"}):h.jsx(u0e,{className:"h-5 w-5"})})]}),n&&h.jsx("div",{className:"border-t border-border py-4 md:hidden",children:h.jsxs("div",{className:"flex flex-col space-y-2",children:[o.map(c=>h.jsx(ma,{href:c.path,children:h.jsx("a",{className:`rounded-lg px-4 py-2 text-sm font-medium hover-elevate active-elevate-2 ${t===c.path?"text-primary":"text-muted-foreground"}`,onClick:()=>r(!1),children:c.label})},c.path)),h.jsx("div",{className:"flex flex-col space-y-2 pt-4",children:i?h.jsxs(h.Fragment,{children:[h.jsx(ma,{href:"/dashboard",children:h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Dashboard"})}),h.jsx(We,{size:"sm",onClick:l,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ma,{href:"/auth",children:h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Sign In"})}),h.jsx(We,{size:"sm",onClick:a,children:"Get Started"})]})})]})})]})})}function Eet({children:t}){const[,e]=as();return A.useEffect(()=>{localStorage.getItem("access_token")||e("/auth")},[e]),localStorage.getItem("access_token")?h.jsx(h.Fragment,{children:t}):null}function Cet(){const[t,e]=A.useState(Array.from({length:20},(a,l)=>({x:l,y:30+Math.random()*40})));A.useEffect(()=>{const a=setInterval(()=>{e(l=>[...l.slice(1),{x:l[l.length-1].x+1,y:30+Math.random()*40}])},1e3);return()=>clearInterval(a)},[]);const n=100,r=200,i=t[t.length-1].y,s=t.reduce((a,l)=>a+l.y,0)/t.length,o=Math.max(...t.map(a=>a.y));return h.jsxs(Xe,{className:"border border-card-border p-6",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(zr,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"font-semibold text-foreground",children:"Real-time Telemetry"})]}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-1"}),h.jsx("span",{className:"text-muted-foreground",children:"CPU Load"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-muted-foreground",children:"Status: Running"})]})]})]}),h.jsxs("div",{className:"relative h-[200px] rounded-lg bg-muted/30 p-4",children:[h.jsxs("svg",{width:"100%",height:r,className:"overflow-visible",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.05"})]})}),h.jsx("path",{d:`M 0 ${r} ${t.map((a,l)=>{const c=l/(t.length-1)*100,d=r-a.y/n*r;return`L ${c}% ${d}`}).join(" ")} L 100% ${r} Z`,fill:"url(#chartGradient)"}),h.jsx("polyline",{points:t.map((a,l)=>{const c=l/(t.length-1)*100,d=r-a.y/n*r;return`${c}%,${d}`}).join(" "),fill:"none",stroke:"hsl(var(--chart-1))",strokeWidth:"2",className:"transition-all duration-500 ease-linear"})]}),h.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:"0s"}),h.jsx("span",{children:"10s"}),h.jsx("span",{children:"20s"})]})]}),h.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[i.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Current Load"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[s.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[o.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Peak"})]})]})]})}function Met(){const[t,e]=A.useState(["$ NeuroNet Shell v2.0","$ Connected to NEOSYNTIS Lab","$ Type 'help' for available commands",""]),[n,r]=A.useState(""),[i,s]=A.useState(!1),o=a=>{const l=`$ ${a}`;e(c=>[...c,l]),r(""),s(!0),setTimeout(()=>{let c=[];if(a==="help")c=["Available commands:","  ls     - List files","  pwd    - Print working directory","  clear  - Clear terminal",""];else if(a==="ls")c=["ai_core.py  ai_services.py  config.py  main.py",""];else if(a==="pwd")c=["/workspace/neuronet",""];else if(a==="clear"){e(["$ NeuroNet Shell v2.0",""]),r(""),s(!1);return}else a&&(c=[`Command '${a}' not found. Type 'help' for available commands.`,""]);let d=0,u=0;const f=setInterval(()=>{if(d<c.length){const g=c[d];u<=g.length?(e(v=>{const y=v[v.length-1];if(y===l||y==="")return[...v,g.substring(0,u)];{const m=[...v];return m[v.length-1]=g.substring(0,u),m}}),u++):(d++,u=0,d===c.length&&(clearInterval(f),s(!1)))}},20)},0)};return h.jsxs("div",{className:"flex h-[400px] flex-col rounded-xl border border-border bg-black/50 font-mono text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-muted/30 px-4 py-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ja,{className:"h-4 w-4 text-chart-3"}),h.jsx("span",{className:"text-xs font-semibold text-foreground",children:"WebSocket Shell"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-5"}),h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-2"}),h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-3"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h.jsxs("div",{className:"space-y-1",children:[t.map((a,l)=>h.jsx("div",{className:a.startsWith("$")?"text-chart-3":"text-foreground/80",children:a},l)),i&&h.jsxs("div",{className:"text-foreground/80",children:[h.jsx("span",{className:"animate-pulse-dot",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-chart-3",children:"$"}),h.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),onKeyDown:a=>{a.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-foreground outline-none",placeholder:"Enter command...","data-testid":"input-terminal-command"})]})]})}),h.jsx("div",{className:"border-t border-border bg-muted/30 px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:"Press Enter to execute"}),h.jsx(We,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>o(n),"data-testid":"button-execute-command",children:"Execute"})]})})]})}function Aet(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(Wb,{}),h.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/20 via-background to-background py-24",children:[h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),h.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2",children:[h.jsx(Cd,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-sm font-medium text-primary",children:"AI Core Engine"})]}),h.jsx("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl",children:"Arcana AI"}),h.jsx("p",{className:"mx-auto mb-12 max-w-3xl text-xl text-muted-foreground",children:"Multi-model LLM orchestration platform powering intelligent code generation, shell command conversion, and contextual reasoning across the VAREON ecosystem."}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:"6"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Core Capabilities"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-chart-2",children:"5+"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"LLM Models"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-chart-3",children:"Real-time"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Streaming"})]})]})]})})]}),h.jsx(met,{}),h.jsx("div",{className:"bg-card py-24",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"rounded-2xl border border-border bg-background p-8 md:p-12",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx(XA,{className:"h-8 w-8 shrink-0 text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Seamless Integration with MYNTRIX"}),h.jsxs("p",{className:"mb-6 text-muted-foreground",children:["The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All original modules (ai_core.py, ai_services.py, llm_utils.py, file_utils.py, shell_utils.py) are preserved in ",h.jsx("code",{className:"rounded bg-muted px-2 py-1 font-mono text-sm",children:"myntrix_core/lib/legacy/"})," and accessed through safe wrapper functions. This architecture enables:"]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Code Preservation"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Original Arcana files remain untouched, ensuring backward compatibility and easy updates"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Modern API Integration"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"New MYNTRIX endpoints leverage legacy AI capabilities through clean adapter interfaces"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Safety Wrappers"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Timeout protection, error handling, and validation layers around legacy functions"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Gradual Migration Path"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Ability to refactor legacy code incrementally while maintaining full system functionality"})]})]})]})]})})})}),h.jsx(Vb,{})]})}function Tet(){return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx(Wb,{}),h.jsx("main",{className:"flex-grow flex items-center justify-center py-12",children:h.jsx(vet,{})}),h.jsx(Vb,{})]})}function Pet(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(Wb,{}),h.jsx(bet,{}),h.jsx(_et,{}),h.jsx(get,{}),h.jsx(Vb,{})]})}const Net=[{icon:v0e,title:"Safety Validation",description:"Multi-layer safety checks including forbidden command detection, coordinate bounds validation, and feedrate limits."},{icon:A3,title:"Dry-run Simulation",description:"Execute jobs in simulation mode to validate behavior before committing to production hardware."},{icon:GA,title:"Telemetry & Logging",description:"Real-time telemetry ingestion with journal entries and comprehensive execution history."}];function Ret(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(Wb,{}),h.jsx("div",{className:"bg-gradient-to-br from-chart-3/20 via-background to-background py-16",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[h.jsx(Na,{className:"h-8 w-8 text-chart-3"}),h.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"MYNTRIX Core"})]}),h.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety protocols."})]})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(wet,{})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Xe,{className:"border border-card-border p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"System Status"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Validator"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-foreground",children:"Online"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Executor"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-foreground",children:"Ready"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"MQTT Bridge"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-5"}),h.jsx("span",{className:"text-sm text-foreground",children:"Mock Mode"})]})]})]})]}),h.jsxs(Xe,{className:"border border-card-border p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Recent Jobs"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[h.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_x7k2m"}),h.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),h.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 1 - Dry Run"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[h.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_p9n4q"}),h.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),h.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 2 - Validate"})]})]})]})]})]}),h.jsxs("div",{className:"mt-16",children:[h.jsx("h2",{className:"mb-8 text-center text-3xl font-bold text-foreground",children:"Core Modules"}),h.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:Net.map(t=>h.jsxs(Xe,{className:"border border-card-border p-6 hover-elevate",children:[h.jsx(t.icon,{className:"mb-4 h-10 w-10 text-primary"}),h.jsx("h3",{className:"mb-3 text-xl font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]}),h.jsxs("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"NeuroNet Integration"}),h.jsx("p",{className:"text-muted-foreground",children:"MYNTRIX Core is built on the foundation of the legacy NeuroNet system. The planner module uses the NeuroNet AI adapter to leverage reasoning capabilities, while the validator integrates legacy safety checks. This hybrid architecture combines proven AI intelligence with modern manufacturing execution standards."}),h.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{className:"rounded-lg bg-background p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Adapter Layer"}),h.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/legacy_adapter.py"})]}),h.jsxs("div",{className:"rounded-lg bg-background p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"MQTT Bridge"}),h.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/mqtt_bridge.py"})]})]})]})]}),h.jsx(Vb,{})]})}function Oet(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(Wb,{}),h.jsx("div",{className:"bg-gradient-to-br from-chart-2/20 via-background to-background py-16",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[h.jsx(MY,{className:"h-8 w-8 text-chart-2"}),h.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"NEOSYNTIS Lab"})]}),h.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Interactive AI research dashboard powered by NeuroNet. Real-time chat, code generation, shell terminal, and telemetry visualization in a unified development environment."})]})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:h.jsxs(Vl,{defaultValue:"chat",className:"space-y-6",children:[h.jsxs(Wa,{className:"grid w-full grid-cols-3 lg:w-auto",children:[h.jsx(Qn,{value:"chat","data-testid":"tab-chat",children:"AI Chat"}),h.jsx(Qn,{value:"terminal","data-testid":"tab-terminal",children:"Terminal"}),h.jsx(Qn,{value:"telemetry","data-testid":"tab-telemetry",children:"Telemetry"})]}),h.jsx(un,{value:"chat",className:"space-y-6",children:h.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(yet,{})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Active Models"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Intent Detection"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Code Generation"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Conversation"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]})]})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Token Usage"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Session"}),h.jsx("span",{className:"font-medium text-foreground",children:"2,450"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total"}),h.jsx("span",{className:"font-medium text-foreground",children:"15,230"})]}),h.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:h.jsx("div",{className:"h-full w-[45%] bg-primary"})})]})]})]})]})}),h.jsx(un,{value:"terminal",children:h.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(Met,{})}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Command History"}),h.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[h.jsx("div",{className:"text-muted-foreground",children:"$ ls -la"}),h.jsx("div",{className:"text-muted-foreground",children:"$ pwd"}),h.jsx("div",{className:"text-muted-foreground",children:"$ cat ai_core.py"}),h.jsx("div",{className:"text-muted-foreground",children:"$ python main.py"})]})]})]})}),h.jsx(un,{value:"telemetry",children:h.jsx(Cet,{})})]})}),h.jsx(Vb,{})]})}function Iet(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(Xe,{className:"w-full max-w-md mx-4",children:h.jsxs(at,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(Xye,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const ket="";function Det(){const[t,e]=as(),[n,r]=A.useState(null),[i,s]=A.useState(null),{toast:o}=Zv(),a=Bn({mutationFn:async({email:u,token:f})=>{const g=await fetch(`${ket}/api/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,token:f})});if(!g.ok){const v=await g.json();throw new Error(v.detail||"Verification failed.")}return g.json()},onSuccess:u=>{o({title:"Success!",description:u.message||"Email verified successfully.",variant:"default"})},onError:u=>{o({title:"Verification Failed",description:u.message||"An error occurred during verification.",variant:"destructive"})}});A.useEffect(()=>{const u=window.location.search.substring(1),f=new URLSearchParams(u||""),g=f.get("email"),v=f.get("token");r(g),s(v),(!g||!v)&&o({title:"Invalid Link",description:"The verification link is missing required parameters.",variant:"destructive"})},[t,o]);const l=()=>{e("/auth")},c=()=>{n&&i?a.mutate({email:n,token:i}):o({title:"Error",description:"Cannot verify: email or token is missing.",variant:"destructive"})},d=()=>a.isPending?h.jsxs(We,{className:"w-full",disabled:!0,children:[h.jsx(Ra,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.isSuccess?h.jsx(We,{onClick:l,className:"w-full",children:"Back to Login"}):n&&i?h.jsx(We,{onClick:c,className:"w-full",children:"Verify Email"}):h.jsx(We,{onClick:l,className:"w-full",children:"Back to Login"});return h.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:h.jsxs(Xe,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(nt,{className:"text-center",children:[h.jsx(st,{className:"text-3xl font-bold",children:"Email Verification"}),h.jsx(Bt,{children:a.isPending?"Verifying your email address...":a.isSuccess?"Your email has been successfully verified!":a.isError?"There was an issue verifying your email. Please try again or request a new link.":"Click the button below to verify your email address."})]}),h.jsx(at,{className:"flex flex-col items-center space-y-4",children:d()})]})})}function Let(){const[,t]=as(),e=()=>{t("/auth")};return h.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:h.jsxs(Xe,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(nt,{className:"text-center",children:[h.jsx(st,{className:"text-3xl font-bold",children:"Check Your Email"}),h.jsx(Bt,{children:"A verification link has been sent to your email address. Please click the link in the email to verify your account and complete your registration."})]}),h.jsx(at,{className:"flex flex-col items-center space-y-4",children:h.jsx(We,{onClick:e,className:"w-full",children:"Back to Login"})})]})})}const jet=async()=>{const t=localStorage.getItem("access_token"),e=await fetch("/api/context_memory/",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Network response was not ok");return e.json()},Fet=async t=>{const e=localStorage.getItem("access_token"),n=await fetch(`/api/context_memory/item/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to delete item")}},JR=({title:t,children:e,onEdit:n,onDelete:r})=>h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-4",children:h.jsx(st,{className:"text-base",children:t})}),h.jsx(at,{className:"text-sm",children:e}),h.jsxs(X3,{className:"gap-2",children:[h.jsxs(We,{variant:"ghost",size:"sm",onClick:n,children:[h.jsx(y0e,{className:"h-4 w-4 mr-2"})," Edit"]}),h.jsxs(We,{variant:"ghost",size:"sm",className:"text-red-500",onClick:r,children:[h.jsx(lb,{className:"h-4 w-4 mr-2"})," Forget"]})]})]});function oce(){const t=Ll(),{toast:e}=Zv(),{data:n,isLoading:r,error:i}=Jr({queryKey:["arcanaContextMemory"],queryFn:jet}),s=Bn({mutationFn:Fet,onSuccess:()=>{e({title:"Success",description:"Context item forgotten."}),t.invalidateQueries({queryKey:["arcanaContextMemory"]})},onError:a=>{e({title:"Error",description:a.message,variant:"destructive"})}}),o=a=>{s.mutate(a)};return r?h.jsx("div",{className:"p-4",children:"Loading context memory..."}):i?h.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",i.message]}):h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"p-6 border-b",children:[h.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[h.jsx(Cd,{className:"h-6 w-6"})," Arcana Context Memory"]}),h.jsx("p",{className:"text-muted-foreground",children:"Configure Arcana's learning and view the contextual data it has recognized."})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[h.jsx("div",{className:"md:col-span-1",children:h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{children:"Configuration"}),h.jsx(Bt,{children:"Adjust how Arcana learns from and uses your context."})]}),h.jsxs(at,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"awareness-level",children:"Context Awareness Level"}),h.jsx(Kae,{id:"awareness-level",defaultValue:[60],max:100,step:10}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher levels use more context, improving relevance but may increase latency."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(pn,{children:"Context Sources"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(pn,{htmlFor:"learn-conversations",className:"font-normal",children:"Learn from conversations"}),h.jsx(Qm,{id:"learn-conversations",defaultChecked:!0})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(pn,{htmlFor:"learn-code",className:"font-normal",children:"Learn from code & repositories"}),h.jsx(Qm,{id:"learn-code",defaultChecked:!0})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(pn,{htmlFor:"learn-shell",className:"font-normal",children:"Learn from shell commands"}),h.jsx(Qm,{id:"learn-shell"})]})]})]}),h.jsx(X3,{children:h.jsx(We,{className:"w-full",children:"Save Configuration"})})]})}),h.jsx("div",{className:"md:col-span-2",children:h.jsxs(Vl,{defaultValue:"preferences",children:[h.jsxs(Wa,{className:"grid w-full grid-cols-3",children:[h.jsxs(Qn,{value:"preferences",children:[h.jsx(cb,{className:"h-4 w-4 mr-2"}),"Preferences"]}),h.jsxs(Qn,{value:"projects",children:[h.jsx(t0e,{className:"h-4 w-4 mr-2"}),"Projects"]}),h.jsxs(Qn,{value:"conversations",children:[h.jsx(C3,{className:"h-4 w-4 mr-2"}),"Conversations"]})]}),h.jsxs(Zm,{className:"h-[calc(100vh-200px)] mt-4",children:[h.jsx(un,{value:"preferences",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n==null?void 0:n.userPreferences.map(a=>h.jsxs(JR,{title:a.key,onEdit:()=>{},onDelete:()=>o(a.id),children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Value:"})," ",a.value]}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source: ",a.source]})]},a.id))})}),h.jsx(un,{value:"projects",children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:n==null?void 0:n.projectKnowledge.map(a=>h.jsxs(JR,{title:a.repo,onEdit:()=>{},onDelete:()=>o(a.id),children:[h.jsx("p",{children:a.summary}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.techStack.map(l=>h.jsx(dn,{variant:"secondary",children:l},l))})]},a.id))})}),h.jsx(un,{value:"conversations",children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:n==null?void 0:n.conversationSnippets.map(a=>h.jsxs(JR,{title:a.topic,onEdit:()=>{},onDelete:()=>o(a.id),children:[h.jsxs("p",{children:['"',a.summary,'"']}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Recognized ",a.timestamp]})]},a.id))})})]})]})})]})]})}function Bet(){const[t,e]=A.useState(""),[n,r]=A.useState([]),[i,s]=A.useState(!0),[o,a]=A.useState(!0),[l,c]=A.useState(!1),d=A.useRef(null),u=A.useRef(null),f=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{f()},[n]),A.useEffect(()=>{const v=crypto.randomUUID(),y=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=`${y}//${window.location.host}/ws-api/ws/arcana/${v}?token=${m}`,x=new WebSocket(p);return d.current=x,x.onopen=()=>{console.log("WebSocket connected"),a(!1),c(!0)},x.onclose=()=>{console.log("WebSocket disconnected"),a(!1),c(!1)},x.onerror=_=>{console.error("WebSocket error:",_),a(!1),c(!1)},x.onmessage=_=>{const b=JSON.parse(_.data);b.type==="chat_response"&&r(S=>{const C=S[S.length-1];return C&&C.role==="assistant"?S.map((M,T)=>T===S.length-1?{...M,content:M.content+b.payload.response}:M):[...S,{id:b.payload.message_id||crypto.randomUUID(),role:"assistant",content:b.payload.response,createdAt:new Date}]})},()=>{d.current&&d.current.close()}},[]);const g=()=>{if(!t.trim()||!d.current||d.current.readyState!==WebSocket.OPEN)return;const v={id:crypto.randomUUID(),role:"user",content:t,createdAt:new Date};r(m=>[...m,v]);const y={type:"chat_message",payload:{prompt:t}};d.current.send(JSON.stringify(y)),r(m=>[...m,{id:crypto.randomUUID(),role:"assistant",content:"",createdAt:new Date}]),e("")};return h.jsxs("div",{className:"h-full flex",children:[h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx("div",{className:"border-b px-6 py-3 bg-card/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:"Chat with ARCANA"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Cognitive AI Assistant"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[o?h.jsxs(dn,{variant:"outline",children:[h.jsx(zr,{className:"h-3 w-3 mr-1 animate-spin"}),"Connecting..."]}):l?h.jsx(dn,{variant:"secondary",className:"bg-green-500 text-white",children:"Connected"}):h.jsxs(dn,{variant:"destructive",children:[h.jsx(A0e,{className:"h-3 w-3 mr-1"}),"Disconnected"]}),h.jsx(We,{variant:"ghost",size:"icon",onClick:()=>s(!i),children:h.jsx(f0e,{className:"h-5 w-5"})})]})]})}),h.jsx(Zm,{className:"flex-1 px-6 py-4",children:h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.map(v=>h.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[v.reasoning&&h.jsxs(OGe,{className:"mb-3",children:[h.jsxs(IGe,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:[h.jsx(XA,{className:"h-4 w-4"}),h.jsx("span",{children:"Reasoning Process"}),h.jsx(Mv,{className:"h-4 w-4 ml-auto"})]}),h.jsx(kGe,{className:"mt-2 p-3 bg-muted/50 rounded-md text-sm text-muted-foreground",children:v.reasoning})]}),h.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:v.content||h.jsx(zr,{className:"h-4 w-4 animate-spin"})}),h.jsx("div",{className:"text-xs text-muted-foreground mt-2 opacity-70",children:new Date(v.createdAt).toLocaleTimeString()})]})},v.id)),h.jsx("div",{ref:u})]})}),h.jsx("div",{className:"border-t p-4 bg-card/50",children:h.jsx("div",{className:"max-w-4xl mx-auto space-y-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(We,{variant:"outline",size:"icon","data-testid":"button-attach-file",children:h.jsx(h0e,{className:"h-4 w-4"})}),h.jsx(Tn,{placeholder:"Type your message...",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&!v.shiftKey&&g(),className:"flex-1","data-testid":"input-chat-message",disabled:!l}),h.jsx(We,{onClick:g,disabled:!l||o,"data-testid":"button-send-message",children:o?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):h.jsx(M3,{className:"h-4 w-4"})})]})})})]}),i&&h.jsx(oce,{})]})}var ace={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={4567:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var M,T=arguments.length,P=T<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(M=_[N])&&(P=(T<3?M(P):T>3?M(b,S,P):M(b,S))||P);return T>3&&P&&Object.defineProperty(b,S,P),P},d=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const u=l(9042),f=l(6114),g=l(9924),v=l(844),y=l(5596),m=l(4725),p=l(3656);let x=a.AccessibilityManager=class extends v.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new y.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const S=this._terminal.buffer,C=S.lines.length.toString();for(let M=_;M<=b;M++){const T=S.translateBufferLineToString(S.ydisp+M,!0),P=(S.ydisp+M+1).toString(),N=this._rowElements[M];N&&(T.length===0?N.innerText="":N.textContent=T,N.setAttribute("aria-posinset",P),N.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const S=_.target,C=this._rowElements[b===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==C)return;let M,T;if(b===0?(M=S,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(M=this._rowElements.shift(),T=S,this._rowContainer.removeChild(M)),M.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const P=this._createAccessibilityTreeNode();this._rowElements.unshift(P),this._rowContainer.insertAdjacentElement("afterbegin",P)}else{const P=this._createAccessibilityTreeNode();this._rowElements.push(P),this._rowContainer.appendChild(P)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=x=c([d(1,m.IRenderService)],x)},3614:(o,a)=>{function l(f){return f.replace(/\r?\n/g,"\r")}function c(f,g){return g?"\x1B[200~"+f+"\x1B[201~":f}function d(f,g,v,y){f=c(f=l(f),v.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),v.triggerDataEvent(f,!0),g.value=""}function u(f,g,v){const y=v.getBoundingClientRect(),m=f.clientX-y.left-10,p=f.clientY-y.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${m}px`,g.style.top=`${p}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=l,a.bracketTextForPaste=c,a.copyHandler=function(f,g){f.clipboardData&&f.clipboardData.setData("text/plain",g.selectionText),f.preventDefault()},a.handlePasteEvent=function(f,g,v,y){f.stopPropagation(),f.clipboardData&&d(f.clipboardData.getData("text/plain"),g,v,y)},a.paste=d,a.moveTextAreaUnderMouseCursor=u,a.rightClickHandler=function(f,g,v,y,m){u(f,g,v),m&&y.rightClickSelect(f),g.value=y.selectionText,g.select()}},7239:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const c=l(1505);a.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(d,u,f){this._css.set(d,u,f)}getCss(d,u){return this._css.get(d,u)}setColor(d,u,f){this._color.set(d,u,f)}getColor(d,u){return this._color.get(d,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(l,c,d,u){l.addEventListener(c,d,u);let f=!1;return{dispose:()=>{f||(f=!0,l.removeEventListener(c,d,u))}}}},6465:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;const u=l(3656),f=l(8460),g=l(844),v=l(2585);let y=a.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new f.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new f.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const p=this._linkProviders.indexOf(m);p!==-1&&this._linkProviders.splice(p,1)}}}attachToDom(m,p,x){this._element=m,this._mouseService=p,this._renderService=x,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const x=m.composedPath();for(let _=0;_<x.length;_++){const b=x[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,p){var x,_;this._activeProviderReplies&&p||((x=this._activeProviderReplies)===null||x===void 0||x.forEach(S=>{S==null||S.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[S,C]of this._linkProviders.entries())p?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(S)&&(b=this._checkLinkProviderResult(S,m,b)):C.provideLinks(m.y,M=>{var T,P;if(this._isMouseOut)return;const N=M==null?void 0:M.map(I=>({link:I}));(T=this._activeProviderReplies)===null||T===void 0||T.set(S,N),b=this._checkLinkProviderResult(S,m,b),((P=this._activeProviderReplies)===null||P===void 0?void 0:P.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,p){const x=new Set;for(let _=0;_<p.size;_++){const b=p.get(_);if(b)for(let S=0;S<b.length;S++){const C=b[S],M=C.link.range.start.y<m?0:C.link.range.start.x,T=C.link.range.end.y>m?this._bufferService.cols:C.link.range.end.x;for(let P=M;P<=T;P++){if(x.has(P)){b.splice(S--,1);break}x.add(P)}}}}_checkLinkProviderResult(m,p,x){var _;if(!this._activeProviderReplies)return x;const b=this._activeProviderReplies.get(m);let S=!1;for(let C=0;C<m;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(S=!0);if(!S&&b){const C=b.find(M=>this._linkAtPosition(M.link,p));C&&(x=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!x)for(let C=0;C<this._activeProviderReplies.size;C++){const M=(_=this._activeProviderReplies.get(C))===null||_===void 0?void 0:_.find(T=>this._linkAtPosition(T.link,p));if(M){x=!0,this._handleNewLink(M);break}}return x}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!p||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(m.link,p)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:x=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==x&&(this._currentLink.state.decorations.pointerCursor=x,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",x)))}},underline:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.underline},set:x=>{var _,b,S;!((_=this._currentLink)===null||_===void 0)&&_.state&&((S=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||S===void 0?void 0:S.decorations.underline)!==x&&(this._currentLink.state.decorations.underline=x,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,x))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(x=>{if(!this._currentLink)return;const _=x.start===0?0:x.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+x.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(m,p,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(x,p.text)}_fireUnderlineEvent(m,p){const x=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(x.start.x-1,x.start.y-_-1,x.end.x,x.end.y-_-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,p,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(x,p.text)}_linkAtPosition(m,p){const x=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=p.y*this._bufferService.cols+p.x;return x<=b&&b<=_}_positionFromMouseEvent(m,p,x){const _=x.getCoords(m,p,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,p,x,_,b){return{x1:m,y1:p,x2:x,y2:_,cols:this._bufferService.cols,fg:b}}};a.Linkifier2=y=c([d(0,v.IBufferService)],y)},9042:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(o,a,l){var c=this&&this.__decorate||function(y,m,p,x){var _,b=arguments.length,S=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(y,m,p,x);else for(var C=y.length-1;C>=0;C--)(_=y[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},d=this&&this.__param||function(y,m){return function(p,x){m(p,x,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const u=l(511),f=l(2585);let g=a.OscLinkProvider=class{constructor(y,m,p){this._bufferService=y,this._optionsService=m,this._oscLinkService=p}provideLinks(y,m){var p;const x=this._bufferService.buffer.lines.get(y-1);if(!x)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,S=new u.CellData,C=x.getTrimmedLength();let M=-1,T=-1,P=!1;for(let N=0;N<C;N++)if(T!==-1||x.hasContent(N)){if(x.loadCell(N,S),S.hasExtendedAttrs()&&S.extended.urlId){if(T===-1){T=N,M=S.extended.urlId;continue}P=S.extended.urlId!==M}else T!==-1&&(P=!0);if(P||T!==-1&&N===C-1){const I=(p=this._oscLinkService.getLinkData(M))===null||p===void 0?void 0:p.uri;if(I){const k={start:{x:T+1,y},end:{x:N+(P||N!==C-1?0:1),y}};let j=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const F=new URL(I);["http:","https:"].includes(F.protocol)||(j=!0)}catch{j=!0}j||_.push({text:I,range:k,activate:(F,B)=>b?b.activate(F,B,k):v(0,B),hover:(F,B)=>{var U;return(U=b==null?void 0:b.hover)===null||U===void 0?void 0:U.call(b,F,B,k)},leave:(F,B)=>{var U;return(U=b==null?void 0:b.leave)===null||U===void 0?void 0:U.call(b,F,B,k)}})}P=!1,S.hasExtendedAttrs()&&S.extended.urlId?(T=N,M=S.extended.urlId):(T=-1,M=-1)}}m(_)}};function v(y,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=g=c([d(0,f.IBufferService),d(1,f.IOptionsService),d(2,f.IOscLinkService)],g)},6193:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;const c=l(844);class d extends c.Disposable{constructor(f){super(),this._parentWindow=f,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(f){this._listener&&this.clearListener(),this._listener=f,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)===null||f===void 0||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}a.ScreenDprMonitor=d},3236:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const c=l(3614),d=l(3656),u=l(6465),f=l(9042),g=l(3730),v=l(1680),y=l(3107),m=l(5744),p=l(2950),x=l(1296),_=l(428),b=l(4269),S=l(5114),C=l(8934),M=l(3230),T=l(9312),P=l(4725),N=l(6731),I=l(8055),k=l(8969),j=l(8460),F=l(844),B=l(6114),U=l(8437),H=l(2584),R=l(7399),L=l(5941),z=l(9074),W=l(2585),G=l(5435),q=l(4567),ne=typeof window<"u"?window.document:null;class ae extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor($={}){super($),this.browser=B,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new j.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new j.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new j.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new j.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new j.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new j.EventEmitter),this._onBlur=this.register(new j.EventEmitter),this._onA11yCharEmitter=this.register(new j.EventEmitter),this._onA11yTabEmitter=this.register(new j.EventEmitter),this._onWillOpen=this.register(new j.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(u.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(z.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((Y,Q)=>this.refresh(Y,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(Y=>this._reportWindowsOptions(Y))),this.register(this._inputHandler.onColor(Y=>this._handleColorEvent(Y))),this.register((0,j.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,j.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(Y=>this._afterResize(Y.cols,Y.rows))),this.register((0,F.toDisposable)(()=>{var Y,Q;this._customKeyEventHandler=void 0,(Q=(Y=this.element)===null||Y===void 0?void 0:Y.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent($){if(this._themeService)for(const Y of $){let Q,te="";switch(Y.index){case 256:Q="foreground",te="10";break;case 257:Q="background",te="11";break;case 258:Q="cursor",te="12";break;default:Q="ansi",te="4;"+Y.index}switch(Y.type){case 0:const ue=I.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[Y.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${te};${(0,L.toRgbString)(ue)}${H.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors(J=>J.ansi[Y.index]=I.rgba.toColor(...Y.color));else{const J=Q;this._themeService.modifyColors(K=>K[J]=I.rgba.toColor(...Y.color))}break;case 2:this._themeService.restoreColor(Y.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange($){$?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(q.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus($){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.updateCursorStyle($),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var $;return($=this.textarea)===null||$===void 0?void 0:$.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const $=this.buffer.ybase+this.buffer.y,Y=this.buffer.lines.get($);if(!Y)return;const Q=Math.min(this.buffer.x,this.cols-1),te=this._renderService.dimensions.css.cell.height,ue=Y.getWidth(Q),J=this._renderService.dimensions.css.cell.width*ue,K=this.buffer.y*this._renderService.dimensions.css.cell.height,re=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=re+"px",this.textarea.style.top=K+"px",this.textarea.style.width=J+"px",this.textarea.style.height=te+"px",this.textarea.style.lineHeight=te+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",Y=>{this.hasSelection()&&(0,c.copyHandler)(Y,this._selectionService)}));const $=Y=>(0,c.handlePasteEvent)(Y,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",$)),this.register((0,d.addDisposableDomListener)(this.element,"paste",$)),B.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",Y=>{Y.button===2&&(0,c.rightClickHandler)(Y,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",Y=>{(0,c.rightClickHandler)(Y,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),B.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",Y=>{Y.button===1&&(0,c.moveTextAreaUnderMouseCursor)(Y,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",$=>this._keyUp($),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",$=>this._keyDown($),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",$=>this._keyPress($),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",$=>this._compositionHelper.compositionupdate($))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",$=>this._inputEvent($),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open($){var Y;if(!$)throw new Error("Terminal requires a parent element.");$.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=$.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),$.appendChild(this.element);const Q=ne.createDocumentFragment();this._viewportElement=ne.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=ne.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ne.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ne.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=ne.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),B.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(Y=this._document.defaultView)!==null&&Y!==void 0?Y:window),this._instantiationService.setService(P.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",te=>this._handleTextAreaFocus(te))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(P.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(P.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(P.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(M.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(P.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(te=>this._onRender.fire(te))),this.onResize(te=>this._renderService.resize(te.cols,te.rows)),this._compositionView=ne.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(P.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(v.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(T.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(P.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(te=>this._renderService.handleSelectionChanged(te.start,te.end,te.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(te=>{this.textarea.value=te,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(te=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",te=>this._selectionService.handleMouseDown(te))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(q.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",te=>this._handleScreenReaderModeOptionChange(te))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",te=>{!this._overviewRulerRenderer&&te&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(x.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const $=this,Y=this.element;function Q(J){const K=$._mouseService.getMouseReportCoords(J,$.screenElement);if(!K)return!1;let re,fe;switch(J.overrideType||J.type){case"mousemove":fe=32,J.buttons===void 0?(re=3,J.button!==void 0&&(re=J.button<3?J.button:3)):re=1&J.buttons?0:4&J.buttons?1:2&J.buttons?2:3;break;case"mouseup":fe=0,re=J.button<3?J.button:3;break;case"mousedown":fe=1,re=J.button<3?J.button:3;break;case"wheel":if($.viewport.getLinesScrolled(J)===0)return!1;fe=J.deltaY<0?0:1,re=4;break;default:return!1}return!(fe===void 0||re===void 0||re>4)&&$.coreMouseService.triggerMouseEvent({col:K.col,row:K.row,x:K.x,y:K.y,button:re,action:fe,ctrl:J.ctrlKey,alt:J.altKey,shift:J.shiftKey})}const te={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue={mouseup:J=>(Q(J),J.buttons||(this._document.removeEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.removeEventListener("mousemove",te.mousedrag)),this.cancel(J)),wheel:J=>(Q(J),this.cancel(J,!0)),mousedrag:J=>{J.buttons&&Q(J)},mousemove:J=>{J.buttons||Q(J)}};this.register(this.coreMouseService.onProtocolChange(J=>{J?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(J)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&J?te.mousemove||(Y.addEventListener("mousemove",ue.mousemove),te.mousemove=ue.mousemove):(Y.removeEventListener("mousemove",te.mousemove),te.mousemove=null),16&J?te.wheel||(Y.addEventListener("wheel",ue.wheel,{passive:!1}),te.wheel=ue.wheel):(Y.removeEventListener("wheel",te.wheel),te.wheel=null),2&J?te.mouseup||(Y.addEventListener("mouseup",ue.mouseup),te.mouseup=ue.mouseup):(this._document.removeEventListener("mouseup",te.mouseup),Y.removeEventListener("mouseup",te.mouseup),te.mouseup=null),4&J?te.mousedrag||(te.mousedrag=ue.mousedrag):(this._document.removeEventListener("mousemove",te.mousedrag),te.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(Y,"mousedown",J=>{if(J.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(J))return Q(J),te.mouseup&&this._document.addEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.addEventListener("mousemove",te.mousedrag),this.cancel(J)})),this.register((0,d.addDisposableDomListener)(Y,"wheel",J=>{if(!te.wheel){if(!this.buffer.hasScrollback){const K=this.viewport.getLinesScrolled(J);if(K===0)return;const re=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(J.deltaY<0?"A":"B");let fe="";for(let me=0;me<Math.abs(K);me++)fe+=re;return this.coreService.triggerDataEvent(fe,!0),this.cancel(J,!0)}return this.viewport.handleWheel(J)?this.cancel(J):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(Y,"touchstart",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(J),this.cancel(J)},{passive:!0})),this.register((0,d.addDisposableDomListener)(Y,"touchmove",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(J)?void 0:this.cancel(J)},{passive:!1}))}refresh($,Y){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows($,Y)}updateCursorStyle($){var Y;!((Y=this._selectionService)===null||Y===void 0)&&Y.shouldColumnSelect($)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines($,Y,Q=0){var te;Q===1?(super.scrollLines($,Y,Q),this.refresh(0,this.rows-1)):(te=this.viewport)===null||te===void 0||te.scrollLines($)}paste($){(0,c.paste)($,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler($){this._customKeyEventHandler=$}registerLinkProvider($){return this.linkifier2.registerLinkProvider($)}registerCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Y=this._characterJoinerService.register($);return this.refresh(0,this.rows-1),Y}deregisterCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister($)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker($){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+$)}registerDecoration($){return this._decorationService.registerDecoration($)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select($,Y,Q){this._selectionService.setSelection($,Y,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var $;($=this._selectionService)===null||$===void 0||$.clearSelection()}selectAll(){var $;($=this._selectionService)===null||$===void 0||$.selectAll()}selectLines($,Y){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines($,Y)}_keyDown($){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;const Y=this.browser.isMac&&this.options.macOptionIsMeta&&$.altKey;if(!Y&&!this._compositionHelper.keydown($))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Y||$.key!=="Dead"&&$.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=(0,R.evaluateKeyboardEvent)($,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle($),Q.type===3||Q.type===2){const te=this.rows-1;return this.scrollLines(Q.type===2?-te:te),this.cancel($,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,$)||(Q.cancel&&this.cancel($,!0),!Q.key||!!($.key&&!$.ctrlKey&&!$.altKey&&!$.metaKey&&$.key.length===1&&$.key.charCodeAt(0)>=65&&$.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==H.C0.ETX&&Q.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||$.altKey||$.ctrlKey?this.cancel($,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift($,Y){const Q=$.isMac&&!this.options.macOptionIsMeta&&Y.altKey&&!Y.ctrlKey&&!Y.metaKey||$.isWindows&&Y.altKey&&Y.ctrlKey&&!Y.metaKey||$.isWindows&&Y.getModifierState("AltGraph");return Y.type==="keypress"?Q:Q&&(!Y.keyCode||Y.keyCode>47)}_keyUp($){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1||(function(Y){return Y.keyCode===16||Y.keyCode===17||Y.keyCode===18}($)||this.focus(),this.updateCursorStyle($),this._keyPressHandled=!1)}_keyPress($){let Y;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;if(this.cancel($),$.charCode)Y=$.charCode;else if($.which===null||$.which===void 0)Y=$.keyCode;else{if($.which===0||$.charCode===0)return!1;Y=$.which}return!(!Y||($.altKey||$.ctrlKey||$.metaKey)&&!this._isThirdLevelShift(this.browser,$)||(Y=String.fromCharCode(Y),this._onKey.fire({key:Y,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(Y,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent($){if($.data&&$.inputType==="insertText"&&(!$.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Y=$.data;return this.coreService.triggerDataEvent(Y,!0),this.cancel($),!0}return!1}resize($,Y){$!==this.cols||Y!==this.rows?super.resize($,Y):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize($,Y){var Q,te;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(te=this.viewport)===null||te===void 0||te.syncScrollArea(!0)}clear(){var $;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Y=1;Y<this.rows;Y++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),($=this.viewport)===null||$===void 0||$.reset(),this.refresh(0,this.rows-1)}}reset(){var $,Y;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),($=this._selectionService)===null||$===void 0||$.reset(),this._decorationService.reset(),(Y=this.viewport)===null||Y===void 0||Y.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var $;($=this._renderService)===null||$===void 0||$.clearTextureAtlas()}_reportFocus(){var $;!(($=this.element)===null||$===void 0)&&$.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions($){if(this._renderService)switch($){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Y=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${Q};${Y}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const te=this._renderService.dimensions.css.cell.width.toFixed(0),ue=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${ue};${te}t`)}}cancel($,Y){if(this.options.cancelEvents||Y)return $.preventDefault(),$.stopPropagation(),!1}}a.Terminal=ae},9924:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const f=u-this._lastRefreshMs,g=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(o,a,l){var c=this&&this.__decorate||function(p,x,_,b){var S,C=arguments.length,M=C<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(p,x,_,b);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(M=(C<3?S(M):C>3?S(x,_,M):S(x,_))||M);return C>3&&M&&Object.defineProperty(x,_,M),M},d=this&&this.__param||function(p,x){return function(_,b){x(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const u=l(3656),f=l(4725),g=l(8460),v=l(844),y=l(2585);let m=a.Viewport=class extends v.Disposable{constructor(p,x,_,b,S,C,M,T){super(),this._viewportElement=p,this._scrollArea=x,this._bufferService=_,this._optionsService=b,this._charSizeService=S,this._renderService=C,this._coreBrowserService=M,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(P=>this._renderDimensions=P)),this._handleThemeChange(T.colors),this.register(T.onChangeColors(P=>this._handleThemeChange(P))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const x=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==x&&(this._lastRecordedBufferHeight=x,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const x=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,x){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(x<0&&this._viewportElement.scrollTop!==0||x>0&&_<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const x=this._getPixelsScrolled(p);return x!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+x:this._smoothScrollState.target+=x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=x,this._bubbleScroll(p,x))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const x=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let x=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?x*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._currentRowHeight*this._bufferService.rows),x}getBufferElements(p,x){var _;let b,S="";const C=[],M=x??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let P=p;P<M;P++){const N=T.get(P);if(!N)continue;const I=(_=T.get(P+1))===null||_===void 0?void 0:_.isWrapped;if(S+=N.translateToString(!I),!I||P===T.length-1){const k=document.createElement("div");k.textContent=S,C.push(k),S.length>0&&(b=k),S=""}}return{bufferElements:C,cursorElement:b}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let x=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(x/=this._currentRowHeight+0,this._wheelPartialScroll+=x,x=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._bufferService.rows),x}_applyScrollModifier(p,x){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&x.altKey||_==="ctrl"&&x.ctrlKey||_==="shift"&&x.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const x=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,x!==0&&(this._viewportElement.scrollTop+=x,this._bubbleScroll(p,x))}};a.Viewport=m=c([d(2,y.IBufferService),d(3,y.IOptionsService),d(4,f.ICharSizeService),d(5,f.IRenderService),d(6,f.ICoreBrowserService),d(7,f.IThemeService)],m)},3107:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const u=l(3656),f=l(4725),g=l(844),v=l(2585);let y=a.BufferDecorationRenderer=class extends g.Disposable{constructor(m,p,x,_){super(),this._screenElement=m,this._bufferService=p,this._decorationService=x,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var p,x;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((p=m==null?void 0:m.options)===null||p===void 0?void 0:p.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(x=m.options.x)!==null&&x!==void 0?x:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const p=m.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let x=this._decorationElements.get(m);x||(x=this._createElement(m),m.element=x,this._decorationElements.set(m,x),this._container.appendChild(x),m.onDispose(()=>{this._decorationElements.delete(m),x.remove()})),x.style.top=p*this._renderService.dimensions.css.cell.height+"px",x.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(x)}}_refreshXPosition(m,p=m.element){var x;if(!p)return;const _=(x=m.options.x)!==null&&x!==void 0?x:0;(m.options.anchor||"left")==="right"?p.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var p;(p=this._decorationElements.get(m))===null||p===void 0||p.remove(),this._decorationElements.delete(m),m.dispose()}};a.BufferDecorationRenderer=y=c([d(1,v.IBufferService),d(2,v.IDecorationService),d(3,f.IRenderService)],y)},5871:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,d){return c>=l.startBufferLine-this._linePadding[d||"full"]&&c<=l.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,M){var T,P=arguments.length,N=P<3?S:M===null?M=Object.getOwnPropertyDescriptor(S,C):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,M);else for(var I=b.length-1;I>=0;I--)(T=b[I])&&(N=(P<3?T(N):P>3?T(S,C,N):T(S,C))||N);return P>3&&N&&Object.defineProperty(S,C,N),N},d=this&&this.__param||function(b,S){return function(C,M){S(C,M,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const u=l(5871),f=l(3656),g=l(4725),v=l(844),y=l(2585),m={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0};let _=a.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,S,C,M,T,P,N){var I;super(),this._viewportElement=b,this._screenElement=S,this._bufferService=C,this._decorationService=M,this._renderService=T,this._optionsService=P,this._coreBrowseService=N,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(I=this._viewportElement.parentElement)===null||I===void 0||I.insertBefore(this._canvas,this._viewportElement);const k=this._canvas.getContext("2d");if(!k)throw new Error("Ctx cannot be null");this._ctx=k,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var j;(j=this._canvas)===null||j===void 0||j.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,f.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=b,p.center=S,p.right=b,this._refreshDrawHeightConstants(),x.full=0,x.left=0,x.center=p.left,x.right=p.left+p.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=S,m.center=S,m.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const S of b)S.position!=="full"&&this._renderColorZone(S);for(const S of b)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(x[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),p[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,S){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a.OverviewRulerRenderer=_=c([d(2,y.IBufferService),d(3,y.IDecorationService),d(4,g.IRenderService),d(5,y.IOptionsService),d(6,g.ICoreBrowserService)],_)},2950:function(o,a,l){var c=this&&this.__decorate||function(y,m,p,x){var _,b=arguments.length,S=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(y,m,p,x);else for(var C=y.length-1;C>=0;C--)(_=y[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},d=this&&this.__param||function(y,m){return function(p,x){m(p,x,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const u=l(4725),f=l(2585),g=l(2584);let v=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,m,p,x,_,b){this._textarea=y,this._compositionView=m,this._bufferService=p,this._optionsService=x,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,p=m.replace(y,"");this._dataAlreadySent=p,m.length>y.length?this._coreService.triggerDataEvent(p,!0):m.length<y.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):m.length===y.length&&m!==y&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,x=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=x+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=x+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};a.CompositionHelper=v=c([d(2,f.IBufferService),d(3,f.IOptionsService),d(4,f.ICoreService),d(5,u.IRenderService)],v)},9806:(o,a)=>{function l(c,d,u){const f=u.getBoundingClientRect(),g=c.getComputedStyle(u),v=parseInt(g.getPropertyValue("padding-left")),y=parseInt(g.getPropertyValue("padding-top"));return[d.clientX-f.left-v,d.clientY-f.top-y]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=l,a.getCoords=function(c,d,u,f,g,v,y,m,p){if(!v)return;const x=l(c,d,u);return x?(x[0]=Math.ceil((x[0]+(p?y/2:0))/y),x[1]=Math.ceil(x[1]/m),x[0]=Math.min(Math.max(x[0],1),f+(p?1:0)),x[1]=Math.min(Math.max(x[1],1),g),x):void 0}},9504:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const c=l(2584);function d(m,p,x,_){const b=m-u(m,x),S=p-u(p,x),C=Math.abs(b-S)-function(M,T,P){let N=0;const I=M-u(M,P),k=T-u(T,P);for(let j=0;j<Math.abs(I-k);j++){const F=f(M,T)==="A"?-1:1,B=P.buffer.lines.get(I+F*j);B!=null&&B.isWrapped&&N++}return N}(m,p,x);return y(C,v(f(m,p),_))}function u(m,p){let x=0,_=p.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<p.rows;)x++,_=p.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return x}function f(m,p){return m>p?"A":"B"}function g(m,p,x,_,b,S){let C=m,M=p,T="";for(;C!==x||M!==_;)C+=b?1:-1,b&&C>S.cols-1?(T+=S.buffer.translateBufferLineToString(M,!1,m,C),C=0,m=0,M++):!b&&C<0&&(T+=S.buffer.translateBufferLineToString(M,!1,0,m+1),C=S.cols-1,m=C,M--);return T+S.buffer.translateBufferLineToString(M,!1,m,C)}function v(m,p){const x=p?"O":"[";return c.C0.ESC+x+m}function y(m,p){m=Math.floor(m);let x="";for(let _=0;_<m;_++)x+=p;return x}a.moveToCellSequence=function(m,p,x,_){const b=x.buffer.x,S=x.buffer.y;if(!x.buffer.hasScrollback)return function(T,P,N,I,k,j){return d(P,I,k,j).length===0?"":y(g(T,P,T,P-u(P,k),!1,k).length,v("D",j))}(b,S,0,p,x,_)+d(S,p,x,_)+function(T,P,N,I,k,j){let F;F=d(P,I,k,j).length>0?I-u(I,k):P;const B=I,U=function(H,R,L,z,W,G){let q;return q=d(L,z,W,G).length>0?z-u(z,W):R,H<L&&q<=z||H>=L&&q<z?"C":"D"}(T,P,N,I,k,j);return y(g(T,F,N,B,U==="C",k).length,v(U,j))}(b,S,m,p,x,_);let C;if(S===p)return C=b>m?"D":"C",y(Math.abs(b-m),v(C,_));C=S>p?"D":"C";const M=Math.abs(S-p);return y(function(T,P){return P.cols-T}(S>p?m:b,x)+(M-1)*x.cols+1+((S>p?b:m)-1),v(C,_))}},1296:function(o,a,l){var c=this&&this.__decorate||function(k,j,F,B){var U,H=arguments.length,R=H<3?j:B===null?B=Object.getOwnPropertyDescriptor(j,F):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(k,j,F,B);else for(var L=k.length-1;L>=0;L--)(U=k[L])&&(R=(H<3?U(R):H>3?U(j,F,R):U(j,F))||R);return H>3&&R&&Object.defineProperty(j,F,R),R},d=this&&this.__param||function(k,j){return function(F,B){j(F,B,k)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const u=l(3787),f=l(2550),g=l(2223),v=l(6171),y=l(4725),m=l(8055),p=l(8460),x=l(844),_=l(2585),b="xterm-dom-renderer-owner-",S="xterm-rows",C="xterm-fg-",M="xterm-bg-",T="xterm-focus",P="xterm-selection";let N=1,I=a.DomRenderer=class extends x.Disposable{constructor(k,j,F,B,U,H,R,L,z,W){super(),this._element=k,this._screenElement=j,this._viewportElement=F,this._linkifier2=B,this._charSizeService=H,this._optionsService=R,this._bufferService=L,this._coreBrowserService=z,this._themeService=W,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(P),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,v.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(G=>this._injectCss(G))),this._injectCss(this._themeService.colors),this._rowFactory=U.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(G=>this._handleLinkHover(G))),this.register(this._linkifier2.onHideLinkUnderline(G=>this._handleLinkLeave(G))),this.register((0,x.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new f.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const j=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=j,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let j=`${this._terminalSelector} .${S} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;j+=`${this._terminalSelector} .${S} .xterm-dim { color: ${m.color.multiplyOpacity(k.foreground,.5).css};}`,j+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,j+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",j+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,j+=`${this._terminalSelector} .${S}.${T} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,j+=`${this._terminalSelector} .${P} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${P} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${P} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(const[F,B]of k.ansi.entries())j+=`${this._terminalSelector} .${C}${F} { color: ${B.css}; }${this._terminalSelector} .${C}${F}.xterm-dim { color: ${m.color.multiplyOpacity(B,.5).css}; }${this._terminalSelector} .${M}${F} { background-color: ${B.css}; }`;j+=`${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(k.background).css}; }${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(k.background),.5).css}; }${this._terminalSelector} .${M}${g.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=j}_setDefaultSpacing(){const k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,j){for(let F=this._rowElements.length;F<=j;F++){const B=document.createElement("div");this._rowContainer.appendChild(B),this._rowElements.push(B)}for(;this._rowElements.length>j;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,j){this._refreshRowElements(k,j),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(T)}handleFocus(){this._rowContainer.classList.add(T),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,j,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,j,F),this.renderRows(0,this._bufferService.rows-1),!k||!j)return;const B=k[1]-this._bufferService.buffer.ydisp,U=j[1]-this._bufferService.buffer.ydisp,H=Math.max(B,0),R=Math.min(U,this._bufferService.rows-1);if(H>=this._bufferService.rows||R<0)return;const L=document.createDocumentFragment();if(F){const z=k[0]>j[0];L.appendChild(this._createSelectionElement(H,z?j[0]:k[0],z?k[0]:j[0],R-H+1))}else{const z=B===H?k[0]:0,W=H===U?j[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(H,z,W));const G=R-H-1;if(L.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,G)),H!==R){const q=U===R?j[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(R,0,q))}}this._selectionContainer.appendChild(L)}_createSelectionElement(k,j,F,B=1){const U=document.createElement("div");return U.style.height=B*this.dimensions.css.cell.height+"px",U.style.top=k*this.dimensions.css.cell.height+"px",U.style.left=j*this.dimensions.css.cell.width+"px",U.style.width=this.dimensions.css.cell.width*(F-j)+"px",U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const k of this._rowElements)k.replaceChildren()}renderRows(k,j){const F=this._bufferService.buffer,B=F.ybase+F.y,U=Math.min(F.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,L=this._optionsService.rawOptions.cursorInactiveStyle;for(let z=k;z<=j;z++){const W=z+F.ydisp,G=this._rowElements[z],q=F.lines.get(W);if(!G||!q)break;G.replaceChildren(...this._rowFactory.createRow(q,W,W===B,R,L,U,H,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,j,F,B,U,H){F<0&&(k=0),B<0&&(j=0);const R=this._bufferService.rows-1;F=Math.max(Math.min(F,R),0),B=Math.max(Math.min(B,R),0),U=Math.min(U,this._bufferService.cols);const L=this._bufferService.buffer,z=L.ybase+L.y,W=Math.min(L.x,U-1),G=this._optionsService.rawOptions.cursorBlink,q=this._optionsService.rawOptions.cursorStyle,ne=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=F;ae<=B;++ae){const se=ae+L.ydisp,$=this._rowElements[ae],Y=L.lines.get(se);if(!$||!Y)break;$.replaceChildren(...this._rowFactory.createRow(Y,se,se===z,q,ne,W,G,this.dimensions.css.cell.width,this._widthCache,H?ae===F?k:0:-1,H?(ae===B?j:U)-1:-1))}}};a.DomRenderer=I=c([d(4,_.IInstantiationService),d(5,y.ICharSizeService),d(6,_.IOptionsService),d(7,_.IBufferService),d(8,y.ICoreBrowserService),d(9,y.IThemeService)],I)},3787:function(o,a,l){var c=this&&this.__decorate||function(C,M,T,P){var N,I=arguments.length,k=I<3?M:P===null?P=Object.getOwnPropertyDescriptor(M,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(C,M,T,P);else for(var j=C.length-1;j>=0;j--)(N=C[j])&&(k=(I<3?N(k):I>3?N(M,T,k):N(M,T))||k);return I>3&&k&&Object.defineProperty(M,T,k),k},d=this&&this.__param||function(C,M){return function(T,P){M(T,P,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const u=l(2223),f=l(643),g=l(511),v=l(2585),y=l(8055),m=l(4725),p=l(4269),x=l(6171),_=l(3734);let b=a.DomRendererRowFactory=class{constructor(C,M,T,P,N,I,k){this._document=C,this._characterJoinerService=M,this._optionsService=T,this._coreBrowserService=P,this._coreService=N,this._decorationService=I,this._themeService=k,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,M,T){this._selectionStart=C,this._selectionEnd=M,this._columnSelectMode=T}createRow(C,M,T,P,N,I,k,j,F,B,U){const H=[],R=this._characterJoinerService.getJoinedCharacters(M),L=this._themeService.colors;let z,W=C.getNoBgTrimmedLength();T&&W<I+1&&(W=I+1);let G=0,q="",ne=0,ae=0,se=0,$=!1,Y=0,Q=!1,te=0;const ue=[],J=B!==-1&&U!==-1;for(let K=0;K<W;K++){C.loadCell(K,this._workCell);let re=this._workCell.getWidth();if(re===0)continue;let fe=!1,me=K,pe=this._workCell;if(R.length>0&&K===R[0][0]){fe=!0;const Ge=R.shift();pe=new p.JoinedCellData(this._workCell,C.translateToString(!0,Ge[0],Ge[1]),Ge[1]-Ge[0]),me=Ge[1]-1,re=pe.getWidth()}const Ae=this._isCellInSelection(K,M),Ce=T&&K===I,ke=J&&K>=B&&K<=U;let rt=!1;this._decorationService.forEachDecorationAtCell(K,M,void 0,Ge=>{rt=!0});let Je=pe.getChars()||f.WHITESPACE_CELL_CHAR;if(Je===" "&&(pe.isUnderline()||pe.isOverline())&&(Je=""),te=re*j-F.get(Je,pe.isBold(),pe.isItalic()),z){if(G&&(Ae&&Q||!Ae&&!Q&&pe.bg===ne)&&(Ae&&Q&&L.selectionForeground||pe.fg===ae)&&pe.extended.ext===se&&ke===$&&te===Y&&!Ce&&!fe&&!rt){q+=Je,G++;continue}G&&(z.textContent=q),z=this._document.createElement("span"),G=0,q=""}else z=this._document.createElement("span");if(ne=pe.bg,ae=pe.fg,se=pe.extended.ext,$=ke,Y=te,Q=Ae,fe&&I>=K&&I<=me&&(I=K),!this._coreService.isCursorHidden&&Ce){if(ue.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&ue.push("xterm-cursor-blink"),ue.push(P==="bar"?"xterm-cursor-bar":P==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":ue.push("xterm-cursor-outline");break;case"block":ue.push("xterm-cursor-block");break;case"bar":ue.push("xterm-cursor-bar");break;case"underline":ue.push("xterm-cursor-underline")}}if(pe.isBold()&&ue.push("xterm-bold"),pe.isItalic()&&ue.push("xterm-italic"),pe.isDim()&&ue.push("xterm-dim"),q=pe.isInvisible()?f.WHITESPACE_CELL_CHAR:pe.getChars()||f.WHITESPACE_CELL_CHAR,pe.isUnderline()&&(ue.push(`xterm-underline-${pe.extended.underlineStyle}`),q===" "&&(q=""),!pe.isUnderlineColorDefault()))if(pe.isUnderlineColorRGB())z.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(pe.getUnderlineColor()).join(",")})`;else{let Ge=pe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&pe.isBold()&&Ge<8&&(Ge+=8),z.style.textDecorationColor=L.ansi[Ge].css}pe.isOverline()&&(ue.push("xterm-overline"),q===" "&&(q="")),pe.isStrikethrough()&&ue.push("xterm-strikethrough"),ke&&(z.style.textDecoration="underline");let ie=pe.getFgColor(),Z=pe.getFgColorMode(),ve=pe.getBgColor(),Se=pe.getBgColorMode();const Ie=!!pe.isInverse();if(Ie){const Ge=ie;ie=ve,ve=Ge;const $e=Z;Z=Se,Se=$e}let Me,ct,He,lt=!1;switch(this._decorationService.forEachDecorationAtCell(K,M,void 0,Ge=>{Ge.options.layer!=="top"&&lt||(Ge.backgroundColorRGB&&(Se=50331648,ve=Ge.backgroundColorRGB.rgba>>8&16777215,Me=Ge.backgroundColorRGB),Ge.foregroundColorRGB&&(Z=50331648,ie=Ge.foregroundColorRGB.rgba>>8&16777215,ct=Ge.foregroundColorRGB),lt=Ge.options.layer==="top")}),!lt&&Ae&&(Me=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,ve=Me.rgba>>8&16777215,Se=50331648,lt=!0,L.selectionForeground&&(Z=50331648,ie=L.selectionForeground.rgba>>8&16777215,ct=L.selectionForeground)),lt&&ue.push("xterm-decoration-top"),Se){case 16777216:case 33554432:He=L.ansi[ve],ue.push(`xterm-bg-${ve}`);break;case 50331648:He=y.rgba.toColor(ve>>16,ve>>8&255,255&ve),this._addStyle(z,`background-color:#${S((ve>>>0).toString(16),"0",6)}`);break;default:Ie?(He=L.foreground,ue.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):He=L.background}switch(Me||pe.isDim()&&(Me=y.color.multiplyOpacity(He,.5)),Z){case 16777216:case 33554432:pe.isBold()&&ie<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ie+=8),this._applyMinimumContrast(z,He,L.ansi[ie],pe,Me,void 0)||ue.push(`xterm-fg-${ie}`);break;case 50331648:const Ge=y.rgba.toColor(ie>>16&255,ie>>8&255,255&ie);this._applyMinimumContrast(z,He,Ge,pe,Me,ct)||this._addStyle(z,`color:#${S(ie.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(z,He,L.foreground,pe,Me,void 0)||Ie&&ue.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}ue.length&&(z.className=ue.join(" "),ue.length=0),Ce||fe||rt?z.textContent=q:G++,te!==this.defaultSpacing&&(z.style.letterSpacing=`${te}px`),H.push(z),K=me}return z&&G&&(z.textContent=q),H}_applyMinimumContrast(C,M,T,P,N,I){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,x.excludeFromContrastRatioDemands)(P.getCode()))return!1;const k=this._getContrastCache(P);let j;if(N||I||(j=k.getColor(M.rgba,T.rgba)),j===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(P.isDim()?2:1);j=y.color.ensureContrastRatio(N||M,I||T,F),k.setColor((N||M).rgba,(I||T).rgba,j??null)}return!!j&&(this._addStyle(C,`color:${j.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,M){C.setAttribute("style",`${C.getAttribute("style")||""}${M};`)}_isCellInSelection(C,M){const T=this._selectionStart,P=this._selectionEnd;return!(!T||!P)&&(this._columnSelectMode?T[0]<=P[0]?C>=T[0]&&M>=T[1]&&C<P[0]&&M<=P[1]:C<T[0]&&M>=T[1]&&C>=P[0]&&M<=P[1]:M>T[1]&&M<P[1]||T[1]===P[1]&&M===T[1]&&C>=T[0]&&C<P[0]||T[1]<P[1]&&M===P[1]&&C<P[0]||T[1]<P[1]&&M===T[1]&&C>=T[0])}};function S(C,M,T){for(;C.length<T;)C=M+C;return C}a.DomRendererRowFactory=b=c([d(1,m.ICharacterJoinerService),d(2,v.IOptionsService),d(3,m.ICoreBrowserService),d(4,v.ICoreService),d(5,v.IDecorationService),d(6,m.IThemeService)],b)},2550:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),d=l.createElement("span");d.style.fontWeight="bold";const u=l.createElement("span");u.style.fontStyle="italic";const f=l.createElement("span");f.style.fontWeight="bold",f.style.fontStyle="italic",this._measureElements=[c,d,u,f],this._container.appendChild(c),this._container.appendChild(d),this._container.appendChild(u),this._container.appendChild(f),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,d,u){l===this._font&&c===this._fontSize&&d===this._weight&&u===this._weightBold||(this._font=l,this._fontSize=c,this._weight=d,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(l,c,d){let u=0;if(!c&&!d&&l.length===1&&(u=l.charCodeAt(0))<256)return this._flat[u]!==-9999?this._flat[u]:this._flat[u]=this._measure(l,0);let f=l;c&&(f+="B"),d&&(f+="I");let g=this._holey.get(f);if(g===void 0){let v=0;c&&(v|=1),d&&(v|=2),g=this._measure(l,v),this._holey.set(f,g)}return g}_measure(l,c){const d=this._measureElements[c];return d.textContent=l.repeat(32),d.offsetWidth/32}}},2223:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(o,a)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(a,"__esModule",{value:!0}),a.createRenderDimensions=a.excludeFromContrastRatioDemands=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},a.isPowerlineGlyph=l,a.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},a.excludeFromContrastRatioDemands=function(c){return l(c)||function(d){return 9472<=d&&d<=9631}(c)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const u=l(2585),f=l(8460),g=l(844);let v=a.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,p,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new f.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new y(m,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};a.CharSizeService=v=c([d(2,u.IOptionsService)],v);class y{constructor(p,x,_){this._document=p,this._parentElement=x,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return p.width!==0&&p.height!==0&&(this._result.width=p.width/32,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(o,a,l){var c=this&&this.__decorate||function(p,x,_,b){var S,C=arguments.length,M=C<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(p,x,_,b);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(M=(C<3?S(M):C>3?S(x,_,M):S(x,_))||M);return C>3&&M&&Object.defineProperty(x,_,M),M},d=this&&this.__param||function(p,x){return function(_,b){x(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const u=l(3734),f=l(643),g=l(511),v=l(2585);class y extends u.AttributeData{constructor(x,_,b){super(),this.content=0,this.combinedData="",this.fg=x.fg,this.bg=x.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(x){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=y;let m=a.CharacterJoinerService=class lce{constructor(x){this._bufferService=x,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(x){const _={id:this._nextCharacterJoinerId++,handler:x};return this._characterJoiners.push(_),_.id}deregister(x){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===x)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(x){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(x);if(!_||_.length===0)return[];const b=[],S=_.translateToString(!0);let C=0,M=0,T=0,P=_.getFg(0),N=_.getBg(0);for(let I=0;I<_.getTrimmedLength();I++)if(_.loadCell(I,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==P||this._workCell.bg!==N){if(I-C>1){const k=this._getJoinedRanges(S,T,M,_,C);for(let j=0;j<k.length;j++)b.push(k[j])}C=I,T=M,P=this._workCell.fg,N=this._workCell.bg}M+=this._workCell.getChars().length||f.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const I=this._getJoinedRanges(S,T,M,_,C);for(let k=0;k<I.length;k++)b.push(I[k])}return b}_getJoinedRanges(x,_,b,S,C){const M=x.substring(_,b);let T=[];try{T=this._characterJoiners[0].handler(M)}catch(P){console.error(P)}for(let P=1;P<this._characterJoiners.length;P++)try{const N=this._characterJoiners[P].handler(M);for(let I=0;I<N.length;I++)lce._mergeRanges(T,N[I])}catch(N){console.error(N)}return this._stringRangesToCellRanges(T,S,C),T}_stringRangesToCellRanges(x,_,b){let S=0,C=!1,M=0,T=x[S];if(T){for(let P=b;P<this._bufferService.cols;P++){const N=_.getWidth(P),I=_.getString(P).length||f.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!C&&T[0]<=M&&(T[0]=P,C=!0),T[1]<=M){if(T[1]=P,T=x[++S],!T)break;T[0]<=M?(T[0]=P,C=!0):C=!1}M+=I}}T&&(T[1]=this._bufferService.cols)}}static _mergeRanges(x,_){let b=!1;for(let S=0;S<x.length;S++){const C=x[S];if(b){if(_[1]<=C[0])return x[S-1][1]=_[1],x;if(_[1]<=C[1])return x[S-1][1]=Math.max(_[1],C[1]),x.splice(S,1),x;x.splice(S,1),S--}else{if(_[1]<=C[0])return x.splice(S,0,_),x;if(_[1]<=C[1])return C[0]=Math.min(_[0],C[0]),x;_[0]<C[1]&&(C[0]=Math.min(_[0],C[0]),b=!0)}}return b?x[x.length-1][1]=_[1]:x.push(_),x}};a.CharacterJoinerService=m=c([d(0,v.IBufferService)],m)},5114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0,a.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(o,a,l){var c=this&&this.__decorate||function(v,y,m,p){var x,_=arguments.length,b=_<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,y,m,p);else for(var S=v.length-1;S>=0;S--)(x=v[S])&&(b=(_<3?x(b):_>3?x(y,m,b):x(y,m))||b);return _>3&&b&&Object.defineProperty(y,m,b),b},d=this&&this.__param||function(v,y){return function(m,p){y(m,p,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const u=l(4725),f=l(9806);let g=a.MouseService=class{constructor(v,y){this._renderService=v,this._charSizeService=y}getCoords(v,y,m,p,x){return(0,f.getCoords)(window,v,y,m,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,x)}getMouseReportCoords(v,y){const m=(0,f.getCoordsRelativeToElement)(window,v,y);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};a.MouseService=g=c([d(0,u.IRenderService),d(1,u.ICharSizeService)],g)},3230:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,M){var T,P=arguments.length,N=P<3?S:M===null?M=Object.getOwnPropertyDescriptor(S,C):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,M);else for(var I=b.length-1;I>=0;I--)(T=b[I])&&(N=(P<3?T(N):P>3?T(S,C,N):T(S,C))||N);return P>3&&N&&Object.defineProperty(S,C,N),N},d=this&&this.__param||function(b,S){return function(C,M){S(C,M,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const u=l(3656),f=l(6193),g=l(5596),v=l(4725),y=l(8460),m=l(844),p=l(7226),x=l(2585);let _=a.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,S,C,M,T,P,N,I){if(super(),this._rowCount=b,this._charSizeService=M,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new f.RenderDebouncer(N.window,(k,j)=>this._renderRows(k,j)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(P.onResize(()=>this._fullRefresh())),this.register(P.buffers.onBufferActivate(()=>{var k;return(k=this._renderer.value)===null||k===void 0?void 0:k.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(T.onDecorationRegistered(()=>this._fullRefresh())),this.register(T.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(P.cols,P.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(P.buffer.y,P.buffer.y,!0))),this.register((0,u.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(I.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const k=new N.window.IntersectionObserver(j=>this._handleIntersectionChange(j[j.length-1]),{threshold:0});k.observe(S),this.register({dispose:()=>k.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,S,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,S,this._rowCount))}_renderRows(b,S){this._renderer.value&&(b=Math.min(b,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(b,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:S}),this._onRender.fire({start:b,end:S}),this._isNextRenderRedrawOnly=!0)}resize(b,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,S;this._renderer.value&&((S=(b=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,S)):this._renderer.value.handleResize(b,S),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,S,C){var M;this._selectionState.start=b,this._selectionState.end=S,this._selectionState.columnSelectMode=C,(M=this._renderer.value)===null||M===void 0||M.handleSelectionChanged(b,S,C)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};a.RenderService=_=c([d(2,x.IOptionsService),d(3,v.ICharSizeService),d(4,x.IDecorationService),d(5,x.IBufferService),d(6,v.ICoreBrowserService),d(7,v.IThemeService)],_)},9312:function(o,a,l){var c=this&&this.__decorate||function(T,P,N,I){var k,j=arguments.length,F=j<3?P:I===null?I=Object.getOwnPropertyDescriptor(P,N):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(T,P,N,I);else for(var B=T.length-1;B>=0;B--)(k=T[B])&&(F=(j<3?k(F):j>3?k(P,N,F):k(P,N))||F);return j>3&&F&&Object.defineProperty(P,N,F),F},d=this&&this.__param||function(T,P){return function(N,I){P(N,I,T)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const u=l(9806),f=l(9504),g=l(456),v=l(4725),y=l(8460),m=l(844),p=l(6114),x=l(4841),_=l(511),b=l(2585),S="",C=new RegExp(S,"g");let M=a.SelectionService=class extends m.Disposable{constructor(T,P,N,I,k,j,F,B,U){super(),this._element=T,this._screenElement=P,this._linkifier=N,this._bufferService=I,this._coreService=k,this._mouseService=j,this._optionsService=F,this._renderService=B,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(H=>this._handleTrim(H)),this.register(this._bufferService.buffers.onBufferActivate(H=>this._handleBufferActivate(H))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!T||!P||T[0]===P[0]&&T[1]===P[1])}get selectionText(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;if(!T||!P)return"";const N=this._bufferService.buffer,I=[];if(this._activeSelectionMode===3){if(T[0]===P[0])return"";const k=T[0]<P[0]?T[0]:P[0],j=T[0]<P[0]?P[0]:T[0];for(let F=T[1];F<=P[1];F++){const B=N.translateBufferLineToString(F,!0,k,j);I.push(B)}}else{const k=T[1]===P[1]?P[0]:void 0;I.push(N.translateBufferLineToString(T[1],!0,T[0],k));for(let j=T[1]+1;j<=P[1]-1;j++){const F=N.lines.get(j),B=N.translateBufferLineToString(j,!0);F!=null&&F.isWrapped?I[I.length-1]+=B:I.push(B)}if(T[1]!==P[1]){const j=N.lines.get(P[1]),F=N.translateBufferLineToString(P[1],!0,0,P[0]);j&&j.isWrapped?I[I.length-1]+=F:I.push(F)}}return I.map(k=>k.replace(C," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(T){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&T&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(T){const P=this._getMouseBufferCoords(T),N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!!(N&&I&&P)&&this._areCoordsInSelection(P,N,I)}isCellInSelection(T,P){const N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!N||!I)&&this._areCoordsInSelection([T,P],N,I)}_areCoordsInSelection(T,P,N){return T[1]>P[1]&&T[1]<N[1]||P[1]===N[1]&&T[1]===P[1]&&T[0]>=P[0]&&T[0]<N[0]||P[1]<N[1]&&T[1]===N[1]&&T[0]<N[0]||P[1]<N[1]&&T[1]===P[1]&&T[0]>=P[0]}_selectWordAtCursor(T,P){var N,I;const k=(I=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||I===void 0?void 0:I.range;if(k)return this._model.selectionStart=[k.start.x-1,k.start.y-1],this._model.selectionStartLength=(0,x.getRangeLength)(k,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const j=this._getMouseBufferCoords(T);return!!j&&(this._selectWordAt(j,P),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(T,P){this._model.clearSelection(),T=Math.max(T,0),P=Math.min(P,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,T],this._model.selectionEnd=[this._bufferService.cols,P],this.refresh(),this._onSelectionChange.fire()}_handleTrim(T){this._model.handleTrim(T)&&this.refresh()}_getMouseBufferCoords(T){const P=this._mouseService.getCoords(T,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(P)return P[0]--,P[1]--,P[1]+=this._bufferService.buffer.ydisp,P}_getMouseEventScrollAmount(T){let P=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,T,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return P>=0&&P<=N?0:(P>N&&(P-=N),P=Math.min(Math.max(P,-50),50),P/=50,P/Math.abs(P)+Math.round(14*P))}shouldForceSelection(T){return p.isMac?T.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:T.shiftKey}handleMouseDown(T){if(this._mouseDownTimeStamp=T.timeStamp,(T.button!==2||!this.hasSelection)&&T.button===0){if(!this._enabled){if(!this.shouldForceSelection(T))return;T.stopPropagation()}T.preventDefault(),this._dragScrollAmount=0,this._enabled&&T.shiftKey?this._handleIncrementalClick(T):T.detail===1?this._handleSingleClick(T):T.detail===2?this._handleDoubleClick(T):T.detail===3&&this._handleTripleClick(T),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(T){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(T))}_handleSingleClick(T){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(T)?3:0,this._model.selectionStart=this._getMouseBufferCoords(T),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const P=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);P&&P.length!==this._model.selectionStart[0]&&P.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(T){this._selectWordAtCursor(T,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(T){const P=this._getMouseBufferCoords(T);P&&(this._activeSelectionMode=2,this._selectLineAt(P[1]))}shouldColumnSelect(T){return T.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(T){if(T.stopImmediatePropagation(),!this._model.selectionStart)return;const P=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(T),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(T),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const I=N.lines.get(this._model.selectionEnd[1]);I&&I.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}P&&P[0]===this._model.selectionEnd[0]&&P[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const T=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(T.ydisp+this._bufferService.rows,T.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=T.ydisp),this.refresh()}}_handleMouseUp(T){const P=T.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&P<500&&T.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(T,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const I=(0,f.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(I,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd,N=!(!T||!P||T[0]===P[0]&&T[1]===P[1]);N?T&&P&&(this._oldSelectionStart&&this._oldSelectionEnd&&T[0]===this._oldSelectionStart[0]&&T[1]===this._oldSelectionStart[1]&&P[0]===this._oldSelectionEnd[0]&&P[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(T,P,N)):this._oldHasSelection&&this._fireOnSelectionChange(T,P,N)}_fireOnSelectionChange(T,P,N){this._oldSelectionStart=T,this._oldSelectionEnd=P,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(T){this.clearSelection(),this._trimListener.dispose(),this._trimListener=T.activeBuffer.lines.onTrim(P=>this._handleTrim(P))}_convertViewportColToCharacterIndex(T,P){let N=P;for(let I=0;P>=I;I++){const k=T.loadCell(I,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:k>1&&P!==I&&(N+=k-1)}return N}setSelection(T,P,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[T,P],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(T){this._isClickInSelection(T)||(this._selectWordAtCursor(T,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(T,P,N=!0,I=!0){if(T[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,j=k.lines.get(T[1]);if(!j)return;const F=k.translateBufferLineToString(T[1],!1);let B=this._convertViewportColToCharacterIndex(j,T[0]),U=B;const H=T[0]-B;let R=0,L=0,z=0,W=0;if(F.charAt(B)===" "){for(;B>0&&F.charAt(B-1)===" ";)B--;for(;U<F.length&&F.charAt(U+1)===" ";)U++}else{let ne=T[0],ae=T[0];j.getWidth(ne)===0&&(R++,ne--),j.getWidth(ae)===2&&(L++,ae++);const se=j.getString(ae).length;for(se>1&&(W+=se-1,U+=se-1);ne>0&&B>0&&!this._isCharWordSeparator(j.loadCell(ne-1,this._workCell));){j.loadCell(ne-1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,ne--):$>1&&(z+=$-1,B-=$-1),B--,ne--}for(;ae<j.length&&U+1<F.length&&!this._isCharWordSeparator(j.loadCell(ae+1,this._workCell));){j.loadCell(ae+1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,ae++):$>1&&(W+=$-1,U+=$-1),U++,ae++}}U++;let G=B+H-R+z,q=Math.min(this._bufferService.cols,U-B+R+L-z-W);if(P||F.slice(B,U).trim()!==""){if(N&&G===0&&j.getCodePoint(0)!==32){const ne=k.lines.get(T[1]-1);if(ne&&j.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,T[1]-1],!1,!0,!1);if(ae){const se=this._bufferService.cols-ae.start;G-=se,q+=se}}}if(I&&G+q===this._bufferService.cols&&j.getCodePoint(this._bufferService.cols-1)!==32){const ne=k.lines.get(T[1]+1);if(ne!=null&&ne.isWrapped&&ne.getCodePoint(0)!==32){const ae=this._getWordAt([0,T[1]+1],!1,!1,!0);ae&&(q+=ae.length)}}return{start:G,length:q}}}_selectWordAt(T,P){const N=this._getWordAt(T,P);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,T[1]--;this._model.selectionStart=[N.start,T[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(T){const P=this._getWordAt(T,!0);if(P){let N=T[1];for(;P.start<0;)P.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;P.start+P.length>this._bufferService.cols;)P.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?P.start:P.start+P.length,N]}}_isCharWordSeparator(T){return T.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(T.getChars())>=0}_selectLineAt(T){const P=this._bufferService.buffer.getWrappedRangeForLine(T),N={start:{x:0,y:P.first},end:{x:this._bufferService.cols-1,y:P.last}};this._model.selectionStart=[0,P.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,x.getRangeLength)(N,this._bufferService.cols)}};a.SelectionService=M=c([d(3,b.IBufferService),d(4,b.ICoreService),d(5,v.IMouseService),d(6,b.IOptionsService),d(7,v.IRenderService),d(8,v.ICoreBrowserService)],M)},4725:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const c=l(8343);a.ICharSizeService=(0,c.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),a.IMouseService=(0,c.createDecorator)("MouseService"),a.IRenderService=(0,c.createDecorator)("RenderService"),a.ISelectionService=(0,c.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(o,a,l){var c=this&&this.__decorate||function(M,T,P,N){var I,k=arguments.length,j=k<3?T:N===null?N=Object.getOwnPropertyDescriptor(T,P):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(M,T,P,N);else for(var F=M.length-1;F>=0;F--)(I=M[F])&&(j=(k<3?I(j):k>3?I(T,P,j):I(T,P))||j);return k>3&&j&&Object.defineProperty(T,P,j),j},d=this&&this.__param||function(M,T){return function(P,N){T(P,N,M)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const u=l(7239),f=l(8055),g=l(8460),v=l(844),y=l(2585),m=f.css.toColor("#ffffff"),p=f.css.toColor("#000000"),x=f.css.toColor("#ffffff"),_=f.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const M=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],T=[0,95,135,175,215,255];for(let P=0;P<216;P++){const N=T[P/36%6|0],I=T[P/6%6|0],k=T[P%6];M.push({css:f.channels.toCss(N,I,k),rgba:f.channels.toRgba(N,I,k)})}for(let P=0;P<24;P++){const N=8+10*P;M.push({css:f.channels.toCss(N,N,N),rgba:f.channels.toRgba(N,N,N)})}return M})());let S=a.ThemeService=class extends v.Disposable{get colors(){return this._colors}constructor(M){super(),this._optionsService=M,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:p,cursor:x,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:f.color.blend(p,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:f.color.blend(p,b),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(M={}){const T=this._colors;if(T.foreground=C(M.foreground,m),T.background=C(M.background,p),T.cursor=C(M.cursor,x),T.cursorAccent=C(M.cursorAccent,_),T.selectionBackgroundTransparent=C(M.selectionBackground,b),T.selectionBackgroundOpaque=f.color.blend(T.background,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundTransparent=C(M.selectionInactiveBackground,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundOpaque=f.color.blend(T.background,T.selectionInactiveBackgroundTransparent),T.selectionForeground=M.selectionForeground?C(M.selectionForeground,f.NULL_COLOR):void 0,T.selectionForeground===f.NULL_COLOR&&(T.selectionForeground=void 0),f.color.isOpaque(T.selectionBackgroundTransparent)&&(T.selectionBackgroundTransparent=f.color.opacity(T.selectionBackgroundTransparent,.3)),f.color.isOpaque(T.selectionInactiveBackgroundTransparent)&&(T.selectionInactiveBackgroundTransparent=f.color.opacity(T.selectionInactiveBackgroundTransparent,.3)),T.ansi=a.DEFAULT_ANSI_COLORS.slice(),T.ansi[0]=C(M.black,a.DEFAULT_ANSI_COLORS[0]),T.ansi[1]=C(M.red,a.DEFAULT_ANSI_COLORS[1]),T.ansi[2]=C(M.green,a.DEFAULT_ANSI_COLORS[2]),T.ansi[3]=C(M.yellow,a.DEFAULT_ANSI_COLORS[3]),T.ansi[4]=C(M.blue,a.DEFAULT_ANSI_COLORS[4]),T.ansi[5]=C(M.magenta,a.DEFAULT_ANSI_COLORS[5]),T.ansi[6]=C(M.cyan,a.DEFAULT_ANSI_COLORS[6]),T.ansi[7]=C(M.white,a.DEFAULT_ANSI_COLORS[7]),T.ansi[8]=C(M.brightBlack,a.DEFAULT_ANSI_COLORS[8]),T.ansi[9]=C(M.brightRed,a.DEFAULT_ANSI_COLORS[9]),T.ansi[10]=C(M.brightGreen,a.DEFAULT_ANSI_COLORS[10]),T.ansi[11]=C(M.brightYellow,a.DEFAULT_ANSI_COLORS[11]),T.ansi[12]=C(M.brightBlue,a.DEFAULT_ANSI_COLORS[12]),T.ansi[13]=C(M.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),T.ansi[14]=C(M.brightCyan,a.DEFAULT_ANSI_COLORS[14]),T.ansi[15]=C(M.brightWhite,a.DEFAULT_ANSI_COLORS[15]),M.extendedAnsi){const P=Math.min(T.ansi.length-16,M.extendedAnsi.length);for(let N=0;N<P;N++)T.ansi[N+16]=C(M.extendedAnsi[N],a.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(M){this._restoreColor(M),this._onChangeColors.fire(this.colors)}_restoreColor(M){if(M!==void 0)switch(M){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[M]=this._restoreColors.ansi[M]}else for(let T=0;T<this._restoreColors.ansi.length;++T)this._colors.ansi[T]=this._restoreColors.ansi[T]}modifyColors(M){M(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(M,T){if(M!==void 0)try{return f.css.toColor(M)}catch{}return T}a.ThemeService=S=c([d(0,y.IOptionsService)],S)},6349:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const c=l(8460),d=l(844);class u extends d.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const v=new Array(g);for(let y=0;y<Math.min(g,this.length);y++)v[y]=this._array[this._getCyclicIndex(y)];this._array=v,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let v=this._length;v<g;v++)this._array[v]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,v){this._array[this._getCyclicIndex(g)]=v}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,v,...y){if(v){for(let m=g;m<this._length-v;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+v)];this._length-=v,this.onDeleteEmitter.fire({index:g,amount:v})}for(let m=this._length-1;m>=g;m--)this._array[this._getCyclicIndex(m+y.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<y.length;m++)this._array[this._getCyclicIndex(g+m)]=y[m];if(y.length&&this.onInsertEmitter.fire({index:g,amount:y.length}),this._length+y.length>this._maxLength){const m=this._length+y.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=y.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,v,y){if(!(v<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let p=v-1;p>=0;p--)this.set(g+p+y,this.get(g+p));const m=g+v+y-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<v;m++)this.set(g+m+y,this.get(g+m))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}a.CircularList=u},1439:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function l(c,d=5){if(typeof c!="object")return c;const u=Array.isArray(c)?[]:{};for(const f in c)u[f]=d<=1?c[f]:c[f]&&l(c[f],d-1);return u}},8055:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;const c=l(6114);let d=0,u=0,f=0,g=0;var v,y,m,p,x;function _(S){const C=S.toString(16);return C.length<2?"0"+C:C}function b(S,C){return S<C?(C+.05)/(S+.05):(S+.05)/(C+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(C,M,T,P){return P!==void 0?`#${_(C)}${_(M)}${_(T)}${_(P)}`:`#${_(C)}${_(M)}${_(T)}`},S.toRgba=function(C,M,T,P=255){return(C<<24|M<<16|T<<8|P)>>>0}}(v||(a.channels=v={})),function(S){function C(M,T){return g=Math.round(255*T),[d,u,f]=x.toChannels(M.rgba),{css:v.toCss(d,u,f,g),rgba:v.toRgba(d,u,f,g)}}S.blend=function(M,T){if(g=(255&T.rgba)/255,g===1)return{css:T.css,rgba:T.rgba};const P=T.rgba>>24&255,N=T.rgba>>16&255,I=T.rgba>>8&255,k=M.rgba>>24&255,j=M.rgba>>16&255,F=M.rgba>>8&255;return d=k+Math.round((P-k)*g),u=j+Math.round((N-j)*g),f=F+Math.round((I-F)*g),{css:v.toCss(d,u,f),rgba:v.toRgba(d,u,f)}},S.isOpaque=function(M){return(255&M.rgba)==255},S.ensureContrastRatio=function(M,T,P){const N=x.ensureContrastRatio(M.rgba,T.rgba,P);if(N)return x.toColor(N>>24&255,N>>16&255,N>>8&255)},S.opaque=function(M){const T=(255|M.rgba)>>>0;return[d,u,f]=x.toChannels(T),{css:v.toCss(d,u,f),rgba:T}},S.opacity=C,S.multiplyOpacity=function(M,T){return g=255&M.rgba,C(M,g*T/255)},S.toColorRGB=function(M){return[M.rgba>>24&255,M.rgba>>16&255,M.rgba>>8&255]}}(y||(a.color=y={})),function(S){let C,M;if(!c.isNode){const T=document.createElement("canvas");T.width=1,T.height=1;const P=T.getContext("2d",{willReadFrequently:!0});P&&(C=P,C.globalCompositeOperation="copy",M=C.createLinearGradient(0,0,1,1))}S.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return d=parseInt(T.slice(1,2).repeat(2),16),u=parseInt(T.slice(2,3).repeat(2),16),f=parseInt(T.slice(3,4).repeat(2),16),x.toColor(d,u,f);case 5:return d=parseInt(T.slice(1,2).repeat(2),16),u=parseInt(T.slice(2,3).repeat(2),16),f=parseInt(T.slice(3,4).repeat(2),16),g=parseInt(T.slice(4,5).repeat(2),16),x.toColor(d,u,f,g);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const P=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(P)return d=parseInt(P[1]),u=parseInt(P[2]),f=parseInt(P[3]),g=Math.round(255*(P[5]===void 0?1:parseFloat(P[5]))),x.toColor(d,u,f,g);if(!C||!M)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=M,C.fillStyle=T,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[d,u,f,g]=C.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(d,u,f,g),css:T}}}(m||(a.css=m={})),function(S){function C(M,T,P){const N=M/255,I=T/255,k=P/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}S.relativeLuminance=function(M){return C(M>>16&255,M>>8&255,255&M)},S.relativeLuminance2=C}(p||(a.rgb=p={})),function(S){function C(T,P,N){const I=T>>24&255,k=T>>16&255,j=T>>8&255;let F=P>>24&255,B=P>>16&255,U=P>>8&255,H=b(p.relativeLuminance2(F,B,U),p.relativeLuminance2(I,k,j));for(;H<N&&(F>0||B>0||U>0);)F-=Math.max(0,Math.ceil(.1*F)),B-=Math.max(0,Math.ceil(.1*B)),U-=Math.max(0,Math.ceil(.1*U)),H=b(p.relativeLuminance2(F,B,U),p.relativeLuminance2(I,k,j));return(F<<24|B<<16|U<<8|255)>>>0}function M(T,P,N){const I=T>>24&255,k=T>>16&255,j=T>>8&255;let F=P>>24&255,B=P>>16&255,U=P>>8&255,H=b(p.relativeLuminance2(F,B,U),p.relativeLuminance2(I,k,j));for(;H<N&&(F<255||B<255||U<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),B=Math.min(255,B+Math.ceil(.1*(255-B))),U=Math.min(255,U+Math.ceil(.1*(255-U))),H=b(p.relativeLuminance2(F,B,U),p.relativeLuminance2(I,k,j));return(F<<24|B<<16|U<<8|255)>>>0}S.ensureContrastRatio=function(T,P,N){const I=p.relativeLuminance(T>>8),k=p.relativeLuminance(P>>8);if(b(I,k)<N){if(k<I){const B=C(T,P,N),U=b(I,p.relativeLuminance(B>>8));if(U<N){const H=M(T,P,N);return U>b(I,p.relativeLuminance(H>>8))?B:H}return B}const j=M(T,P,N),F=b(I,p.relativeLuminance(j>>8));if(F<N){const B=C(T,P,N);return F>b(I,p.relativeLuminance(B>>8))?j:B}return j}},S.reduceLuminance=C,S.increaseLuminance=M,S.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]},S.toColor=function(T,P,N,I){return{css:v.toCss(T,P,N,I),rgba:v.toRgba(T,P,N,I)}}}(x||(a.rgba=x={})),a.toPaddedHex=_,a.contrastRatio=b},8969:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const c=l(844),d=l(2585),u=l(4348),f=l(7866),g=l(744),v=l(7302),y=l(6975),m=l(8460),p=l(1753),x=l(1480),_=l(7994),b=l(9282),S=l(5435),C=l(5981),M=l(2660);let T=!1;class P extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(I=>{var k;(k=this._onScrollApi)===null||k===void 0||k.fire(I.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(I){for(const k in I)this.optionsService.options[k]=I[k]}constructor(I){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new v.OptionsService(I)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(f.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(x.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(M.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((k,j)=>this._inputHandler.parse(k,j))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(I,k){this._writeBuffer.write(I,k)}writeSync(I,k){this._logService.logLevel<=d.LogLevelEnum.WARN&&!T&&(this._logService.warn("writeSync is unreliable and will be removed soon."),T=!0),this._writeBuffer.writeSync(I,k)}resize(I,k){isNaN(I)||isNaN(k)||(I=Math.max(I,g.MINIMUM_COLS),k=Math.max(k,g.MINIMUM_ROWS),this._bufferService.resize(I,k))}scroll(I,k=!1){this._bufferService.scroll(I,k)}scrollLines(I,k,j){this._bufferService.scrollLines(I,k,j)}scrollPages(I){this.scrollLines(I*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(I){const k=I-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(I,k){return this._inputHandler.registerEscHandler(I,k)}registerDcsHandler(I,k){return this._inputHandler.registerDcsHandler(I,k)}registerCsiHandler(I,k){return this._inputHandler.registerCsiHandler(I,k)}registerOscHandler(I,k){return this._inputHandler.registerOscHandler(I,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let I=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?I=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(I=!0),I?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const I=[];I.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),I.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const k of I)k.dispose()})}}}a.CoreTerminal=P},8460:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let u=0;u<this._listeners.length;u++)d.push(this._listeners[u]);for(let u=0;u<d.length;u++)d[u].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))}},5435:function(o,a,l){var c=this&&this.__decorate||function(H,R,L,z){var W,G=arguments.length,q=G<3?R:z===null?z=Object.getOwnPropertyDescriptor(R,L):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(H,R,L,z);else for(var ne=H.length-1;ne>=0;ne--)(W=H[ne])&&(q=(G<3?W(q):G>3?W(R,L,q):W(R,L))||q);return G>3&&q&&Object.defineProperty(R,L,q),q},d=this&&this.__param||function(H,R){return function(L,z){R(L,z,H)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const u=l(2584),f=l(7116),g=l(2015),v=l(844),y=l(482),m=l(8437),p=l(8460),x=l(643),_=l(511),b=l(3734),S=l(2585),C=l(6242),M=l(6351),T=l(5941),P={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function I(H,R){if(H>24)return R.setWinLines||!1;switch(H){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var k;(function(H){H[H.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",H[H.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(a.WindowsOptionsReportType=k={}));let j=0;class F extends v.Disposable{getAttrData(){return this._curAttrData}constructor(R,L,z,W,G,q,ne,ae,se=new g.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=L,this._coreService=z,this._logService=W,this._optionsService=G,this._oscLinkService=q,this._coreMouseService=ne,this._unicodeService=ae,this._parser=se,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new B(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate($=>this._activeBuffer=$.activeBuffer)),this._parser.setCsiHandlerFallback(($,Y)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString($),params:Y.toArray()})}),this._parser.setEscHandlerFallback($=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString($)})}),this._parser.setExecuteHandlerFallback($=>{this._logService.debug("Unknown EXECUTE code: ",{code:$})}),this._parser.setOscHandlerFallback(($,Y,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:$,action:Y,data:Q})}),this._parser.setDcsHandlerFallback(($,Y,Q)=>{Y==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString($),action:Y,payload:Q})}),this._parser.setPrintHandler(($,Y,Q)=>this.print($,Y,Q)),this._parser.registerCsiHandler({final:"@"},$=>this.insertChars($)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},$=>this.scrollLeft($)),this._parser.registerCsiHandler({final:"A"},$=>this.cursorUp($)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},$=>this.scrollRight($)),this._parser.registerCsiHandler({final:"B"},$=>this.cursorDown($)),this._parser.registerCsiHandler({final:"C"},$=>this.cursorForward($)),this._parser.registerCsiHandler({final:"D"},$=>this.cursorBackward($)),this._parser.registerCsiHandler({final:"E"},$=>this.cursorNextLine($)),this._parser.registerCsiHandler({final:"F"},$=>this.cursorPrecedingLine($)),this._parser.registerCsiHandler({final:"G"},$=>this.cursorCharAbsolute($)),this._parser.registerCsiHandler({final:"H"},$=>this.cursorPosition($)),this._parser.registerCsiHandler({final:"I"},$=>this.cursorForwardTab($)),this._parser.registerCsiHandler({final:"J"},$=>this.eraseInDisplay($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},$=>this.eraseInDisplay($,!0)),this._parser.registerCsiHandler({final:"K"},$=>this.eraseInLine($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},$=>this.eraseInLine($,!0)),this._parser.registerCsiHandler({final:"L"},$=>this.insertLines($)),this._parser.registerCsiHandler({final:"M"},$=>this.deleteLines($)),this._parser.registerCsiHandler({final:"P"},$=>this.deleteChars($)),this._parser.registerCsiHandler({final:"S"},$=>this.scrollUp($)),this._parser.registerCsiHandler({final:"T"},$=>this.scrollDown($)),this._parser.registerCsiHandler({final:"X"},$=>this.eraseChars($)),this._parser.registerCsiHandler({final:"Z"},$=>this.cursorBackwardTab($)),this._parser.registerCsiHandler({final:"`"},$=>this.charPosAbsolute($)),this._parser.registerCsiHandler({final:"a"},$=>this.hPositionRelative($)),this._parser.registerCsiHandler({final:"b"},$=>this.repeatPrecedingCharacter($)),this._parser.registerCsiHandler({final:"c"},$=>this.sendDeviceAttributesPrimary($)),this._parser.registerCsiHandler({prefix:">",final:"c"},$=>this.sendDeviceAttributesSecondary($)),this._parser.registerCsiHandler({final:"d"},$=>this.linePosAbsolute($)),this._parser.registerCsiHandler({final:"e"},$=>this.vPositionRelative($)),this._parser.registerCsiHandler({final:"f"},$=>this.hVPosition($)),this._parser.registerCsiHandler({final:"g"},$=>this.tabClear($)),this._parser.registerCsiHandler({final:"h"},$=>this.setMode($)),this._parser.registerCsiHandler({prefix:"?",final:"h"},$=>this.setModePrivate($)),this._parser.registerCsiHandler({final:"l"},$=>this.resetMode($)),this._parser.registerCsiHandler({prefix:"?",final:"l"},$=>this.resetModePrivate($)),this._parser.registerCsiHandler({final:"m"},$=>this.charAttributes($)),this._parser.registerCsiHandler({final:"n"},$=>this.deviceStatus($)),this._parser.registerCsiHandler({prefix:"?",final:"n"},$=>this.deviceStatusPrivate($)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},$=>this.softReset($)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},$=>this.setCursorStyle($)),this._parser.registerCsiHandler({final:"r"},$=>this.setScrollRegion($)),this._parser.registerCsiHandler({final:"s"},$=>this.saveCursor($)),this._parser.registerCsiHandler({final:"t"},$=>this.windowOptions($)),this._parser.registerCsiHandler({final:"u"},$=>this.restoreCursor($)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},$=>this.insertColumns($)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},$=>this.deleteColumns($)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},$=>this.selectProtected($)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},$=>this.requestMode($,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},$=>this.requestMode($,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler($=>(this.setTitle($),this.setIconName($),!0))),this._parser.registerOscHandler(1,new C.OscHandler($=>this.setIconName($))),this._parser.registerOscHandler(2,new C.OscHandler($=>this.setTitle($))),this._parser.registerOscHandler(4,new C.OscHandler($=>this.setOrReportIndexedColor($))),this._parser.registerOscHandler(8,new C.OscHandler($=>this.setHyperlink($))),this._parser.registerOscHandler(10,new C.OscHandler($=>this.setOrReportFgColor($))),this._parser.registerOscHandler(11,new C.OscHandler($=>this.setOrReportBgColor($))),this._parser.registerOscHandler(12,new C.OscHandler($=>this.setOrReportCursorColor($))),this._parser.registerOscHandler(104,new C.OscHandler($=>this.restoreIndexedColor($))),this._parser.registerOscHandler(110,new C.OscHandler($=>this.restoreFgColor($))),this._parser.registerOscHandler(111,new C.OscHandler($=>this.restoreBgColor($))),this._parser.registerOscHandler(112,new C.OscHandler($=>this.restoreCursorColor($))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const $ in f.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:$},()=>this.selectCharset("("+$)),this._parser.registerEscHandler({intermediates:")",final:$},()=>this.selectCharset(")"+$)),this._parser.registerEscHandler({intermediates:"*",final:$},()=>this.selectCharset("*"+$)),this._parser.registerEscHandler({intermediates:"+",final:$},()=>this.selectCharset("+"+$)),this._parser.registerEscHandler({intermediates:"-",final:$},()=>this.selectCharset("-"+$)),this._parser.registerEscHandler({intermediates:".",final:$},()=>this.selectCharset("."+$)),this._parser.registerEscHandler({intermediates:"/",final:$},()=>this.selectCharset("/"+$));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler($=>(this._logService.error("Parsing error: ",$),$)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new M.DcsHandler(($,Y)=>this.requestStatusString($,Y)))}_preserveStack(R,L,z,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=z,this._parseStack.position=W}_logSlowResolvingAsync(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise((L,z)=>setTimeout(()=>z("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if(L!=="#SLOW_TIMEOUT")throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,L){let z,W=this._activeBuffer.x,G=this._activeBuffer.y,q=0;const ne=this._parseStack.paused;if(ne){if(z=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(z),z;W=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>N&&(q=this._parseStack.position+N)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,ae=>String.fromCharCode(ae)).join("")}"`),typeof R=="string"?R.split("").map(ae=>ae.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(R.length,N))),ne||this._dirtyRowTracker.clearRange(),R.length>N)for(let ae=q;ae<R.length;ae+=N){const se=ae+N<R.length?ae+N:R.length,$=typeof R=="string"?this._stringDecoder.decode(R.substring(ae,se),this._parseBuffer):this._utf8Decoder.decode(R.subarray(ae,se),this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,$))return this._preserveStack(W,G,$,ae),this._logSlowResolvingAsync(z),z}else if(!ne){const ae=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(W,G,ae,0),this._logSlowResolvingAsync(z),z}this._activeBuffer.x===W&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,L,z){let W,G;const q=this._charsetService.charset,ne=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,se=this._coreService.decPrivateModes.wraparound,$=this._coreService.modes.insertMode,Y=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&z-L>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Y.fg,Y.bg,Y.extended);for(let te=L;te<z;++te){if(W=R[te],G=this._unicodeService.wcwidth(W),W<127&&q){const ue=q[String.fromCharCode(W)];ue&&(W=ue.charCodeAt(0))}if(ne&&this._onA11yChar.fire((0,y.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=ae){if(se){for(;this._activeBuffer.x<ae;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,Y.fg,Y.bg,Y.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,G===2)continue}if($&&(Q.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell(Y),Y),Q.getWidth(ae-1)===2&&Q.setCellFromCodePoint(ae-1,x.NULL_CELL_CODE,x.NULL_CELL_WIDTH,Y.fg,Y.bg,Y.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,W,G,Y.fg,Y.bg,Y.extended),G>0)for(;--G;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,Y.fg,Y.bg,Y.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,W):Q.addCodepointToCell(this._activeBuffer.x-2,W)}z-L>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&z-L>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,Y.fg,Y.bg,Y.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,L){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,L):this._parser.registerCsiHandler(R,z=>!I(z.params[0],this._optionsService.rawOptions.windowOptions)||L(z))}registerDcsHandler(R,L){return this._parser.registerDcsHandler(R,new M.DcsHandler(L))}registerEscHandler(R,L){return this._parser.registerEscHandler(R,L)}registerOscHandler(R,L){return this._parser.registerOscHandler(R,new C.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=R,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+L)}cursorUp(R){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return L>=0?this._moveCursor(0,-Math.min(L,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return L>=0?this._moveCursor(0,Math.min(L,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const L=R.params[0];return L===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:L===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const L=R.params[0];return L===1&&(this._curAttrData.bg|=536870912),L!==2&&L!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,L,z,W=!1,G=!1){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);q.replaceCells(L,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),W&&(q.isWrapped=!1)}_resetBufferLine(R,L=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);z&&(z.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),z.isWrapped=!1)}eraseInDisplay(R,L=!1){let z;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);z<this._bufferService.rows;z++)this._resetBufferLine(z,L);this._dirtyRowTracker.markDirty(z);break;case 1:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(z+1).isWrapped=!1);z--;)this._resetBufferLine(z,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(z=this._bufferService.rows,this._dirtyRowTracker.markDirty(z-1);z--;)this._resetBufferLine(z,L);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(R,L=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;L--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;L--;)this._activeBuffer.lines.splice(z,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);W.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);W.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);W.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);W.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const L=R.params[0]||1,z=new Uint32Array(L);for(let W=0;W<L;++W)z[W]=this._parser.precedingCodepoint;return this.print(z,0,z.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[L]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,L){const z=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:G}=this._coreMouseService,q=this._coreService,{buffers:ne,cols:ae}=this._bufferService,{active:se,alt:$}=ne,Y=this._optionsService.rawOptions,Q=K=>K?1:2,te=R.params[0];return ue=te,J=L?te===2?4:te===4?Q(q.modes.insertMode):te===12?3:te===20?Q(Y.convertEol):0:te===1?Q(z.applicationCursorKeys):te===3?Y.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:te===6?Q(z.origin):te===7?Q(z.wraparound):te===8?3:te===9?Q(W==="X10"):te===12?Q(Y.cursorBlink):te===25?Q(!q.isCursorHidden):te===45?Q(z.reverseWraparound):te===66?Q(z.applicationKeypad):te===67?4:te===1e3?Q(W==="VT200"):te===1002?Q(W==="DRAG"):te===1003?Q(W==="ANY"):te===1004?Q(z.sendFocus):te===1005?4:te===1006?Q(G==="SGR"):te===1015?4:te===1016?Q(G==="SGR_PIXELS"):te===1048?1:te===47||te===1047||te===1049?Q(se===$):te===2004?Q(z.bracketedPasteMode):0,q.triggerDataEvent(`${u.C0.ESC}[${L?"":"?"}${ue};${J}$y`),!0;var ue,J}_updateAttrColor(R,L,z,W,G){return L===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([z,W,G])):L===5&&(R&=-50331904,R|=33554432|255&z),R}_extractColor(R,L,z){const W=[0,0,-1,0,0,0];let G=0,q=0;do{if(W[q+G]=R.params[L+q],R.hasSubParams(L+q)){const ne=R.getSubParams(L+q);let ae=0;do W[1]===5&&(G=1),W[q+ae+1+G]=ne[ae];while(++ae<ne.length&&ae+q+1+G<W.length);break}if(W[1]===5&&q+G>=2||W[1]===2&&q+G>=5)break;W[1]&&(G=1)}while(++q+L<R.length&&q+G<W.length);for(let ne=2;ne<W.length;++ne)W[ne]===-1&&(W[ne]=0);switch(W[0]){case 38:z.fg=this._updateAttrColor(z.fg,W[1],W[3],W[4],W[5]);break;case 48:z.bg=this._updateAttrColor(z.bg,W[1],W[3],W[4],W[5]);break;case 58:z.extended=z.extended.clone(),z.extended.underlineColor=this._updateAttrColor(z.extended.underlineColor,W[1],W[3],W[4],W[5])}return q}_processUnderline(R,L){L.extended=L.extended.clone(),(!~R||R>5)&&(R=1),L.extended.underlineStyle=R,L.fg|=268435456,R===0&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(R){R.fg=m.DEFAULT_ATTR_DATA.fg,R.bg=m.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const L=R.length;let z;const W=this._curAttrData;for(let G=0;G<L;G++)z=R.params[G],z>=30&&z<=37?(W.fg&=-50331904,W.fg|=16777216|z-30):z>=40&&z<=47?(W.bg&=-50331904,W.bg|=16777216|z-40):z>=90&&z<=97?(W.fg&=-50331904,W.fg|=16777224|z-90):z>=100&&z<=107?(W.bg&=-50331904,W.bg|=16777224|z-100):z===0?this._processSGR0(W):z===1?W.fg|=134217728:z===3?W.bg|=67108864:z===4?(W.fg|=268435456,this._processUnderline(R.hasSubParams(G)?R.getSubParams(G)[0]:1,W)):z===5?W.fg|=536870912:z===7?W.fg|=67108864:z===8?W.fg|=1073741824:z===9?W.fg|=2147483648:z===2?W.bg|=134217728:z===21?this._processUnderline(2,W):z===22?(W.fg&=-134217729,W.bg&=-134217729):z===23?W.bg&=-67108865:z===24?(W.fg&=-268435457,this._processUnderline(0,W)):z===25?W.fg&=-536870913:z===27?W.fg&=-67108865:z===28?W.fg&=-1073741825:z===29?W.fg&=2147483647:z===39?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):z===49?(W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):z===38||z===48||z===58?G+=this._extractColor(R,G,W):z===53?W.bg|=1073741824:z===55?W.bg&=-1073741825:z===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):z===100?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",z);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const L=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${L};${z}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const L=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${L};${z}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const L=R.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const z=L%2==1;return this._optionsService.options.cursorBlink=z,!0}setScrollRegion(R){const L=R.params[0]||1;let z;return(R.length<2||(z=R.params[1])>this._bufferService.rows||z===0)&&(z=this._bufferService.rows),z>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=z-1,this._setCursor(0,0)),!0}windowOptions(R){if(!I(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:L!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:L!==0&&L!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),L!==0&&L!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:L!==0&&L!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),L!==0&&L!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const L=[],z=R.split(";");for(;z.length>1;){const W=z.shift(),G=z.shift();if(/^\d+$/.exec(W)){const q=parseInt(W);if(U(q))if(G==="?")L.push({type:0,index:q});else{const ne=(0,T.parseColor)(G);ne&&L.push({type:1,index:q,color:ne})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(R){const L=R.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(R,L){this._getCurrentLinkId()&&this._finishHyperlink();const z=R.split(":");let W;const G=z.findIndex(q=>q.startsWith("id="));return G!==-1&&(W=z[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,L){const z=R.split(";");for(let W=0;W<z.length&&!(L>=this._specialColors.length);++W,++L)if(z[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const G=(0,T.parseColor)(z[W]);G&&this._onColor.fire([{type:1,index:this._specialColors[L],color:G}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const L=[],z=R.split(";");for(let W=0;W<z.length;++W)if(/^\d+$/.exec(z[W])){const G=parseInt(z[W]);U(G)&&L.push({type:2,index:G})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(P[R[0]],f.CHARSETS[R[1]]||f.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new _.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const z=this._activeBuffer.ybase+this._activeBuffer.y+L,W=this._activeBuffer.lines.get(z);W&&(W.fill(R),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,L){const z=this._bufferService.buffer,W=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${G}${u.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${z.scrollTop+1};${z.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,L){this._dirtyRowTracker.markRangeDirty(R,L)}}a.InputHandler=F;let B=class{constructor(H){this._bufferService=H,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(H){H<this.start?this.start=H:H>this.end&&(this.end=H)}markRangeDirty(H,R){H>R&&(j=H,H=R,R=j),H<this.start&&(this.start=H),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(H){return 0<=H&&H<256}B=c([d(0,S.IBufferService)],B)},844:(o,a)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)===null||d===void 0||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,u,f){this._data[d]||(this._data[d]={}),this._data[d][u]=f}get(d,u){return this._data[d]?this._data[d][u]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,d,u,f,g){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(u,f,g)}get(c,d,u,f){var g;return(g=this._data.get(c,d))===null||g===void 0?void 0:g.get(u,f)}clear(){this._data.clear()}}},6114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof navigator>"u";const l=a.isNode?"node":navigator.userAgent,c=a.isNode?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.getSafariVersion=function(){if(!a.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),a.isIpad=c==="iPad",a.isIphone=c==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),a.isLinux=c.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(l)},6106:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let l=0;a.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const d=this._getKey(c);if(d===void 0||(l=this._search(d),l===-1)||this._getKey(this._array[l])!==d)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===d);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,d){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do d(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let d=0,u=this._array.length-1;for(;u>=d;){let f=d+u>>1;const g=this._getKey(this._array[f]);if(g>c)u=f-1;else{if(!(g<c)){for(;f>0&&this._getKey(this._array[f-1])===c;)f--;return f}d=f+1}}return d}}},7226:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const c=l(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let v=0,y=0,m=g.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),y=Math.max(v,y),p=g.timeRemaining(),1.5*y>p)return m-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-v))}ms`),void this._start();m=p}this.clear()}}class u extends d{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const v=Date.now()+g;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}a.PriorityTaskQueue=u,a.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(f){return requestIdleCallback(f)}_cancelCallback(f){cancelIdleCallback(f)}}:u,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(f){this._queue.clear(),this._queue.enqueue(f)}flush(){this._queue.flush()}}},9282:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const c=l(643);a.updateWindowsModeWrappedState=function(d){const u=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),f=u==null?void 0:u.get(d.cols-1),g=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);g&&f&&(g.isWrapped=f[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&f[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new l;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}a.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}constructor(u=0,f=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=f}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=c},9092:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const c=l(6349),d=l(7226),u=l(3734),f=l(8437),g=l(4634),v=l(511),y=l(643),m=l(4863),p=l(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(x,_,b){this._hasScrollback=x,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(x){return x?(this._nullCell.fg=x.fg,this._nullCell.bg=x.bg,this._nullCell.extended=x.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(x){return x?(this._whitespaceCell.fg=x.fg,this._whitespaceCell.bg=x.bg,this._whitespaceCell.extended=x.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(x,_){return new f.BufferLine(this._bufferService.cols,this.getNullCell(x),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const x=this.ybase+this.y-this.ydisp;return x>=0&&x<this._rows}_getCorrectBufferLength(x){if(!this._hasScrollback)return x;const _=x+this._optionsService.rawOptions.scrollback;return _>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:_}fillViewportRows(x){if(this.lines.length===0){x===void 0&&(x=f.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(x))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA);let S=0;const C=this._getCorrectBufferLength(_);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<x)for(let T=0;T<this.lines.length;T++)S+=+this.lines.get(T).resize(x,b);let M=0;if(this._rows<_)for(let T=this._rows;T<_;T++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new f.BufferLine(x,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+M+1?(this.ybase--,M++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(x,b)));else for(let T=this._rows;T>_;T--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const T=this.lines.length-C;T>0&&(this.lines.trimStart(T),this.ybase=Math.max(this.ybase-T,0),this.ydisp=Math.max(this.ydisp-T,0),this.savedY=Math.max(this.savedY-T,0)),this.lines.maxLength=C}this.x=Math.min(this.x,x-1),this.y=Math.min(this.y,_-1),M&&(this.y+=M),this.savedX=Math.min(this.savedX,x-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(x,_),this._cols>x))for(let M=0;M<this.lines.length;M++)S+=+this.lines.get(M).resize(x,b);this._cols=x,this._rows=_,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let x=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,x=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return x}get _isReflowEnabled(){const x=this._optionsService.rawOptions.windowsPty;return x&&x.buildNumber?this._hasScrollback&&x.backend==="conpty"&&x.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(x,_){this._cols!==x&&(x>this._cols?this._reflowLarger(x,_):this._reflowSmaller(x,_))}_reflowLarger(x,_){const b=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,x,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(b.length>0){const S=(0,g.reflowLargerCreateNewLayout)(this.lines,b);(0,g.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(x,_,S.countRemoved)}}_reflowLargerAdjustViewport(x,_,b){const S=this.getNullCell(f.DEFAULT_ATTR_DATA);let C=b;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new f.BufferLine(x,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA),S=[];let C=0;for(let M=this.lines.length-1;M>=0;M--){let T=this.lines.get(M);if(!T||!T.isWrapped&&T.getTrimmedLength()<=x)continue;const P=[T];for(;T.isWrapped&&M>0;)T=this.lines.get(--M),P.unshift(T);const N=this.ybase+this.y;if(N>=M&&N<M+P.length)continue;const I=P[P.length-1].getTrimmedLength(),k=(0,g.reflowSmallerGetNewLineLengths)(P,this._cols,x),j=k.length-P.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+j):Math.max(0,this.lines.length-this.lines.maxLength+j);const B=[];for(let W=0;W<j;W++){const G=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);B.push(G)}B.length>0&&(S.push({start:M+P.length+C,newLines:B}),C+=B.length),P.push(...B);let U=k.length-1,H=k[U];H===0&&(U--,H=k[U]);let R=P.length-j-1,L=I;for(;R>=0;){const W=Math.min(L,H);if(P[U]===void 0)break;if(P[U].copyCellsFrom(P[R],L-W,H-W,W,!0),H-=W,H===0&&(U--,H=k[U]),L-=W,L===0){R--;const G=Math.max(R,0);L=(0,g.getWrappedLineTrimmedLength)(P,G,this._cols)}}for(let W=0;W<P.length;W++)k[W]<x&&P[W].setCell(k[W],b);let z=j-F;for(;z-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+j,this.ybase+_-1)}if(S.length>0){const M=[],T=[];for(let U=0;U<this.lines.length;U++)T.push(this.lines.get(U));const P=this.lines.length;let N=P-1,I=0,k=S[I];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let j=0;for(let U=Math.min(this.lines.maxLength-1,P+C-1);U>=0;U--)if(k&&k.start>N+j){for(let H=k.newLines.length-1;H>=0;H--)this.lines.set(U--,k.newLines[H]);U++,M.push({index:N+1,amount:k.newLines.length}),j+=k.newLines.length,k=S[++I]}else this.lines.set(U,T[N--]);let F=0;for(let U=M.length-1;U>=0;U--)M[U].index+=F,this.lines.onInsertEmitter.fire(M[U]),F+=M[U].amount;const B=Math.max(0,P+C-this.lines.maxLength);B>0&&this.lines.onTrimEmitter.fire(B)}}translateBufferLineToString(x,_,b=0,S){const C=this.lines.get(x);return C?C.translateToString(_,b,S):""}getWrappedRangeForLine(x){let _=x,b=x;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(x){for(x!=null?this.tabs[x]||(x=this.prevStop(x)):(this.tabs={},x=0);x<this._cols;x+=this._optionsService.rawOptions.tabStopWidth)this.tabs[x]=!0}prevStop(x){for(x==null&&(x=this.x);!this.tabs[--x]&&x>0;);return x>=this._cols?this._cols-1:x<0?0:x}nextStop(x){for(x==null&&(x=this.x);!this.tabs[++x]&&x<this._cols;);return x>=this._cols?this._cols-1:x<0?0:x}clearMarkers(x){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===x&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].dispose(),this.markers.splice(x--,1);this._isClearing=!1}addMarker(x){const _=new m.Marker(x);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(x){this._isClearing||this.markers.splice(this.markers.indexOf(x),1)}}},8437:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const c=l(3734),d=l(511),u=l(643),f=l(482);a.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let g=0;class v{constructor(m,p,x=!1){this.isWrapped=x,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=p||d.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const p=this._data[3*m+0],x=2097151&p;return[this._data[3*m+1],2097152&p?this._combined[m]:x?(0,f.stringFromCodePoint)(x):"",p>>22,2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):x]}set(m,p){this._data[3*m+1]=p[u.CHAR_DATA_ATTR_INDEX],p[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=p[1],this._data[3*m+0]=2097152|m|p[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=p[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&p}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m]:2097151&p?(0,f.stringFromCodePoint)(2097151&p):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,p){return g=3*m,p.content=this._data[g+0],p.fg=this._data[g+1],p.bg=this._data[g+2],2097152&p.content&&(p.combinedData=this._combined[m]),268435456&p.bg&&(p.extended=this._extendedAttrs[m]),p}setCell(m,p){2097152&p.content&&(this._combined[m]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[m]=p.extended),this._data[3*m+0]=p.content,this._data[3*m+1]=p.fg,this._data[3*m+2]=p.bg}setCellFromCodePoint(m,p,x,_,b,S){268435456&b&&(this._extendedAttrs[m]=S),this._data[3*m+0]=p|x<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,p){let x=this._data[3*m+0];2097152&x?this._combined[m]+=(0,f.stringFromCodePoint)(p):(2097151&x?(this._combined[m]=(0,f.stringFromCodePoint)(2097151&x)+(0,f.stringFromCodePoint)(p),x&=-2097152,x|=2097152):x=p|4194304,this._data[3*m+0]=x)}insertCells(m,p,x,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length-m){const b=new d.CellData;for(let S=this.length-m-p-1;S>=0;--S)this.setCell(m+p+S,this.loadCell(m+S,b));for(let S=0;S<p;++S)this.setCell(m+S,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,p,x,_){if(m%=this.length,p<this.length-m){const b=new d.CellData;for(let S=0;S<this.length-m-p;++S)this.setCell(m+S,this.loadCell(m+p+S,b));for(let S=this.length-p;S<this.length;++S)this.setCell(S,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,p,x,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.isProtected(m)||this.setCell(m,x),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.setCell(m++,x)}resize(m,p){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const x=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*x)this._data=new Uint32Array(this._data.buffer,0,x);else{const _=new Uint32Array(x);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,p)}else{this._data=this._data.subarray(0,x);const _=Object.keys(this._combined);for(let S=0;S<_.length;S++){const C=parseInt(_[S],10);C>=m&&delete this._combined[C]}const b=Object.keys(this._extendedAttrs);for(let S=0;S<b.length;S++){const C=parseInt(b[S],10);C>=m&&delete this._extendedAttrs[C]}}return this.length=m,4*x*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,p=!1){if(p)for(let x=0;x<this.length;++x)this.isProtected(x)||this.setCell(x,m);else{this._combined={},this._extendedAttrs={};for(let x=0;x<this.length;++x)this.setCell(x,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const p in m._combined)this._combined[p]=m._combined[p];this._extendedAttrs={};for(const p in m._extendedAttrs)this._extendedAttrs[p]=m._extendedAttrs[p];this.isWrapped=m.isWrapped}clone(){const m=new v(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const p in this._combined)m._combined[p]=this._combined[p];for(const p in this._extendedAttrs)m._extendedAttrs[p]=this._extendedAttrs[p];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,p,x,_,b){const S=m._data;if(b)for(let M=_-1;M>=0;M--){for(let T=0;T<3;T++)this._data[3*(x+M)+T]=S[3*(p+M)+T];268435456&S[3*(p+M)+2]&&(this._extendedAttrs[x+M]=m._extendedAttrs[p+M])}else for(let M=0;M<_;M++){for(let T=0;T<3;T++)this._data[3*(x+M)+T]=S[3*(p+M)+T];268435456&S[3*(p+M)+2]&&(this._extendedAttrs[x+M]=m._extendedAttrs[p+M])}const C=Object.keys(m._combined);for(let M=0;M<C.length;M++){const T=parseInt(C[M],10);T>=p&&(this._combined[T-p+x]=m._combined[T])}}translateToString(m=!1,p=0,x=this.length){m&&(x=Math.min(x,this.getTrimmedLength()));let _="";for(;p<x;){const b=this._data[3*p+0],S=2097151&b;_+=2097152&b?this._combined[p]:S?(0,f.stringFromCodePoint)(S):u.WHITESPACE_CELL_CHAR,p+=b>>22||1}return _}}a.BufferLine=v},4841:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(o,a)=>{function l(c,d,u){if(d===c.length-1)return c[d].getTrimmedLength();const f=!c[d].hasContent(u-1)&&c[d].getWidth(u-1)===1,g=c[d+1].getWidth(0)===2;return f&&g?u-1:u}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(c,d,u,f,g){const v=[];for(let y=0;y<c.length-1;y++){let m=y,p=c.get(++m);if(!p.isWrapped)continue;const x=[c.get(y)];for(;m<c.length&&p.isWrapped;)x.push(p),p=c.get(++m);if(f>=y&&f<m){y+=x.length-1;continue}let _=0,b=l(x,_,d),S=1,C=0;for(;S<x.length;){const T=l(x,S,d),P=T-C,N=u-b,I=Math.min(P,N);x[_].copyCellsFrom(x[S],C,b,I,!1),b+=I,b===u&&(_++,b=0),C+=I,C===T&&(S++,C=0),b===0&&_!==0&&x[_-1].getWidth(u-1)===2&&(x[_].copyCellsFrom(x[_-1],u-1,b++,1,!1),x[_-1].setCell(u-1,g))}x[_].replaceCells(b,u,g);let M=0;for(let T=x.length-1;T>0&&(T>_||x[T].getTrimmedLength()===0);T--)M++;M>0&&(v.push(y+x.length-M),v.push(M)),y+=x.length-1}return v},a.reflowLargerCreateNewLayout=function(c,d){const u=[];let f=0,g=d[f],v=0;for(let y=0;y<c.length;y++)if(g===y){const m=d[++f];c.onDeleteEmitter.fire({index:y-v,amount:m}),y+=m-1,v+=m,g=d[++f]}else u.push(y);return{layout:u,countRemoved:v}},a.reflowLargerApplyNewLayout=function(c,d){const u=[];for(let f=0;f<d.length;f++)u.push(c.get(d[f]));for(let f=0;f<u.length;f++)c.set(f,u[f]);c.length=d.length},a.reflowSmallerGetNewLineLengths=function(c,d,u){const f=[],g=c.map((p,x)=>l(c,x,d)).reduce((p,x)=>p+x);let v=0,y=0,m=0;for(;m<g;){if(g-m<u){f.push(g-m);break}v+=u;const p=l(c,y,d);v>p&&(v-=p,y++);const x=c[y].getWidth(v-1)===2;x&&v--;const _=x?u-1:u;f.push(_),m+=_}return f},a.getWrappedLineTrimmedLength=l},5295:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const c=l(8460),d=l(844),u=l(9092);class f extends d.Disposable{constructor(v,y){super(),this._optionsService=v,this._bufferService=y,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,y){this._normal.resize(v,y),this._alt.resize(v,y),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}a.BufferSet=f},511:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const c=l(482),d=l(643),u=l(3734);class f extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const y=new f;return y.setFromCharData(v),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(v[d.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(v[d.CHAR_DATA_CHAR_INDEX].length===2){const m=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const p=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(m-55296)+p-56320+65536|v[d.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[d.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=v[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=f},643:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const c=l(8460),d=l(844);class u{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}a.Marker=u,u._nextId=1},7116:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(o,a)=>{var l,c,d;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(l||(a.C0=l={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(c||(a.C1=c={})),function(u){u.ST=`${l.ESC}\\`}(d||(a.C1_ESCAPED=d={}))},7399:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const c=l(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(u,f,g,v){const y={type:0,cancel:!1,key:void 0},m=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?y.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?y.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?y.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(y.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(u.altKey){y.key=c.C0.ESC+c.C0.DEL;break}y.key=c.C0.DEL;break;case 9:if(u.shiftKey){y.key=c.C0.ESC+"[Z";break}y.key=c.C0.HT,y.cancel=!0;break;case 13:y.key=u.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,y.cancel=!0;break;case 27:y.key=c.C0.ESC,u.altKey&&(y.key=c.C0.ESC+c.C0.ESC),y.cancel=!0;break;case 37:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"D",y.key===c.C0.ESC+"[1;3D"&&(y.key=c.C0.ESC+(g?"b":"[1;5D"))):y.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"C",y.key===c.C0.ESC+"[1;3C"&&(y.key=c.C0.ESC+(g?"f":"[1;5C"))):y.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"A",g||y.key!==c.C0.ESC+"[1;3A"||(y.key=c.C0.ESC+"[1;5A")):y.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"B",g||y.key!==c.C0.ESC+"[1;3B"||(y.key=c.C0.ESC+"[1;5B")):y.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(y.key=c.C0.ESC+"[2~");break;case 46:y.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:y.key=m?c.C0.ESC+"[1;"+(m+1)+"H":f?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:y.key=m?c.C0.ESC+"[1;"+(m+1)+"F":f?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:u.shiftKey?y.type=2:u.ctrlKey?y.key=c.C0.ESC+"[5;"+(m+1)+"~":y.key=c.C0.ESC+"[5~";break;case 34:u.shiftKey?y.type=3:u.ctrlKey?y.key=c.C0.ESC+"[6;"+(m+1)+"~":y.key=c.C0.ESC+"[6~";break;case 112:y.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:y.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:y.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:y.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:y.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:y.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:y.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:y.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:y.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:y.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:y.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:y.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(g&&!v||!u.altKey||u.metaKey)!g||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?y.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(y.key=c.C0.US),u.key==="@"&&(y.key=c.C0.NUL)):u.keyCode===65&&(y.type=1);else{const p=d[u.keyCode],x=p==null?void 0:p[u.shiftKey?1:0];if(x)y.key=c.C0.ESC+x;else if(u.keyCode>=65&&u.keyCode<=90){const _=u.ctrlKey?u.keyCode-64:u.keyCode+32;let b=String.fromCharCode(_);u.shiftKey&&(b=b.toUpperCase()),y.key=c.C0.ESC+b}else if(u.keyCode===32)y.key=c.C0.ESC+(u.ctrlKey?c.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let _=u.code.slice(3,4);u.shiftKey||(_=_.toLowerCase()),y.key=c.C0.ESC+_,y.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?y.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?y.key=c.C0.NUL:u.keyCode>=51&&u.keyCode<=55?y.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?y.key=c.C0.DEL:u.keyCode===219?y.key=c.C0.ESC:u.keyCode===220?y.key=c.C0.FS:u.keyCode===221&&(y.key=c.C0.GS)}return y}},482:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},a.utf32ToString=function(l,c=0,d=l.length){let u="";for(let f=c;f<d;++f){let g=l[f];g>65535?(g-=65536,u+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):u+=String.fromCharCode(g)}return u},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const d=l.length;if(!d)return 0;let u=0,f=0;if(this._interim){const g=l.charCodeAt(f++);56320<=g&&g<=57343?c[u++]=1024*(this._interim-55296)+g-56320+65536:(c[u++]=this._interim,c[u++]=g),this._interim=0}for(let g=f;g<d;++g){const v=l.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=d)return this._interim=v,u;const y=l.charCodeAt(g);56320<=y&&y<=57343?c[u++]=1024*(v-55296)+y-56320+65536:(c[u++]=v,c[u++]=y)}else v!==65279&&(c[u++]=v)}return u}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const d=l.length;if(!d)return 0;let u,f,g,v,y=0,m=0,p=0;if(this.interim[0]){let b=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let C,M=0;for(;(C=63&this.interim[++M])&&M<4;)S<<=6,S|=C;const T=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,P=T-M;for(;p<P;){if(p>=d)return 0;if(C=l[p++],(192&C)!=128){p--,b=!0;break}this.interim[M++]=C,S<<=6,S|=63&C}b||(T===2?S<128?p--:c[y++]=S:T===3?S<2048||S>=55296&&S<=57343||S===65279||(c[y++]=S):S<65536||S>1114111||(c[y++]=S)),this.interim.fill(0)}const x=d-4;let _=p;for(;_<d;){for(;!(!(_<x)||128&(u=l[_])||128&(f=l[_+1])||128&(g=l[_+2])||128&(v=l[_+3]));)c[y++]=u,c[y++]=f,c[y++]=g,c[y++]=v,_+=4;if(u=l[_++],u<128)c[y++]=u;else if((224&u)==192){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(m=(31&u)<<6|63&f,m<128){_--;continue}c[y++]=m}else if((240&u)==224){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,y;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(15&u)<<12|(63&f)<<6|63&g,m<2048||m>=55296&&m<=57343||m===65279)continue;c[y++]=m}else if((248&u)==240){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,y;if(g=l[_++],(192&g)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,this.interim[2]=g,y;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(7&u)<<18|(63&f)<<12|(63&g)<<6|63&v,m<65536||m>1114111)continue;c[y++]=m}}return y}}},225:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let d;a.UnicodeV6=class{constructor(){if(this.version="6",!d){d=new Uint8Array(65536),d.fill(1),d[0]=0,d.fill(0,1,32),d.fill(0,127,160),d.fill(2,4352,4448),d[9001]=2,d[9002]=2,d.fill(2,11904,42192),d[12351]=1,d.fill(2,44032,55204),d.fill(2,63744,64256),d.fill(2,65040,65050),d.fill(2,65072,65136),d.fill(2,65280,65377),d.fill(2,65504,65511);for(let u=0;u<l.length;++u)d.fill(0,l[u][0],l[u][1]+1)}}wcwidth(u){return u<32?0:u<127?1:u<65536?d[u]:function(f,g){let v,y=0,m=g.length-1;if(f<g[0][0]||f>g[m][1])return!1;for(;m>=y;)if(v=y+m>>1,f>g[v][1])y=v+1;else{if(!(f<g[v][0]))return!0;m=v-1}return!1}(u,c)?0:u>=131072&&u<=196605||u>=196608&&u<=262141?2:1}}},5981:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const c=l(8460),d=l(844);class u extends d.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,v){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v)}_innerWrite(g=0,v=!0){const y=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],p=this._action(m,v);if(p){const _=b=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(y,b);return void p.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const x=this._callbacks[this._bufferOffset];if(x&&x(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=u},5941:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function d(u,f){const g=u.toString(16),v=g.length<2?"0"+g:g;switch(f){case 4:return g[0];case 8:return v;case 12:return(v+v).slice(0,3);default:return v+v}}a.parseColor=function(u){if(!u)return;let f=u.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);const g=l.exec(f);if(g){const v=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/v*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/v*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/v*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),c.exec(f)&&[3,6,9,12].includes(f.length))){const g=f.length/3,v=[0,0,0];for(let y=0;y<3;++y){const m=parseInt(f.slice(g*y,g*y+g),16);v[y]=g===1?m<<4:g===2?m:g===3?m>>4:m>>8}return v}},a.toRgbString=function(u,f=16){const[g,v,y]=u;return`rgb:${d(g,f)}/${d(v,f)}/${d(y,f)}`}},5770:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const c=l(482),d=l(8742),u=l(5770),f=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}registerHandler(v,y){this._handlers[v]===void 0&&(this._handlers[v]=[]);const m=this._handlers[v];return m.push(y),{dispose:()=>{const p=m.indexOf(y);p!==-1&&m.splice(p,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}reset(){if(this._active.length)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0}hook(v,y){if(this.reset(),this._ident=v,this._active=this._handlers[v]||f,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(v,y,m){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(v,y,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(v,y,m))}unhook(v,y=!0){if(this._active.length){let m=!1,p=this._active.length-1,x=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,m=y,x=this._stack.fallThrough,this._stack.paused=!1),!x&&m===!1){for(;p>=0&&(m=this._active[p].unhook(v),m!==!0);p--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,m;p--}for(;p>=0;p--)if(m=this._active[p].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",v);this._active=f,this._ident=0}};const g=new d.Params;g.addParam(0),a.DcsHandler=class{constructor(v){this._handler=v,this._data="",this._params=g,this._hitLimit=!1}hook(v){this._params=v.length>1||v.params[0]?v.clone():g,this._data="",this._hitLimit=!1}put(v,y,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(v,y,m),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(v){let y=!1;if(this._hitLimit)y=!1;else if(v&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(m=>(this._params=g,this._data="",this._hitLimit=!1,m));return this._params=g,this._data="",this._hitLimit=!1,y}}},2015:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const c=l(844),d=l(8742),u=l(6242),f=l(6351);class g{constructor(p){this.table=new Uint8Array(p)}setDefault(p,x){this.table.fill(p<<4|x)}add(p,x,_,b){this.table[x<<8|p]=_<<4|b}addMany(p,x,_,b){for(let S=0;S<p.length;S++)this.table[x<<8|p[S]]=_<<4|b}}a.TransitionTable=g;const v=160;a.VT500_TRANSITION_TABLE=function(){const m=new g(4095),p=Array.apply(null,Array(256)).map((M,T)=>T),x=(M,T)=>p.slice(M,T),_=x(32,127),b=x(0,24);b.push(25),b.push.apply(b,x(28,32));const S=x(0,14);let C;for(C in m.setDefault(1,0),m.addMany(_,0,2,0),S)m.addMany([24,26,153,154],C,3,0),m.addMany(x(128,144),C,3,0),m.addMany(x(144,152),C,3,0),m.add(156,C,0,0),m.add(27,C,11,1),m.add(157,C,4,8),m.addMany([152,158,159],C,0,7),m.add(155,C,11,3),m.add(144,C,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(x(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(x(64,127),3,7,0),m.addMany(x(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(x(48,60),4,8,4),m.addMany(x(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(x(32,64),6,0,6),m.add(127,6,0,6),m.addMany(x(64,127),6,0,0),m.addMany(x(32,48),3,9,5),m.addMany(x(32,48),5,9,5),m.addMany(x(48,64),5,0,6),m.addMany(x(64,127),5,7,0),m.addMany(x(32,48),4,9,5),m.addMany(x(32,48),1,9,2),m.addMany(x(32,48),2,9,2),m.addMany(x(48,127),2,10,0),m.addMany(x(48,80),1,10,0),m.addMany(x(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(x(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(x(28,32),9,0,9),m.addMany(x(32,48),9,9,12),m.addMany(x(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(x(32,128),11,0,11),m.addMany(x(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(x(28,32),10,0,10),m.addMany(x(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(x(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(x(28,32),12,0,12),m.addMany(x(32,48),12,9,12),m.addMany(x(48,64),12,0,11),m.addMany(x(64,127),12,12,13),m.addMany(x(64,127),10,12,13),m.addMany(x(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(v,0,2,0),m.add(v,8,5,8),m.add(v,6,0,6),m.add(v,11,0,11),m.add(v,13,13,13),m}();class y extends c.Disposable{constructor(p=a.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(x,_,b)=>{},this._executeHandlerFb=x=>{},this._csiHandlerFb=(x,_)=>{},this._escHandlerFb=x=>{},this._errorHandlerFb=x=>x,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new f.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,x=[64,126]){let _=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=p.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<p.intermediates.length;++S){const C=p.intermediates.charCodeAt(S);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=C}}if(p.final.length!==1)throw new Error("final must be a single byte");const b=p.final.charCodeAt(0);if(x[0]>b||b>x[1])throw new Error(`final must be in range ${x[0]} .. ${x[1]}`);return _<<=8,_|=b,_}identToString(p){const x=[];for(;p;)x.push(String.fromCharCode(255&p)),p>>=8;return x.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,x){const _=this._identifier(p,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(x),{dispose:()=>{const S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,x){this._executeHandlers[p.charCodeAt(0)]=x}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,x){const _=this._identifier(p);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(x),{dispose:()=>{const S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,x){return this._dcsParser.registerHandler(this._identifier(p),x)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,x){return this._oscParser.registerHandler(p,x)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,x,_,b,S){this._parseStack.state=p,this._parseStack.handlers=x,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=S}parse(p,x,_){let b,S=0,C=0,M=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,M=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const T=this._parseStack.handlers;let P=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](this._params),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 6:if(S=p[this._parseStack.chunkPos],b=this._dcsParser.unhook(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=p[this._parseStack.chunkPos],b=this._oscParser.end(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,M=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let T=M;T<x;++T){switch(S=p[T],C=this._transitions.table[this.currentState<<8|(S<160?S:v)],C>>4){case 2:for(let j=T+1;;++j){if(j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:T,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const P=this._csiHandlers[this._collect<<8|S];let N=P?P.length-1:-1;for(;N>=0&&(b=P[N](this._params),b!==!0);N--)if(b instanceof Promise)return this._preserveStack(3,P,N,C,T),b;N<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++T<x&&(S=p[T])>47&&S<60);T--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const I=this._escHandlers[this._collect<<8|S];let k=I?I.length-1:-1;for(;k>=0&&(b=I[k](),b!==!0);k--)if(b instanceof Promise)return this._preserveStack(4,I,k,C,T),b;k<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let j=T+1;;++j)if(j>=x||(S=p[j])===24||S===26||S===27||S>127&&S<v){this._dcsParser.put(p,T,j),T=j-1;break}break;case 14:if(b=this._dcsParser.unhook(S!==24&&S!==26),b)return this._preserveStack(6,[],0,C,T),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let j=T+1;;j++)if(j>=x||(S=p[j])<32||S>127&&S<v){this._oscParser.put(p,T,j),T=j-1;break}break;case 6:if(b=this._oscParser.end(S!==24&&S!==26),b)return this._preserveStack(5,[],0,C,T),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}a.EscapeSequenceParser=y},6242:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const c=l(5770),d=l(482),u=[];a.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(f,g){this._handlers[f]===void 0&&(this._handlers[f]=[]);const v=this._handlers[f];return v.push(g),{dispose:()=>{const y=v.indexOf(g);y!==-1&&v.splice(y,1)}}}clearHandler(f){this._handlers[f]&&delete this._handlers[f]}setHandlerFallback(f){this._handlerFb=f}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")}_put(f,g,v){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(f,g,v);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(f,g,v))}start(){this.reset(),this._state=1}put(f,g,v){if(this._state!==3){if(this._state===1)for(;g<v;){const y=f[g++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&v-g>0&&this._put(f,g,v)}}end(f,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let v=!1,y=this._active.length-1,m=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,v=g,m=this._stack.fallThrough,this._stack.paused=!1),!m&&v===!1){for(;y>=0&&(v=this._active[y].end(f),v!==!0);y--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,v;y--}for(;y>=0;y--)if(v=this._active[y].end(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,v}else this._handlerFb(this._id,"END",f);this._active=u,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(f){this._handler=f,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(f,g,v){this._hitLimit||(this._data+=(0,d.utf32ToString)(f,g,v),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(f){let g=!1;if(this._hitLimit)g=!1;else if(f&&(g=this._handler(this._data),g instanceof Promise))return g.then(v=>(this._data="",this._hitLimit=!1,v));return this._data="",this._hitLimit=!1,g}}},8742:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const l=2147483647;class c{static fromArray(u){const f=new c;if(!u.length)return f;for(let g=Array.isArray(u[0])?1:0;g<u.length;++g){const v=u[g];if(Array.isArray(v))for(let y=0;y<v.length;++y)f.addSubParam(v[y]);else f.addParam(v)}return f}constructor(u=32,f=32){if(this.maxLength=u,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new c(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let f=0;f<this.length;++f){u.push(this.params[f]);const g=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];v-g>0&&u.push(Array.prototype.slice.call(this._subParams,g,v))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>l?l:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>l?l:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const f=this._subParamsIdx[u]>>8,g=255&this._subParamsIdx[u];return g-f>0?this._subParams.subarray(f,g):null}getSubParamsAll(){const u={};for(let f=0;f<this.length;++f){const g=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];v-g>0&&(u[f]=this._subParams.slice(g,v))}return u}addDigit(u){let f;if(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,v=g[f-1];g[f-1]=~v?Math.min(10*v+u,l):u}}a.Params=c},5741:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const d={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(d),c.dispose=()=>this._wrappedAddonDispose(d),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===l){c=d;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const c=l(3785),d=l(511);a.BufferApiView=class{constructor(u,f){this._buffer=u,this.type=f}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const f=this._buffer.lines.get(u);if(f)return new c.BufferLineApiView(f)}getNullCell(){return new d.CellData}}},3785:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const c=l(511);a.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,u){if(!(d<0||d>=this._line.length))return u?(this._line.loadCell(d,u),u):this._line.loadCell(d,new c.CellData)}translateToString(d,u,f){return this._line.translateToString(d,u,f)}}},8285:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const c=l(8771),d=l(8460),u=l(844);class f extends u.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=f},7975:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,d=>c(d.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(d,u)=>c(d,u.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const u=l(8460),f=l(844),g=l(5295),v=l(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let y=a.BufferService=class extends f.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(m,this))}resize(m,p){this.cols=m,this.rows=p,this.buffers.resize(m,p),this._onResize.fire({cols:m,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,p=!1){const x=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=x.getBlankLine(m,p),this._cachedBlankLine=_),_.isWrapped=p;const b=x.ybase+x.scrollTop,S=x.ybase+x.scrollBottom;if(x.scrollTop===0){const C=x.lines.isFull;S===x.lines.length-1?C?x.lines.recycle().copyFrom(_):x.lines.push(_.clone()):x.lines.splice(S+1,0,_.clone()),C?this.isUserScrolling&&(x.ydisp=Math.max(x.ydisp-1,0)):(x.ybase++,this.isUserScrolling||x.ydisp++)}else{const C=S-b+1;x.lines.shiftElements(b+1,C-1,-1),x.lines.set(S,_.clone())}this.isUserScrolling||(x.ydisp=x.ybase),this._onScroll.fire(x.ydisp)}scrollLines(m,p,x){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(p||this._onScroll.fire(_.ydisp))}};a.BufferService=y=c([d(0,v.IOptionsService)],y)},7994:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var M,T=arguments.length,P=T<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(M=_[N])&&(P=(T<3?M(P):T>3?M(b,S,P):M(b,S))||P);return T>3&&P&&Object.defineProperty(b,S,P),P},d=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const u=l(2585),f=l(8460),g=l(844),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function y(_,b){let S=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(S|=64,S|=_.action):(S|=3&_.button,4&_.button&&(S|=64),8&_.button&&(S|=128),_.action===32?S|=32:_.action!==0||b||(S|=3)),S}const m=String.fromCharCode,p={DEFAULT:_=>{const b=[y(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${y(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${y(_,!0)};${_.x};${_.y}${b}`}};let x=a.CoreMouseService=class extends g.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new f.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(v))this.addProtocol(S,v[S]);for(const S of Object.keys(p))this.addEncoding(S,p[S]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,S){if(S){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};a.CoreMouseService=x=c([d(0,u.IBufferService),d(1,u.ICoreService)],x)},6975:function(o,a,l){var c=this&&this.__decorate||function(x,_,b,S){var C,M=arguments.length,T=M<3?_:S===null?S=Object.getOwnPropertyDescriptor(_,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(x,_,b,S);else for(var P=x.length-1;P>=0;P--)(C=x[P])&&(T=(M<3?C(T):M>3?C(_,b,T):C(_,b))||T);return M>3&&T&&Object.defineProperty(_,b,T),T},d=this&&this.__param||function(x,_){return function(b,S){_(b,S,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const u=l(1439),f=l(8460),g=l(844),v=l(2585),y=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=a.CoreService=class extends g.Disposable{constructor(x,_,b){super(),this._bufferService=x,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new f.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new f.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(y),this.decPrivateModes=(0,u.clone)(m)}reset(){this.modes=(0,u.clone)(y),this.decPrivateModes=(0,u.clone)(m)}triggerDataEvent(x,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${x}"`,()=>x.split("").map(S=>S.charCodeAt(0))),this._onData.fire(x)}triggerBinaryEvent(x){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${x}"`,()=>x.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(x))}};a.CoreService=p=c([d(0,v.IBufferService),d(1,v.ILogService),d(2,v.IOptionsService)],p)},9074:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const c=l(8055),d=l(8460),u=l(844),f=l(6106);let g=0,v=0;class y extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new f.SortedList(x=>x==null?void 0:x.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(x){if(x.marker.isDisposed)return;const _=new m(x);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const x of this._decorations.values())x.dispose();this._decorations.clear()}*getDecorationsAtCell(x,_,b){var S,C,M;let T=0,P=0;for(const N of this._decorations.getKeyIterator(_))T=(S=N.options.x)!==null&&S!==void 0?S:0,P=T+((C=N.options.width)!==null&&C!==void 0?C:1),x>=T&&x<P&&(!b||((M=N.options.layer)!==null&&M!==void 0?M:"bottom")===b)&&(yield N)}forEachDecorationAtCell(x,_,b,S){this._decorations.forEachByKey(_,C=>{var M,T,P;g=(M=C.options.x)!==null&&M!==void 0?M:0,v=g+((T=C.options.width)!==null&&T!==void 0?T:1),x>=g&&x<v&&(!b||((P=C.options.layer)!==null&&P!==void 0?P:"bottom")===b)&&S(C)})}}a.DecorationService=y;class m extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(x){super(),this.options=x,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=x.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const c=l(2585),d=l(8343);class u{constructor(...g){this._entries=new Map;for(const[v,y]of g)this.set(v,y)}set(g,v){const y=this._entries.get(g);return this._entries.set(g,v),y}forEach(g){for(const[v,y]of this._entries.entries())g(v,y)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}a.ServiceCollection=u,a.InstantiationService=class{constructor(){this._services=new u,this._services.set(c.IInstantiationService,this)}setService(f,g){this._services.set(f,g)}getService(f){return this._services.get(f)}createInstance(f,...g){const v=(0,d.getServiceDependencies)(f).sort((p,x)=>p.index-x.index),y=[];for(const p of v){const x=this._services.get(p.id);if(!x)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${p.id}.`);y.push(x)}const m=v.length>0?v[0].index:g.length;if(g.length!==m)throw new Error(`[createInstance] First service dependency of ${f.name} at position ${m+1} conflicts with ${g.length} static arguments`);return new f(...g,...y)}}},7866:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const u=l(844),f=l(2585),g={trace:f.LogLevelEnum.TRACE,debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let v,y=a.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),v=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let p=0;p<m.length;p++)typeof m[p]=="function"&&(m[p]=m[p]())}_log(m,p,x){this._evalLazyOptionalParams(x),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...x)}trace(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.TRACE&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}debug(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.DEBUG&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}info(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.INFO&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,p)}warn(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.WARN&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,p)}error(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.ERROR&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,p)}};a.LogService=y=c([d(0,f.IOptionsService)],y),a.setTraceLogger=function(m){v=m},a.traceCall=function(m,p,x){if(typeof x.value!="function")throw new Error("not supported");const _=x.value;x.value=function(...b){if(v.logLevel!==f.LogLevelEnum.TRACE)return _.apply(this,b);v.trace(`GlyphRenderer#${_.name}(${b.map(C=>JSON.stringify(C)).join(", ")})`);const S=_.apply(this,b);return v.trace(`GlyphRenderer#${_.name} return`,S),S}}},7302:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const c=l(8460),d=l(844),u=l(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends d.Disposable{constructor(y){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},a.DEFAULT_OPTIONS);for(const p in y)if(p in m)try{const x=y[p];m[p]=this._sanitizeAndValidateOption(p,x)}catch(x){console.error(x)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(y,m){return this.onOptionChange(p=>{p===y&&m(this.rawOptions[y])})}onMultipleOptionChange(y,m){return this.onOptionChange(p=>{y.indexOf(p)!==-1&&m()})}_setupOptions(){const y=p=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},m=(p,x)=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);x=this._sanitizeAndValidateOption(p,x),this.rawOptions[p]!==x&&(this.rawOptions[p]=x,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const x={get:y.bind(this,p),set:m.bind(this,p)};Object.defineProperty(this.options,p,x)}}_sanitizeAndValidateOption(y,m){switch(y){case"cursorStyle":if(m||(m=a.DEFAULT_OPTIONS[y]),!function(p){return p==="block"||p==="underline"||p==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${y}`);break;case"wordSeparator":m||(m=a.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=f.includes(m)?m:a.DEFAULT_OPTIONS[y];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${y} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${y} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}a.OptionsService=g},2660:function(o,a,l){var c=this&&this.__decorate||function(g,v,y,m){var p,x=arguments.length,_=x<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(g,v,y,m);else for(var b=g.length-1;b>=0;b--)(p=g[b])&&(_=(x<3?p(_):x>3?p(v,y,_):p(v,y))||_);return x>3&&_&&Object.defineProperty(v,y,_),_},d=this&&this.__param||function(g,v){return function(y,m){v(y,m,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const u=l(2585);let f=a.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const v=this._bufferService.buffer;if(g.id===void 0){const b=v.addMarker(v.ybase+v.y),S={data:g,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(S,b)),this._dataByLinkId.set(S.id,S),S.id}const y=g,m=this._getEntryIdKey(y),p=this._entriesWithId.get(m);if(p)return this.addLineToLink(p.id,v.ybase+v.y),p.id;const x=v.addMarker(v.ybase+v.y),_={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[x]};return x.onDispose(()=>this._removeMarkerFromLink(_,x)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(g,v){const y=this._dataByLinkId.get(g);if(y&&y.lines.every(m=>m.line!==v)){const m=this._bufferService.buffer.addMarker(v);y.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(y,m))}}getLinkData(g){var v;return(v=this._dataByLinkId.get(g))===null||v===void 0?void 0:v.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,v){const y=g.lines.indexOf(v);y!==-1&&(g.lines.splice(y,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};a.OscLinkService=f=c([d(0,u.IBufferService)],f)},8343:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(d){return d[c]||[]},a.createDecorator=function(d){if(a.serviceRegistry.has(d))return a.serviceRegistry.get(d);const u=function(f,g,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,m,p){m[l]===m?m[c].push({id:y,index:p}):(m[c]=[{id:y,index:p}],m[l]=m)})(u,f,v)};return u.toString=()=>d,a.serviceRegistry.set(d,u),u}},2585:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(8343);var d;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(d||(a.LogLevelEnum=d={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const c=l(8460),d=l(225);a.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const u=new d.UnicodeV6;this.register(u),this._active=u.version,this._activeProvider=u}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(u){if(!this._providers[u])throw new Error(`unknown Unicode version "${u}"`);this._active=u,this._activeProvider=this._providers[u],this._onChange.fire(u)}register(u){this._providers[u.version]=u}wcwidth(u){return this._activeProvider.wcwidth(u)}getStringCellWidth(u){let f=0;const g=u.length;for(let v=0;v<g;++v){let y=u.charCodeAt(v);if(55296<=y&&y<=56319){if(++v>=g)return f+this.wcwidth(y);const m=u.charCodeAt(v);56320<=m&&m<=57343?y=1024*(y-55296)+m-56320+65536:f+=this.wcwidth(m)}f+=this.wcwidth(y)}return f}}}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const a=i(9042),l=i(3236),c=i(844),d=i(5741),u=i(8285),f=i(7975),g=i(7090),v=["cols","rows"];class y extends c.Disposable{constructor(p){super(),this._core=this.register(new l.Terminal(p)),this._addonManager=this.register(new d.AddonManager),this._publicOptions=Object.assign({},this._core.options);const x=b=>this._core.options[b],_=(b,S)=>{this._checkReadonlyOptions(b),this._core.options[b]=S};for(const b in this._core.options){const S={get:x.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,S)}}_checkReadonlyOptions(p){if(v.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new f.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const x in p)this._publicOptions[x]=p[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(p,x){this._verifyIntegers(p,x),this._core.resize(p,x)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){var x,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((x=p.x)!==null&&x!==void 0?x:0,(_=p.width)!==null&&_!==void 0?_:0,(b=p.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,x,_){this._verifyIntegers(p,x,_),this._core.select(p,x,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,x){this._verifyIntegers(p,x),this._core.selectLines(p,x)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,x){this._core.write(p,x)}writeln(p,x){this._core.write(p),this._core.write(`\r
`,x)}paste(p){this._core.paste(p)}refresh(p,x){this._verifyIntegers(p,x),this._core.refresh(p,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return a}_verifyIntegers(...p){for(const x of p)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const x of p)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}o.Terminal=y})(),s})())})(ace);var Uet=ace.exports,cce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const o=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(a.getPropertyValue("height")),c=Math.max(0,parseInt(a.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),u=l-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),f=c-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-o;return{cols:Math.max(2,Math.floor(f/s.css.cell.width)),rows:Math.max(1,Math.floor(u/s.css.cell.height))}}}})(),n})())})(cce);var zet=cce.exports,uce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={6:(o,a)=>{function l(d){try{const u=new URL(d),f=u.password&&u.username?`${u.protocol}//${u.username}:${u.password}@${u.host}`:u.username?`${u.protocol}//${u.username}@${u.host}`:`${u.protocol}//${u.host}`;return d.toLocaleLowerCase().startsWith(f.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkComputer=a.WebLinkProvider=void 0,a.WebLinkProvider=class{constructor(d,u,f,g={}){this._terminal=d,this._regex=u,this._handler=f,this._options=g}provideLinks(d,u){const f=c.computeLink(d,this._regex,this._terminal,this._handler);u(this._addCallbacks(f))}_addCallbacks(d){return d.map(u=>(u.leave=this._options.leave,u.hover=(f,g)=>{if(this._options.hover){const{range:v}=u;this._options.hover(f,g,v)}},u))}};class c{static computeLink(u,f,g,v){const y=new RegExp(f.source,(f.flags||"")+"g"),[m,p]=c._getWindowedLineStrings(u-1,g),x=m.join("");let _;const b=[];for(;_=y.exec(x);){const S=_[0];if(!l(S))continue;const[C,M]=c._mapStrIdx(g,p,0,_.index),[T,P]=c._mapStrIdx(g,C,M,S.length);if(C===-1||M===-1||T===-1||P===-1)continue;const N={start:{x:M+1,y:C+1},end:{x:P,y:T+1}};b.push({range:N,text:S,activate:v})}return b}static _getWindowedLineStrings(u,f){let g,v=u,y=u,m=0,p="";const x=[];if(g=f.buffer.active.getLine(u)){const _=g.translateToString(!0);if(g.isWrapped&&_[0]!==" "){for(m=0;(g=f.buffer.active.getLine(--v))&&m<2048&&(p=g.translateToString(!0),m+=p.length,x.push(p),g.isWrapped&&p.indexOf(" ")===-1););x.reverse()}for(x.push(_),m=0;(g=f.buffer.active.getLine(++y))&&g.isWrapped&&m<2048&&(p=g.translateToString(!0),m+=p.length,x.push(p),p.indexOf(" ")===-1););}return[x,v]}static _mapStrIdx(u,f,g,v){const y=u.buffer.active,m=y.getNullCell();let p=g;for(;v;){const x=y.getLine(f);if(!x)return[-1,-1];for(let _=p;_<x.length;++_){x.getCell(_,m);const b=m.getChars();if(m.getWidth()&&(v-=b.length||1,_===x.length-1&&b==="")){const S=y.getLine(f+1);S&&S.isWrapped&&(S.getCell(0,m),m.getWidth()===2&&(v+=1))}if(v<0)return[f,_]}f++,p=0}return[f,p]}}a.LinkComputer=c}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o](l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.WebLinksAddon=void 0;const a=i(6),l=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(d,u){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}o.WebLinksAddon=class{constructor(d=c,u={}){this._handler=d,this._options=u}activate(d){this._terminal=d;const u=this._options,f=u.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new a.WebLinkProvider(this._terminal,f,this._handler,u))}dispose(){var d;(d=this._linkProvider)==null||d.dispose()}}})(),s})())})(uce);var $et=uce.exports;function Het(){console.log("TerminalTab component rendered");const t=A.useRef(null),[e,n]=A.useState([]),[r,i]=A.useState(""),[s,o]=A.useState(10),a=()=>{console.log("createTerminal called");const d=crypto.randomUUID(),u=`Terminal ${e.length+1}`,f=new Uet.Terminal({cursorBlink:!0,fontSize:s,fontFamily:"JetBrains Mono, monospace",theme:{background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",cursor:"hsl(var(--primary))",black:"hsl(var(--muted))",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"hsl(var(--foreground))"}}),g=new zet.FitAddon;f.loadAddon(g);const v=new $et.WebLinksAddon;f.loadAddon(v);const y=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=new WebSocket(`${y}//${window.location.host}/ws-api/ws/arcana/${d}?token=${m}`);p.onopen=()=>{console.log(`Orchestrator WebSocket connected for terminal ${d}`),f.writeln("Welcome to ARCANA Terminal (via Orchestrator)"),f.writeln("Cognitive Shell Interface v2.2.0"),f.writeln(""),g.fit();const _={type:"shell_resize",payload:{cols:f.cols,rows:f.rows}};p.send(JSON.stringify(_))},p.onmessage=_=>{try{const b=JSON.parse(_.data);b.type==="shell_output"&&b.payload.data?f.write(b.payload.data):console.log("Received unhandled message type:",b.type)}catch(b){console.error("Failed to parse WebSocket message:",b),f.write(_.data)}},p.onclose=()=>{console.log(`Terminal ${d} WebSocket disconnected`),f.writeln(`
\rConnection to terminal backend lost.`)},p.onerror=_=>{console.error(`Terminal ${d} WebSocket error:`,_),f.writeln(`
\rTerminal connection error.`)},f.onData(_=>{if(console.log(`terminal.onData for ${d}. Data: ${_}`),p.readyState===WebSocket.OPEN){const b={type:"shell_input",payload:{data:_}};p.send(JSON.stringify(b))}}),f.onResize(_=>{if(p.readyState===WebSocket.OPEN){const b={type:"shell_resize",payload:{cols:_.cols,rows:_.rows}};p.send(JSON.stringify(b))}});const x={id:d,name:u,terminal:f,fitAddon:g,ws:p};n(_=>[..._,x]),i(d)},l=d=>{console.log(`closeTerminal called for ${d}`);const u=e.find(g=>g.id===d);u&&(u.terminal.dispose(),u.ws.close());const f=e.filter(g=>g.id!==d);n(f),r===d&&f.length>0?i(f[0].id):r===d&&f.length===0&&i("")},c=d=>{o(u=>{const f=Math.max(5,Math.min(20,u+d));return e.forEach(g=>{g.terminal.options.fontSize=f,g.fitAddon.fit()}),f})};return A.useEffect(()=>{console.log("useEffect [terminals] triggered. terminals.length:",e.length),e.length===0&&a();const d=new ResizeObserver(()=>{console.log("ResizeObserver triggered."),e.forEach(u=>u.fitAddon.fit())});return t.current?(console.log("Observing terminalContainerRef.current for resize."),d.observe(t.current)):console.warn("terminalContainerRef.current is null in useEffect [terminals]. Cannot observe for resize."),()=>{console.log("useEffect [terminals] cleanup function executed."),e.forEach(u=>{console.log(`Disposing terminal ${u.id}.`),u.terminal.dispose()}),d.disconnect()}},[e]),A.useEffect(()=>{console.log("useEffect [activeTerminal] triggered. activeTerminal:",r);const d=e.find(u=>u.id===r);e.forEach(u=>{u.id!==r&&u.terminal.element&&u.terminal.element.parentNode&&(u.terminal.element.parentNode.removeChild(u.terminal.element),console.log(`Detached terminal ${u.id}`))}),d&&t.current?(console.log(`Attempting to display terminal ${d.id} in container.`),(!d.terminal.element||d.terminal.element.parentNode!==t.current)&&(t.current.innerHTML!==""&&(t.current.innerHTML=""),d.terminal.open(t.current),console.log(`Terminal ${d.id} opened/reattached.`)),d.terminal.focus(),d.fitAddon.fit(),console.log(`FitAddon.fit() called for terminal ${d.id}.`)):console.warn("No active terminal or terminalContainerRef.current is null in useEffect [activeTerminal].")},[r,e]),h.jsxs("div",{className:"h-full flex flex-col p-6",children:[h.jsxs(Xe,{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"border-b bg-card/50 px-4 py-2 flex items-center justify-between",children:[h.jsx(Vl,{value:r,onValueChange:i,className:"flex-1",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Wa,{className:"bg-transparent h-9",children:e.map(d=>h.jsxs(Qn,{value:d.id,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-terminal-${d.id}`,children:[d.name,e.length>1&&h.jsx("button",{onClick:u=>{u.stopPropagation(),l(d.id)},className:"ml-1 hover:bg-muted rounded-sm p-0.5","data-testid":`button-close-terminal-${d.id}`,children:h.jsx(ub,{className:"h-4 w-4"})})]},d.id))}),h.jsx(We,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-new-terminal",children:h.jsx(Bh,{className:"h-4 w-4"})})]})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>c(-1),children:"-"}),h.jsxs("span",{children:[s,"px"]}),h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>c(1),children:"+"})]})]}),h.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:h.jsx("div",{ref:t,className:"h-full w-full rounded-md overflow-hidden bg-background"})})]}),h.jsxs("div",{className:"mt-4 text-xs text-muted-foreground flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{children:"CWD: ~/projects/vareon"}),h.jsx("span",{children:"Shell: bash"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Ctrl+C"}),h.jsx("span",{children:"Interrupt"}),h.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs ml-4",children:"Ctrl+L"}),h.jsx("span",{children:"Clear"})]})]})]})}function oG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vet(t){if(Array.isArray(t))return t}function Wet(t,e,n){return(e=Qet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Get(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(n),!0).forEach(function(r){Wet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qet(t,e){if(t==null)return{};var n,r,i=Ket(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ket(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yet(t,e){return Vet(t)||Get(t,e)||Jet(t,e)||Xet()}function Zet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qet(t){var e=Zet(t,"string");return typeof e=="symbol"?e:e+""}function Jet(t,e){if(t){if(typeof t=="string")return oG(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oG(t,e):void 0}}function ett(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cG(Object(n),!0).forEach(function(r){ett(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ttt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function M0(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(n,[].concat(i,a))}}}function CM(t){return{}.toString.call(t).includes("Object")}function ntt(t){return!Object.keys(t).length}function S_(t){return typeof t=="function"}function rtt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function itt(t,e){return CM(e)||dd("changeType"),Object.keys(e).some(function(n){return!rtt(t,n)})&&dd("changeField"),e}function stt(t){S_(t)||dd("selectorType")}function ott(t){S_(t)||CM(t)||dd("handlerType"),CM(t)&&Object.values(t).some(function(e){return!S_(e)})&&dd("handlersType")}function att(t){t||dd("initialIsRequired"),CM(t)||dd("initialType"),ntt(t)&&dd("initialContent")}function ltt(t,e){throw new Error(t[e]||t.default)}var ctt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},dd=M0(ltt)(ctt),X1={changes:itt,selector:stt,handler:ott,initial:att};function utt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X1.initial(t),X1.handler(e);var n={current:t},r=M0(htt)(n,e),i=M0(ftt)(n),s=M0(X1.changes)(t),o=M0(dtt)(n);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return X1.selector(c),c(n.current)}function l(c){ttt(r,i,s,o)(c)}return[a,l]}function dtt(t,e){return S_(e)?e(t.current):e}function ftt(t,e){return t.current=uG(uG({},t.current),e),e}function htt(t,e,n){return S_(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var ptt={create:utt},mtt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function gtt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(n,[].concat(i,a))}}}function vtt(t){return{}.toString.call(t).includes("Object")}function ytt(t){return t||dG("configIsRequired"),vtt(t)||dG("configType"),t.urls?(xtt(),{paths:{vs:t.urls.monacoBase}}):t}function xtt(){console.warn(dce.deprecation)}function _tt(t,e){throw new Error(t[e]||t.default)}var dce={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},dG=gtt(_tt)(dce),btt={config:ytt},wtt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function fce(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],fce(t[n],e[n]))}),lG(lG({},t),e)}var Stt={type:"cancelation",msg:"operation is manually canceled"};function eO(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(Stt):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var Ett=["monaco"],Ctt=ptt.create({config:mtt,isInitialized:!1,resolve:null,reject:null,monaco:null}),hce=Yet(Ctt,2),Gb=hce[0],_P=hce[1];function Mtt(t){var e=btt.config(t),n=e.monaco,r=qet(e,Ett);_P(function(i){return{config:fce(i.config,r),monaco:n}})}function Att(){var t=Gb(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(_P({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),eO(tO);if(window.monaco&&window.monaco.editor)return pce(window.monaco),t.resolve(window.monaco),eO(tO);wtt(Ttt,Ntt)(Rtt)}return eO(tO)}function Ttt(t){return document.body.appendChild(t)}function Ptt(t){var e=document.createElement("script");return t&&(e.src=t),e}function Ntt(t){var e=Gb(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=Ptt("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Rtt(){var t=Gb(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m;pce(r),t.resolve(r)},function(n){t.reject(n)})}function pce(t){Gb().monaco||_P({monaco:t})}function Ott(){return Gb(function(t){var e=t.monaco;return e})}var tO=new Promise(function(t,e){return _P({resolve:t,reject:e})}),mce={config:Mtt,init:Att,__getMonacoInstance:Ott},Itt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},nO=Itt,ktt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Dtt=ktt;function Ltt({children:t}){return ee.createElement("div",{style:Dtt.container},t)}var jtt=Ltt,Ftt=jtt;function Btt({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return ee.createElement("section",{style:{...nO.wrapper,width:t,height:e},...o},!n&&ee.createElement(Ftt,null,r),ee.createElement("div",{ref:i,style:{...nO.fullWidth,...!n&&nO.hide},className:s}))}var Utt=Btt,gce=A.memo(Utt);function ztt(t){A.useEffect(t,[])}var vce=ztt;function $tt(t,e,n=!0){let r=A.useRef(!0);A.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Ys=$tt;function Z0(){}function Mm(t,e,n,r){return Htt(t,r)||Vtt(t,e,n,r)}function Htt(t,e){return t.editor.getModel(yce(t,e))}function Vtt(t,e,n,r){return t.editor.createModel(e,n,r?yce(t,r):void 0)}function yce(t,e){return t.Uri.parse(e)}function Wtt({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:d="Loading...",options:u={},height:f="100%",width:g="100%",className:v,wrapperProps:y={},beforeMount:m=Z0,onMount:p=Z0}){let[x,_]=A.useState(!1),[b,S]=A.useState(!0),C=A.useRef(null),M=A.useRef(null),T=A.useRef(null),P=A.useRef(p),N=A.useRef(m),I=A.useRef(!1);vce(()=>{let B=mce.init();return B.then(U=>(M.current=U)&&S(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>C.current?F():B.cancel()}),Ys(()=>{if(C.current&&M.current){let B=C.current.getOriginalEditor(),U=Mm(M.current,t||"",r||n||"text",s||"");U!==B.getModel()&&B.setModel(U)}},[s],x),Ys(()=>{if(C.current&&M.current){let B=C.current.getModifiedEditor(),U=Mm(M.current,e||"",i||n||"text",o||"");U!==B.getModel()&&B.setModel(U)}},[o],x),Ys(()=>{let B=C.current.getModifiedEditor();B.getOption(M.current.editor.EditorOption.readOnly)?B.setValue(e||""):e!==B.getValue()&&(B.executeEdits("",[{range:B.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),B.pushUndoStop())},[e],x),Ys(()=>{var B,U;(U=(B=C.current)==null?void 0:B.getModel())==null||U.original.setValue(t||"")},[t],x),Ys(()=>{let{original:B,modified:U}=C.current.getModel();M.current.editor.setModelLanguage(B,r||n||"text"),M.current.editor.setModelLanguage(U,i||n||"text")},[n,r,i],x),Ys(()=>{var B;(B=M.current)==null||B.editor.setTheme(c)},[c],x),Ys(()=>{var B;(B=C.current)==null||B.updateOptions(u)},[u],x);let k=A.useCallback(()=>{var H;if(!M.current)return;N.current(M.current);let B=Mm(M.current,t||"",r||n||"text",s||""),U=Mm(M.current,e||"",i||n||"text",o||"");(H=C.current)==null||H.setModel({original:B,modified:U})},[n,e,i,t,r,s,o]),j=A.useCallback(()=>{var B;!I.current&&T.current&&(C.current=M.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...u}),k(),(B=M.current)==null||B.editor.setTheme(c),_(!0),I.current=!0)},[u,c,k]);A.useEffect(()=>{x&&P.current(C.current,M.current)},[x]),A.useEffect(()=>{!b&&!x&&j()},[b,x,j]);function F(){var U,H,R,L;let B=(U=C.current)==null?void 0:U.getModel();a||((H=B==null?void 0:B.original)==null||H.dispose()),l||((R=B==null?void 0:B.modified)==null||R.dispose()),(L=C.current)==null||L.dispose()}return ee.createElement(gce,{width:g,height:f,isEditorReady:x,loading:d,_ref:T,className:v,wrapperProps:y})}var Gtt=Wtt;A.memo(Gtt);function Xtt(t){let e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}var qtt=Xtt,q1=new Map;function Ktt({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:d={},saveViewState:u=!0,keepCurrentModel:f=!1,width:g="100%",height:v="100%",className:y,wrapperProps:m={},beforeMount:p=Z0,onMount:x=Z0,onChange:_,onValidate:b=Z0}){let[S,C]=A.useState(!1),[M,T]=A.useState(!0),P=A.useRef(null),N=A.useRef(null),I=A.useRef(null),k=A.useRef(x),j=A.useRef(p),F=A.useRef(),B=A.useRef(r),U=qtt(s),H=A.useRef(!1),R=A.useRef(!1);vce(()=>{let W=mce.init();return W.then(G=>(P.current=G)&&T(!1)).catch(G=>(G==null?void 0:G.type)!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>N.current?z():W.cancel()}),Ys(()=>{var G,q,ne,ae;let W=Mm(P.current,t||r||"",e||i||"",s||n||"");W!==((G=N.current)==null?void 0:G.getModel())&&(u&&q1.set(U,(q=N.current)==null?void 0:q.saveViewState()),(ne=N.current)==null||ne.setModel(W),u&&((ae=N.current)==null||ae.restoreViewState(q1.get(s))))},[s],S),Ys(()=>{var W;(W=N.current)==null||W.updateOptions(c)},[c],S),Ys(()=>{!N.current||r===void 0||(N.current.getOption(P.current.editor.EditorOption.readOnly)?N.current.setValue(r):r!==N.current.getValue()&&(R.current=!0,N.current.executeEdits("",[{range:N.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),N.current.pushUndoStop(),R.current=!1))},[r],S),Ys(()=>{var G,q;let W=(G=N.current)==null?void 0:G.getModel();W&&i&&((q=P.current)==null||q.editor.setModelLanguage(W,i))},[i],S),Ys(()=>{var W;a!==void 0&&((W=N.current)==null||W.revealLine(a))},[a],S),Ys(()=>{var W;(W=P.current)==null||W.editor.setTheme(o)},[o],S);let L=A.useCallback(()=>{var W;if(!(!I.current||!P.current)&&!H.current){j.current(P.current);let G=s||n,q=Mm(P.current,r||t||"",e||i||"",G||"");N.current=(W=P.current)==null?void 0:W.editor.create(I.current,{model:q,automaticLayout:!0,...c},d),u&&N.current.restoreViewState(q1.get(G)),P.current.editor.setTheme(o),a!==void 0&&N.current.revealLine(a),C(!0),H.current=!0}},[t,e,n,r,i,s,c,d,u,o,a]);A.useEffect(()=>{S&&k.current(N.current,P.current)},[S]),A.useEffect(()=>{!M&&!S&&L()},[M,S,L]),B.current=r,A.useEffect(()=>{var W,G;S&&_&&((W=F.current)==null||W.dispose(),F.current=(G=N.current)==null?void 0:G.onDidChangeModelContent(q=>{R.current||_(N.current.getValue(),q)}))},[S,_]),A.useEffect(()=>{if(S){let W=P.current.editor.onDidChangeMarkers(G=>{var ne;let q=(ne=N.current.getModel())==null?void 0:ne.uri;if(q&&G.find(ae=>ae.path===q.path)){let ae=P.current.editor.getModelMarkers({resource:q});b==null||b(ae)}});return()=>{W==null||W.dispose()}}return()=>{}},[S,b]);function z(){var W,G;(W=F.current)==null||W.dispose(),f?u&&q1.set(s,N.current.saveViewState()):(G=N.current.getModel())==null||G.dispose(),N.current.dispose()}return ee.createElement(gce,{width:g,height:v,isEditorReady:S,loading:l,_ref:I,className:y,wrapperProps:m})}var Ytt=Ktt,Ztt=A.memo(Ytt),Qtt=Ztt;const xce=({node:t,path:e,onSelect:n})=>{const[r,i]=A.useState(!1),s=`${e}/${t.name}`;return t.type==="folder"?h.jsxs("div",{className:"ml-4",children:[h.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>i(!r),children:[r?h.jsx(Mv,{size:16}):h.jsx(ab,{size:16}),h.jsx(n0e,{size:16,className:"mr-2 ml-1"}),h.jsx("span",{children:t.name})]}),r&&t.children&&h.jsx("div",{children:t.children.map((o,a)=>h.jsx(xce,{node:o,path:s,onSelect:n},a))})]}):h.jsxs("div",{className:"ml-4 flex items-center cursor-pointer",onClick:()=>n(s),children:[h.jsx(e0e,{size:16,className:"mr-2 ml-1"}),h.jsx("span",{children:t.name})]})},Jtt=({root:t,onSelect:e})=>{var n;return h.jsx("div",{children:(n=t.children)==null?void 0:n.map((r,i)=>h.jsx(xce,{node:r,path:"",onSelect:e},i))})},ent={name:"root",type:"folder",children:[{name:"package.json",type:"file"},{name:"README.md",type:"file"},{name:"src",type:"folder",children:[{name:"index.js",type:"file"},{name:"App.js",type:"file"},{name:"components",type:"folder",children:[{name:"Button.js",type:"file"},{name:"Card.js",type:"file"}]}]}]},fG=[{id:"agent-1",name:"Fullstack App Builder",description:"Builds fullstack applications from high-level descriptions.",goal:"Create a simple e-commerce platform",status:"idle",lastActivity:"2025-11-08 10:00 AM",currentStep:"Awaiting task...",logs:[],generatedCode:"// Select an agent and a task to see generated code",repo:"vareon/vareon-frontend",branch:"main"},{id:"agent-2",name:"Bug Fixer Agent",description:"Identifies and fixes bugs in existing codebases.",goal:"Fix authentication bug in user service",status:"awaiting_human_input",lastActivity:"2025-11-09 09:35 AM",currentStep:"Waiting for approval to apply patch.",logs:[{type:"thought",content:"Starting analysis...",timestamp:"09:30:01"},{type:"command",content:'grep -r "authenticate" src/',timestamp:"09:30:05"},{type:"output",content:"src/auth/auth.py: def authenticate(user, pass): ...",timestamp:"09:30:06"},{type:"thought",content:"Identified potential issue in auth.py. The password check is too simple.",timestamp:"09:31:10"},{type:"thought",content:"Generating a patch to add hashing and salting.",timestamp:"09:32:00"},{type:"human_input_needed",content:"Generated a patch to fix the authentication vulnerability. Should I apply it to `src/auth/auth.py`?",timestamp:"09:35:00"}],generatedCode:`import hashlib
import os

def authenticate(user, password):
-   # Insecure password check
-   if user.password == password:
-       return True
-   return False
+   # Secure password check with hashing and salting
+   salt = user.password_salt
+   hashed_password = hashlib.pbkdf2_hmac('sha256', password.encode('utf-8'), salt, 100000)
+   return user.password_hash == hashed_password
`,repo:"vareon/vareon-backend",branch:"bugfix/auth-vulnerability"}],tnt=["vareon/vareon-frontend","vareon/vareon-backend","vareon/infra-config"],nnt=["main","develop","staging","bugfix/auth-vulnerability"];function rnt(){const[t,e]=A.useState(fG),[n,r]=A.useState(fG[1]),[i,s]=A.useState(!0),o=l=>{r(l)},a=l=>{if(!n)return;const c={type:l?"thought":"error",content:l?"User approved the change. Applying patch...":"User rejected the change. Halting execution.",timestamp:new Date().toLocaleTimeString()};e(d=>d.map(u=>u.id===n.id?{...u,status:l?"coding":"idle",logs:[...u.logs,c]}:u)),r(d=>d?{...d,status:l?"coding":"idle",logs:[...d.logs,c]}:null)};return h.jsxs(yZe,{direction:"horizontal",className:"h-full w-full",children:[h.jsx(qR,{defaultSize:25,children:h.jsxs(Xe,{className:"h-full flex flex-col",children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(x0e,{className:"h-5 w-5"})," Autonomous Agents"]}),h.jsx(Bt,{children:"Define, manage, and monitor your AI agents."})]}),h.jsxs(at,{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs(We,{className:"w-full mb-4",children:[h.jsx(Kye,{className:"mr-2 h-4 w-4"})," Create Agent"]}),h.jsx(mE,{className:"my-4"}),h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Agents"}),h.jsx(Zm,{className:"flex-1 pr-4",children:h.jsxs(zb,{children:[h.jsx($b,{children:h.jsxs(Ml,{children:[h.jsx(Qr,{children:"Name"}),h.jsx(Qr,{children:"Status"})]})}),h.jsx(Hb,{children:t.map(l=>h.jsxs(Ml,{onClick:()=>o(l),className:(n==null?void 0:n.id)===l.id?"bg-accent/50 cursor-pointer":"cursor-pointer",children:[h.jsx(Br,{className:"font-medium",children:l.name}),h.jsx(Br,{children:h.jsx(dn,{children:l.status})})]},l.id))})]})})]})]})}),h.jsx(qW,{withHandle:!0}),h.jsx(qR,{defaultSize:35,children:h.jsx("div",{className:"h-full flex flex-col gap-4 p-4",children:n?h.jsxs(h.Fragment,{children:[i?h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Nx,{className:"h-5 w-5"})," Project Context"]})}),h.jsxs(at,{children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx(pn,{children:"Repository"}),h.jsxs(Go,{defaultValue:n.repo,children:[h.jsx(uo,{children:h.jsx(Xo,{})}),h.jsx(fo,{children:tnt.map(l=>h.jsx(cn,{value:l,children:l},l))})]})]}),h.jsxs("div",{children:[h.jsx(pn,{children:"Branch"}),h.jsxs(Go,{defaultValue:n.branch,children:[h.jsx(uo,{children:h.jsx(Xo,{})}),h.jsx(fo,{children:nnt.map(l=>h.jsxs(cn,{value:l,children:[h.jsx(S3,{className:"inline-block h-4 w-4 mr-2"}),l]},l))})]})]})]}),h.jsx(pn,{children:"File Explorer"}),h.jsx(Zm,{className:"h-48 border rounded-md p-2",children:h.jsx(Jtt,{root:ent,onSelect:l=>console.log(l)})})]})]}):h.jsx(Xe,{className:"flex items-center justify-center p-6",children:h.jsxs(We,{children:[h.jsx(Nx,{className:"mr-2 h-4 w-4"})," Connect to GitHub"]})}),h.jsxs(Xe,{className:"flex-1",children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Hye,{className:"h-5 w-5"})," Agent Details"]})}),h.jsxs(at,{children:[h.jsx("h3",{className:"font-semibold",children:n.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),h.jsx(mE,{className:"my-4"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Goal:"})," ",n.goal]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Status:"})," ",h.jsx(dn,{children:n.status})]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Current Step:"})," ",n.currentStep]})]}),h.jsx(mE,{className:"my-4"}),h.jsx(pn,{htmlFor:"newTaskGoal",children:"Submit New Task"}),h.jsx(hP,{id:"newTaskGoal",placeholder:"e.g., Refactor the Button component to use Tailwind CSS.",className:"my-2"}),h.jsxs(We,{className:"w-full",children:[h.jsx(Sg,{className:"mr-2 h-4 w-4"})," Run Agent"]})]})]})]}):h.jsx(Xe,{className:"h-full flex items-center justify-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Select an agent to begin."})})})}),h.jsx(qW,{withHandle:!0}),h.jsx(qR,{defaultSize:40,children:h.jsxs("div",{className:"h-full flex flex-col gap-4 p-4",children:[h.jsxs(Xe,{className:"flex-1 flex flex-col",children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(g0e,{className:"h-5 w-5"})," Agent Log & Thoughts"]})}),h.jsx(at,{className:"flex-1 overflow-hidden",children:h.jsx(Zm,{className:"h-full p-2 border rounded-md bg-black font-mono text-sm",children:n==null?void 0:n.logs.map((l,c)=>h.jsxs("div",{className:"mb-2",children:[h.jsxs("span",{className:"text-gray-500 mr-2",children:["[",l.timestamp,"]"]}),h.jsxs("span",{className:l.type==="thought"?"text-blue-400":l.type==="command"?"text-yellow-400":l.type==="output"?"text-green-400":l.type==="error"?"text-red-500":"text-white",children:[l.type==="command"&&"$ ",l.content]}),l.type==="human_input_needed"&&h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsxs(We,{size:"sm",variant:"outline",className:"bg-green-500 hover:bg-green-600",onClick:()=>a(!0),children:[h.jsx(b0e,{className:"h-4 w-4 mr-2"})," Approve"]}),h.jsxs(We,{size:"sm",variant:"outline",className:"bg-red-500 hover:bg-red-600",onClick:()=>a(!1),children:[h.jsx(_0e,{className:"h-4 w-4 mr-2"})," Deny"]})]})]},c))})})]}),h.jsxs(Xe,{className:"flex-1 flex flex-col",children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Px,{className:"h-5 w-5"})," Generated Code"]})}),h.jsx(at,{className:"flex-1 overflow-hidden p-0",children:h.jsx(Qtt,{height:"100%",language:"python",theme:"vs-dark",value:n==null?void 0:n.generatedCode,options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1}})})]})]})})]})}function int(){const t=$A(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"chat",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/arcana?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"ARCANA Cognitive System"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Conversational AI & Shell Interface"})]}),h.jsx(dn,{variant:"outline",children:"GPT-4 Active"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Vl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6",children:h.jsxs(Wa,{className:"bg-transparent h-12",children:[h.jsxs(Qn,{value:"chat",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-chat",children:[h.jsx(C3,{className:"h-4 w-4"}),"Chat Interface"]}),h.jsxs(Qn,{value:"terminal",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-terminal",children:[h.jsx(ja,{className:"h-4 w-4"}),"Terminal"]}),h.jsxs(Qn,{value:"memory",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-memory",children:[h.jsx(Cd,{className:"h-4 w-4"})," ","Context Memory"]}),h.jsxs(Qn,{value:"agent",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-agent",children:[h.jsx(_l,{className:"h-4 w-4"})," ","Arcana Mode Agent"]})]})}),h.jsxs("div",{className:"flex-1 overflow-hidden",children:[h.jsx(un,{value:"chat",className:"h-full m-0",children:h.jsx(Bet,{})}),h.jsx(un,{value:"terminal",className:"h-full m-0",children:h.jsx(Het,{})}),h.jsxs(un,{value:"memory",className:"h-full m-0",children:[h.jsx(oce,{})," "]}),h.jsxs(un,{value:"agent",className:"h-full m-0",children:[h.jsx(rnt,{})," "]})]})]})})]})}const _ce=[{id:"1",name:"Workflow: Data Pipeline",type:"workflow",status:"running",progress:67,createdAt:new Date(Date.now()-18e5)},{id:"2",name:"Model Training: GPT Fine-tune",type:"training",status:"pending",progress:0,createdAt:new Date(Date.now()-3e5)},{id:"3",name:"Data Processing: Cleanup",type:"data",status:"completed",progress:100,createdAt:new Date(Date.now()-72e5)},{id:"4",name:"Device Sync: CNC-01",type:"device",status:"running",progress:45,createdAt:new Date(Date.now()-9e5)}],bce=[{id:"1",name:"GPT-4",provider:"openai",type:"chat",isActive:!0,reasoning:!0,role:"conversation"},{id:"2",name:"Claude-3.5-Sonnet",provider:"anthropic",type:"chat",isActive:!0,reasoning:!0,role:"reasoning"},{id:"3",name:"Codestral",provider:"mistral",type:"code",isActive:!0,reasoning:!1,role:"code_generation"},{id:"4",name:"Gemini-Pro",provider:"google",type:"chat",isActive:!0,reasoning:!1,role:"summarization"},{id:"5",name:"Llama-3-70B",provider:"meta",type:"chat",isActive:!1,reasoning:!1,role:"general"},{id:"6",name:"Mixtral-8x7B",provider:"mistral",type:"chat",isActive:!0,reasoning:!1,role:"intent_detection"},{id:"7",name:"Command-R",provider:"cohere",type:"chat",isActive:!0,reasoning:!1,role:"shell_conversion"}],wce={tokenUsage:[{date:"2024-01-01",tokens:125e3},{date:"2024-01-02",tokens:142e3},{date:"2024-01-03",tokens:138e3},{date:"2024-01-04",tokens:156e3},{date:"2024-01-05",tokens:149e3},{date:"2024-01-06",tokens:167e3},{date:"2024-01-07",tokens:171e3}],modelUsage:[{model:"GPT-4",count:1543},{model:"Claude-3.5",count:892},{model:"Gemini-Pro",count:654},{model:"Codestral",count:421},{model:"Mixtral",count:234}],systemMetrics:{cpu:[65,72,68,75,71,69,73,70,68,74],memory:[78,81,79,82,80,83,81,79,82,80],network:[42,38,45,41,39,43,40,44,42,38]}};var snt={value:()=>{}};function bP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yE(n)}function yE(t){this._=t}function ont(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yE.prototype=bP.prototype={constructor:yE,on:function(t,e){var n=this._,r=ont(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ant(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=hG(n[i],t.name,e);else if(e==null)for(i in n)n[i]=hG(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yE(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ant(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function hG(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=snt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var LL="http://www.w3.org/1999/xhtml";const pG={svg:"http://www.w3.org/2000/svg",xhtml:LL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wP(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),pG.hasOwnProperty(e)?{space:pG[e],local:t}:t}function lnt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===LL&&e.documentElement.namespaceURI===LL?e.createElement(t):e.createElementNS(n,t)}}function cnt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Sce(t){var e=wP(t);return(e.local?cnt:lnt)(e)}function unt(){}function AB(t){return t==null?unt:function(){return this.querySelector(t)}}function dnt(t){typeof t!="function"&&(t=AB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new ho(r,this._parents)}function fnt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hnt(){return[]}function Ece(t){return t==null?hnt:function(){return this.querySelectorAll(t)}}function pnt(t){return function(){return fnt(t.apply(this,arguments))}}function mnt(t){typeof t=="function"?t=pnt(t):t=Ece(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new ho(r,i)}function Cce(t){return function(){return this.matches(t)}}function Mce(t){return function(e){return e.matches(t)}}var gnt=Array.prototype.find;function vnt(t){return function(){return gnt.call(this.children,t)}}function ynt(){return this.firstElementChild}function xnt(t){return this.select(t==null?ynt:vnt(typeof t=="function"?t:Mce(t)))}var _nt=Array.prototype.filter;function bnt(){return Array.from(this.children)}function wnt(t){return function(){return _nt.call(this.children,t)}}function Snt(t){return this.selectAll(t==null?bnt:wnt(typeof t=="function"?t:Mce(t)))}function Ent(t){typeof t!="function"&&(t=Cce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new ho(r,this._parents)}function Ace(t){return new Array(t.length)}function Cnt(){return new ho(this._enter||this._groups.map(Ace),this._parents)}function MM(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}MM.prototype={constructor:MM,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mnt(t){return function(){return t}}function Ant(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new MM(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function Tnt(t,e,n,r,i,s,o){var a,l,c=new Map,d=e.length,u=s.length,f=new Array(d),g;for(a=0;a<d;++a)(l=e[a])&&(f[a]=g=o.call(l,l.__data__,a,e)+"",c.has(g)?i[a]=l:c.set(g,l));for(a=0;a<u;++a)g=o.call(t,s[a],a,s)+"",(l=c.get(g))?(r[a]=l,l.__data__=s[a],c.delete(g)):n[a]=new MM(t,s[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function Pnt(t){return t.__data__}function Nnt(t,e){if(!arguments.length)return Array.from(this,Pnt);var n=e?Tnt:Ant,r=this._parents,i=this._groups;typeof t!="function"&&(t=Mnt(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],u=i[c],f=u.length,g=Rnt(t.call(d,d&&d.__data__,c,r)),v=g.length,y=a[c]=new Array(v),m=o[c]=new Array(v),p=l[c]=new Array(f);n(d,u,y,m,p,g,e);for(var x=0,_=0,b,S;x<v;++x)if(b=y[x]){for(x>=_&&(_=x+1);!(S=m[_])&&++_<v;);b._next=S||null}}return o=new ho(o,r),o._enter=a,o._exit=l,o}function Rnt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ont(){return new ho(this._exit||this._groups.map(Ace),this._parents)}function Int(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function knt(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],d=r[l],u=c.length,f=a[l]=new Array(u),g,v=0;v<u;++v)(g=c[v]||d[v])&&(f[v]=g);for(;l<i;++l)a[l]=n[l];return new ho(a,this._parents)}function Dnt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Lnt(t){t||(t=jnt);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new ho(i,this._parents).order()}function jnt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Fnt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Bnt(){return Array.from(this)}function Unt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function znt(){let t=0;for(const e of this)++t;return t}function $nt(){return!this.node()}function Hnt(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Vnt(t){return function(){this.removeAttribute(t)}}function Wnt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gnt(t,e){return function(){this.setAttribute(t,e)}}function Xnt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qnt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Knt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ynt(t,e){var n=wP(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Wnt:Vnt:typeof e=="function"?n.local?Knt:qnt:n.local?Xnt:Gnt)(n,e))}function Tce(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Znt(t){return function(){this.style.removeProperty(t)}}function Qnt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jnt(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ert(t,e,n){return arguments.length>1?this.each((e==null?Znt:typeof e=="function"?Jnt:Qnt)(t,e,n??"")):iv(this.node(),t)}function iv(t,e){return t.style.getPropertyValue(e)||Tce(t).getComputedStyle(t,null).getPropertyValue(e)}function trt(t){return function(){delete this[t]}}function nrt(t,e){return function(){this[t]=e}}function rrt(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function irt(t,e){return arguments.length>1?this.each((e==null?trt:typeof e=="function"?rrt:nrt)(t,e)):this.node()[t]}function Pce(t){return t.trim().split(/^|\s+/)}function TB(t){return t.classList||new Nce(t)}function Nce(t){this._node=t,this._names=Pce(t.getAttribute("class")||"")}Nce.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rce(t,e){for(var n=TB(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Oce(t,e){for(var n=TB(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function srt(t){return function(){Rce(this,t)}}function ort(t){return function(){Oce(this,t)}}function art(t,e){return function(){(e.apply(this,arguments)?Rce:Oce)(this,t)}}function lrt(t,e){var n=Pce(t+"");if(arguments.length<2){for(var r=TB(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?art:e?srt:ort)(n,e))}function crt(){this.textContent=""}function urt(t){return function(){this.textContent=t}}function drt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function frt(t){return arguments.length?this.each(t==null?crt:(typeof t=="function"?drt:urt)(t)):this.node().textContent}function hrt(){this.innerHTML=""}function prt(t){return function(){this.innerHTML=t}}function mrt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function grt(t){return arguments.length?this.each(t==null?hrt:(typeof t=="function"?mrt:prt)(t)):this.node().innerHTML}function vrt(){this.nextSibling&&this.parentNode.appendChild(this)}function yrt(){return this.each(vrt)}function xrt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _rt(){return this.each(xrt)}function brt(t){var e=typeof t=="function"?t:Sce(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wrt(){return null}function Srt(t,e){var n=typeof t=="function"?t:Sce(t),r=e==null?wrt:typeof e=="function"?e:AB(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ert(){var t=this.parentNode;t&&t.removeChild(this)}function Crt(){return this.each(Ert)}function Mrt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Art(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Trt(t){return this.select(t?Art:Mrt)}function Prt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Nrt(t){return function(e){t.call(this,e,this.__data__)}}function Rrt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ort(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Irt(t,e,n){return function(){var r=this.__on,i,s=Nrt(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function krt(t,e,n){var r=Rrt(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(i=0,d=a[l];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?Irt:Ort,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Ice(t,e,n){var r=Tce(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Drt(t,e){return function(){return Ice(this,t,e)}}function Lrt(t,e){return function(){return Ice(this,t,e.apply(this,arguments))}}function jrt(t,e){return this.each((typeof e=="function"?Lrt:Drt)(t,e))}function*Frt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var kce=[null];function ho(t,e){this._groups=t,this._parents=e}function Xb(){return new ho([[document.documentElement]],kce)}function Brt(){return this}ho.prototype=Xb.prototype={constructor:ho,select:dnt,selectAll:mnt,selectChild:xnt,selectChildren:Snt,filter:Ent,data:Nnt,enter:Cnt,exit:Ont,join:Int,merge:knt,selection:Brt,order:Dnt,sort:Lnt,call:Fnt,nodes:Bnt,node:Unt,size:znt,empty:$nt,each:Hnt,attr:Ynt,style:ert,property:irt,classed:lrt,text:frt,html:grt,raise:yrt,lower:_rt,append:brt,insert:Srt,remove:Crt,clone:Trt,datum:Prt,on:krt,dispatch:jrt,[Symbol.iterator]:Frt};function ws(t){return typeof t=="string"?new ho([[document.querySelector(t)]],[document.documentElement]):new ho([[t]],kce)}function Urt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ya(t,e){if(t=Urt(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const zrt={passive:!1},E_={capture:!0,passive:!1};function rO(t){t.stopImmediatePropagation()}function Jm(t){t.preventDefault(),t.stopImmediatePropagation()}function Dce(t){var e=t.document.documentElement,n=ws(t).on("dragstart.drag",Jm,E_);"onselectstart"in e?n.on("selectstart.drag",Jm,E_):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Lce(t,e){var n=t.document.documentElement,r=ws(t).on("dragstart.drag",null);e&&(r.on("click.drag",Jm,E_),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const K1=t=>()=>t;function jL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}jL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function $rt(t){return!t.ctrlKey&&!t.button}function Hrt(){return this.parentNode}function Vrt(t,e){return e??{x:t.x,y:t.y}}function Wrt(){return navigator.maxTouchPoints||"ontouchstart"in this}function jce(){var t=$rt,e=Hrt,n=Vrt,r=Wrt,i={},s=bP("start","drag","end"),o=0,a,l,c,d,u=0;function f(b){b.on("mousedown.drag",g).filter(r).on("touchstart.drag",m).on("touchmove.drag",p,zrt).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,S){if(!(d||!t.call(this,b,S))){var C=_(this,e.call(this,b,S),b,S,"mouse");C&&(ws(b.view).on("mousemove.drag",v,E_).on("mouseup.drag",y,E_),Dce(b.view),rO(b),c=!1,a=b.clientX,l=b.clientY,C("start",b))}}function v(b){if(Jm(b),!c){var S=b.clientX-a,C=b.clientY-l;c=S*S+C*C>u}i.mouse("drag",b)}function y(b){ws(b.view).on("mousemove.drag mouseup.drag",null),Lce(b.view,c),Jm(b),i.mouse("end",b)}function m(b,S){if(t.call(this,b,S)){var C=b.changedTouches,M=e.call(this,b,S),T=C.length,P,N;for(P=0;P<T;++P)(N=_(this,M,b,S,C[P].identifier,C[P]))&&(rO(b),N("start",b,C[P]))}}function p(b){var S=b.changedTouches,C=S.length,M,T;for(M=0;M<C;++M)(T=i[S[M].identifier])&&(Jm(b),T("drag",b,S[M]))}function x(b){var S=b.changedTouches,C=S.length,M,T;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),M=0;M<C;++M)(T=i[S[M].identifier])&&(rO(b),T("end",b,S[M]))}function _(b,S,C,M,T,P){var N=s.copy(),I=ya(P||C,S),k,j,F;if((F=n.call(b,new jL("beforestart",{sourceEvent:C,target:f,identifier:T,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:N}),M))!=null)return k=F.x-I[0]||0,j=F.y-I[1]||0,function B(U,H,R){var L=I,z;switch(U){case"start":i[T]=B,z=o++;break;case"end":delete i[T],--o;case"drag":I=ya(R||H,S),z=o;break}N.call(U,b,new jL(U,{sourceEvent:H,subject:F,target:f,identifier:T,active:z,x:I[0]+k,y:I[1]+j,dx:I[0]-L[0],dy:I[1]-L[1],dispatch:N}),M)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:K1(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:K1(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:K1(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:K1(!!b),f):r},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(u=(b=+b)*b,f):Math.sqrt(u)},f}var sv=0,A0=0,Qy=0,Fce=1e3,AM,T0,TM=0,Nh=0,SP=0,C_=typeof performance=="object"&&performance.now?performance:Date,Bce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function PB(){return Nh||(Bce(Grt),Nh=C_.now()+SP)}function Grt(){Nh=0}function PM(){this._call=this._time=this._next=null}PM.prototype=Uce.prototype={constructor:PM,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?PB():+n)+(e==null?0:+e),!this._next&&T0!==this&&(T0?T0._next=this:AM=this,T0=this),this._call=t,this._time=n,FL()},stop:function(){this._call&&(this._call=null,this._time=1/0,FL())}};function Uce(t,e,n){var r=new PM;return r.restart(t,e,n),r}function Xrt(){PB(),++sv;for(var t=AM,e;t;)(e=Nh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--sv}function mG(){Nh=(TM=C_.now())+SP,sv=A0=0;try{Xrt()}finally{sv=0,Krt(),Nh=0}}function qrt(){var t=C_.now(),e=t-TM;e>Fce&&(SP-=e,TM=t)}function Krt(){for(var t,e=AM,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:AM=n);T0=t,FL(r)}function FL(t){if(!sv){A0&&(A0=clearTimeout(A0));var e=t-Nh;e>24?(t<1/0&&(A0=setTimeout(mG,t-C_.now()-SP)),Qy&&(Qy=clearInterval(Qy))):(Qy||(TM=C_.now(),Qy=setInterval(qrt,Fce)),sv=1,Bce(mG))}}function gG(t,e,n){var r=new PM;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Yrt=bP("start","end","cancel","interrupt"),Zrt=[],zce=0,vG=1,BL=2,xE=3,yG=4,UL=5,_E=6;function EP(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Qrt(t,n,{name:e,index:r,group:i,on:Yrt,tween:Zrt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:zce})}function NB(t,e){var n=Ga(t,e);if(n.state>zce)throw new Error("too late; already scheduled");return n}function Wl(t,e){var n=Ga(t,e);if(n.state>xE)throw new Error("too late; already running");return n}function Ga(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Qrt(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Uce(s,0,n.time);function s(c){n.state=vG,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,u,f,g;if(n.state!==vG)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===xE)return gG(o);g.state===yG?(g.state=_E,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[d]):+d<e&&(g.state=_E,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[d])}if(gG(function(){n.state===xE&&(n.state=yG,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=BL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===BL){for(n.state=xE,i=new Array(f=n.tween.length),d=0,u=-1;d<f;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=g);i.length=u+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=UL,1),u=-1,f=i.length;++u<f;)i[u].call(t,d);n.state===UL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=_E,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function bE(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>BL&&r.state<UL,r.state=_E,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Jrt(t){return this.each(function(){bE(this,t)})}function eit(t,e){var n,r;return function(){var i=Wl(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function tit(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Wl(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function nit(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ga(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?eit:tit)(n,t,e))}function RB(t,e,n){var r=t._id;return t.each(function(){var i=Wl(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ga(i,r).value[e]}}function $ce(t,e){var n;return(typeof e=="number"?ba:e instanceof _h?EC:(n=_h(e))?(e=n,EC):OJ)(t,e)}function rit(t){return function(){this.removeAttribute(t)}}function iit(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sit(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function oit(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ait(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function lit(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function cit(t,e){var n=wP(t),r=n==="transform"?e3e:$ce;return this.attrTween(t,typeof e=="function"?(n.local?lit:ait)(n,r,RB(this,"attr."+t,e)):e==null?(n.local?iit:rit)(n):(n.local?oit:sit)(n,r,e))}function uit(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function dit(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fit(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&dit(t,s)),n}return i._value=e,i}function hit(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&uit(t,s)),n}return i._value=e,i}function pit(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wP(t);return this.tween(n,(r.local?fit:hit)(r,e))}function mit(t,e){return function(){NB(this,t).delay=+e.apply(this,arguments)}}function git(t,e){return e=+e,function(){NB(this,t).delay=e}}function vit(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mit:git)(e,t)):Ga(this.node(),e).delay}function yit(t,e){return function(){Wl(this,t).duration=+e.apply(this,arguments)}}function xit(t,e){return e=+e,function(){Wl(this,t).duration=e}}function _it(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yit:xit)(e,t)):Ga(this.node(),e).duration}function bit(t,e){if(typeof e!="function")throw new Error;return function(){Wl(this,t).ease=e}}function wit(t){var e=this._id;return arguments.length?this.each(bit(e,t)):Ga(this.node(),e).ease}function Sit(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Wl(this,t).ease=n}}function Eit(t){if(typeof t!="function")throw new Error;return this.each(Sit(this._id,t))}function Cit(t){typeof t!="function"&&(t=Cce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new zc(r,this._parents,this._name,this._id)}function Mit(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],d=l.length,u=o[a]=new Array(d),f,g=0;g<d;++g)(f=l[g]||c[g])&&(u[g]=f);for(;a<r;++a)o[a]=e[a];return new zc(o,this._parents,this._name,this._id)}function Ait(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Tit(t,e,n){var r,i,s=Ait(e)?NB:Wl;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Pit(t,e){var n=this._id;return arguments.length<2?Ga(this.node(),n).on.on(t):this.each(Tit(n,t,e))}function Nit(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Rit(){return this.on("end.remove",Nit(this._id))}function Oit(t){var e=this._name,n=this._id;typeof t!="function"&&(t=AB(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),d,u,f=0;f<l;++f)(d=a[f])&&(u=t.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,EP(c[f],e,n,f,c,Ga(d,n)));return new zc(s,this._parents,e,n)}function Iit(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ece(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var f=t.call(d,d.__data__,u,l),g,v=Ga(d,n),y=0,m=f.length;y<m;++y)(g=f[y])&&EP(g,e,n,y,f,v);s.push(f),o.push(d)}return new zc(s,o,e,n)}var kit=Xb.prototype.constructor;function Dit(){return new kit(this._groups,this._parents)}function Lit(t,e){var n,r,i;return function(){var s=iv(this,t),o=(this.style.removeProperty(t),iv(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Hce(t){return function(){this.style.removeProperty(t)}}function jit(t,e,n){var r,i=n+"",s;return function(){var o=iv(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Fit(t,e,n){var r,i,s;return function(){var o=iv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),iv(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function Bit(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Wl(this,t),c=l.on,d=l.value[s]==null?a||(a=Hce(e)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(o,i=d),l.on=r}}function Uit(t,e,n){var r=(t+="")=="transform"?Jje:$ce;return e==null?this.styleTween(t,Lit(t,r)).on("end.style."+t,Hce(t)):typeof e=="function"?this.styleTween(t,Fit(t,r,RB(this,"style."+t,e))).each(Bit(this._id,t)):this.styleTween(t,jit(t,r,e),n).on("end.style."+t,null)}function zit(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $it(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&zit(t,o,n)),r}return s._value=e,s}function Hit(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,$it(t,e,n??""))}function Vit(t){return function(){this.textContent=t}}function Wit(t){return function(){var e=t(this);this.textContent=e??""}}function Git(t){return this.tween("text",typeof t=="function"?Wit(RB(this,"text",t)):Vit(t==null?"":t+""))}function Xit(t){return function(e){this.textContent=t.call(this,e)}}function qit(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Xit(i)),e}return r._value=t,r}function Kit(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,qit(t))}function Yit(){for(var t=this._name,e=this._id,n=Vce(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=Ga(l,e);EP(l,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new zc(r,this._parents,t,n)}function Zit(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Wl(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Qit=0;function zc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Vce(){return++Qit}var rc=Xb.prototype;zc.prototype={constructor:zc,select:Oit,selectAll:Iit,selectChild:rc.selectChild,selectChildren:rc.selectChildren,filter:Cit,merge:Mit,selection:Dit,transition:Yit,call:rc.call,nodes:rc.nodes,node:rc.node,size:rc.size,empty:rc.empty,each:rc.each,on:Pit,attr:cit,attrTween:pit,style:Uit,styleTween:Hit,text:Git,textTween:Kit,remove:Rit,tween:nit,delay:vit,duration:_it,ease:wit,easeVarying:Eit,end:Zit,[Symbol.iterator]:rc[Symbol.iterator]};function Jit(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var est={time:null,delay:0,duration:250,ease:Jit};function tst(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nst(t){var e,n;t instanceof zc?(e=t._id,t=t._name):(e=Vce(),(n=est).time=PB(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&EP(l,t,e,c,o,n||tst(l,e));return new zc(r,this._parents,t,e)}Xb.prototype.interrupt=Jrt;Xb.prototype.transition=nst;const Y1=t=>()=>t;function rst(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ec(t,e,n){this.k=t,this.x=e,this.y=n}Ec.prototype={constructor:Ec,scale:function(t){return t===1?this:new Ec(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ec(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var CP=new Ec(1,0,0);Wce.prototype=Ec.prototype;function Wce(t){for(;!t.__zoom;)if(!(t=t.parentNode))return CP;return t.__zoom}function iO(t){t.stopImmediatePropagation()}function Jy(t){t.preventDefault(),t.stopImmediatePropagation()}function ist(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function sst(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function xG(){return this.__zoom||CP}function ost(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ast(){return navigator.maxTouchPoints||"ontouchstart"in this}function lst(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Gce(){var t=ist,e=sst,n=lst,r=ost,i=ast,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=dE,c=bP("start","zoom","end"),d,u,f,g=500,v=150,y=0,m=10;function p(F){F.property("__zoom",xG).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(F,B,U,H){var R=F.selection?F.selection():F;R.property("__zoom",xG),F!==R?S(F,B,U,H):R.interrupt().each(function(){C(this,arguments).event(H).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},p.scaleBy=function(F,B,U,H){p.scaleTo(F,function(){var R=this.__zoom.k,L=typeof B=="function"?B.apply(this,arguments):B;return R*L},U,H)},p.scaleTo=function(F,B,U,H){p.transform(F,function(){var R=e.apply(this,arguments),L=this.__zoom,z=U==null?b(R):typeof U=="function"?U.apply(this,arguments):U,W=L.invert(z),G=typeof B=="function"?B.apply(this,arguments):B;return n(_(x(L,G),z,W),R,o)},U,H)},p.translateBy=function(F,B,U,H){p.transform(F,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,H)},p.translateTo=function(F,B,U,H,R){p.transform(F,function(){var L=e.apply(this,arguments),z=this.__zoom,W=H==null?b(L):typeof H=="function"?H.apply(this,arguments):H;return n(CP.translate(W[0],W[1]).scale(z.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof U=="function"?-U.apply(this,arguments):-U),L,o)},H,R)};function x(F,B){return B=Math.max(s[0],Math.min(s[1],B)),B===F.k?F:new Ec(B,F.x,F.y)}function _(F,B,U){var H=B[0]-U[0]*F.k,R=B[1]-U[1]*F.k;return H===F.x&&R===F.y?F:new Ec(F.k,H,R)}function b(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function S(F,B,U,H){F.on("start.zoom",function(){C(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(H).end()}).tween("zoom",function(){var R=this,L=arguments,z=C(R,L).event(H),W=e.apply(R,L),G=U==null?b(W):typeof U=="function"?U.apply(R,L):U,q=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),ne=R.__zoom,ae=typeof B=="function"?B.apply(R,L):B,se=l(ne.invert(G).concat(q/ne.k),ae.invert(G).concat(q/ae.k));return function($){if($===1)$=ae;else{var Y=se($),Q=q/Y[2];$=new Ec(Q,G[0]-Y[0]*Q,G[1]-Y[1]*Q)}z.zoom(null,$)}})}function C(F,B,U){return!U&&F.__zooming||new M(F,B)}function M(F,B){this.that=F,this.args=B,this.active=0,this.sourceEvent=null,this.extent=e.apply(F,B),this.taps=0}M.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,B){return this.mouse&&F!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var B=ws(this.that).datum();c.call(F,this.that,new rst(F,{sourceEvent:this.sourceEvent,target:p,type:F,transform:this.that.__zoom,dispatch:c}),B)}};function T(F,...B){if(!t.apply(this,arguments))return;var U=C(this,B).event(F),H=this.__zoom,R=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),L=ya(F);if(U.wheel)(U.mouse[0][0]!==L[0]||U.mouse[0][1]!==L[1])&&(U.mouse[1]=H.invert(U.mouse[0]=L)),clearTimeout(U.wheel);else{if(H.k===R)return;U.mouse=[L,H.invert(L)],bE(this),U.start()}Jy(F),U.wheel=setTimeout(z,v),U.zoom("mouse",n(_(x(H,R),U.mouse[0],U.mouse[1]),U.extent,o));function z(){U.wheel=null,U.end()}}function P(F,...B){if(f||!t.apply(this,arguments))return;var U=F.currentTarget,H=C(this,B,!0).event(F),R=ws(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",q,!0),L=ya(F,U),z=F.clientX,W=F.clientY;Dce(F.view),iO(F),H.mouse=[L,this.__zoom.invert(L)],bE(this),H.start();function G(ne){if(Jy(ne),!H.moved){var ae=ne.clientX-z,se=ne.clientY-W;H.moved=ae*ae+se*se>y}H.event(ne).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=ya(ne,U),H.mouse[1]),H.extent,o))}function q(ne){R.on("mousemove.zoom mouseup.zoom",null),Lce(ne.view,H.moved),Jy(ne),H.event(ne).end()}}function N(F,...B){if(t.apply(this,arguments)){var U=this.__zoom,H=ya(F.changedTouches?F.changedTouches[0]:F,this),R=U.invert(H),L=U.k*(F.shiftKey?.5:2),z=n(_(x(U,L),H,R),e.apply(this,B),o);Jy(F),a>0?ws(this).transition().duration(a).call(S,z,H,F):ws(this).call(p.transform,z,H,F)}}function I(F,...B){if(t.apply(this,arguments)){var U=F.touches,H=U.length,R=C(this,B,F.changedTouches.length===H).event(F),L,z,W,G;for(iO(F),z=0;z<H;++z)W=U[z],G=ya(W,this),G=[G,this.__zoom.invert(G),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==G[2]&&(R.touch1=G,R.taps=0):(R.touch0=G,L=!0,R.taps=1+!!d);d&&(d=clearTimeout(d)),L&&(R.taps<2&&(u=G[0],d=setTimeout(function(){d=null},g)),bE(this),R.start())}}function k(F,...B){if(this.__zooming){var U=C(this,B).event(F),H=F.changedTouches,R=H.length,L,z,W,G;for(Jy(F),L=0;L<R;++L)z=H[L],W=ya(z,this),U.touch0&&U.touch0[2]===z.identifier?U.touch0[0]=W:U.touch1&&U.touch1[2]===z.identifier&&(U.touch1[0]=W);if(z=U.that.__zoom,U.touch1){var q=U.touch0[0],ne=U.touch0[1],ae=U.touch1[0],se=U.touch1[1],$=($=ae[0]-q[0])*$+($=ae[1]-q[1])*$,Y=(Y=se[0]-ne[0])*Y+(Y=se[1]-ne[1])*Y;z=x(z,Math.sqrt($/Y)),W=[(q[0]+ae[0])/2,(q[1]+ae[1])/2],G=[(ne[0]+se[0])/2,(ne[1]+se[1])/2]}else if(U.touch0)W=U.touch0[0],G=U.touch0[1];else return;U.zoom("touch",n(_(z,W,G),U.extent,o))}}function j(F,...B){if(this.__zooming){var U=C(this,B).event(F),H=F.changedTouches,R=H.length,L,z;for(iO(F),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),L=0;L<R;++L)z=H[L],U.touch0&&U.touch0[2]===z.identifier?delete U.touch0:U.touch1&&U.touch1[2]===z.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(z=ya(z,this),Math.hypot(u[0]-z[0],u[1]-z[1])<m)){var W=ws(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return p.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:Y1(+F),p):r},p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:Y1(!!F),p):t},p.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:Y1(!!F),p):i},p.extent=function(F){return arguments.length?(e=typeof F=="function"?F:Y1([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),p):e},p.scaleExtent=function(F){return arguments.length?(s[0]=+F[0],s[1]=+F[1],p):[s[0],s[1]]},p.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(F){return arguments.length?(n=F,p):n},p.duration=function(F){return arguments.length?(a=+F,p):a},p.interpolate=function(F){return arguments.length?(l=F,p):l},p.on=function(){var F=c.on.apply(c,arguments);return F===c?p:F},p.clickDistance=function(F){return arguments.length?(y=(F=+F)*F,p):Math.sqrt(y)},p.tapDistance=function(F){return arguments.length?(m=+F,p):m},p}function cst(){const t=A.useRef(null),{data:e}=Jr({queryKey:["/api/models"],initialData:bce});return A.useEffect(()=>{if(!t.current||!e)return;const n=ws(t.current);n.selectAll("*").remove();const r=t.current.clientWidth,i=400,s=r/2,o=i/2,a=150,l=2*Math.PI/e.length;n.append("circle").attr("cx",s).attr("cy",o).attr("r",60).attr("fill","hsl(var(--card))").attr("stroke","hsl(var(--primary))").attr("stroke-width",3),n.append("text").attr("x",s).attr("y",o-10).attr("text-anchor","middle").attr("class","fill-current font-bold text-sm").text("COGNISYS"),n.append("text").attr("x",s).attr("y",o+10).attr("text-anchor","middle").attr("class","fill-current text-xs text-muted-foreground").text("Orchestrator"),e.forEach((c,d)=>{const u=d*l-Math.PI/2,f=s+a*Math.cos(u),g=o+a*Math.sin(u);n.append("line").attr("x1",s).attr("y1",o).attr("x2",f).attr("y2",g).attr("stroke",c.isActive?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",1.5).attr("opacity",.3),n.append("circle").attr("cx",f).attr("cy",g).attr("r",35).attr("fill","hsl(var(--card))").attr("stroke",c.isActive?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",2);const v=n.append("text").attr("x",f).attr("y",g).attr("text-anchor","middle").attr("class","fill-current text-xs");c.name.split("-").forEach((m,p)=>{v.append("tspan").attr("x",f).attr("dy",p===0?-5:12).text(m.length>8?m.substring(0,8):m)})})},[e]),h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Md,{className:"h-5 w-5 text-primary"}),"Model Relationship Map"]}),h.jsx(Bt,{children:"Visual representation of all connected AI models"})]}),h.jsx(at,{children:h.jsx("svg",{ref:t,className:"w-full",height:"400"})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Active Models"}),h.jsx(Bt,{children:"Models currently available for routing"})]}),h.jsx(at,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e==null?void 0:e.filter(n=>n.isActive).map(n=>h.jsx("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:n.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(dn,{variant:"outline",className:"text-xs",children:n.provider}),h.jsx(dn,{variant:"outline",className:"text-xs",children:n.type}),n.reasoning&&h.jsxs(dn,{variant:"secondary",className:"text-xs gap-1",children:[h.jsx(A3,{className:"h-3 w-3"}),"Reasoning"]})]}),n.role&&h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Role: ",n.role.replace(/_/g," ")]})]})},n.id))})})]})]})}const ust=1,dst=1e6;let sO=0;function fst(){return sO=(sO+1)%Number.MAX_SAFE_INTEGER,sO.toString()}const oO=new Map,_G=t=>{if(oO.has(t))return;const e=setTimeout(()=>{oO.delete(t),Q0({type:"REMOVE_TOAST",toastId:t})},dst);oO.set(t,e)},hst=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ust)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_G(n):t.toasts.forEach(r=>{_G(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},wE=[];let SE={toasts:[]};function Q0(t){SE=hst(SE,t),wE.forEach(e=>{e(SE)})}function pst({...t}){const e=fst(),n=i=>Q0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Q0({type:"DISMISS_TOAST",toastId:e});return Q0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Yh(){const[t,e]=A.useState(SE);return A.useEffect(()=>(wE.push(e),()=>{const n=wE.indexOf(e);n>-1&&wE.splice(n,1)}),[t]),{...t,toast:pst,dismiss:n=>Q0({type:"DISMISS_TOAST",toastId:n})}}function mst(){const{toast:t}=Yh(),e=Ll(),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(1),{data:d,isLoading:u,error:f}=Jr({queryKey:["cognisysRoutingRules"],queryFn:async()=>{const y=await fetch("/api/cognisys/routing-rules");if(!y.ok){const m=await y.text();throw console.error("API Error Response:",m),new Error(`Network response was not ok: ${y.status} ${y.statusText} - ${m}`)}return y.json()}}),g=Bn({mutationFn:async y=>{const m=await fetch("/api/cognisys/routing-rules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!m.ok){const p=await m.text();throw console.error("API Error Response (Create Rule):",p),new Error(`Failed to create routing rule: ${m.status} ${m.statusText} - ${p}`)}return m.json()},onSuccess:()=>{t({title:"Rule Created",description:"New routing rule has been successfully created."}),e.invalidateQueries({queryKey:["cognisysRoutingRules"]}),r(""),s(""),a(""),c(1)},onError:y=>{t({title:"Error",description:`Failed to create rule: ${y.message}`,variant:"destructive"})}}),v=Bn({mutationFn:async y=>{const m=await fetch(`/api/cognisys/routing-rules/${y}`,{method:"DELETE"});if(!m.ok){const p=await m.text();throw console.error("API Error Response (Delete Rule):",p),new Error(`Failed to delete routing rule: ${m.status} ${m.statusText} - ${p}`)}return m.json()},onSuccess:()=>{t({title:"Rule Deleted",description:"Routing rule has been successfully deleted."}),e.invalidateQueries({queryKey:["cognisysRoutingRules"]})},onError:y=>{t({title:"Error",description:`Failed to delete rule: ${y.message}`,variant:"destructive"})}});return u?h.jsx("div",{className:"p-6 text-center",children:"Loading routing rules..."}):f?(console.error("Error loading routing rules:",f),h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading routing rules: ",f.message]})):(console.log("Routing Rules:",d),h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(S3,{className:"h-5 w-5 text-primary"}),"Routing Rules"]}),h.jsx(Bt,{className:"mt-1",children:"Define intent-based routing to appropriate models"})]}),h.jsxs(We,{"data-testid":"button-add-rule",onClick:()=>g.mutate({intent:n,condition:i,targetModel:o,priority:l}),disabled:g.isPending||!n||!i||!o,children:[g.isPending?h.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]})}),h.jsx(at,{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Intent Type"}),h.jsxs(Go,{value:n,onValueChange:r,children:[h.jsx(uo,{"data-testid":"select-intent-type",children:h.jsx(Xo,{placeholder:"Select intent..."})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"code_generation",children:"Code Generation"}),h.jsx(cn,{value:"reasoning",children:"Reasoning"}),h.jsx(cn,{value:"conversation",children:"Conversation"}),h.jsx(cn,{value:"summarization",children:"Summarization"}),h.jsx(cn,{value:"shell_command",children:"Shell Command"}),h.jsx(cn,{value:"custom",children:"Custom"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Condition"}),h.jsx(Tn,{placeholder:'contains("keyword")',"data-testid":"input-condition",value:i,onChange:y=>s(y.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Target Model"}),h.jsxs(Go,{value:o,onValueChange:a,children:[h.jsx(uo,{"data-testid":"select-target-model",children:h.jsx(Xo,{placeholder:"Select model..."})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"gpt-4",children:"GPT-4"}),h.jsx(cn,{value:"claude",children:"Claude-3.5-Sonnet"}),h.jsx(cn,{value:"codestral",children:"Codestral"}),h.jsx(cn,{value:"gemini",children:"Gemini-Pro"})]})]})]})]})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Active Rules"}),h.jsx(Bt,{children:"Rules are evaluated in order of priority"})]}),h.jsx(at,{className:"space-y-3",children:u?h.jsx("p",{className:"text-muted-foreground",children:"Loading rules..."}):f?h.jsxs("p",{className:"text-red-500",children:["Error loading rules: ",f.message]}):h.jsx(h.Fragment,{children:Array.isArray(d)&&d.length>0?d.map(y=>{try{return h.jsx(Xe,{className:"bg-card/50",children:h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dn,{variant:"default",className:"text-xs",children:y.intent.replace(/_/g," ")}),h.jsxs(dn,{variant:"outline",className:"text-xs",children:["Priority ",y.priority]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Condition:"}),h.jsx("div",{className:"text-sm font-mono bg-muted/30 px-2 py-1 rounded",children:y.condition})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Target:"}),h.jsx(dn,{variant:"secondary",className:"text-xs",children:y.targetModel})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{variant:"ghost",size:"sm",children:"Edit"}),h.jsx(We,{variant:"ghost",size:"sm","data-testid":`button-delete-rule-${y.id}`,onClick:()=>v.mutate(y.id),disabled:v.isPending,children:v.isPending?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):h.jsx(lb,{className:"h-4 w-4"})})]})]})})},y.id)}catch(m){return console.error(`Error rendering rule with ID ${y.id||"unknown"}:`,m),h.jsxs(Xe,{className:"bg-red-100 border-red-400 text-red-700 p-4 mb-2",children:[h.jsx("p",{children:"Error rendering rule. Please check console for details."}),y.id&&h.jsxs("p",{children:["Rule ID: ",y.id]}),h.jsxs("p",{children:["Error: ",m.message]})]},`error-${y.id||Math.random()}`)}}):h.jsx("p",{className:"text-muted-foreground",children:"No routing rules found."})})})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Routing Logic"})}),h.jsxs(at,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"COGNISYS evaluates each request against routing rules in priority order:"}),h.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[h.jsx("li",{children:"Intent detection identifies the request type"}),h.jsx("li",{children:"Matching rules are found based on conditions"}),h.jsx("li",{children:"Highest priority matching rule determines the target model"}),h.jsx("li",{children:"Request is routed to the selected model"}),h.jsx("li",{children:"Optional reasoning step is applied if configured"})]})]})]})]}))}const gst=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1",enabled:!0},{id:"anthropic",name:"Anthropic",baseUrl:"https://api.anthropic.com/v1",enabled:!0},{id:"google",name:"Google Gemini",baseUrl:"https://generativelanguage.googleapis.com/v1",enabled:!0},{id:"openrouter",name:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1",enabled:!0},{id:"huggingface",name:"HuggingFace",baseUrl:"https://api-inference.huggingface.co",enabled:!1}];function vst(){const[t,e]=A.useState({});return h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[h.jsx(Xe,{children:h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Eg,{className:"h-5 w-5 text-primary"}),"Provider Configuration"]}),h.jsx(Bt,{children:"Manage API keys and settings for LLM providers"})]})}),gst.map(n=>h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(st,{className:"text-base",children:n.name}),h.jsx(Bt,{className:"text-xs mt-1",children:n.baseUrl})]}),h.jsx(Qm,{checked:n.enabled,"data-testid":`switch-${n.id}`})]})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"API Key"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Tn,{type:t[n.id]?"text":"password",placeholder:"sk-...","data-testid":`input-api-key-${n.id}`}),h.jsx(We,{variant:"outline",size:"icon",onClick:()=>e({...t,[n.id]:!t[n.id]}),"data-testid":`button-toggle-${n.id}`,children:t[n.id]?h.jsx(EY,{className:"h-4 w-4"}):h.jsx(CY,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Base URL (optional)"}),h.jsx(Tn,{defaultValue:n.baseUrl,"data-testid":`input-base-url-${n.id}`})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Organization ID (optional)"}),h.jsx(Tn,{placeholder:"org-...","data-testid":`input-org-id-${n.id}`})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{variant:"outline",size:"sm","data-testid":`button-test-${n.id}`,children:"Test Connection"}),h.jsx(We,{size:"sm","data-testid":`button-save-${n.id}`,children:"Save"})]})]})]},n.id)),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Multi-Provider Benefits"})}),h.jsx(at,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Automatic failover if one provider is down"}),h.jsx("li",{children:"Cost optimization by routing to cheaper models"}),h.jsx("li",{children:"Access to specialized models from different providers"}),h.jsx("li",{children:"No vendor lock-in, freedom to switch providers"}),h.jsx("li",{children:"Load balancing across multiple providers"})]})})]})]})}function Wr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Wr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const kl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},M_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Xce=["Enter"," ","Escape"],qce={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ov;(function(t){t.Strict="strict",t.Loose="loose"})(ov||(ov={}));var nh;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(nh||(nh={}));var A_;(function(t){t.Partial="partial",t.Full="full"})(A_||(A_={}));const Kce={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Fu;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Fu||(Fu={}));var NM;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(NM||(NM={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const bG={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function Yce(t){return t===null?null:t?"valid":"invalid"}const Zce=t=>"id"in t&&"source"in t&&"target"in t,yst=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),OB=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),qb=(t,e=[0,0])=>{const{width:n,height:r}=nu(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},xst=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):OB(i)?i:e.nodeLookup.get(i.id));const a=o?RM(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return MP(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return AP(n)},Kb=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=MP(n,RM(i)),r=!0)}),r?AP(n):{x:0,y:0,width:0,height:0}},IB=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Zb(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:d,selectable:u=!0,hidden:f=!1}=c;if(o&&!u||f)continue;const g=d.width??c.width??c.initialWidth??null,v=d.height??c.height??c.initialHeight??null,y=T_(a,lv(c)),m=(g??0)*(v??0),p=s&&y>0;(!c.internals.handleBounds||p||y>=m||c.dragging)&&l.push(c)}return l},_st=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function bst(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function wst({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=bst(t,o),l=Kb(a),c=kB(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Qce({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let u=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",kl.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(u=[[l,c],[l+g,c+v]])}else a&&cv(o.extent)&&(u=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=cv(u)?Rh(e,u,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",kl.error015())),{position:{x:f.x-l+(o.measured.width??0)*d[0],y:f.y-c+(o.measured.height??0)*d[1]},positionAbsolute:f}}async function Sst({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const g=s.has(f.id),v=!g&&f.parentId&&o.find(y=>y.id===f.parentId);(g||v)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),d=_st(o,l);for(const f of l)a.has(f.id)&&!d.find(v=>v.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:o};const u=await i({nodes:o,edges:d});return typeof u=="boolean"?u?{edges:d,nodes:o}:{edges:[],nodes:[]}:u}const av=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Rh=(t={x:0,y:0},e,n)=>({x:av(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:av(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Jce(t,e,n){const{width:r,height:i}=nu(n),{x:s,y:o}=n.internals.positionAbsolute;return Rh(t,[[s,o],[s+r,o+i]],e)}const wG=(t,e,n)=>t<e?av(Math.abs(t-e),1,e)/e:t>n?-av(Math.abs(t-n),1,e)/e:0,eue=(t,e,n=15,r=40)=>{const i=wG(t.x,r,e.width-r)*n,s=wG(t.y,r,e.height-r)*n;return[i,s]},MP=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),zL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),AP=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),lv=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=OB(t)?t.internals.positionAbsolute:qb(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},RM=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=OB(t)?t.internals.positionAbsolute:qb(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},tue=(t,e)=>AP(MP(zL(t),zL(e))),T_=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},SG=t=>Ca(t.width)&&Ca(t.height)&&Ca(t.x)&&Ca(t.y),Ca=t=>!isNaN(t)&&isFinite(t),Est=(t,e)=>{},Yb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Zb=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?Yb(a,o):a},OM=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Ip(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Cst(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Ip(t,n),i=Ip(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Ip(t.top??t.y??0,n),i=Ip(t.bottom??t.y??0,n),s=Ip(t.left??t.x??0,e),o=Ip(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Mst(t,e,n,r,i,s){const{x:o,y:a}=OM(t,[e,n,r]),{x:l,y:c}=OM({x:t.x+t.width,y:t.y+t.height},[e,n,r]),d=i-l,u=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(u)}}const kB=(t,e,n,r,i,s)=>{const o=Cst(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,c=Math.min(a,l),d=av(c,r,i),u=t.x+t.width/2,f=t.y+t.height/2,g=e/2-u*d,v=n/2-f*d,y=Mst(t,g,v,d,e,n),m={left:Math.min(y.left-o.left,0),top:Math.min(y.top-o.top,0),right:Math.min(y.right-o.right,0),bottom:Math.min(y.bottom-o.bottom,0)};return{x:g-m.left+m.right,y:v-m.top+m.bottom,zoom:d}},P_=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function cv(t){return t!=null&&t!=="parent"}function nu(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function nue(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function rue(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function EG(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Ast(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Tst(t){return{...qce,...t||{}}}function J0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Ma(t),a=Zb({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?Yb(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const DB=t=>({width:t.offsetWidth,height:t.offsetHeight}),iue=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Pst=["INPUT","SELECT","TEXTAREA"];function sue(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Pst.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const oue=t=>"clientX"in t,Ma=(t,e)=>{var s,o;const n=oue(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},CG=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...DB(o)}})};function aue({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,d=Math.abs(l-t),u=Math.abs(c-e);return[l,c,d,u]}function Z1(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function MG({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-Z1(e-r,s),n];case Lt.Right:return[e+Z1(r-e,s),n];case Lt.Top:return[e,n-Z1(n-i,s)];case Lt.Bottom:return[e,n+Z1(i-n,s)]}}function lue({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[a,l]=MG({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,d]=MG({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[u,f,g,v]=aue({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${a},${l} ${c},${d} ${r},${i}`,u,f,g,v]}function cue({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function Nst({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return s+o}function Rst({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=MP(RM(t),RM(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return T_(o,AP(s))>0}const Ost=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Ist=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),LB=(t,e)=>{if(!t.source||!t.target)return e;let n;return Zce(t)?n={...t}:n={...t,id:Ost(t)},Ist(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function uue({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=cue({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const AG={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},kst=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},TG=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Dst({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s,stepPosition:o}){const a=AG[e],l=AG[r],c={x:t.x+a.x*s,y:t.y+a.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},u=kst({source:c,sourcePosition:e,target:d}),f=u.x!==0?"x":"y",g=u[f];let v=[],y,m;const p={x:0,y:0},x={x:0,y:0},[,,_,b]=cue({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){f==="x"?(y=i.x??c.x+(d.x-c.x)*o,m=i.y??(c.y+d.y)/2):(y=i.x??(c.x+d.x)/2,m=i.y??c.y+(d.y-c.y)*o);const C=[{x:y,y:c.y},{x:y,y:d.y}],M=[{x:c.x,y:m},{x:d.x,y:m}];a[f]===g?v=f==="x"?C:M:v=f==="x"?M:C}else{const C=[{x:c.x,y:d.y}],M=[{x:d.x,y:c.y}];if(f==="x"?v=a.x===g?M:C:v=a.y===g?C:M,e===r){const k=Math.abs(t[f]-n[f]);if(k<=s){const j=Math.min(s-1,s-k);a[f]===g?p[f]=(c[f]>t[f]?-1:1)*j:x[f]=(d[f]>n[f]?-1:1)*j}}if(e!==r){const k=f==="x"?"y":"x",j=a[f]===l[k],F=c[k]>d[k],B=c[k]<d[k];(a[f]===1&&(!j&&F||j&&B)||a[f]!==1&&(!j&&B||j&&F))&&(v=f==="x"?C:M)}const T={x:c.x+p.x,y:c.y+p.y},P={x:d.x+x.x,y:d.y+x.y},N=Math.max(Math.abs(T.x-v[0].x),Math.abs(P.x-v[0].x)),I=Math.max(Math.abs(T.y-v[0].y),Math.abs(P.y-v[0].y));N>=I?(y=(T.x+P.x)/2,m=v[0].y):(y=v[0].x,m=(T.y+P.y)/2)}return[[t,{x:c.x+p.x,y:c.y+p.y},...v,{x:d.x+x.x,y:d.y+x.y},n],y,m,_,b]}function Lst(t,e,n,r){const i=Math.min(TG(t,e)/2,TG(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function $L({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:d=.5}){const[u,f,g,v,y]=Dst({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:d});return[u.reduce((p,x,_)=>{let b="";return _>0&&_<u.length-1?b=Lst(u[_-1],x,u[_+1],o):b=`${_===0?"M":"L"}${x.x} ${x.y}`,p+=b,p},""),f,g,v,y]}function PG(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function jst(t){var u;const{sourceNode:e,targetNode:n}=t;if(!PG(e)||!PG(n))return null;const r=e.internals.handleBounds||NG(e.handles),i=n.internals.handleBounds||NG(n.handles),s=RG((r==null?void 0:r.source)??[],t.sourceHandle),o=RG(t.connectionMode===ov.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(u=t.onError)==null||u.call(t,"008",kl.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Lt.Bottom,l=(o==null?void 0:o.position)||Lt.Top,c=N_(e,s,a),d=N_(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function NG(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function N_(t,e,n=Lt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??nu(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+a/2};case Lt.Bottom:return{x:i+o/2,y:s+a};case Lt.Left:return{x:i,y:s+a/2}}}function RG(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function HL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Fst(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=HL(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const due=1e3,Bst=10,jB={nodeOrigin:[0,0],nodeExtent:M_,elevateNodesOnSelect:!0,defaults:{}},Ust={...jB,checkEquality:!0};function FB(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function zst(t,e,n){const r=FB(jB,n);for(const i of t.values())if(i.parentId)BB(i,t,e,r);else{const s=qb(i,r.nodeOrigin),o=cv(i.extent)?i.extent:r.nodeExtent,a=Rh(s,o,nu(i));i.internals.positionAbsolute=a}}function $st(t,e){if(!t.handles)return t.measured?e==null?void 0:e.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function VL(t,e,n,r){var c,d;const i=FB(Ust,r);let s={i:-1},o=t.length>0;const a=new Map(e),l=i!=null&&i.elevateNodesOnSelect?due:0;e.clear(),n.clear();for(const u of t){let f=a.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const g=qb(u,i.nodeOrigin),v=cv(u.extent)?u.extent:i.nodeExtent,y=Rh(g,v,nu(u));f={...i.defaults,...u,measured:{width:(c=u.measured)==null?void 0:c.width,height:(d=u.measured)==null?void 0:d.height},internals:{positionAbsolute:y,handleBounds:$st(u,f),z:fue(u,l),userNode:u}},e.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),u.parentId&&BB(f,e,n,r,s)}return o}function Hst(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function BB(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=FB(jB,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Hst(t,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*Bst),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const d=s?due:0,{x:u,y:f,z:g}=Vst(t,c,o,a,d),{positionAbsolute:v}=t.internals,y=u!==v.x||f!==v.y;(y||g!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:y?{x:u,y:f}:v,z:g}})}function fue(t,e){return(Ca(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Vst(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=nu(t),l=qb(t,n),c=cv(t.extent)?Rh(l,t.extent,a):l;let d=Rh({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(d=Jce(d,a,e));const u=fue(t,i),f=e.internals.z??0;return{x:d.x,y:d.y,z:f>=u?f+1:u}}function UB(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??lv(l),d=tue(c,a.rect);s.set(a.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var _;const d=l.internals.positionAbsolute,u=nu(l),f=l.origin??r,g=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,v=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,y=Math.max(u.width,Math.round(a.width)),m=Math.max(u.height,Math.round(a.height)),p=(y-u.width)*f[0],x=(m-u.height)*f[1];(g>0||v>0||p||x)&&(i.push({id:c,type:"position",position:{x:l.position.x-g+p,y:l.position.y-v+x}}),(_=n.get(c))==null||_.forEach(b=>{t.some(S=>S.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+g,y:b.position.y+v}})})),(u.width<a.width||u.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:y+(g?f[0]*g-p:0),height:m+(v?f[1]*v-x:0)}})}),i}function Wst(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:d}=new window.DOMMatrixReadOnly(c.transform),u=[];for(const f of t.values()){const g=e.get(f.id);if(!g)continue;if(g.hidden){e.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const v=DB(f.nodeElement),y=g.measured.width!==v.width||g.measured.height!==v.height;if(!!(v.width&&v.height&&(y||!g.internals.handleBounds||f.force))){const p=f.nodeElement.getBoundingClientRect(),x=cv(g.extent)?g.extent:s;let{positionAbsolute:_}=g.internals;g.parentId&&g.extent==="parent"?_=Jce(_,v,e.get(g.parentId)):x&&(_=Rh(_,x,v));const b={...g,measured:v,internals:{...g.internals,positionAbsolute:_,handleBounds:{source:CG("source",f.nodeElement,p,d,g.id),target:CG("target",f.nodeElement,p,d,g.id)}}};e.set(g.id,b),g.parentId&&BB(b,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:g.id,type:"dimensions",dimensions:v}),g.expandParent&&g.parentId&&u.push({id:g.id,parentId:g.parentId,rect:lv(b,i)}))}}if(u.length>0){const f=UB(u,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function Gst({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function OG(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function hue(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,d=`${s}-${a}--${i}-${o}`;OG("source",l,d,t,i,o),OG("target",l,c,t,s,a),e.set(r.id,r)}}function pue(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:pue(n,e):!1}function IG(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Xst(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!pue(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function aO({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,d]of e){const u=(o=n.get(c))==null?void 0:o.internals.userNode;u&&i.push({...u,position:d.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function qst({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Yb(s,e);return{x:o.x-s.x,y:o.y-s.y}}function Kst({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},d=null,u=!1,f=null,g=!1,v=!1,y=null;function m({noDragClassName:x,handleSelector:_,domNode:b,isSelectable:S,nodeId:C,nodeClickDistance:M=0}){f=ws(b);function T({x:k,y:j}){const{nodeLookup:F,nodeExtent:B,snapGrid:U,snapToGrid:H,nodeOrigin:R,onNodeDrag:L,onSelectionDrag:z,onError:W,updateNodePositions:G}=e();s={x:k,y:j};let q=!1;const ne=a.size>1,ae=ne&&B?zL(Kb(a)):null,se=ne&&H?qst({dragItems:a,snapGrid:U,x:k,y:j}):null;for(const[$,Y]of a){if(!F.has($))continue;let Q={x:k-Y.distance.x,y:j-Y.distance.y};H&&(Q=se?{x:Math.round(Q.x+se.x),y:Math.round(Q.y+se.y)}:Yb(Q,U));let te=null;if(ne&&B&&!Y.extent&&ae){const{positionAbsolute:K}=Y.internals,re=K.x-ae.x+B[0][0],fe=K.x+Y.measured.width-ae.x2+B[1][0],me=K.y-ae.y+B[0][1],pe=K.y+Y.measured.height-ae.y2+B[1][1];te=[[re,me],[fe,pe]]}const{position:ue,positionAbsolute:J}=Qce({nodeId:$,nextPosition:Q,nodeLookup:F,nodeExtent:te||B,nodeOrigin:R,onError:W});q=q||Y.position.x!==ue.x||Y.position.y!==ue.y,Y.position=ue,Y.internals.positionAbsolute=J}if(v=v||q,!!q&&(G(a,!0),y&&(r||L||!C&&z))){const[$,Y]=aO({nodeId:C,dragItems:a,nodeLookup:F});r==null||r(y,a,$,Y),L==null||L(y,$,Y),C||z==null||z(y,Y)}}async function P(){if(!d)return;const{transform:k,panBy:j,autoPanSpeed:F,autoPanOnNodeDrag:B}=e();if(!B){l=!1,cancelAnimationFrame(o);return}const[U,H]=eue(c,d,F);(U!==0||H!==0)&&(s.x=(s.x??0)-U/k[2],s.y=(s.y??0)-H/k[2],await j({x:U,y:H})&&T(s)),o=requestAnimationFrame(P)}function N(k){var ne;const{nodeLookup:j,multiSelectionActive:F,nodesDraggable:B,transform:U,snapGrid:H,snapToGrid:R,selectNodesOnDrag:L,onNodeDragStart:z,onSelectionDragStart:W,unselectNodesAndEdges:G}=e();u=!0,(!L||!S)&&!F&&C&&((ne=j.get(C))!=null&&ne.selected||G()),S&&L&&C&&(t==null||t(C));const q=J0(k.sourceEvent,{transform:U,snapGrid:H,snapToGrid:R,containerBounds:d});if(s=q,a=Xst(j,B,q,C),a.size>0&&(n||z||!C&&W)){const[ae,se]=aO({nodeId:C,dragItems:a,nodeLookup:j});n==null||n(k.sourceEvent,a,ae,se),z==null||z(k.sourceEvent,ae,se),C||W==null||W(k.sourceEvent,se)}}const I=jce().clickDistance(M).on("start",k=>{const{domNode:j,nodeDragThreshold:F,transform:B,snapGrid:U,snapToGrid:H}=e();d=(j==null?void 0:j.getBoundingClientRect())||null,g=!1,v=!1,y=k.sourceEvent,F===0&&N(k),s=J0(k.sourceEvent,{transform:B,snapGrid:U,snapToGrid:H,containerBounds:d}),c=Ma(k.sourceEvent,d)}).on("drag",k=>{const{autoPanOnNodeDrag:j,transform:F,snapGrid:B,snapToGrid:U,nodeDragThreshold:H,nodeLookup:R}=e(),L=J0(k.sourceEvent,{transform:F,snapGrid:B,snapToGrid:U,containerBounds:d});if(y=k.sourceEvent,(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||C&&!R.has(C))&&(g=!0),!g){if(!l&&j&&u&&(l=!0,P()),!u){const z=Ma(k.sourceEvent,d),W=z.x-c.x,G=z.y-c.y;Math.sqrt(W*W+G*G)>H&&N(k)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&u&&(c=Ma(k.sourceEvent,d),T(L))}}).on("end",k=>{if(!(!u||g)&&(l=!1,u=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:j,updateNodePositions:F,onNodeDragStop:B,onSelectionDragStop:U}=e();if(v&&(F(a,!1),v=!1),i||B||!C&&U){const[H,R]=aO({nodeId:C,dragItems:a,nodeLookup:j,dragging:!1});i==null||i(k.sourceEvent,a,H,R),B==null||B(k.sourceEvent,H,R),C||U==null||U(k.sourceEvent,R)}}}).filter(k=>{const j=k.target;return!k.button&&(!x||!IG(j,`.${x}`,b))&&(!_||IG(j,_,b))});f.call(I)}function p(){f==null||f.on(".drag",null)}return{update:m,destroy:p}}function Yst(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())T_(i,lv(s))>0&&r.push(s);return r}const Zst=250;function Qst(t,e,n,r){var a,l;let i=[],s=1/0;const o=Yst(t,n,e+Zst);for(const c of o){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const u of d){if(r.nodeId===u.nodeId&&r.type===u.type&&r.id===u.id)continue;const{x:f,y:g}=N_(c,u,u.position,!0),v=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(g-t.y,2));v>e||(v<s?(i=[{...u,x:f,y:g}],s=v):v===s&&i.push({...u,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(d=>d.type===c)??i[0]}return i[0]}function mue(t,e,n,r,i,s=!1){var c,d,u;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((u=o.internals.handleBounds)==null?void 0:u.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...N_(o,l,l.position,!0)}:l}function gue(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Jst(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const vue=()=>!0;function eot(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:u,panBy:f,cancelConnection:g,onConnectStart:v,onConnect:y,onConnectEnd:m,isValidConnection:p=vue,onReconnectEnd:x,updateConnection:_,getTransform:b,getFromHandle:S,autoPanSpeed:C,dragThreshold:M=1,handleDomNode:T}){const P=iue(t.target);let N=0,I;const{x:k,y:j}=Ma(t),F=gue(s,T),B=a==null?void 0:a.getBoundingClientRect();let U=!1;if(!B||!F)return;const H=mue(i,F,r,l,e);if(!H)return;let R=Ma(t,B),L=!1,z=null,W=!1,G=null;function q(){if(!d||!B)return;const[ue,J]=eue(R,B,C);f({x:ue,y:J}),N=requestAnimationFrame(q)}const ne={...H,nodeId:i,type:F,position:H.position},ae=l.get(i);let $={inProgress:!0,isValid:null,from:N_(ae,ne,Lt.Left,!0),fromHandle:ne,fromPosition:ne.position,fromNode:ae,to:R,toHandle:null,toPosition:bG[ne.position],toNode:null};function Y(){U=!0,_($),v==null||v(t,{nodeId:i,handleId:r,handleType:F})}M===0&&Y();function Q(ue){if(!U){const{x:fe,y:me}=Ma(ue),pe=fe-k,Ae=me-j;if(!(pe*pe+Ae*Ae>M*M))return;Y()}if(!S()||!ne){te(ue);return}const J=b();R=Ma(ue,B),I=Qst(Zb(R,J,!1,[1,1]),n,l,ne),L||(q(),L=!0);const K=yue(ue,{handle:I,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:P,lib:c,flowId:u,nodeLookup:l});G=K.handleDomNode,z=K.connection,W=Jst(!!I,K.isValid);const re={...$,isValid:W,to:K.toHandle&&W?OM({x:K.toHandle.x,y:K.toHandle.y},J):R,toHandle:K.toHandle,toPosition:W&&K.toHandle?K.toHandle.position:bG[ne.position],toNode:K.toHandle?l.get(K.toHandle.nodeId):null};W&&I&&$.toHandle&&re.toHandle&&$.toHandle.type===re.toHandle.type&&$.toHandle.nodeId===re.toHandle.nodeId&&$.toHandle.id===re.toHandle.id&&$.to.x===re.to.x&&$.to.y===re.to.y||(_(re),$=re)}function te(ue){if(!("touches"in ue&&ue.touches.length>0)){if(U){(I||G)&&z&&W&&(y==null||y(z));const{inProgress:J,...K}=$,re={...K,toPosition:$.toHandle?$.toPosition:null};m==null||m(ue,re),s&&(x==null||x(ue,re))}g(),cancelAnimationFrame(N),L=!1,W=!1,z=null,G=null,P.removeEventListener("mousemove",Q),P.removeEventListener("mouseup",te),P.removeEventListener("touchmove",Q),P.removeEventListener("touchend",te)}}P.addEventListener("mousemove",Q),P.addEventListener("mouseup",te),P.addEventListener("touchmove",Q),P.addEventListener("touchend",te)}function yue(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=vue,nodeLookup:d}){const u=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:g,y:v}=Ma(t),y=o.elementFromPoint(g,v),m=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:f,p={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const x=gue(void 0,m),_=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),S=m.classList.contains("connectable"),C=m.classList.contains("connectableend");if(!_||!x)return p;const M={source:u?_:r,sourceHandle:u?b:i,target:u?r:_,targetHandle:u?i:b};p.connection=M;const P=S&&C&&(n===ov.Strict?u&&x==="source"||!u&&x==="target":_!==r||b!==i);p.isValid=P&&c(M),p.toHandle=mue(_,x,b,d,n,!0)}return p}const WL={onPointerDown:eot,isValid:yue};function tot({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=ws(t);function s({translateExtent:a,width:l,height:c,zoomStep:d=1,pannable:u=!0,zoomable:f=!0,inversePan:g=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!e)return;const b=n(),S=_.sourceEvent.ctrlKey&&P_()?10:1,C=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*d,M=b[2]*Math.pow(2,C*S);e.scaleTo(M)};let y=[0,0];const m=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(y=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},p=_=>{const b=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const S=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],C=[S[0]-y[0],S[1]-y[1]];y=S;const M=r()*Math.max(b[2],Math.log(b[2]))*(g?-1:1),T={x:b[0]-C[0]*M,y:b[1]-C[1]*M},P=[[0,0],[l,c]];e.setViewportConstrained({x:T.x,y:T.y,zoom:b[2]},P,a)},x=Gce().on("start",m).on("zoom",u?p:null).on("zoom.wheel",f?v:null);i.call(x,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:ya}}const TP=t=>({x:t.x,y:t.y,zoom:t.k}),lO=({x:t,y:e,zoom:n})=>CP.translate(t,e).scale(n),Am=(t,e)=>t.target.closest(`.${e}`),xue=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),not=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,cO=(t,e=0,n=not,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},_ue=t=>{const e=t.ctrlKey&&P_()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function rot({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(Am(d,e))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const u=n.property("__zoom").k||1;if(d.ctrlKey&&o){const m=ya(d),p=_ue(d),x=u*Math.pow(2,p);r.scaleTo(n,x,m,d);return}const f=d.deltaMode===1?20:1;let g=i===nh.Vertical?0:d.deltaX*f,v=i===nh.Horizontal?0:d.deltaY*f;!P_()&&d.shiftKey&&i!==nh.Vertical&&(g=d.deltaY*f,v=0),r.translateBy(n,-(g/u)*s,-(v/u)*s,{internal:!0});const y=TP(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l==null||l(d,y),t.panScrollTimeout=setTimeout(()=>{c==null||c(d,y),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a==null||a(d,y))}}function iot({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=Am(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function sot({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=TP(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function oot({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&xue(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,TP(s.transform)))}}function aot({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&xue(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const l=TP(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function lot({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:d}){return u=>{var m;const f=t||e,g=n&&u.ctrlKey,v=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(Am(u,`${c}-flow__node`)||Am(u,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!n||o||d&&!v||Am(u,a)&&v||Am(u,l)&&(!v||i&&v&&!t)||!n&&u.ctrlKey&&v)return!1;if(!n&&u.type==="touchstart"&&((m=u.touches)==null?void 0:m.length)>1)return u.preventDefault(),!1;if(!f&&!i&&!g&&v||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||v)&&y}}function cot({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},u=t.getBoundingClientRect(),f=Gce().clickDistance(!Ca(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),g=ws(t).call(f);_({x:s.x,y:s.y,zoom:av(s.zoom,e,n)},[[0,0],[u.width,u.height]],i);const v=g.on("wheel.zoom"),y=g.on("dblclick.zoom");f.wheelDelta(_ue);function m(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ac:dE).transform(cO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function p({noWheelClassName:k,noPanClassName:j,onPaneContextMenu:F,userSelectionActive:B,panOnScroll:U,panOnDrag:H,panOnScrollMode:R,panOnScrollSpeed:L,preventScrolling:z,zoomOnPinch:W,zoomOnScroll:G,zoomOnDoubleClick:q,zoomActivationKeyPressed:ne,lib:ae,onTransformChange:se,connectionInProgress:$}){B&&!d.isZoomingOrPanning&&x();const Q=U&&!ne&&!B?rot({zoomPanValues:d,noWheelClassName:k,d3Selection:g,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:L,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):iot({noWheelClassName:k,preventScrolling:z,d3ZoomHandler:v});if(g.on("wheel.zoom",Q,{passive:!1}),!B){const ue=sot({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:a});f.on("start",ue);const J=oot({zoomPanValues:d,panOnDrag:H,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:se});f.on("zoom",J);const K=aot({zoomPanValues:d,panOnDrag:H,panOnScroll:U,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:c});f.on("end",K)}const te=lot({zoomActivationKeyPressed:ne,panOnDrag:H,zoomOnScroll:G,panOnScroll:U,zoomOnDoubleClick:q,zoomOnPinch:W,userSelectionActive:B,noPanClassName:j,noWheelClassName:k,lib:ae,connectionInProgress:$});f.filter(te),q?g.on("dblclick.zoom",y):g.on("dblclick.zoom",null)}function x(){f.on("zoom",null)}async function _(k,j,F){const B=lO(k),U=f==null?void 0:f.constrain()(B,j,F);return U&&await m(U),new Promise(H=>H(U))}async function b(k,j){const F=lO(k);return await m(F,j),new Promise(B=>B(F))}function S(k){if(g){const j=lO(k),F=g.property("__zoom");(F.k!==k.zoom||F.x!==k.x||F.y!==k.y)&&(f==null||f.transform(g,j,null,{sync:!0}))}}function C(){const k=g?Wce(g.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function M(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ac:dE).scaleTo(cO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function T(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ac:dE).scaleBy(cO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function P(k){f==null||f.scaleExtent(k)}function N(k){f==null||f.translateExtent(k)}function I(k){const j=!Ca(k)||k<0?0:k;f==null||f.clickDistance(j)}return{update:p,destroy:x,setViewport:b,setViewportConstrained:_,getViewport:C,scaleTo:M,scaleBy:T,setScaleExtent:P,setTranslateExtent:N,syncViewport:S,setClickDistance:I}}var uv;(function(t){t.Line="line",t.Handle="handle"})(uv||(uv={}));function uot({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function kG(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function xu(t,e){return Math.max(0,e-t)}function _u(t,e){return Math.max(0,t-e)}function Q1(t,e,n){return Math.max(0,e-t,t-n)}function DG(t,e){return t?!e:e}function dot(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:d,isVertical:u}=e,f=d&&u,{xSnapped:g,ySnapped:v}=n,{minWidth:y,maxWidth:m,minHeight:p,maxHeight:x}=r,{x:_,y:b,width:S,height:C,aspectRatio:M}=t;let T=Math.floor(d?g-t.pointerX:0),P=Math.floor(u?v-t.pointerY:0);const N=S+(l?-T:T),I=C+(c?-P:P),k=-s[0]*S,j=-s[1]*C;let F=Q1(N,y,m),B=Q1(I,p,x);if(o){let R=0,L=0;l&&T<0?R=xu(_+T+k,o[0][0]):!l&&T>0&&(R=_u(_+N+k,o[1][0])),c&&P<0?L=xu(b+P+j,o[0][1]):!c&&P>0&&(L=_u(b+I+j,o[1][1])),F=Math.max(F,R),B=Math.max(B,L)}if(a){let R=0,L=0;l&&T>0?R=_u(_+T,a[0][0]):!l&&T<0&&(R=xu(_+N,a[1][0])),c&&P>0?L=_u(b+P,a[0][1]):!c&&P<0&&(L=xu(b+I,a[1][1])),F=Math.max(F,R),B=Math.max(B,L)}if(i){if(d){const R=Q1(N/M,p,x)*M;if(F=Math.max(F,R),o){let L=0;!l&&!c||l&&!c&&f?L=_u(b+j+N/M,o[1][1])*M:L=xu(b+j+(l?T:-T)/M,o[0][1])*M,F=Math.max(F,L)}if(a){let L=0;!l&&!c||l&&!c&&f?L=xu(b+N/M,a[1][1])*M:L=_u(b+(l?T:-T)/M,a[0][1])*M,F=Math.max(F,L)}}if(u){const R=Q1(I*M,y,m)/M;if(B=Math.max(B,R),o){let L=0;!l&&!c||c&&!l&&f?L=_u(_+I*M+k,o[1][0])/M:L=xu(_+(c?P:-P)*M+k,o[0][0])/M,B=Math.max(B,L)}if(a){let L=0;!l&&!c||c&&!l&&f?L=xu(_+I*M,a[1][0])/M:L=_u(_+(c?P:-P)*M,a[0][0])/M,B=Math.max(B,L)}}}P=P+(P<0?B:-B),T=T+(T<0?F:-F),i&&(f?N>I*M?P=(DG(l,c)?-T:T)/M:T=(DG(l,c)?-P:P)*M:d?(P=T/M,c=l):(T=P*M,l=c));const U=l?_+T:_,H=c?b+P:b;return{width:S+(l?-T:T),height:C+(c?-P:P),x:s[0]*T*(l?-1:1)+U,y:s[1]*P*(c?-1:1)+H}}const bue={width:0,height:0,x:0,y:0},fot={...bue,pointerX:0,pointerY:0,aspectRatio:1};function hot(t){return[[0,0],[t.measured.width,t.measured.height]]}function pot(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function mot({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=ws(t);let o={controlDirection:kG("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:u,resizeDirection:f,onResizeStart:g,onResize:v,onResizeEnd:y,shouldResize:m}){let p={...bue},x={...fot};o={boundaries:d,resizeDirection:f,keepAspectRatio:u,controlDirection:kG(c)};let _,b=null,S=[],C,M,T,P=!1;const N=jce().on("start",I=>{const{nodeLookup:k,transform:j,snapGrid:F,snapToGrid:B,nodeOrigin:U,paneDomNode:H}=n();if(_=k.get(e),!_)return;b=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:L}=J0(I.sourceEvent,{transform:j,snapGrid:F,snapToGrid:B,containerBounds:b});p={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},x={...p,pointerX:R,pointerY:L,aspectRatio:p.width/p.height},C=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(C=k.get(_.parentId),M=C&&_.extent==="parent"?hot(C):void 0),S=[],T=void 0;for(const[z,W]of k)if(W.parentId===e&&(S.push({id:z,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const G=pot(W,_,W.origin??U);T?T=[[Math.min(G[0][0],T[0][0]),Math.min(G[0][1],T[0][1])],[Math.max(G[1][0],T[1][0]),Math.max(G[1][1],T[1][1])]]:T=G}g==null||g(I,{...p})}).on("drag",I=>{const{transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:B}=n(),U=J0(I.sourceEvent,{transform:k,snapGrid:j,snapToGrid:F,containerBounds:b}),H=[];if(!_)return;const{x:R,y:L,width:z,height:W}=p,G={},q=_.origin??B,{width:ne,height:ae,x:se,y:$}=dot(x,o.controlDirection,U,o.boundaries,o.keepAspectRatio,q,M,T),Y=ne!==z,Q=ae!==W,te=se!==R&&Y,ue=$!==L&&Q;if(!te&&!ue&&!Y&&!Q)return;if((te||ue||q[0]===1||q[1]===1)&&(G.x=te?se:p.x,G.y=ue?$:p.y,p.x=G.x,p.y=G.y,S.length>0)){const fe=se-R,me=$-L;for(const pe of S)pe.position={x:pe.position.x-fe+q[0]*(ne-z),y:pe.position.y-me+q[1]*(ae-W)},H.push(pe)}if((Y||Q)&&(G.width=Y&&(!o.resizeDirection||o.resizeDirection==="horizontal")?ne:p.width,G.height=Q&&(!o.resizeDirection||o.resizeDirection==="vertical")?ae:p.height,p.width=G.width,p.height=G.height),C&&_.expandParent){const fe=q[0]*(G.width??0);G.x&&G.x<fe&&(p.x=fe,x.x=x.x-(G.x-fe));const me=q[1]*(G.height??0);G.y&&G.y<me&&(p.y=me,x.y=x.y-(G.y-me))}const J=uot({width:p.width,prevWidth:z,height:p.height,prevHeight:W,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),K={...p,direction:J};(m==null?void 0:m(I,K))!==!1&&(P=!0,v==null||v(I,K),r(G,H))}).on("end",I=>{P&&(y==null||y(I,{...p}),i==null||i({...p}),P=!1)});s.call(N)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var wue={exports:{}},Sue={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=A,got=RK;function vot(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yot=typeof Object.is=="function"?Object.is:vot,xot=got.useSyncExternalStore,_ot=PP.useRef,bot=PP.useEffect,wot=PP.useMemo,Sot=PP.useDebugValue;Sue.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=_ot(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wot(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return u=v}return u=g}if(v=u,yot(d,g))return v;var y=r(g);return i!==void 0&&i(v,y)?v:(d=g,u=y)}var c=!1,d,u,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=xot(t,s[0],s[1]);return bot(function(){o.hasValue=!0,o.value=a},[a]),Sot(a),a};wue.exports=Sue;var Eot=wue.exports;const Cot=Nn(Eot),Mot={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},LG=t=>{let e;const n=new Set,r=(d,u)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Mot?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Aot=t=>t?LG(t):LG,{useDebugValue:Tot}=ee,{useSyncExternalStoreWithSelector:Pot}=Cot,Not=t=>t;function Eue(t,e=Not,n){const r=Pot(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Tot(r),r}const jG=(t,e)=>{const n=Aot(t),r=(i,s=e)=>Eue(n,i,s);return Object.assign(r,n),r},Rot=(t,e)=>t?jG(t,e):jG;function br(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const NP=A.createContext(null),Oot=NP.Provider,Cue=kl.error001();function vn(t,e){const n=A.useContext(NP);if(n===null)throw new Error(Cue);return Eue(n,t,e)}function dr(){const t=A.useContext(NP);if(t===null)throw new Error(Cue);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const FG={display:"none"},Iot={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Mue="react-flow__node-desc",Aue="react-flow__edge-desc",kot="react-flow__aria-live",Dot=t=>t.ariaLiveMessage,Lot=t=>t.ariaLabelConfig;function jot({rfId:t}){const e=vn(Dot);return h.jsx("div",{id:`${kot}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Iot,children:e})}function Fot({rfId:t,disableKeyboardA11y:e}){const n=vn(Lot);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${Mue}-${t}`,style:FG,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${Aue}-${t}`,style:FG,children:n["edge.a11yDescription.default"]}),!e&&h.jsx(jot,{rfId:t})]})}const RP=A.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return h.jsx("div",{className:Wr(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});RP.displayName="Panel";function Bot({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:h.jsx(RP,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Uot=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},J1=t=>t.id;function zot(t,e){return br(t.selectedNodes.map(J1),e.selectedNodes.map(J1))&&br(t.selectedEdges.map(J1),e.selectedEdges.map(J1))}function $ot({onSelectionChange:t}){const e=dr(),{selectedNodes:n,selectedEdges:r}=vn(Uot,zot);return A.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const Hot=t=>!!t.onSelectionChangeHandlers;function Vot({onSelectionChange:t}){const e=vn(Hot);return t||e?h.jsx($ot,{onSelectionChange:t}):null}const Tue=[0,0],Wot={x:0,y:0,zoom:1},Got=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],BG=[...Got,"rfId"],Xot=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),UG={translateExtent:M_,nodeOrigin:Tue,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function qot(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=vn(Xot,br),d=dr();A.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{u.current=UG,a()}),[]);const u=A.useRef(UG);return A.useEffect(()=>{for(const f of BG){const g=t[f],v=u.current[f];g!==v&&(typeof t[f]>"u"||(f==="nodes"?e(g):f==="edges"?n(g):f==="minZoom"?r(g):f==="maxZoom"?i(g):f==="translateExtent"?s(g):f==="nodeExtent"?o(g):f==="paneClickDistance"?c(g):f==="ariaLabelConfig"?d.setState({ariaLabelConfig:Tst(g)}):f==="fitView"?d.setState({fitViewQueued:g}):f==="fitViewOptions"?d.setState({fitViewOptions:g}):d.setState({[f]:g})))}u.current=t},BG.map(f=>t[f])),null}function zG(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Kot(t){var r;const[e,n]=A.useState(t==="system"?null:t);return A.useEffect(()=>{if(t!=="system"){n(t);return}const i=zG(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=zG())!=null&&r.matches?"dark":"light"}const $G=typeof document<"u"?document:null;function R_(t=null,e={target:$G,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),i=A.useRef(!1),s=A.useRef(new Set([])),[o,a]=A.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((u,f)=>u.concat(...f),[]);return[c,d]}return[[],[]]},[t]);return A.useEffect(()=>{const l=(e==null?void 0:e.target)??$G,c=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const d=g=>{var m,p;if(i.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!i.current||i.current&&!c)&&sue(g))return!1;const y=VG(g.code,a);if(s.current.add(g[y]),HG(o,s.current,!1)){const x=((p=(m=g.composedPath)==null?void 0:m.call(g))==null?void 0:p[0])||g.target,_=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";e.preventDefault!==!1&&(i.current||!_)&&g.preventDefault(),r(!0)}},u=g=>{const v=VG(g.code,a);HG(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function HG(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function VG(t,e){return e.includes(t)?"code":"key"}const Yot=()=>{const t=dr();return A.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=kB(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},d=n.snapGrid??i,u=n.snapToGrid??s;return Zb(c,r,u,d)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=OM(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Pue(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)Zot(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function Zot(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function Nue(t,e){return Pue(t,e)}function Rue(t,e){return Pue(t,e)}function wf(t,e){return{id:t,type:"select",selected:e}}function Tm(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(wf(s.id,o)))}return r}function WG({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function GG(t){return{id:t.id,type:"remove"}}const XG=t=>yst(t),Qot=t=>Zce(t);function Oue(t){return A.forwardRef(t)}const Jot=typeof window<"u"?A.useLayoutEffect:A.useEffect;function qG(t){const[e,n]=A.useState(BigInt(0)),[r]=A.useState(()=>eat(()=>n(i=>i+BigInt(1))));return Jot(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function eat(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const Iue=A.createContext(null);function tat({children:t}){const e=dr(),n=A.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:d,onNodesChange:u,nodeLookup:f,fitViewQueued:g}=e.getState();let v=l;for(const m of a)v=typeof m=="function"?m(v):m;const y=WG({items:v,lookup:f});d&&c(v),y.length>0?u==null||u(y):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:p,setNodes:x}=e.getState();m&&x(p)})},[]),r=qG(n),i=A.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:u,edgeLookup:f}=e.getState();let g=l;for(const v of a)g=typeof v=="function"?v(g):v;d?c(g):u&&u(WG({items:g,lookup:f}))},[]),s=qG(i),o=A.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return h.jsx(Iue.Provider,{value:o,children:t})}function nat(){const t=A.useContext(Iue);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const rat=t=>!!t.panZoom;function zB(){const t=Yot(),e=dr(),n=nat(),r=vn(rat),i=A.useMemo(()=>{const s=u=>e.getState().nodeLookup.get(u),o=u=>{n.nodeQueue.push(u)},a=u=>{n.edgeQueue.push(u)},l=u=>{var p,x;const{nodeLookup:f,nodeOrigin:g}=e.getState(),v=XG(u)?u:f.get(u.id),y=v.parentId?rue(v.position,v.measured,v.parentId,f,g):v.position,m={...v,position:y,width:((p=v.measured)==null?void 0:p.width)??v.width,height:((x=v.measured)==null?void 0:x.height)??v.height};return lv(m)},c=(u,f,g={replace:!1})=>{o(v=>v.map(y=>{if(y.id===u){const m=typeof f=="function"?f(y):f;return g.replace&&XG(m)?m:{...y,...m}}return y}))},d=(u,f,g={replace:!1})=>{a(v=>v.map(y=>{if(y.id===u){const m=typeof f=="function"?f(y):f;return g.replace&&Qot(m)?m:{...y,...m}}return y}))};return{getNodes:()=>e.getState().nodes.map(u=>({...u})),getNode:u=>{var f;return(f=s(u))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:u=[]}=e.getState();return u.map(f=>({...f}))},getEdge:u=>e.getState().edgeLookup.get(u),setNodes:o,setEdges:a,addNodes:u=>{const f=Array.isArray(u)?u:[u];n.nodeQueue.push(g=>[...g,...f])},addEdges:u=>{const f=Array.isArray(u)?u:[u];n.edgeQueue.push(g=>[...g,...f])},toObject:()=>{const{nodes:u=[],edges:f=[],transform:g}=e.getState(),[v,y,m]=g;return{nodes:u.map(p=>({...p})),edges:f.map(p=>({...p})),viewport:{x:v,y,zoom:m}}},deleteElements:async({nodes:u=[],edges:f=[]})=>{const{nodes:g,edges:v,onNodesDelete:y,onEdgesDelete:m,triggerNodeChanges:p,triggerEdgeChanges:x,onDelete:_,onBeforeDelete:b}=e.getState(),{nodes:S,edges:C}=await Sst({nodesToRemove:u,edgesToRemove:f,nodes:g,edges:v,onBeforeDelete:b}),M=C.length>0,T=S.length>0;if(M){const P=C.map(GG);m==null||m(C),x(P)}if(T){const P=S.map(GG);y==null||y(S),p(P)}return(T||M)&&(_==null||_({nodes:S,edges:C})),{deletedNodes:S,deletedEdges:C}},getIntersectingNodes:(u,f=!0,g)=>{const v=SG(u),y=v?u:l(u),m=g!==void 0;return y?(g||e.getState().nodes).filter(p=>{const x=e.getState().nodeLookup.get(p.id);if(x&&!v&&(p.id===u.id||!x.internals.positionAbsolute))return!1;const _=lv(m?p:x),b=T_(_,y);return f&&b>0||b>=_.width*_.height||b>=y.width*y.height}):[]},isNodeIntersecting:(u,f,g=!0)=>{const y=SG(u)?u:l(u);if(!y)return!1;const m=T_(y,f);return g&&m>0||m>=f.width*f.height||m>=y.width*y.height},updateNode:c,updateNodeData:(u,f,g={replace:!1})=>{c(u,v=>{const y=typeof f=="function"?f(v):f;return g.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},g)},updateEdge:d,updateEdgeData:(u,f,g={replace:!1})=>{d(u,v=>{const y=typeof f=="function"?f(v):f;return g.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},g)},getNodesBounds:u=>{const{nodeLookup:f,nodeOrigin:g}=e.getState();return xst(u,{nodeLookup:f,nodeOrigin:g})},getHandleConnections:({type:u,id:f,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}-${u}${f?`-${f}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:u,handleId:f,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}${u?f?`-${u}-${f}`:`-${u}`:""}`))==null?void 0:v.values())??[])},fitView:async u=>{const f=e.getState().fitViewResolver??Ast();return e.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:f}),n.nodeQueue.push(g=>[...g]),f.promise}}},[]);return A.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const KG=t=>t.selected,iat=typeof window<"u"?window:void 0;function sat({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=dr(),{deleteElements:r}=zB(),i=R_(t,{actInsideInputWithModifier:!1}),s=R_(e,{target:iat});A.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(KG),edges:o.filter(KG)}),n.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function oat(t){const e=dr();A.useEffect(()=>{const n=()=>{var i,s,o,a;if(!t.current||!(((s=(i=t.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=DB(t.current);(r.height===0||r.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",kl.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const OP={position:"absolute",width:"100%",height:"100%",top:0,left:0},aat=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function lat({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=nh.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:d,maxZoom:u,zoomActivationKeyCode:f,preventScrolling:g=!0,children:v,noWheelClassName:y,noPanClassName:m,onViewportChange:p,isControlledViewport:x,paneClickDistance:_}){const b=dr(),S=A.useRef(null),{userSelectionActive:C,lib:M,connectionInProgress:T}=vn(aat,br),P=R_(f),N=A.useRef();oat(S);const I=A.useCallback(k=>{p==null||p({x:k[0],y:k[1],zoom:k[2]}),x||b.setState({transform:k})},[p,x]);return A.useEffect(()=>{if(S.current){N.current=cot({domNode:S.current,minZoom:d,maxZoom:u,translateExtent:c,viewport:l,paneClickDistance:_,onDraggingChange:B=>b.setState({paneDragging:B}),onPanZoomStart:(B,U)=>{const{onViewportChangeStart:H,onMoveStart:R}=b.getState();R==null||R(B,U),H==null||H(U)},onPanZoom:(B,U)=>{const{onViewportChange:H,onMove:R}=b.getState();R==null||R(B,U),H==null||H(U)},onPanZoomEnd:(B,U)=>{const{onViewportChangeEnd:H,onMoveEnd:R}=b.getState();R==null||R(B,U),H==null||H(U)}});const{x:k,y:j,zoom:F}=N.current.getViewport();return b.setState({panZoom:N.current,transform:[k,j,F],domNode:S.current.closest(".react-flow")}),()=>{var B;(B=N.current)==null||B.destroy()}}},[]),A.useEffect(()=>{var k;(k=N.current)==null||k.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:g,noPanClassName:m,userSelectionActive:C,noWheelClassName:y,lib:M,onTransformChange:I,connectionInProgress:T})},[t,e,n,r,i,s,o,a,P,g,m,C,y,M,I,T]),h.jsx("div",{className:"react-flow__renderer",ref:S,style:OP,children:v})}const cat=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function uat(){const{userSelectionActive:t,userSelectionRect:e}=vn(cat,br);return t&&e?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const uO=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},dat=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function fat({isSelecting:t,selectionKeyPressed:e,selectionMode:n=A_.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:f,children:g}){const v=dr(),{userSelectionActive:y,elementsSelectable:m,dragging:p,connectionInProgress:x}=vn(dat,br),_=m&&(t||y),b=A.useRef(null),S=A.useRef(),C=A.useRef(new Set),M=A.useRef(new Set),T=A.useRef(!1),P=A.useRef(!1),N=R=>{if(T.current||x){T.current=!1;return}a==null||a(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},I=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},k=c?R=>c(R):void 0,j=R=>{(i&&b.current===R.target||!i||e)&&R.stopPropagation()},F=R=>{var ae,se;const{resetSelectedElements:L,domNode:z}=v.getState();S.current=z==null?void 0:z.getBoundingClientRect();const W=R.target!==b.current&&!!R.target.closest(".nokey"),G=i&&b.current===R.target||!i||e;if(!m||!t||R.button!==0||!S.current||W||!G||!R.isPrimary)return;R.stopPropagation(),R.preventDefault(),(se=(ae=R.target)==null?void 0:ae.setPointerCapture)==null||se.call(ae,R.pointerId),P.current=!0,T.current=!1;const{x:q,y:ne}=Ma(R.nativeEvent,S.current);L(),v.setState({userSelectionRect:{width:0,height:0,startX:q,startY:ne,x:q,y:ne}}),s==null||s(R)},B=R=>{const{userSelectionRect:L,transform:z,nodeLookup:W,edgeLookup:G,connectionLookup:q,triggerNodeChanges:ne,triggerEdgeChanges:ae,defaultEdgeOptions:se}=v.getState();if(!S.current||!L)return;T.current=!0;const{x:$,y:Y}=Ma(R.nativeEvent,S.current),{startX:Q,startY:te}=L,ue={startX:Q,startY:te,x:$<Q?$:Q,y:Y<te?Y:te,width:Math.abs($-Q),height:Math.abs(Y-te)},J=C.current,K=M.current;C.current=new Set(IB(W,ue,z,n===A_.Partial,!0).map(fe=>fe.id)),M.current=new Set;const re=(se==null?void 0:se.selectable)??!0;for(const fe of C.current){const me=q.get(fe);if(me)for(const{edgeId:pe}of me.values()){const Ae=G.get(pe);Ae&&(Ae.selectable??re)&&M.current.add(pe)}}if(!EG(J,C.current)){const fe=Tm(W,C.current,!0);ne(fe)}if(!EG(K,M.current)){const fe=Tm(G,M.current);ae(fe)}v.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},U=R=>{var z,W;if(R.button!==0||!P.current)return;(W=(z=R.target)==null?void 0:z.releasePointerCapture)==null||W.call(z,R.pointerId);const{userSelectionRect:L}=v.getState();!y&&L&&R.target===b.current&&(N==null||N(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:C.current.size>0}),o==null||o(R),(e||i)&&(T.current=!1),P.current=!1},H=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:Wr(["react-flow__pane",{draggable:H,dragging:p,selection:t}]),onClick:_?void 0:uO(N,b),onContextMenu:uO(I,b),onWheel:uO(k,b),onPointerEnter:_?void 0:d,onPointerMove:_?B:u,onPointerUp:_?U:void 0,onPointerDownCapture:_?F:void 0,onClickCapture:_?j:void 0,onPointerLeave:f,ref:b,style:OP,children:[g,h.jsx(uat,{})]})}function GL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",kl.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([t])}function kue({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=dr(),[l,c]=A.useState(!1),d=A.useRef();return A.useEffect(()=>{d.current=Kst({getStoreItems:()=>a.getState(),onNodeMouseDown:u=>{GL({id:u,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),A.useEffect(()=>{var u,f;if(e)(u=d.current)==null||u.destroy();else if(t.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var g;(g=d.current)==null||g.destroy()}},[n,r,e,s,t,i]),l}const hat=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function Due(){const t=dr();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=t.getState(),u=new Map,f=hat(o),g=i?s[0]:5,v=i?s[1]:5,y=n.direction.x*g*n.factor,m=n.direction.y*v*n.factor;for(const[,p]of c){if(!f(p))continue;let x={x:p.internals.positionAbsolute.x+y,y:p.internals.positionAbsolute.y+m};i&&(x=Yb(x,s));const{position:_,positionAbsolute:b}=Qce({nodeId:p.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});p.position=_,p.internals.positionAbsolute=b,u.set(p.id,p)}l(u)},[])}const $B=A.createContext(null),pat=$B.Provider;$B.Consumer;const Lue=()=>A.useContext($B),mat=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),gat=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,d=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===ov.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:d&&c}};function vat({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:u,...f},g){var B,U;const v=o||null,y=t==="target",m=dr(),p=Lue(),{connectOnClick:x,noPanClassName:_,rfId:b}=vn(mat,br),{connectingFrom:S,connectingTo:C,clickConnecting:M,isPossibleEndHandle:T,connectionInProcess:P,clickConnectionInProcess:N,valid:I}=vn(gat(p,v,t),br);p||(U=(B=m.getState()).onError)==null||U.call(B,"010",kl.error010());const k=H=>{const{defaultEdgeOptions:R,onConnect:L,hasDefaultEdges:z}=m.getState(),W={...R,...H};if(z){const{edges:G,setEdges:q}=m.getState();q(LB(W,G))}L==null||L(W),a==null||a(W)},j=H=>{if(!p)return;const R=oue(H.nativeEvent);if(i&&(R&&H.button===0||!R)){const L=m.getState();WL.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:y,handleId:v,nodeId:p,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:k,isValidConnection:n||L.isValidConnection,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}R?d==null||d(H):u==null||u(H)},F=H=>{const{onClickConnectStart:R,onClickConnectEnd:L,connectionClickStartHandle:z,connectionMode:W,isValidConnection:G,lib:q,rfId:ne,nodeLookup:ae,connection:se}=m.getState();if(!p||!z&&!i)return;if(!z){R==null||R(H.nativeEvent,{nodeId:p,handleId:v,handleType:t}),m.setState({connectionClickStartHandle:{nodeId:p,type:t,id:v}});return}const $=iue(H.target),Y=n||G,{connection:Q,isValid:te}=WL.isValid(H.nativeEvent,{handle:{nodeId:p,id:v,type:t},connectionMode:W,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:Y,flowId:ne,doc:$,lib:q,nodeLookup:ae});te&&Q&&k(Q);const ue=structuredClone(se);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,L==null||L(H,ue),m.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":e,"data-id":`${b}-${p}-${v}-${t}`,className:Wr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,clickconnecting:M,connectingfrom:S,connectingto:C,valid:I,connectionindicator:r&&(!P||T)&&(P||N?s:i)}]),onMouseDown:j,onTouchStart:j,onClick:x?F:void 0,ref:g,...f,children:l})}const IM=A.memo(Oue(vat));function yat({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return h.jsxs(h.Fragment,{children:[t==null?void 0:t.label,h.jsx(IM,{type:"source",position:n,isConnectable:e})]})}function xat({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(IM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,h.jsx(IM,{type:"source",position:r,isConnectable:e})]})}function _at(){return null}function bat({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(IM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const kM={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},YG={input:yat,default:xat,output:bat,group:_at};function wat(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Sat=t=>{const{width:e,height:n,x:r,y:i}=Kb(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ca(e)?e:null,height:Ca(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Eat({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=dr(),{width:i,height:s,transformString:o,userSelectionActive:a}=vn(Sat,br),l=Due(),c=A.useRef(null);if(A.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),kue({nodeRef:c}),a||!i||!s)return null;const d=t?f=>{const g=r.getState().nodes.filter(v=>v.selected);t(f,g)}:void 0,u=f=>{Object.prototype.hasOwnProperty.call(kM,f.key)&&(f.preventDefault(),l({direction:kM[f.key],factor:f.shiftKey?4:1}))};return h.jsx("div",{className:Wr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:h.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:u,style:{width:i,height:s}})})}const ZG=typeof window<"u"?window:void 0,Cat=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function jue({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:u,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:m,elementsSelectable:p,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:b,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:T,defaultViewport:P,translateExtent:N,minZoom:I,maxZoom:k,preventScrolling:j,onSelectionContextMenu:F,noWheelClassName:B,noPanClassName:U,disableKeyboardA11y:H,onViewportChange:R,isControlledViewport:L}){const{nodesSelectionActive:z,userSelectionActive:W}=vn(Cat),G=R_(c,{target:ZG}),q=R_(y,{target:ZG}),ne=q||T,ae=q||b,se=d&&ne!==!0,$=G||W||se;return sat({deleteKeyCode:l,multiSelectionKeyCode:v}),h.jsx(lat,{onPaneContextMenu:s,elementsSelectable:p,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:ae,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:!G&&ne,defaultViewport:P,translateExtent:N,minZoom:I,maxZoom:k,zoomActivationKeyCode:m,preventScrolling:j,noWheelClassName:B,noPanClassName:U,onViewportChange:R,isControlledViewport:L,paneClickDistance:a,children:h.jsxs(fat,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ne,isSelecting:!!$,selectionMode:u,selectionKeyPressed:G,selectionOnDrag:se,children:[t,z&&h.jsx(Eat,{onSelectionContextMenu:F,noPanClassName:U,disableKeyboardA11y:H})]})})}jue.displayName="FlowRenderer";const Mat=A.memo(jue),Aat=t=>e=>t?IB(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Tat(t){return vn(A.useCallback(Aat(t),[t]),br)}const Pat=t=>t.updateNodeInternals;function Nat(){const t=vn(Pat),[e]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return A.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Rat({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=dr(),s=A.useRef(null),o=A.useRef(null),a=A.useRef(t.sourcePosition),l=A.useRef(t.targetPosition),c=A.useRef(e),d=n&&!!t.internals.handleBounds;return A.useEffect(()=>{s.current&&!t.hidden&&(!d||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[d,t.hidden]),A.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),A.useEffect(()=>{if(s.current){const u=c.current!==e,f=a.current!==t.sourcePosition,g=l.current!==t.targetPosition;(u||f||g)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Oat({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:d,resizeObserver:u,noDragClassName:f,noPanClassName:g,disableKeyboardA11y:v,rfId:y,nodeTypes:m,nodeClickDistance:p,onError:x}){const{node:_,internals:b,isParent:S}=vn(Y=>{const Q=Y.nodeLookup.get(t),te=Y.parentLookup.has(t);return{node:Q,internals:Q.internals,isParent:te}},br);let C=_.type||"default",M=(m==null?void 0:m[C])||YG[C];M===void 0&&(x==null||x("003",kl.error003(C)),C="default",M=(m==null?void 0:m.default)||YG.default);const T=!!(_.draggable||a&&typeof _.draggable>"u"),P=!!(_.selectable||l&&typeof _.selectable>"u"),N=!!(_.connectable||c&&typeof _.connectable>"u"),I=!!(_.focusable||d&&typeof _.focusable>"u"),k=dr(),j=nue(_),F=Rat({node:_,nodeType:C,hasDimensions:j,resizeObserver:u}),B=kue({nodeRef:F,disabled:_.hidden||!T,noDragClassName:f,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:p}),U=Due();if(_.hidden)return null;const H=nu(_),R=wat(_),L=P||T||e||n||r||i,z=n?Y=>n(Y,{...b.userNode}):void 0,W=r?Y=>r(Y,{...b.userNode}):void 0,G=i?Y=>i(Y,{...b.userNode}):void 0,q=s?Y=>s(Y,{...b.userNode}):void 0,ne=o?Y=>o(Y,{...b.userNode}):void 0,ae=Y=>{const{selectNodesOnDrag:Q,nodeDragThreshold:te}=k.getState();P&&(!Q||!T||te>0)&&GL({id:t,store:k,nodeRef:F}),e&&e(Y,{...b.userNode})},se=Y=>{if(!(sue(Y.nativeEvent)||v)){if(Xce.includes(Y.key)&&P){const Q=Y.key==="Escape";GL({id:t,store:k,unselect:Q,nodeRef:F})}else if(T&&_.selected&&Object.prototype.hasOwnProperty.call(kM,Y.key)){Y.preventDefault();const{ariaLabelConfig:Q}=k.getState();k.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:Y.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),U({direction:kM[Y.key],factor:Y.shiftKey?4:1})}}},$=()=>{var re;if(v||!((re=F.current)!=null&&re.matches(":focus-visible")))return;const{transform:Y,width:Q,height:te,autoPanOnNodeFocus:ue,setCenter:J}=k.getState();if(!ue)return;IB(new Map([[t,_]]),{x:0,y:0,width:Q,height:te},Y,!0).length>0||J(_.position.x+H.width/2,_.position.y+H.height/2,{zoom:Y[2]})};return h.jsx("div",{className:Wr(["react-flow__node",`react-flow__node-${C}`,{[g]:T},_.className,{selected:_.selected,selectable:P,parent:S,draggable:T,dragging:B}]),ref:F,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:L?"all":"none",visibility:j?"visible":"hidden",..._.style,...R},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:z,onMouseMove:W,onMouseLeave:G,onContextMenu:q,onClick:ae,onDoubleClick:ne,onKeyDown:I?se:void 0,tabIndex:I?0:void 0,onFocus:I?$:void 0,role:_.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${Mue}-${y}`,"aria-label":_.ariaLabel,..._.domAttributes,children:h.jsx(pat,{value:t,children:h.jsx(M,{id:t,data:_.data,type:C,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:T,deletable:_.deletable??!0,isConnectable:N,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:B,dragHandle:_.dragHandle,zIndex:b.z,parentId:_.parentId,...H})})})}var Iat=A.memo(Oat);const kat=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Fue(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=vn(kat,br),o=Tat(t.onlyRenderVisibleElements),a=Nat();return h.jsx("div",{className:"react-flow__nodes",style:OP,children:o.map(l=>h.jsx(Iat,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}Fue.displayName="NodeRenderer";const Dat=A.memo(Fue);function Lat(t){return vn(A.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&Rst({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),br)}const jat=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Fat=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},QG={[NM.Arrow]:jat,[NM.ArrowClosed]:Fat};function Bat(t){const e=dr();return A.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(QG,t)?QG[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",kl.error009(t)),null)},[t])}const Uat=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Bat(e);return l?h.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:h.jsx(l,{color:n,strokeWidth:o})}):null},Bue=({defaultColor:t,rfId:e})=>{const n=vn(s=>s.edges),r=vn(s=>s.defaultEdgeOptions),i=A.useMemo(()=>Fst(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:i.map(s=>h.jsx(Uat,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Bue.displayName="MarkerDefinitions";var zat=A.memo(Bue);function Uue({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d}){const[u,f]=A.useState({x:1,y:0,width:0,height:0}),g=Wr(["react-flow__edge-textwrapper",c]),v=A.useRef(null);return A.useEffect(()=>{if(v.current){const y=v.current.getBBox();f({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?h.jsxs("g",{transform:`translate(${t-u.width/2} ${e-u.height/2})`,className:g,visibility:u.width?"visible":"hidden",...d,children:[i&&h.jsx("rect",{width:u.width+2*o[0],x:-o[0],y:-o[1],height:u.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}Uue.displayName="EdgeText";const $at=A.memo(Uue);function IP({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...d}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...d,d:t,fill:"none",className:Wr(["react-flow__edge-path",d.className])}),c?h.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&Ca(e)&&Ca(n)?h.jsx($at,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function JG({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function zue({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,a]=JG({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=JG({pos:s,x1:r,y1:i,x2:t,y2:e}),[d,u,f,g]=aue({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,d,u,f,g]}function $ue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:p})=>{const[x,_,b]=zue({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),S=t.isInternal?void 0:e;return h.jsx(IP,{id:S,path:x,labelX:_,labelY:b,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:p})})}const Hat=$ue({isInternal:!1}),Hue=$ue({isInternal:!0});Hat.displayName="SimpleBezierEdge";Hue.displayName="SimpleBezierEdgeInternal";function Vue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,sourcePosition:g=Lt.Bottom,targetPosition:v=Lt.Top,markerEnd:y,markerStart:m,pathOptions:p,interactionWidth:x})=>{const[_,b,S]=$L({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:s,targetPosition:v,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),C=t.isInternal?void 0:e;return h.jsx(IP,{id:C,path:_,labelX:b,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:y,markerStart:m,interactionWidth:x})})}const Wue=Vue({isInternal:!1}),Gue=Vue({isInternal:!0});Wue.displayName="SmoothStepEdge";Gue.displayName="SmoothStepEdgeInternal";function Xue(t){return A.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return h.jsx(Wue,{...n,id:r,pathOptions:A.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Vat=Xue({isInternal:!1}),que=Xue({isInternal:!0});Vat.displayName="StepEdge";que.displayName="StepEdgeInternal";function Kue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:v,interactionWidth:y})=>{const[m,p,x]=uue({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=t.isInternal?void 0:e;return h.jsx(IP,{id:_,path:m,labelX:p,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:v,interactionWidth:y})})}const Wat=Kue({isInternal:!1}),Yue=Kue({isInternal:!0});Wat.displayName="StraightEdge";Yue.displayName="StraightEdgeInternal";function Zue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:a=Lt.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,pathOptions:p,interactionWidth:x})=>{const[_,b,S]=lue({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:p==null?void 0:p.curvature}),C=t.isInternal?void 0:e;return h.jsx(IP,{id:C,path:_,labelX:b,labelY:S,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:x})})}const Gat=Zue({isInternal:!1}),Que=Zue({isInternal:!0});Gat.displayName="BezierEdge";Que.displayName="BezierEdgeInternal";const e7={default:Que,straight:Yue,step:que,smoothstep:Gue,simplebezier:Hue},t7={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Xat=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,qat=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,n7="react-flow__edgeupdater";function r7({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Wr([n7,`${n7}-${a}`]),cx:Xat(e,r,t),cy:qat(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Kat({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:d,onReconnectEnd:u,setReconnecting:f,setUpdateHover:g}){const v=dr(),y=(b,S)=>{if(b.button!==0)return;const{autoPanOnConnect:C,domNode:M,isValidConnection:T,connectionMode:P,connectionRadius:N,lib:I,onConnectStart:k,onConnectEnd:j,cancelConnection:F,nodeLookup:B,rfId:U,panBy:H,updateConnection:R}=v.getState(),L=S.type==="target",z=(q,ne)=>{f(!1),u==null||u(q,n,S.type,ne)},W=q=>c==null?void 0:c(n,q),G=(q,ne)=>{f(!0),d==null||d(b,n,S.type),k==null||k(q,ne)};WL.onPointerDown(b.nativeEvent,{autoPanOnConnect:C,connectionMode:P,connectionRadius:N,domNode:M,handleId:S.id,nodeId:S.nodeId,nodeLookup:B,isTarget:L,edgeUpdaterType:S.type,lib:I,flowId:U,cancelConnection:F,panBy:H,isValidConnection:T,onConnect:W,onConnectStart:G,onConnectEnd:j,onReconnectEnd:z,updateConnection:R,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},m=b=>y(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=b=>y(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>g(!0),_=()=>g(!1);return h.jsxs(h.Fragment,{children:[(t===!0||t==="source")&&h.jsx(r7,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:m,onMouseEnter:x,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&h.jsx(r7,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:p,onMouseEnter:x,onMouseOut:_,type:"target"})]})}function Yat({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:g,rfId:v,edgeTypes:y,noPanClassName:m,onError:p,disableKeyboardA11y:x}){let _=vn(J=>J.edgeLookup.get(t));const b=vn(J=>J.defaultEdgeOptions);_=b?{...b,..._}:_;let S=_.type||"default",C=(y==null?void 0:y[S])||e7[S];C===void 0&&(p==null||p("011",kl.error011(S)),S="default",C=(y==null?void 0:y.default)||e7.default);const M=!!(_.focusable||e&&typeof _.focusable>"u"),T=typeof u<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),N=A.useRef(null),[I,k]=A.useState(!1),[j,F]=A.useState(!1),B=dr(),{zIndex:U,sourceX:H,sourceY:R,targetX:L,targetY:z,sourcePosition:W,targetPosition:G}=vn(A.useCallback(J=>{const K=J.nodeLookup.get(_.source),re=J.nodeLookup.get(_.target);if(!K||!re)return{zIndex:_.zIndex,...t7};const fe=jst({id:t,sourceNode:K,targetNode:re,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:J.connectionMode,onError:p});return{zIndex:Nst({selected:_.selected,zIndex:_.zIndex,sourceNode:K,targetNode:re,elevateOnSelect:J.elevateEdgesOnSelect}),...fe||t7}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),br),q=A.useMemo(()=>_.markerStart?`url('#${HL(_.markerStart,v)}')`:void 0,[_.markerStart,v]),ne=A.useMemo(()=>_.markerEnd?`url('#${HL(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||H===null||R===null||L===null||z===null)return null;const ae=J=>{var me;const{addSelectedEdges:K,unselectNodesAndEdges:re,multiSelectionActive:fe}=B.getState();P&&(B.setState({nodesSelectionActive:!1}),_.selected&&fe?(re({nodes:[],edges:[_]}),(me=N.current)==null||me.blur()):K([t])),i&&i(J,_)},se=s?J=>{s(J,{..._})}:void 0,$=o?J=>{o(J,{..._})}:void 0,Y=a?J=>{a(J,{..._})}:void 0,Q=l?J=>{l(J,{..._})}:void 0,te=c?J=>{c(J,{..._})}:void 0,ue=J=>{var K;if(!x&&Xce.includes(J.key)&&P){const{unselectNodesAndEdges:re,addSelectedEdges:fe}=B.getState();J.key==="Escape"?((K=N.current)==null||K.blur(),re({edges:[_]})):fe([t])}};return h.jsx("svg",{style:{zIndex:U},children:h.jsxs("g",{className:Wr(["react-flow__edge",`react-flow__edge-${S}`,_.className,m,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:I,selectable:P}]),onClick:ae,onDoubleClick:se,onContextMenu:$,onMouseEnter:Y,onMouseMove:Q,onMouseLeave:te,onKeyDown:M?ue:void 0,tabIndex:M?0:void 0,role:_.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":M?`${Aue}-${v}`:void 0,ref:N,..._.domAttributes,children:[!j&&h.jsx(C,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:H,sourceY:R,targetX:L,targetY:z,sourcePosition:W,targetPosition:G,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:q,markerEnd:ne,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),T&&h.jsx(Kat,{edge:_,isReconnectable:T,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:g,sourceX:H,sourceY:R,targetX:L,targetY:z,sourcePosition:W,targetPosition:G,setUpdateHover:k,setReconnecting:F})]})})}var Zat=A.memo(Yat);const Qat=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Jue({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:u,onEdgeDoubleClick:f,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:y}){const{edgesFocusable:m,edgesReconnectable:p,elementsSelectable:x,onError:_}=vn(Qat,br),b=Lat(e);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(zat,{defaultColor:t,rfId:n}),b.map(S=>h.jsx(Zat,{id:S,edgesFocusable:m,edgesReconnectable:p,elementsSelectable:x,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,reconnectRadius:u,onDoubleClick:f,onReconnectStart:g,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:y},S))]})}Jue.displayName="EdgeRenderer";const Jat=A.memo(Jue),elt=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function tlt({children:t}){const e=vn(elt);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function nlt(t){const e=zB(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const rlt=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function ilt(t){const e=vn(rlt),n=dr();return A.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function slt(t){return t.connection.inProgress?{...t.connection,to:Zb(t.connection.to,t.transform)}:{...t.connection}}function olt(t){return slt}function alt(t){const e=olt();return vn(e,br)}const llt=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function clt({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=vn(llt,br);return!(s&&i&&l)?null:h.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:Wr(["react-flow__connection",Yce(a)]),children:h.jsx(ede,{style:e,type:n,CustomComponent:r,isValid:a})})})}const ede=({style:t,type:e=Fu.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:d,toHandle:u,toPosition:f}=alt();if(!i)return;if(n)return h.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:Yce(r),toNode:d,toHandle:u});let g="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(e){case Fu.Bezier:[g]=lue(v);break;case Fu.SimpleBezier:[g]=zue(v);break;case Fu.Step:[g]=$L({...v,borderRadius:0});break;case Fu.SmoothStep:[g]=$L(v);break;default:[g]=uue(v)}return h.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:t})};ede.displayName="ConnectionLine";const ult={};function i7(t=ult){A.useRef(t),dr(),A.useEffect(()=>{},[t])}function dlt(){dr(),A.useRef(!1),A.useEffect(()=>{},[])}function tde({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:u,onSelectionStart:f,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:y,connectionLineComponent:m,connectionLineContainerStyle:p,selectionKeyCode:x,selectionOnDrag:_,selectionMode:b,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:M,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:N,defaultViewport:I,translateExtent:k,minZoom:j,maxZoom:F,preventScrolling:B,defaultMarkerColor:U,zoomOnScroll:H,zoomOnPinch:R,panOnScroll:L,panOnScrollSpeed:z,panOnScrollMode:W,zoomOnDoubleClick:G,panOnDrag:q,onPaneClick:ne,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:$,onPaneScroll:Y,onPaneContextMenu:Q,paneClickDistance:te,nodeClickDistance:ue,onEdgeContextMenu:J,onEdgeMouseEnter:K,onEdgeMouseMove:re,onEdgeMouseLeave:fe,reconnectRadius:me,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,noDragClassName:ke,noWheelClassName:rt,noPanClassName:Je,disableKeyboardA11y:ie,nodeExtent:Z,rfId:ve,viewport:Se,onViewportChange:Ie}){return i7(t),i7(e),dlt(),nlt(n),ilt(Se),h.jsx(Mat,{onPaneClick:ne,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:$,onPaneContextMenu:Q,onPaneScroll:Y,paneClickDistance:te,deleteKeyCode:T,selectionKeyCode:x,selectionOnDrag:_,selectionMode:b,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:M,elementsSelectable:N,zoomOnScroll:H,zoomOnPinch:R,zoomOnDoubleClick:G,panOnScroll:L,panOnScrollSpeed:z,panOnScrollMode:W,panOnDrag:q,defaultViewport:I,translateExtent:k,minZoom:j,maxZoom:F,onSelectionContextMenu:u,preventScrolling:B,noDragClassName:ke,noWheelClassName:rt,noPanClassName:Je,disableKeyboardA11y:ie,onViewportChange:Ie,isControlledViewport:!!Se,children:h.jsxs(tlt,{children:[h.jsx(Jat,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:K,onEdgeMouseMove:re,onEdgeMouseLeave:fe,reconnectRadius:me,defaultMarkerColor:U,noPanClassName:Je,disableKeyboardA11y:ie,rfId:ve}),h.jsx(clt,{style:y,type:v,component:m,containerStyle:p}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(Dat,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:ue,onlyRenderVisibleElements:P,noPanClassName:Je,noDragClassName:ke,disableKeyboardA11y:ie,nodeExtent:Z,rfId:ve}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}tde.displayName="GraphView";const flt=A.memo(tde),s7=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:u}={})=>{const f=new Map,g=new Map,v=new Map,y=new Map,m=r??e??[],p=n??t??[],x=d??[0,0],_=u??M_;hue(v,y,m);const b=VL(p,f,g,{nodeOrigin:x,nodeExtent:_,elevateNodesOnSelect:!1});let S=[0,0,1];if(o&&i&&s){const C=Kb(f,{filter:N=>!!((N.width||N.initialWidth)&&(N.height||N.initialHeight))}),{x:M,y:T,zoom:P}=kB(C,i,s,l,c,(a==null?void 0:a.padding)??.1);S=[M,T,P]}return{rfId:"1",width:i??0,height:s??0,transform:S,nodes:p,nodesInitialized:b,nodeLookup:f,parentLookup:g,edges:m,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:M_,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ov.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Kce},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Est,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:qce}},hlt=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:u})=>Rot((f,g)=>{async function v(){const{nodeLookup:y,panZoom:m,fitViewOptions:p,fitViewResolver:x,width:_,height:b,minZoom:S,maxZoom:C}=g();m&&(await wst({nodes:y,width:_,height:b,panZoom:m,minZoom:S,maxZoom:C},p),x==null||x.resolve(!0),f({fitViewResolver:null}))}return{...s7({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:m,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:_,fitViewQueued:b}=g(),S=VL(y,m,p,{nodeOrigin:x,nodeExtent:u,elevateNodesOnSelect:_,checkEquality:!0});b&&S?(v(),f({nodes:y,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:y,nodesInitialized:S})},setEdges:y=>{const{connectionLookup:m,edgeLookup:p}=g();hue(m,p,y),f({edges:y})},setDefaultNodesAndEdges:(y,m)=>{if(y){const{setNodes:p}=g();p(y),f({hasDefaultNodes:!0})}if(m){const{setEdges:p}=g();p(m),f({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:m,nodeLookup:p,parentLookup:x,domNode:_,nodeOrigin:b,nodeExtent:S,debug:C,fitViewQueued:M}=g(),{changes:T,updatedInternals:P}=Wst(y,p,x,_,b,S);P&&(zst(p,x,{nodeOrigin:b,nodeExtent:S}),M?(v(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(T==null?void 0:T.length)>0&&(C&&console.log("React Flow: trigger node changes",T),m==null||m(T)))},updateNodePositions:(y,m=!1)=>{const p=[],x=[],{nodeLookup:_,triggerNodeChanges:b}=g();for(const[S,C]of y){const M=_.get(S),T=!!(M!=null&&M.expandParent&&(M!=null&&M.parentId)&&(C!=null&&C.position)),P={id:S,type:"position",position:T?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:m};T&&M.parentId&&p.push({id:S,parentId:M.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),x.push(P)}if(p.length>0){const{parentLookup:S,nodeOrigin:C}=g(),M=UB(p,_,S,C);x.push(...M)}b(x)},triggerNodeChanges:y=>{const{onNodesChange:m,setNodes:p,nodes:x,hasDefaultNodes:_,debug:b}=g();if(y!=null&&y.length){if(_){const S=Nue(y,x);p(S)}b&&console.log("React Flow: trigger node changes",y),m==null||m(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:m,setEdges:p,edges:x,hasDefaultEdges:_,debug:b}=g();if(y!=null&&y.length){if(_){const S=Rue(y,x);p(S)}b&&console.log("React Flow: trigger edge changes",y),m==null||m(y)}},addSelectedNodes:y=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=y.map(C=>wf(C,!0));_(S);return}_(Tm(x,new Set([...y]),!0)),b(Tm(p))},addSelectedEdges:y=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=y.map(C=>wf(C,!0));b(S);return}b(Tm(p,new Set([...y]))),_(Tm(x,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:m}={})=>{const{edges:p,nodes:x,nodeLookup:_,triggerNodeChanges:b,triggerEdgeChanges:S}=g(),C=y||x,M=m||p,T=C.map(N=>{const I=_.get(N.id);return I&&(I.selected=!1),wf(N.id,!1)}),P=M.map(N=>wf(N.id,!1));b(T),S(P)},setMinZoom:y=>{const{panZoom:m,maxZoom:p}=g();m==null||m.setScaleExtent([y,p]),f({minZoom:y})},setMaxZoom:y=>{const{panZoom:m,minZoom:p}=g();m==null||m.setScaleExtent([p,y]),f({maxZoom:y})},setTranslateExtent:y=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(y),f({translateExtent:y})},setPaneClickDistance:y=>{var m;(m=g().panZoom)==null||m.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:m,triggerNodeChanges:p,triggerEdgeChanges:x,elementsSelectable:_}=g();if(!_)return;const b=m.reduce((C,M)=>M.selected?[...C,wf(M.id,!1)]:C,[]),S=y.reduce((C,M)=>M.selected?[...C,wf(M.id,!1)]:C,[]);p(b),x(S)},setNodeExtent:y=>{const{nodes:m,nodeLookup:p,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:b,nodeExtent:S}=g();y[0][0]===S[0][0]&&y[0][1]===S[0][1]&&y[1][0]===S[1][0]&&y[1][1]===S[1][1]||(VL(m,p,x,{nodeOrigin:_,nodeExtent:y,elevateNodesOnSelect:b,checkEquality:!1}),f({nodeExtent:y}))},panBy:y=>{const{transform:m,width:p,height:x,panZoom:_,translateExtent:b}=g();return Gst({delta:y,panZoom:_,transform:m,translateExtent:b,width:p,height:x})},setCenter:async(y,m,p)=>{const{width:x,height:_,maxZoom:b,panZoom:S}=g();if(!S)return Promise.resolve(!1);const C=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:b;return await S.setViewport({x:x/2-y*C,y:_/2-m*C,zoom:C},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...Kce}})},updateConnection:y=>{f({connection:y})},reset:()=>f({...s7()})}},Object.is);function plt({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:d,nodeExtent:u,children:f}){const[g]=A.useState(()=>hlt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:u}));return h.jsx(Oot,{value:g,children:h.jsx(tat,{children:f})})}function mlt({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:f}){return A.useContext(NP)?h.jsx(h.Fragment,{children:t}):h.jsx(plt,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:u,nodeExtent:f,children:t})}const glt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function vlt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:u,onMoveEnd:f,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:m,onClickConnectEnd:p,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onSelectionChange:j,onSelectionDragStart:F,onSelectionDrag:B,onSelectionDragStop:U,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:L,onBeforeDelete:z,connectionMode:W,connectionLineType:G=Fu.Bezier,connectionLineStyle:q,connectionLineComponent:ne,connectionLineContainerStyle:ae,deleteKeyCode:se="Backspace",selectionKeyCode:$="Shift",selectionOnDrag:Y=!1,selectionMode:Q=A_.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:ue=P_()?"Meta":"Control",zoomActivationKeyCode:J=P_()?"Meta":"Control",snapToGrid:K,snapGrid:re,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:me,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:ke,nodeOrigin:rt=Tue,edgesFocusable:Je,edgesReconnectable:ie,elementsSelectable:Z=!0,defaultViewport:ve=Wot,minZoom:Se=.5,maxZoom:Ie=2,translateExtent:Me=M_,preventScrolling:ct=!0,nodeExtent:He,defaultMarkerColor:lt="#b1b1b7",zoomOnScroll:Ge=!0,zoomOnPinch:$e=!0,panOnScroll:it=!1,panOnScrollSpeed:Ct=.5,panOnScrollMode:he=nh.Free,zoomOnDoubleClick:Ee=!0,panOnDrag:Ye=!0,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:Be,onPaneMouseLeave:Ve,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Ze=0,nodeClickDistance:mt=0,children:jt,onReconnect:$t,onReconnectStart:Ln,onReconnectEnd:Rn,onEdgeContextMenu:ta,onEdgeDoubleClick:cs,onEdgeMouseEnter:ru,onEdgeMouseMove:iu,onEdgeMouseLeave:np,reconnectRadius:vo=10,onNodesChange:rp,onEdgesChange:su,noDragClassName:ip="nodrag",noWheelClassName:sp="nowheel",noPanClassName:op="nopan",fitView:ap,fitViewOptions:lp,connectOnClick:cp,attributionPosition:iy,proOptions:sy,defaultEdgeOptions:oe,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,disableKeyboardA11y:Re=!1,autoPanOnConnect:be,autoPanOnNodeDrag:Ke,autoPanSpeed:ut,connectionRadius:yt,isValidConnection:gt,onError:It,style:Ot,id:bt,nodeDragThreshold:St,connectionDragThreshold:Nt,viewport:yn,onViewportChange:qt,width:Kt,height:Mt,colorMode:En="light",debug:Ht,onScroll:fr,ariaLabelConfig:na,...oi},yo){const On=bt||"1",Xn=Kot(En),Ei=A.useCallback(Ir=>{Ir.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),fr==null||fr(Ir)},[fr]);return h.jsx("div",{"data-testid":"rf__wrapper",...oi,onScroll:Ei,style:{...Ot,...glt},ref:yo,className:Wr(["react-flow",i,Xn]),id:bt,role:"application",children:h.jsxs(mlt,{nodes:t,edges:e,width:Kt,height:Mt,fitView:ap,fitViewOptions:lp,minZoom:Se,maxZoom:Ie,nodeOrigin:rt,nodeExtent:He,children:[h.jsx(flt,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:G,connectionLineStyle:q,connectionLineComponent:ne,connectionLineContainerStyle:ae,selectionKeyCode:$,selectionOnDrag:Y,selectionMode:Q,deleteKeyCode:se,multiSelectionKeyCode:ue,panActivationKeyCode:te,zoomActivationKeyCode:J,onlyRenderVisibleElements:fe,defaultViewport:ve,translateExtent:Me,minZoom:Se,maxZoom:Ie,preventScrolling:ct,zoomOnScroll:Ge,zoomOnPinch:$e,zoomOnDoubleClick:Ee,panOnScroll:it,panOnScrollSpeed:Ct,panOnScrollMode:he,panOnDrag:Ye,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:Be,onPaneMouseLeave:Ve,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Ze,nodeClickDistance:mt,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:L,onReconnect:$t,onReconnectStart:Ln,onReconnectEnd:Rn,onEdgeContextMenu:ta,onEdgeDoubleClick:cs,onEdgeMouseEnter:ru,onEdgeMouseMove:iu,onEdgeMouseLeave:np,reconnectRadius:vo,defaultMarkerColor:lt,noDragClassName:ip,noWheelClassName:sp,noPanClassName:op,rfId:On,disableKeyboardA11y:Re,nodeExtent:He,viewport:yn,onViewportChange:qt}),h.jsx(qot,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:m,onClickConnectEnd:p,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:ke,edgesFocusable:Je,edgesReconnectable:ie,elementsSelectable:Z,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,minZoom:Se,maxZoom:Ie,nodeExtent:He,onNodesChange:rp,onEdgesChange:su,snapToGrid:K,snapGrid:re,connectionMode:W,translateExtent:Me,connectOnClick:cp,defaultEdgeOptions:oe,fitView:ap,fitViewOptions:lp,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:B,onSelectionDragStart:F,onSelectionDragStop:U,onMove:d,onMoveStart:u,onMoveEnd:f,noPanClassName:op,nodeOrigin:rt,rfId:On,autoPanOnConnect:be,autoPanOnNodeDrag:Ke,autoPanSpeed:ut,onError:It,connectionRadius:yt,isValidConnection:gt,selectNodesOnDrag:me,nodeDragThreshold:St,connectionDragThreshold:Nt,onBeforeDelete:z,paneClickDistance:Ze,debug:Ht,ariaLabelConfig:na}),h.jsx(Vot,{onSelectionChange:j}),jt,h.jsx(Bot,{proOptions:sy,position:iy}),h.jsx(Fot,{rfId:On,disableKeyboardA11y:Re})]})})}var nde=Oue(vlt);function rde(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>Nue(i,s)),[]);return[e,n,r]}function ide(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>Rue(i,s)),[]);return[e,n,r]}function ylt({dimensions:t,lineWidth:e,variant:n,className:r}){return h.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Wr(["react-flow__background-pattern",n,r])})}function xlt({radius:t,className:e}){return h.jsx("circle",{cx:t,cy:t,r:t,className:Wr(["react-flow__background-pattern","dots",e])})}var fd;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(fd||(fd={}));const _lt={[fd.Dots]:1,[fd.Lines]:1,[fd.Cross]:6},blt=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function sde({id:t,variant:e=fd.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:d}){const u=A.useRef(null),{transform:f,patternId:g}=vn(blt,br),v=r||_lt[e],y=e===fd.Dots,m=e===fd.Cross,p=Array.isArray(n)?n:[n,n],x=[p[0]*f[2]||1,p[1]*f[2]||1],_=v*f[2],b=Array.isArray(s)?s:[s,s],S=m?[_,_]:x,C=[b[0]*f[2]||1+S[0]/2,b[1]*f[2]||1+S[1]/2],M=`${g}${t||""}`;return h.jsxs("svg",{className:Wr(["react-flow__background",c]),style:{...l,...OP,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:u,"data-testid":"rf__background",children:[h.jsx("pattern",{id:M,x:f[0]%x[0],y:f[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:y?h.jsx(xlt,{radius:_/2,className:d}):h.jsx(ylt,{dimensions:S,lineWidth:i,variant:e,className:d})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}sde.displayName="Background";const ode=A.memo(sde);function wlt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Slt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Elt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Clt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Mlt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function eS({children:t,className:e,...n}){return h.jsx("button",{type:"button",className:Wr(["react-flow__controls-button",e]),...n,children:t})}const Alt=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function ade({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:u="bottom-left",orientation:f="vertical","aria-label":g}){const v=dr(),{isInteractive:y,minZoomReached:m,maxZoomReached:p,ariaLabelConfig:x}=vn(Alt,br),{zoomIn:_,zoomOut:b,fitView:S}=zB(),C=()=>{_(),s==null||s()},M=()=>{b(),o==null||o()},T=()=>{S(i),a==null||a()},P=()=>{v.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},N=f==="horizontal"?"horizontal":"vertical";return h.jsxs(RP,{className:Wr(["react-flow__controls",N,c]),position:u,style:t,"data-testid":"rf__controls","aria-label":g??x["controls.ariaLabel"],children:[e&&h.jsxs(h.Fragment,{children:[h.jsx(eS,{onClick:C,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:p,children:h.jsx(wlt,{})}),h.jsx(eS,{onClick:M,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:m,children:h.jsx(Slt,{})})]}),n&&h.jsx(eS,{className:"react-flow__controls-fitview",onClick:T,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:h.jsx(Elt,{})}),r&&h.jsx(eS,{className:"react-flow__controls-interactive",onClick:P,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:y?h.jsx(Mlt,{}):h.jsx(Clt,{})}),d]})}ade.displayName="Controls";const lde=A.memo(ade);function Tlt({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:u,selected:f,onClick:g}){const{background:v,backgroundColor:y}=s||{},m=o||v||y;return h.jsx("rect",{className:Wr(["react-flow__minimap-node",{selected:f},c]),x:e,y:n,rx:d,ry:d,width:r,height:i,style:{fill:m,stroke:a,strokeWidth:l},shapeRendering:u,onClick:g?p=>g(p,t):void 0})}const Plt=A.memo(Tlt),Nlt=t=>t.nodes.map(e=>e.id),dO=t=>t instanceof Function?t:()=>t;function Rlt({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Plt,onClick:o}){const a=vn(Nlt,br),l=dO(e),c=dO(t),d=dO(n),u=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(f=>h.jsx(Ilt,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:u},f))})}function Olt({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:d,y:u,width:f,height:g}=vn(v=>{const{internals:y}=v.nodeLookup.get(t),m=y.userNode,{x:p,y:x}=y.positionAbsolute,{width:_,height:b}=nu(m);return{node:m,x:p,y:x,width:_,height:b}},br);return!c||c.hidden||!nue(c)?null:h.jsx(a,{x:d,y:u,width:f,height:g,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const Ilt=A.memo(Olt);var klt=A.memo(Rlt);const Dlt=200,Llt=150,jlt=t=>!t.hidden,Flt=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?tue(Kb(t.nodeLookup,{filter:jlt}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},Blt="react-flow__minimap-desc";function cde({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:d,maskStrokeWidth:u,position:f="bottom-right",onClick:g,onNodeClick:v,pannable:y=!1,zoomable:m=!1,ariaLabel:p,inversePan:x,zoomStep:_=1,offsetScale:b=5}){const S=dr(),C=A.useRef(null),{boundingRect:M,viewBB:T,rfId:P,panZoom:N,translateExtent:I,flowWidth:k,flowHeight:j,ariaLabelConfig:F}=vn(Flt,br),B=(t==null?void 0:t.width)??Dlt,U=(t==null?void 0:t.height)??Llt,H=M.width/B,R=M.height/U,L=Math.max(H,R),z=L*B,W=L*U,G=b*L,q=M.x-(z-M.width)/2-G,ne=M.y-(W-M.height)/2-G,ae=z+G*2,se=W+G*2,$=`${Blt}-${P}`,Y=A.useRef(0),Q=A.useRef();Y.current=L,A.useEffect(()=>{if(C.current&&N)return Q.current=tot({domNode:C.current,panZoom:N,getTransform:()=>S.getState().transform,getViewScale:()=>Y.current}),()=>{var K;(K=Q.current)==null||K.destroy()}},[N]),A.useEffect(()=>{var K;(K=Q.current)==null||K.update({translateExtent:I,width:k,height:j,inversePan:x,pannable:y,zoomStep:_,zoomable:m})},[y,m,x,_,I,k,j]);const te=g?K=>{var me;const[re,fe]=((me=Q.current)==null?void 0:me.pointer(K))||[0,0];g(K,{x:re,y:fe})}:void 0,ue=v?A.useCallback((K,re)=>{const fe=S.getState().nodeLookup.get(re).internals.userNode;v(K,fe)},[]):void 0,J=p??F["minimap.ariaLabel"];return h.jsx(RP,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Wr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:B,height:U,viewBox:`${q} ${ne} ${ae} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":$,ref:C,onClick:te,children:[J&&h.jsx("title",{id:$,children:J}),h.jsx(klt,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-G},${ne-G}h${ae+G*2}v${se+G*2}h${-ae-G*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cde.displayName="MiniMap";const ude=A.memo(cde),Ult=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,zlt={[uv.Line]:"right",[uv.Handle]:"bottom-right"};function $lt({nodeId:t,position:e,variant:n=uv.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:f,autoScale:g=!0,shouldResize:v,onResizeStart:y,onResize:m,onResizeEnd:p}){const x=Lue(),_=typeof t=="string"?t:x,b=dr(),S=A.useRef(null),C=n===uv.Handle,M=vn(A.useCallback(Ult(C&&g),[C,g]),br),T=A.useRef(null),P=e??zlt[n];A.useEffect(()=>{if(!(!S.current||!_))return T.current||(T.current=mot({domNode:S.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:I,transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:B,domNode:U}=b.getState();return{nodeLookup:I,transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:B,paneDomNode:U}},onChange:(I,k)=>{const{triggerNodeChanges:j,nodeLookup:F,parentLookup:B,nodeOrigin:U}=b.getState(),H=[],R={x:I.x,y:I.y},L=F.get(_);if(L&&L.expandParent&&L.parentId){const z=L.origin??U,W=I.width??L.measured.width??0,G=I.height??L.measured.height??0,q={id:L.id,parentId:L.parentId,rect:{width:W,height:G,...rue({x:I.x??L.position.x,y:I.y??L.position.y},{width:W,height:G},L.parentId,F,z)}},ne=UB([q],F,B,U);H.push(...ne),R.x=I.x?Math.max(z[0]*W,I.x):void 0,R.y=I.y?Math.max(z[1]*G,I.y):void 0}if(R.x!==void 0&&R.y!==void 0){const z={id:_,type:"position",position:{...R}};H.push(z)}if(I.width!==void 0&&I.height!==void 0){const W={id:_,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};H.push(W)}for(const z of k){const W={...z,type:"position"};H.push(W)}j(H)},onEnd:({width:I,height:k})=>{const j={id:_,type:"dimensions",resizing:!1,dimensions:{width:I,height:k}};b.getState().triggerNodeChanges([j])}})),T.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d},keepAspectRatio:u,resizeDirection:f,onResizeStart:y,onResize:m,onResizeEnd:p,shouldResize:v}),()=>{var I;(I=T.current)==null||I.destroy()}},[P,a,l,c,d,u,y,m,p,v]);const N=P.split("-");return h.jsx("div",{className:Wr(["react-flow__resize-control","nodrag",...N,n,r]),ref:S,style:{...i,scale:M,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:s})}A.memo($lt);const Hlt=[],Vlt=[],Wlt=t=>({nodes:[{id:"1",type:"input",data:{label:`Query: "${t}"`},position:{x:250,y:5}},{id:"2",data:{label:"Intent Analysis"},position:{x:250,y:100}},{id:"3",data:{label:"ARCANA (Conversational)"},position:{x:50,y:200}},{id:"4",data:{label:"MYNTRIX (Operational)"},position:{x:250,y:200}},{id:"5",data:{label:"NEOSYNTIS (Analytical)"},position:{x:450,y:200}},{id:"6",type:"output",data:{label:"Decision: Route to ARCANA"},position:{x:250,y:300}}],edges:[{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e2-3",source:"2",target:"3",label:"85% confidence"},{id:"e2-4",source:"2",target:"4",label:"10% confidence"},{id:"e2-5",source:"2",target:"5",label:"5% confidence"},{id:"e3-6",source:"3",target:"6",animated:!0,style:{stroke:"#10b981"}}]});function Glt(){const[t,e]=A.useState("Hello, can you summarize a document for me?"),[n,r]=A.useState("auto"),[i,s]=A.useState([]),[o,a,l]=rde(Hlt),[c,d,u]=ide(Vlt),f=A.useCallback(v=>d(y=>LB(v,y)),[d]),g=()=>{if(!t.trim())return;const v=[...i,{role:"user",content:t},{role:"assistant",content:"This is a mock response. The visualization on the right shows the routing logic.",model:n==="auto"?"GPT-4 (auto-routed)":n,tokens:Math.floor(Math.random()*500)+100}];if(s(v),n==="auto"){const{nodes:y,edges:m}=Wlt(t);a(y),d(m)}e("")};return h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(ja,{className:"h-5 w-5 text-primary"}),"Test Console"]}),h.jsx(Bt,{children:"Test prompts and verify routing behavior. The visualization will appear on the right when using auto-routing."})]}),h.jsx(at,{className:"space-y-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Go,{value:n,onValueChange:r,children:[h.jsx(uo,{className:"w-[200px]",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"auto",children:"Auto-route"}),h.jsx(cn,{value:"gpt-4",children:"GPT-4"})]})]}),h.jsx(Tn,{placeholder:"Enter test prompt...",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&g(),className:"flex-1"}),h.jsx(We,{onClick:g,children:h.jsx(M3,{className:"h-4 w-4"})}),i.length>0&&h.jsx(We,{variant:"outline",onClick:()=>s([]),children:h.jsx(lb,{className:"h-4 w-4"})})]})})]}),i.length>0&&h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Conversation"})}),h.jsx(at,{className:"space-y-4",children:i.map((v,y)=>h.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[h.jsx("div",{className:"text-sm whitespace-pre-wrap",children:v.content}),v.model&&h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx(dn,{variant:"secondary",className:"text-xs",children:v.model}),v.tokens&&h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.tokens," tokens"]})]})]})},y))})]})]}),h.jsxs(Xe,{className:"h-[600px]",children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Cd,{className:"h-5 w-5 text-primary"}),"Reasoning & Routing Visualization"]})}),h.jsx(at,{className:"h-[calc(100%-4rem)]",children:o.length>0?h.jsxs(nde,{nodes:o,edges:c,onNodesChange:l,onEdgesChange:u,onConnect:f,fitView:!0,children:[h.jsx(lde,{}),h.jsx(ude,{}),h.jsx(ode,{gap:12,size:1})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:h.jsx("p",{children:"Run a query with auto-routing to see the visualization."})})})]})]})}function Xlt(){const t=$A(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"map",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/cognisys?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"COGNISYS"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Multimodel Orchestration & Routing System"})]}),h.jsxs(dn,{variant:"outline",className:"gap-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"12 Models Active"]})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-6",children:h.jsxs(Vl,{value:i,onValueChange:o,children:[h.jsxs(Wa,{className:"grid w-full grid-cols-4 mb-6",children:[h.jsxs(Qn,{value:"map",className:"gap-2","data-testid":"tab-model-map",children:[h.jsx(Md,{className:"h-4 w-4"}),"Model Map"]}),h.jsxs(Qn,{value:"routing",className:"gap-2","data-testid":"tab-routing",children:[h.jsx(S3,{className:"h-4 w-4"}),"Routing Rules"]}),h.jsxs(Qn,{value:"settings",className:"gap-2","data-testid":"tab-provider-settings",children:[h.jsx(Eg,{className:"h-4 w-4"}),"Providers"]}),h.jsxs(Qn,{value:"test",className:"gap-2","data-testid":"tab-test-console",children:[h.jsx(ja,{className:"h-4 w-4"}),"Test Console"]})]}),h.jsx(un,{value:"map",children:h.jsx(cst,{})}),h.jsx(un,{value:"routing",children:h.jsx(mst,{})}),h.jsx(un,{value:"settings",children:h.jsx(vst,{})}),h.jsx(un,{value:"test",children:h.jsx(Glt,{})})]})})]})}const qlt={online:"bg-green-500",running:"bg-green-500",connected:"bg-green-500",completed:"bg-green-500",idle:"bg-yellow-500",pending:"bg-yellow-500",degraded:"bg-orange-500",offline:"bg-gray-500",stopped:"bg-gray-500",disconnected:"bg-gray-500",error:"bg-red-500"},Klt={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"};function eg({status:t,label:e,showLabel:n=!1,size:r="md"}){return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:we("rounded-full",qlt[t],Klt[r])}),n&&h.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:e||t})]})}function Ylt(){const[,t]=as(),{toast:e}=Yh(),n=Bn({mutationFn:async()=>{const P=await fetch("/api/neosyntis/open-lab",{method:"POST"});if(!P.ok)throw new Error("Failed to open Neosyntis Lab");return P.json()},onSuccess:()=>{e({title:"Neosyntis Lab Opened",description:"The Neosyntis Lab has been successfully opened."})},onError:P=>{e({title:"Error",description:`Failed to open Neosyntis Lab: ${P.message}`,variant:"destructive"})}}),r=Bn({mutationFn:async()=>{const P=await fetch("/api/arcana/start-chat",{method:"POST"});if(!P.ok)throw new Error("Failed to start Arcana Chat");return P.json()},onSuccess:()=>{e({title:"Arcana Chat Started",description:"A new Arcana chat session has been initiated."})},onError:P=>{e({title:"Error",description:`Failed to start Arcana Chat: ${P.message}`,variant:"destructive"})}}),i=Bn({mutationFn:async()=>{const P=await fetch("/api/myntrix/deploy-model",{method:"POST"});if(!P.ok)throw new Error("Failed to deploy Myntrix Model");return P.json()},onSuccess:()=>{e({title:"Myntrix Model Deployed",description:"The Myntrix model has been successfully deployed."})},onError:P=>{e({title:"Error",description:`Failed to deploy Myntrix Model: ${P.message}`,variant:"destructive"})}}),s=Bn({mutationFn:async()=>{const P=await fetch("/api/myntrix/manage-agents",{method:"POST"});if(!P.ok)throw new Error("Failed to manage Myntrix Agents");return P.json()},onSuccess:()=>{e({title:"Myntrix Agents Managed",description:"Myntrix agents management initiated."})},onError:P=>{e({title:"Error",description:`Failed to manage Myntrix Agents: ${P.message}`,variant:"destructive"})}});Ll();const{data:o,isLoading:a,error:l}=Jr({queryKey:["/api/system/status"],queryFn:async()=>{const P=await fetch("/api/system/status");if(!P.ok)throw new Error("Network response was not ok");return P.json()}}),{data:c,isLoading:d,error:u}=Jr({queryKey:["/api/arcana/status"],queryFn:async()=>{const P=await fetch("/api/arcana/status");if(!P.ok)throw new Error("Network response was not ok");return P.json()}}),{data:f,isLoading:g,error:v}=Jr({queryKey:["/api/myntrix/status"],queryFn:async()=>{const P=await fetch("/api/myntrix/status");if(!P.ok)throw new Error("Network response was not ok");return P.json()}}),{data:y,isLoading:m,error:p}=Jr({queryKey:["/api/neosyntis/status"],queryFn:async()=>{const P=await fetch("/api/neosyntis/status");if(!P.ok)throw new Error("Network response was not ok");return P.json()}}),{data:x,isLoading:_,error:b}=Jr({queryKey:["/api/cognisys/status"],queryFn:async()=>{const P=await fetch("/api/cognisys/status");if(!P.ok)throw new Error("Network response was not ok");return P.json()}}),S=[{label:"Open Neosyntis Lab",icon:bl,action:()=>n.mutate(),loading:n.isPending},{label:"Start Arcana Chat",icon:ja,action:()=>r.mutate(),loading:r.isPending},{label:"Deploy Myntrix Model",icon:_l,action:()=>i.mutate(),loading:i.isPending},{label:"Manage Myntrix Agents",icon:zr,action:()=>s.mutate(),loading:s.isPending}],C=a||d||g||m||_||n.isPending||r.isPending||i.isPending||s.isPending,M=l||u||v||p||b||n.isError||r.isError||i.isError||s.isError;if(C)return h.jsx("div",{className:"p-6 text-center",children:"Loading dashboard data..."});if(M)return h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading dashboard data: ",M instanceof Error?M.message:"An unknown error occurred"]});if(!o||!c||!f||!y||!x)return h.jsx("div",{className:"p-6 text-center text-red-500",children:"Missing some dashboard data."});const T=[{id:"arcana",name:"ARCANA",icon:ja,description:"Cognitive Chat & Shell System",status:c.status,metrics:[{label:"Active Chats",value:c.activeChats},{label:"Messages",value:c.messagesProcessed},{label:"Avg Response",value:c.avgResponseTime}],path:"/dashboard/arcana"},{id:"myntrix",name:"MYNTRIX",icon:_l,description:"AI Core & Device Control",status:f.status,metrics:[{label:"Active Agents",value:f.activeAgents},{label:"Jobs Completed",value:f.jobsCompleted},{label:"Devices",value:f.devicesConnected}],path:"/dashboard/myntrix"},{id:"neosyntis",name:"NEOSYNTIS",icon:bl,description:"Research & Workflow Lab",status:y.status,metrics:[{label:"Active Workflows",value:y.activeWorkflows},{label:"Datasets",value:y.datasetsManaged},{label:"Search Queries",value:y.searchQueriesProcessed}],path:"/dashboard/neosyntis"},{id:"cognisys",name:"COGNISYS",icon:Md,description:"Multimodel Orchestration",status:x.status,metrics:[{label:"Active Models",value:x.modelsActive},{label:"Routing Rules",value:x.routingRules},{label:"Requests Routed",value:x.requestsRouted}],path:"/dashboard/cognisys"}];return o.arcana.status==="online"&&o.myntrix.status==="online"&&o.neosyntis.status==="online"&&o.cognisys.status,o.arcana.uptime,h.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"VAREON Dashboard"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Central hub for your cognitive AI ecosystem"})]}),h.jsxs(dn,{variant:"outline",className:"gap-2",children:[h.jsx(eg,{status:"online",size:"sm"}),"All Systems Operational"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:T.map(P=>h.jsxs(Xe,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>t(P.path),"data-testid":`card-module-${P.id}`,children:[h.jsxs(nt,{className:"pb-3",children:[h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:h.jsx(P.icon,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx(st,{className:"text-base",children:P.name}),h.jsx(eg,{status:P.status,showLabel:!0,size:"sm",label:P.status})]})]})}),h.jsx(Bt,{className:"text-xs mt-2",children:P.description})]}),h.jsx(at,{className:"space-y-2",children:P.metrics.map((N,I)=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:N.label}),h.jsx("span",{className:"font-medium font-mono",children:N.value})]},I))})]},P.id))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(w0e,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),h.jsx(Bt,{children:"Frequently used operations"})]}),h.jsx(at,{className:"space-y-2",children:S.map((P,N)=>h.jsxs(We,{variant:"ghost",className:"w-full justify-between group",onClick:P.action,disabled:P.loading,"data-testid":`button-quick-${P.label.toLowerCase().replace(/\s+/g,"-")}`,children:[h.jsxs("span",{className:"flex items-center gap-2",children:[P.loading?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):h.jsx(P.icon,{className:"h-4 w-4"}),P.label]}),h.jsx(sb,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},N))})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(zr,{className:"h-5 w-5 text-primary"}),"System Health"]}),h.jsx(Bt,{children:"Overall system performance"})]}),h.jsx(at,{className:"space-y-3",children:Object.entries(o).map(([P,N])=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(eg,{status:N.status,size:"sm"}),h.jsx("span",{className:"text-sm font-medium capitalize",children:P})]}),h.jsxs(dn,{variant:"outline",className:"text-xs",children:[N.uptime," uptime"]})]},P))})]})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsxs(nt,{children:[h.jsx(st,{children:"Welcome to VAREON Ecosystem"}),h.jsx(Bt,{children:"An enterprise-grade cognitive AI platform integrating research, orchestration, and deployment"})]}),h.jsxs(at,{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"NEOSYNTIS"})," - Advanced research laboratory with workflow automation, dataset management, and intelligent search capabilities."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"MYNTRIX"})," - Core AI engine managing agents, hardware integration, and task orchestration with 3D visualization."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"COGNISYS"})," - Multimodel routing system with intelligent intent detection and reasoning capabilities."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"ARCANA"})," - Conversational AI interface with embedded terminal and context-aware memory management."]})]})]})]})}async function Zlt(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Qlt=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Zlt(n),await n.json())},e0=new YK({defaultOptions:{queries:{queryFn:Qlt({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Jlt(){const{toast:t}=Yh(),{data:e}=Jr({queryKey:["/api/agents"],queryFn:async()=>{const a=await fetch("/api/agents");if(!a.ok)throw new Error("Network response was not ok");return a.json()}}),n=Bn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/start`,{method:"POST"});if(!l.ok)throw new Error("Failed to start agent");return l.json()},onSuccess:()=>{t({title:"Agent started",description:"Agent is now running"}),e0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to start agent: ${a.message}`,variant:"destructive"})}}),r=Bn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/stop`,{method:"POST"});if(!l.ok)throw new Error("Failed to stop agent");return l.json()},onSuccess:()=>{t({title:"Agent stopped"}),e0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to stop agent: ${a.message}`,variant:"destructive"})}}),i=Bn({mutationFn:async a=>{const l=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error("Failed to create agent");return l.json()},onSuccess:()=>{t({title:"Agent created",description:"New agent has been successfully created."}),e0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to create agent: ${a.message}`,variant:"destructive"})}}),s=Bn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/restart`,{method:"POST"});if(!l.ok)throw new Error("Failed to restart agent");return l.json()},onSuccess:()=>{t({title:"Agent restarted",description:"Agent has been successfully restarted."}),e0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to restart agent: ${a.message}`,variant:"destructive"})}}),o=Bn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}`,{method:"DELETE"});if(!l.ok)throw new Error("Failed to delete agent");return l.json()},onSuccess:()=>{t({title:"Agent deleted",description:"Agent has been successfully deleted."}),e0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to delete agent: ${a.message}`,variant:"destructive"})}});return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Xe,{children:h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(_l,{className:"h-5 w-5 text-primary"}),"Agent Manager"]}),h.jsx(Bt,{className:"mt-1",children:"Manage and monitor AI agents for task execution"})]}),h.jsxs(We,{onClick:()=>i.mutate({name:"New Agent",type:"Generic"}),"data-testid":"button-create-agent",disabled:i.isPending,children:[i.isPending?h.jsx(Ra,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]})})}),h.jsx(Xe,{children:h.jsx(at,{className:"p-0",children:h.jsxs(zb,{children:[h.jsx($b,{children:h.jsxs(Ml,{children:[h.jsx(Qr,{children:"Name"}),h.jsx(Qr,{children:"Type"}),h.jsx(Qr,{children:"Status"}),h.jsx(Qr,{children:"Health"}),h.jsx(Qr,{children:"Last Run"}),h.jsx(Qr,{className:"text-right",children:"Actions"})]})}),h.jsx(Hb,{children:e==null?void 0:e.map(a=>h.jsxs(Ml,{"data-testid":`row-agent-${a.id}`,children:[h.jsx(Br,{className:"font-medium",children:a.name}),h.jsx(Br,{children:h.jsx(dn,{variant:"outline",children:a.type})}),h.jsx(Br,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(eg,{status:a.status,size:"sm"}),h.jsx("span",{className:"text-sm capitalize",children:a.status})]})}),h.jsx(Br,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex-1 max-w-[100px]",children:h.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all ${a.health>=90?"bg-green-500":a.health>=70?"bg-yellow-500":a.health>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.health}%`}})})}),h.jsxs("span",{className:"text-sm font-mono",children:[a.health,"%"]})]})}),h.jsx(Br,{className:"text-sm text-muted-foreground",children:a.lastRun?new Date(a.lastRun).toLocaleString():"Never"}),h.jsx(Br,{className:"text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.status==="running"?h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>r.mutate(a.id),"data-testid":`button-stop-${a.id}`,children:h.jsx(TY,{className:"h-4 w-4"})}):h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>n.mutate(a.id),"data-testid":`button-start-${a.id}`,children:h.jsx(Sg,{className:"h-4 w-4"})}),h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>s.mutate(a.id),"data-testid":`button-restart-${a.id}`,disabled:s.isPending,children:s.isPending?h.jsx(Ra,{className:"h-4 w-4 animate-spin"}):h.jsx(p0e,{className:"h-4 w-4"})}),h.jsx(We,{variant:"ghost",size:"sm",onClick:()=>o.mutate(a.id),"data-testid":`button-delete-${a.id}`,disabled:o.isPending,children:o.isPending?h.jsx(Ra,{className:"h-4 w-4 animate-spin"}):h.jsx(lb,{className:"h-4 w-4"})})]})})]},a.id))})]})})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsx(st,{className:"text-sm text-muted-foreground",children:"Total Agents"})}),h.jsx(at,{children:h.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.length})})]}),h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsx(st,{className:"text-sm text-muted-foreground",children:"Running"})}),h.jsx(at,{children:h.jsx("div",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.filter(a=>a.status==="running").length})})]}),h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsx(st,{className:"text-sm text-muted-foreground",children:"Avg Health"})}),h.jsx(at,{children:h.jsxs("div",{className:"text-3xl font-bold",children:[Math.round((e==null?void 0:e.reduce((a,l)=>a+l.health,0))/(e==null?void 0:e.length)),"%"]})})]})]})]})}const ect=[{id:"task-1",name:"Daily Data Sync",schedule:"0 1 * * *",action:"workflow",enabled:!0,nextRun:new Date(Date.now()+24*60*60*1e3).toISOString()},{id:"task-2",name:"Hourly Health Check",schedule:"0 * * * *",action:"script",enabled:!0,nextRun:new Date(Date.now()+60*60*1e3).toISOString()},{id:"task-3",name:"Agent Deployment",schedule:"0 9 * * 1",action:"agent",enabled:!1,nextRun:null}],tct=[{id:"run-1",taskId:"task-1",taskName:"Daily Data Sync",startTime:new Date(Date.now()-24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-23*60*60*1e3).toISOString(),status:"Success",logs:"INFO: Sync complete. 10,234 records updated."},{id:"run-2",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-60*60*1e3).toISOString(),endTime:new Date(Date.now()-59*60*1e3).toISOString(),status:"Success",logs:"INFO: All systems nominal."},{id:"run-3",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-2*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*60*60*1e3+5e3).toISOString(),status:"Failed",logs:"ERROR: Timeout connecting to node-B. Check network connectivity."}];function nct(){const{toast:t}=Zv(),e=Ll(),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState("workflow"),[l,c]=A.useState(),[d,u]=A.useState(!1),{data:f,isLoading:g,error:v}=Jr({queryKey:["/api/tasks"],queryFn:async()=>Promise.resolve(ect)}),{data:y}=Jr({queryKey:["/api/tasks/history"],queryFn:async()=>Promise.resolve(tct)}),m=Bn({mutationFn:async b=>(console.log("Creating task:",b),Promise.resolve({...b,id:`task-${Math.random()}`})),onSuccess:()=>{t({title:"Task Created",description:"New task has been scheduled."}),e.invalidateQueries({queryKey:["/api/tasks"]}),r(""),s(""),a("workflow")},onError:b=>{t({title:"Error",description:`Failed to create task: ${b.message}`,variant:"destructive"})}}),p=Bn({mutationFn:async b=>(console.log("Running task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Started",description:"Task initiated successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to run task: ${b.message}`,variant:"destructive"})}}),x=Bn({mutationFn:async({taskId:b,enabled:S})=>(console.log(`${S?"Enabling":"Disabling"} task:`,b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Updated",description:"Task status changed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to change task status: ${b.message}`,variant:"destructive"})}}),_=Bn({mutationFn:async b=>(console.log("Deleting task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Deleted",description:"Task removed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to delete task: ${b.message}`,variant:"destructive"})}});return g?h.jsx("div",{className:"p-6 text-center",children:"Loading scheduled tasks..."}):v?h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading tasks: ",v.message]}):h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Mk,{className:"h-5 w-5 text-primary"}),"Task Scheduler"]}),h.jsx(Bt,{children:"Schedule automated tasks with cron expressions"})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Task Name"}),h.jsx(Tn,{placeholder:"My Scheduled Task","data-testid":"input-task-name",value:n,onChange:b=>r(b.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Cron Expression"}),h.jsxs(bYe,{open:d,onOpenChange:u,children:[h.jsx(wYe,{asChild:!0,children:h.jsxs(We,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[h.jsx(_Y,{className:"mr-2 h-4 w-4"}),l?Td(l,"PPP"):h.jsx("span",{children:"Pick a date"})]})}),h.jsx($se,{className:"w-auto p-0 z-50",children:h.jsx(Mk,{mode:"single",selected:l,onSelect:b=>{c(b),s(b?`0 0 ${b.getDate()} ${b.getMonth()+1} *`:""),u(!1)},initialFocus:!0})})]}),h.jsx(Tn,{placeholder:"0 */6 * * *",value:i,onChange:b=>s(b.target.value),"data-testid":"input-cron-expression"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Task Action"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-task-action",value:o,onChange:b=>a(b.target.value),children:[h.jsx("option",{value:"workflow",children:"Run Workflow"}),h.jsx("option",{value:"agent",children:"Execute Agent"}),h.jsx("option",{value:"script",children:"Run Script"}),h.jsx("option",{value:"api",children:"Call API"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{"data-testid":"button-create-schedule",onClick:()=>m.mutate({name:n,schedule:i,action:o}),disabled:m.isPending||!n||!i,children:[m.isPending?h.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Create Schedule"]}),h.jsx(We,{variant:"outline",children:"Test Run"})]}),i&&h.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/10 rounded-lg",children:[h.jsx("div",{className:"text-sm font-medium mb-1",children:"Schedule Preview"}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["This task will run: ",h.jsx("span",{className:"font-mono",children:i})]})]})]})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Scheduled Tasks"}),h.jsx(Bt,{children:"Manage existing scheduled tasks"})]}),h.jsx(at,{className:"space-y-3",children:f&&f.length>0?f.map(b=>h.jsxs(Xe,{className:"bg-card/50",children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(st,{className:"text-sm",children:b.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(dn,{variant:b.enabled?"default":"outline",className:"text-xs",children:b.enabled?"Enabled":"Disabled"}),h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:b.schedule})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[h.jsx(SY,{className:"h-3 w-3"}),"Next run"]}),h.jsx("div",{className:"text-xs font-mono mt-1",children:b.nextRun?new Date(b.nextRun).toLocaleString():"N/A"})]})]})}),h.jsx(at,{children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{variant:"outline",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,children:p.isPending?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):"Run Now"}),h.jsx(We,{variant:"outline",size:"sm",onClick:()=>x.mutate({taskId:b.id,enabled:!b.enabled}),disabled:x.isPending,children:x.isPending?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):b.enabled?"Disable":"Enable"}),h.jsx(We,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>_.mutate(b.id),disabled:_.isPending,children:_.isPending?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):"Delete"})]})})]},b.id)):h.jsx("p",{className:"text-muted-foreground",children:"No scheduled tasks found."})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(s0e,{className:"h-5 w-5 text-primary"}),"Task Execution History"]}),h.jsx(Bt,{children:"Review the status and logs of past task runs."})]}),h.jsx(at,{children:h.jsxs(zb,{children:[h.jsx($b,{children:h.jsxs(Ml,{children:[h.jsx(Qr,{children:"Task"}),h.jsx(Qr,{children:"Status"}),h.jsx(Qr,{className:"hidden md:table-cell",children:"Start Time"}),h.jsx(Qr,{className:"hidden md:table-cell",children:"Duration"}),h.jsx(Qr,{className:"text-right",children:"Actions"})]})}),h.jsx(Hb,{children:y==null?void 0:y.map(b=>h.jsxs(Ml,{children:[h.jsx(Br,{className:"font-medium",children:b.taskName}),h.jsx(Br,{children:h.jsx(dn,{variant:b.status==="Success"?"default":b.status==="Failed"?"destructive":"outline",children:b.status})}),h.jsx(Br,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(b.startTime).toLocaleString()}),h.jsx(Br,{className:"hidden md:table-cell text-sm text-muted-foreground",children:`${(new Date(b.endTime).getTime()-new Date(b.startTime).getTime())/1e3}s`}),h.jsx(Br,{className:"text-right",children:h.jsxs(U4,{children:[h.jsx(Dre,{asChild:!0,children:h.jsx(We,{variant:"outline",size:"sm",children:"View Logs"})}),h.jsxs(eP,{children:[h.jsxs(z4,{children:[h.jsxs($4,{children:["Logs for ",b.taskName]}),h.jsxs(H4,{children:["Execution started at ",new Date(b.startTime).toLocaleString()]})]}),h.jsx("div",{className:"mt-4 bg-muted/50 p-4 rounded-md max-h-96 overflow-y-auto",children:h.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:b.logs})})]})]})})]},b.id))})]})})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Cron Expression Guide"})}),h.jsx(at,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("div",{className:"font-mono text-xs space-y-1",children:[h.jsx("div",{children:"* * * * *  Minute Hour Day Month Weekday"}),h.jsx("div",{children:"0 */6 * * *  Every 6 hours"}),h.jsx("div",{children:"0 9 * * 1  Every Monday at 9 AM"}),h.jsx("div",{children:"0 0 1 * *  First day of every month"})]})})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qb="180",Sf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ef={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dde=0,XL=1,fde=2,rct=3,hde=0,kP=1,ex=2,fa=3,$c=0,Ui=1,Ea=2,Pc=0,rh=1,qL=2,KL=3,YL=4,pde=5,Bu=100,mde=101,gde=102,vde=103,yde=104,xde=200,_de=201,bde=202,wde=203,DM=204,LM=205,Sde=206,Ede=207,Cde=208,Mde=209,Ade=210,Tde=211,Pde=212,Nde=213,Rde=214,jM=0,FM=1,BM=2,Oh=3,UM=4,zM=5,$M=6,HM=7,Jb=0,Ode=1,Ide=2,Al=0,kde=1,Dde=2,Lde=3,HB=4,jde=5,Fde=6,Bde=7,ZL="attached",Ude="detached",DP=300,Hc=301,_d=302,O_=303,I_=304,Jv=306,k_=1e3,Uo=1001,D_=1002,bi=1003,VB=1004,ict=1004,Pm=1005,sct=1005,ni=1006,tx=1007,oct=1007,gl=1008,act=1008,qo=1009,WB=1010,GB=1011,dv=1012,LP=1013,Vc=1014,As=1015,ey=1016,jP=1017,FP=1018,fv=1020,XB=35902,qB=35899,KB=1021,YB=1022,Bi=1023,hv=1026,pv=1027,BP=1028,ew=1029,ZB=1030,UP=1031,lct=1032,zP=1033,nx=33776,rx=33777,ix=33778,sx=33779,VM=35840,WM=35841,GM=35842,XM=35843,qM=36196,KM=37492,YM=37496,ZM=37808,QM=37809,JM=37810,eA=37811,tA=37812,nA=37813,rA=37814,iA=37815,sA=37816,oA=37817,aA=37818,lA=37819,cA=37820,uA=37821,dA=36492,fA=36494,hA=36495,pA=36283,mA=36284,gA=36285,vA=36286,zde=2200,$de=2201,Hde=2202,L_=2300,yA=2301,EE=2302,Ff=2400,Bf=2401,j_=2402,$P=2500,QB=2501,cct=0,uct=1,dct=2,Vde=3200,Wde=3201,fct=3202,hct=3203,jd=0,Gde=1,vc="",_s="srgb",Ih="srgb-linear",F_="linear",jn="srgb",pct=0,Cf=7680,mct=7681,gct=7682,vct=7683,yct=34055,xct=34056,_ct=5386,bct=512,wct=513,Sct=514,Ect=515,Cct=516,Mct=517,Act=518,QL=519,Xde=512,qde=513,Kde=514,JB=515,Yde=516,Zde=517,Qde=518,Jde=519,B_=35044,Tct=35048,Pct=35040,Nct=35045,Rct=35049,Oct=35041,Ict=35046,kct=35050,Dct=35042,Lct="100",JL="300 es",no=2e3,mv=2001,jct={COMPUTE:"compute",RENDER:"render"},Fct={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Bct={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Gl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Oi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let o7=1234567;const ih=Math.PI/180,gv=180/Math.PI;function ao(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oi[t&255]+Oi[t>>8&255]+Oi[t>>16&255]+Oi[t>>24&255]+"-"+Oi[e&255]+Oi[e>>8&255]+"-"+Oi[e>>16&15|64]+Oi[e>>24&255]+"-"+Oi[n&63|128]+Oi[n>>8&255]+"-"+Oi[n>>16&255]+Oi[n>>24&255]+Oi[r&255]+Oi[r>>8&255]+Oi[r>>16&255]+Oi[r>>24&255]).toLowerCase()}function Vt(t,e,n){return Math.max(e,Math.min(n,t))}function e5(t,e){return(t%e+e)%e}function Uct(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function zct(t,e,n){return t!==e?(n-t)/(e-t):0}function ox(t,e,n){return(1-n)*t+n*e}function $ct(t,e,n,r){return ox(t,e,1-Math.exp(-n*r))}function Hct(t,e=1){return e-Math.abs(e5(t,e*2)-e)}function Vct(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Wct(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Gct(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Xct(t,e){return t+Math.random()*(e-t)}function qct(t){return t*(.5-Math.random())}function Kct(t){t!==void 0&&(o7=t);let e=o7+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Yct(t){return t*ih}function Zct(t){return t*gv}function Qct(t){return(t&t-1)===0&&t!==0}function Jct(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function eut(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function tut(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),d=o((e+r)/2),u=s((e-r)/2),f=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*d,l*u,l*f,a*c);break;case"YZY":t.set(l*f,a*d,l*u,a*c);break;case"ZXZ":t.set(l*u,l*f,a*d,a*c);break;case"XZX":t.set(a*d,l*v,l*g,a*c);break;case"YXY":t.set(l*g,a*d,l*v,a*c);break;case"ZYZ":t.set(l*v,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function es(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const efe={DEG2RAD:ih,RAD2DEG:gv,generateUUID:ao,clamp:Vt,euclideanModulo:e5,mapLinear:Uct,inverseLerp:zct,lerp:ox,damp:$ct,pingpong:Hct,smoothstep:Vct,smootherstep:Wct,randInt:Gct,randFloat:Xct,randFloatSpread:qct,seededRandom:Kct,degToRad:Yct,radToDeg:Zct,isPowerOfTwo:Qct,ceilPowerOfTwo:Jct,floorPowerOfTwo:eut,setQuaternionFromProperEuler:tut,normalize:en,denormalize:es};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Vt(this.x,e.x,n.x),this.y=Vt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Vt(this.x,e,n),this.y=Vt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],u=r[i+3];const f=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=u;return}if(a===1){e[n+0]=f,e[n+1]=g,e[n+2]=v,e[n+3]=y;return}if(u!==y||l!==f||c!==g||d!==v){let m=1-a;const p=l*f+c*g+d*v+u*y,x=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){const S=Math.sqrt(_),C=Math.atan2(S,p*x);m=Math.sin(m*C)/S,a=Math.sin(a*C)/S}const b=a*x;if(l=l*m+f*b,c=c*m+g*b,d=d*m+v*b,u=u*m+y*b,m===1-a){const S=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=S,c*=S,d*=S,u*=S}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=u}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],u=s[o],f=s[o+1],g=s[o+2],v=s[o+3];return e[n]=a*v+d*u+l*g-c*f,e[n+1]=l*v+d*f+c*u-a*g,e[n+2]=c*v+d*g+a*f-l*u,e[n+3]=d*v-a*u-l*f-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),u=a(s/2),f=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=f*d*u+c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u-f*g*v;break;case"YXZ":this._x=f*d*u+c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u+f*g*v;break;case"ZXY":this._x=f*d*u-c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u-f*g*v;break;case"ZYX":this._x=f*d*u-c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u+f*g*v;break;case"YZX":this._x=f*d*u+c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u-f*g*v;break;case"XZY":this._x=f*d*u-c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u+f*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],u=n[10],f=r+a+u;if(f>0){const g=.5/Math.sqrt(f+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>u){const g=2*Math.sqrt(1+r-a-u);this._w=(d-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>u){const g=2*Math.sqrt(1+a-r-u);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+u-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-n)*d)/c,f=Math.sin(n*d)/c;return this._w=o*u+this._w*f,this._x=r*u+this._x*f,this._y=i*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(a7.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(a7.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),d=2*(a*n-s*i),u=2*(s*r-o*n);return this.x=n+l*c+o*u-a*d,this.y=r+l*d+a*c-s*u,this.z=i+l*u+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Vt(this.x,e.x,n.x),this.y=Vt(this.y,e.y,n.y),this.z=Vt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Vt(this.x,e,n),this.y=Vt(this.y,e,n),this.z=Vt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return fO.copy(this).projectOnVector(e),this.sub(fO)}reflect(e){return this.sub(fO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fO=new le,a7=new zi;class Jt{constructor(e,n,r,i,s,o,a,l,c){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],u=r[7],f=r[2],g=r[5],v=r[8],y=i[0],m=i[3],p=i[6],x=i[1],_=i[4],b=i[7],S=i[2],C=i[5],M=i[8];return s[0]=o*y+a*x+l*S,s[3]=o*m+a*_+l*C,s[6]=o*p+a*b+l*M,s[1]=c*y+d*x+u*S,s[4]=c*m+d*_+u*C,s[7]=c*p+d*b+u*M,s[2]=f*y+g*x+v*S,s[5]=f*m+g*_+v*C,s[8]=f*p+g*b+v*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=d*o-a*c,f=a*l-d*s,g=c*s-o*l,v=n*u+r*f+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=u*y,e[1]=(i*c-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=f*y,e[4]=(d*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=g*y,e[7]=(r*l-c*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(hO.makeScale(e,n)),this}rotate(e){return this.premultiply(hO.makeRotation(-e)),this}translate(e,n){return this.premultiply(hO.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hO=new Jt;function tfe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const nut={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nm(t,e){return new nut[t](e)}function U_(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function nfe(){const t=U_("canvas");return t.style.display="block",t}const l7={};function z_(t){t in l7||(l7[t]=!0,console.warn(t))}function rut(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const c7=new Jt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),u7=new Jt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function iut(){const t={enabled:!0,workingColorSpace:Ih,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===jn&&(i.r=Nc(i.r),i.g=Nc(i.g),i.b=Nc(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===jn&&(i.r=tg(i.r),i.g=tg(i.g),i.b=tg(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===vc?F_:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return z_("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return z_("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Ih]:{primaries:e,whitePoint:r,transfer:F_,toXYZ:c7,fromXYZ:u7,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:_s},outputColorSpaceConfig:{drawingBufferColorSpace:_s}},[_s]:{primaries:e,whitePoint:r,transfer:jn,toXYZ:c7,fromXYZ:u7,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:_s}}}),t}const gn=iut();function Nc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function tg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let kp;class rfe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{kp===void 0&&(kp=U_("canvas")),kp.width=e.width,kp.height=e.height;const i=kp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=kp}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=U_("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Nc(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Nc(n[r]/255)*255):n[r]=Nc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sut=0;class ed{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sut++}),this.uuid=ao(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(pO(i[o].image)):s.push(pO(i[o]))}else s=pO(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function pO(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?rfe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let out=0;const mO=new le;class Ar extends Gl{constructor(e=Ar.DEFAULT_IMAGE,n=Ar.DEFAULT_MAPPING,r=Uo,i=Uo,s=ni,o=gl,a=Bi,l=qo,c=Ar.DEFAULT_ANISOTROPY,d=vc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:out++}),this.uuid=ao(),this.name="",this.source=new ed(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(mO).x}get height(){return this.source.getSize(mO).y}get depth(){return this.source.getSize(mO).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==DP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case k_:e.x=e.x-Math.floor(e.x);break;case Uo:e.x=e.x<0?0:1;break;case D_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case k_:e.y=e.y-Math.floor(e.y);break;case Uo:e.y=e.y<0?0:1;break;case D_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ar.DEFAULT_IMAGE=null;Ar.DEFAULT_MAPPING=DP;Ar.DEFAULT_ANISOTROPY=1;class _n{constructor(e=0,n=0,r=0,i=1){_n.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],u=l[8],f=l[1],g=l[5],v=l[9],y=l[2],m=l[6],p=l[10];if(Math.abs(d-f)<.01&&Math.abs(u-y)<.01&&Math.abs(v-m)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+y)<.1&&Math.abs(v+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,b=(g+1)/2,S=(p+1)/2,C=(d+f)/4,M=(u+y)/4,T=(v+m)/4;return _>b&&_>S?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=M/r):b>S?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=C/i,s=T/i):S<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(S),r=M/s,i=T/s),this.set(r,i,s,n),this}let x=Math.sqrt((m-v)*(m-v)+(u-y)*(u-y)+(f-d)*(f-d));return Math.abs(x)<.001&&(x=1),this.x=(m-v)/x,this.y=(u-y)/x,this.z=(f-d)/x,this.w=Math.acos((c+g+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Vt(this.x,e.x,n.x),this.y=Vt(this.y,e.y,n.y),this.z=Vt(this.z,e.z,n.z),this.w=Vt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Vt(this.x,e,n),this.y=Vt(this.y,e,n),this.z=Vt(this.z,e,n),this.w=Vt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Vt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class t5 extends Gl{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ni,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new _n(0,0,e,n),this.scissorTest=!1,this.viewport=new _n(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Ar(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:ni,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new ed(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Dl extends t5{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class HP extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=bi,this.minFilter=bi,this.wrapR=Uo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class aut extends Dl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new HP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class VP extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=bi,this.minFilter=bi,this.wrapR=Uo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lut extends Dl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new VP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class $i{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(aa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(aa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=aa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,aa):aa.fromBufferAttribute(s,o),aa.applyMatrix4(e.matrixWorld),this.expandByPoint(aa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),tS.copy(r.boundingBox)),tS.applyMatrix4(e.matrixWorld),this.union(tS)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,aa),aa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(t0),nS.subVectors(this.max,t0),Dp.subVectors(e.a,t0),Lp.subVectors(e.b,t0),jp.subVectors(e.c,t0),bu.subVectors(Lp,Dp),wu.subVectors(jp,Lp),tf.subVectors(Dp,jp);let n=[0,-bu.z,bu.y,0,-wu.z,wu.y,0,-tf.z,tf.y,bu.z,0,-bu.x,wu.z,0,-wu.x,tf.z,0,-tf.x,-bu.y,bu.x,0,-wu.y,wu.x,0,-tf.y,tf.x,0];return!gO(n,Dp,Lp,jp,nS)||(n=[1,0,0,0,1,0,0,0,1],!gO(n,Dp,Lp,jp,nS))?!1:(rS.crossVectors(bu,wu),n=[rS.x,rS.y,rS.z],gO(n,Dp,Lp,jp,nS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(aa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ic[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ic[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ic[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ic[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ic[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ic[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ic[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ic[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ic),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ic=[new le,new le,new le,new le,new le,new le,new le,new le],aa=new le,tS=new $i,Dp=new le,Lp=new le,jp=new le,bu=new le,wu=new le,tf=new le,t0=new le,nS=new le,rS=new le,nf=new le;function gO(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){nf.fromArray(t,s);const a=i.x*Math.abs(nf.x)+i.y*Math.abs(nf.y)+i.z*Math.abs(nf.z),l=e.dot(nf),c=n.dot(nf),d=r.dot(nf);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const cut=new $i,n0=new le,vO=new le;let wi=class{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):cut.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;n0.subVectors(e,this.center);const n=n0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(n0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(n0.copy(e.center).add(vO)),this.expandByPoint(n0.copy(e.center).sub(vO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const sc=new le,yO=new le,iS=new le,Su=new le,xO=new le,sS=new le,_O=new le;class Zh{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=sc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(sc.copy(this.origin).addScaledVector(this.direction,n),sc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){yO.copy(e).add(n).multiplyScalar(.5),iS.copy(n).sub(e).normalize(),Su.copy(this.origin).sub(yO);const s=e.distanceTo(n)*.5,o=-this.direction.dot(iS),a=Su.dot(this.direction),l=-Su.dot(iS),c=Su.lengthSq(),d=Math.abs(1-o*o);let u,f,g,v;if(d>0)if(u=o*l-a,f=o*a-l,v=s*d,u>=0)if(f>=-v)if(f<=v){const y=1/d;u*=y,f*=y,g=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;else f<=-v?(u=Math.max(0,-(-o*s+a)),f=u>0?-s:Math.min(Math.max(-s,-l),s),g=-u*u+f*(f+2*l)+c):f<=v?(u=0,f=Math.min(Math.max(-s,-l),s),g=f*(f+2*l)+c):(u=Math.max(0,-(o*s+a)),f=u>0?s:Math.min(Math.max(-s,-l),s),g=-u*u+f*(f+2*l)+c);else f=o>0?-s:s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(yO).addScaledVector(iS,f),g}intersectSphere(e,n){sc.subVectors(e.center,this.origin);const r=sc.dot(this.direction),i=sc.dot(sc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),u>=0?(a=(e.min.z-f.z)*u,l=(e.max.z-f.z)*u):(a=(e.max.z-f.z)*u,l=(e.min.z-f.z)*u),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,sc)!==null}intersectTriangle(e,n,r,i,s){xO.subVectors(n,e),sS.subVectors(r,e),_O.crossVectors(xO,sS);let o=this.direction.dot(_O),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Su.subVectors(this.origin,e);const l=a*this.direction.dot(sS.crossVectors(Su,sS));if(l<0)return null;const c=a*this.direction.dot(xO.cross(Su));if(c<0||l+c>o)return null;const d=-a*Su.dot(_O);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m)}set(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=d,p[10]=u,p[14]=f,p[3]=g,p[7]=v,p[11]=y,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Fp.setFromMatrixColumn(e,0).length(),s=1/Fp.setFromMatrixColumn(e,1).length(),o=1/Fp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const f=o*d,g=o*u,v=a*d,y=a*u;n[0]=l*d,n[4]=-l*u,n[8]=c,n[1]=g+v*c,n[5]=f-y*c,n[9]=-a*l,n[2]=y-f*c,n[6]=v+g*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*d,g=l*u,v=c*d,y=c*u;n[0]=f+y*a,n[4]=v*a-g,n[8]=o*c,n[1]=o*u,n[5]=o*d,n[9]=-a,n[2]=g*a-v,n[6]=y+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*d,g=l*u,v=c*d,y=c*u;n[0]=f-y*a,n[4]=-o*u,n[8]=v+g*a,n[1]=g+v*a,n[5]=o*d,n[9]=y-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*d,g=o*u,v=a*d,y=a*u;n[0]=l*d,n[4]=v*c-g,n[8]=f*c+y,n[1]=l*u,n[5]=y*c+f,n[9]=g*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,g=o*c,v=a*l,y=a*c;n[0]=l*d,n[4]=y-f*u,n[8]=v*u+g,n[1]=u,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=g*u+v,n[10]=f-y*u}else if(e.order==="XZY"){const f=o*l,g=o*c,v=a*l,y=a*c;n[0]=l*d,n[4]=-u,n[8]=c*d,n[1]=f*u+y,n[5]=o*d,n[9]=g*u-v,n[2]=v*u-g,n[6]=a*d,n[10]=y*u+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uut,e,dut)}lookAt(e,n,r){const i=this.elements;return $s.subVectors(e,n),$s.lengthSq()===0&&($s.z=1),$s.normalize(),Eu.crossVectors(r,$s),Eu.lengthSq()===0&&(Math.abs(r.z)===1?$s.x+=1e-4:$s.z+=1e-4,$s.normalize(),Eu.crossVectors(r,$s)),Eu.normalize(),oS.crossVectors($s,Eu),i[0]=Eu.x,i[4]=oS.x,i[8]=$s.x,i[1]=Eu.y,i[5]=oS.y,i[9]=$s.y,i[2]=Eu.z,i[6]=oS.z,i[10]=$s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],u=r[5],f=r[9],g=r[13],v=r[2],y=r[6],m=r[10],p=r[14],x=r[3],_=r[7],b=r[11],S=r[15],C=i[0],M=i[4],T=i[8],P=i[12],N=i[1],I=i[5],k=i[9],j=i[13],F=i[2],B=i[6],U=i[10],H=i[14],R=i[3],L=i[7],z=i[11],W=i[15];return s[0]=o*C+a*N+l*F+c*R,s[4]=o*M+a*I+l*B+c*L,s[8]=o*T+a*k+l*U+c*z,s[12]=o*P+a*j+l*H+c*W,s[1]=d*C+u*N+f*F+g*R,s[5]=d*M+u*I+f*B+g*L,s[9]=d*T+u*k+f*U+g*z,s[13]=d*P+u*j+f*H+g*W,s[2]=v*C+y*N+m*F+p*R,s[6]=v*M+y*I+m*B+p*L,s[10]=v*T+y*k+m*U+p*z,s[14]=v*P+y*j+m*H+p*W,s[3]=x*C+_*N+b*F+S*R,s[7]=x*M+_*I+b*B+S*L,s[11]=x*T+_*k+b*U+S*z,s[15]=x*P+_*j+b*H+S*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],u=e[6],f=e[10],g=e[14],v=e[3],y=e[7],m=e[11],p=e[15];return v*(+s*l*u-i*c*u-s*a*f+r*c*f+i*a*g-r*l*g)+y*(+n*l*g-n*c*f+s*o*f-i*o*g+i*c*d-s*l*d)+m*(+n*c*u-n*a*g-s*o*u+r*o*g+s*a*d-r*c*d)+p*(-i*a*d-n*l*u+n*a*f+i*o*u-r*o*f+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],f=e[10],g=e[11],v=e[12],y=e[13],m=e[14],p=e[15],x=u*m*c-y*f*c+y*l*g-a*m*g-u*l*p+a*f*p,_=v*f*c-d*m*c-v*l*g+o*m*g+d*l*p-o*f*p,b=d*y*c-v*u*c+v*a*g-o*y*g-d*a*p+o*u*p,S=v*u*l-d*y*l-v*a*f+o*y*f+d*a*m-o*u*m,C=n*x+r*_+i*b+s*S;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/C;return e[0]=x*M,e[1]=(y*f*s-u*m*s-y*i*g+r*m*g+u*i*p-r*f*p)*M,e[2]=(a*m*s-y*l*s+y*i*c-r*m*c-a*i*p+r*l*p)*M,e[3]=(u*l*s-a*f*s-u*i*c+r*f*c+a*i*g-r*l*g)*M,e[4]=_*M,e[5]=(d*m*s-v*f*s+v*i*g-n*m*g-d*i*p+n*f*p)*M,e[6]=(v*l*s-o*m*s-v*i*c+n*m*c+o*i*p-n*l*p)*M,e[7]=(o*f*s-d*l*s+d*i*c-n*f*c-o*i*g+n*l*g)*M,e[8]=b*M,e[9]=(v*u*s-d*y*s-v*r*g+n*y*g+d*r*p-n*u*p)*M,e[10]=(o*y*s-v*a*s+v*r*c-n*y*c-o*r*p+n*a*p)*M,e[11]=(d*a*s-o*u*s-d*r*c+n*u*c+o*r*g-n*a*g)*M,e[12]=S*M,e[13]=(d*y*i-v*u*i+v*r*f-n*y*f-d*r*m+n*u*m)*M,e[14]=(v*a*i-o*y*i-v*r*l+n*y*l+o*r*m-n*a*m)*M,e[15]=(o*u*i-d*a*i+d*r*l-n*u*l-o*r*f+n*a*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,u=a+a,f=s*c,g=s*d,v=s*u,y=o*d,m=o*u,p=a*u,x=l*c,_=l*d,b=l*u,S=r.x,C=r.y,M=r.z;return i[0]=(1-(y+p))*S,i[1]=(g+b)*S,i[2]=(v-_)*S,i[3]=0,i[4]=(g-b)*C,i[5]=(1-(f+p))*C,i[6]=(m+x)*C,i[7]=0,i[8]=(v+_)*M,i[9]=(m-x)*M,i[10]=(1-(f+y))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Fp.set(i[0],i[1],i[2]).length();const o=Fp.set(i[4],i[5],i[6]).length(),a=Fp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],la.copy(this);const c=1/s,d=1/o,u=1/a;return la.elements[0]*=c,la.elements[1]*=c,la.elements[2]*=c,la.elements[4]*=d,la.elements[5]*=d,la.elements[6]*=d,la.elements[8]*=u,la.elements[9]*=u,la.elements[10]*=u,n.setFromRotationMatrix(la),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=no,l=!1){const c=this.elements,d=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),g=(r+i)/(r-i);let v,y;if(l)v=s/(o-s),y=o*s/(o-s);else if(a===no)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===mv)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=u,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=no,l=!1){const c=this.elements,d=2/(n-e),u=2/(r-i),f=-(n+e)/(n-e),g=-(r+i)/(r-i);let v,y;if(l)v=1/(o-s),y=o/(o-s);else if(a===no)v=-2/(o-s),y=-(o+s)/(o-s);else if(a===mv)v=-1/(o-s),y=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=u,c[9]=0,c[13]=g,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Fp=new le,la=new Gt,uut=new le(0,0,0),dut=new le(1,1,1),Eu=new le,oS=new le,$s=new le,d7=new Gt,f7=new zi;class po{constructor(e=0,n=0,r=0,i=po.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],u=i[2],f=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Vt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-u,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(f,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Vt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return d7.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d7,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return f7.setFromEuler(this),this.setFromQuaternion(f7,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}po.DEFAULT_ORDER="XYZ";class sh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let fut=0;const h7=new le,Bp=new zi,oc=new Gt,aS=new le,r0=new le,hut=new le,put=new zi,p7=new le(1,0,0),m7=new le(0,1,0),g7=new le(0,0,1),v7={type:"added"},mut={type:"removed"},Up={type:"childadded",child:null},bO={type:"childremoved",child:null};class wn extends Gl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fut++}),this.uuid=ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new le,n=new po,r=new zi,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Gt},normalMatrix:{value:new Jt}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new sh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Bp.setFromAxisAngle(e,n),this.quaternion.multiply(Bp),this}rotateOnWorldAxis(e,n){return Bp.setFromAxisAngle(e,n),this.quaternion.premultiply(Bp),this}rotateX(e){return this.rotateOnAxis(p7,e)}rotateY(e){return this.rotateOnAxis(m7,e)}rotateZ(e){return this.rotateOnAxis(g7,e)}translateOnAxis(e,n){return h7.copy(e).applyQuaternion(this.quaternion),this.position.add(h7.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(p7,e)}translateY(e){return this.translateOnAxis(m7,e)}translateZ(e){return this.translateOnAxis(g7,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(oc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?aS.copy(e):aS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),r0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oc.lookAt(r0,aS,this.up):oc.lookAt(aS,r0,this.up),this.quaternion.setFromRotationMatrix(oc),i&&(oc.extractRotation(i.matrixWorld),Bp.setFromRotationMatrix(oc),this.quaternion.premultiply(Bp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(v7),Up.child=e,this.dispatchEvent(Up),Up.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(mut),bO.child=e,this.dispatchEvent(bO),bO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),oc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),oc.multiply(e.parent.matrixWorld)),e.applyMatrix4(oc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(v7),Up.child=e,this.dispatchEvent(Up),Up.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,e,hut),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,put,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),u=o(e.shapes),f=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),u.length>0&&(r.shapes=u),f.length>0&&(r.skeletons=f),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}wn.DEFAULT_UP=new le(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ca=new le,ac=new le,wO=new le,lc=new le,zp=new le,$p=new le,y7=new le,SO=new le,EO=new le,CO=new le,MO=new _n,AO=new _n,TO=new _n;class Ss{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ca.subVectors(e,n),i.cross(ca);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){ca.subVectors(i,n),ac.subVectors(r,n),wO.subVectors(e,n);const o=ca.dot(ca),a=ca.dot(ac),l=ca.dot(wO),c=ac.dot(ac),d=ac.dot(wO),u=o*c-a*a;if(u===0)return s.set(0,0,0),null;const f=1/u,g=(c*l-a*d)*f,v=(o*d-a*l)*f;return s.set(1-g-v,v,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,lc)===null?!1:lc.x>=0&&lc.y>=0&&lc.x+lc.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,lc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,lc.x),l.addScaledVector(o,lc.y),l.addScaledVector(a,lc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return MO.setScalar(0),AO.setScalar(0),TO.setScalar(0),MO.fromBufferAttribute(e,n),AO.fromBufferAttribute(e,r),TO.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(MO,s.x),o.addScaledVector(AO,s.y),o.addScaledVector(TO,s.z),o}static isFrontFacing(e,n,r,i){return ca.subVectors(r,n),ac.subVectors(e,n),ca.cross(ac).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ca.subVectors(this.c,this.b),ac.subVectors(this.a,this.b),ca.cross(ac).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ss.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ss.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ss.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ss.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ss.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;zp.subVectors(i,r),$p.subVectors(s,r),SO.subVectors(e,r);const l=zp.dot(SO),c=$p.dot(SO);if(l<=0&&c<=0)return n.copy(r);EO.subVectors(e,i);const d=zp.dot(EO),u=$p.dot(EO);if(d>=0&&u<=d)return n.copy(i);const f=l*u-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(r).addScaledVector(zp,o);CO.subVectors(e,s);const g=zp.dot(CO),v=$p.dot(CO);if(v>=0&&g<=v)return n.copy(s);const y=g*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector($p,a);const m=d*v-g*u;if(m<=0&&u-d>=0&&g-v>=0)return y7.subVectors(s,i),a=(u-d)/(u-d+(g-v)),n.copy(i).addScaledVector(y7,a);const p=1/(m+y+f);return o=y*p,a=f*p,n.copy(r).addScaledVector(zp,o).addScaledVector($p,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ife={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cu={h:0,s:0,l:0},lS={h:0,s:0,l:0};function PO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class pt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=_s){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=gn.workingColorSpace){return this.r=e,this.g=n,this.b=r,gn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=gn.workingColorSpace){if(e=e5(e,1),n=Vt(n,0,1),r=Vt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=PO(o,s,e+1/3),this.g=PO(o,s,e),this.b=PO(o,s,e-1/3)}return gn.colorSpaceToWorking(this,i),this}setStyle(e,n=_s){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=_s){const r=ife[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nc(e.r),this.g=Nc(e.g),this.b=Nc(e.b),this}copyLinearToSRGB(e){return this.r=tg(e.r),this.g=tg(e.g),this.b=tg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_s){return gn.workingToColorSpace(Ii.copy(this),e),Math.round(Vt(Ii.r*255,0,255))*65536+Math.round(Vt(Ii.g*255,0,255))*256+Math.round(Vt(Ii.b*255,0,255))}getHexString(e=_s){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=gn.workingColorSpace){gn.workingToColorSpace(Ii.copy(this),n);const r=Ii.r,i=Ii.g,s=Ii.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case r:l=(i-s)/u+(i<s?6:0);break;case i:l=(s-r)/u+2;break;case s:l=(r-i)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=gn.workingColorSpace){return gn.workingToColorSpace(Ii.copy(this),n),e.r=Ii.r,e.g=Ii.g,e.b=Ii.b,e}getStyle(e=_s){gn.workingToColorSpace(Ii.copy(this),e);const n=Ii.r,r=Ii.g,i=Ii.b;return e!==_s?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Cu),this.setHSL(Cu.h+e,Cu.s+n,Cu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Cu),e.getHSL(lS);const r=ox(Cu.h,lS.h,n),i=ox(Cu.s,lS.s,n),s=ox(Cu.l,lS.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ii=new pt;pt.NAMES=ife;let gut=0;class Vi extends Gl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gut++}),this.uuid=ao(),this.name="",this.type="Material",this.blending=rh,this.side=$c,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=DM,this.blendDst=LM,this.blendEquation=Bu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pt(0,0,0),this.blendAlpha=0,this.depthFunc=Oh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=QL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cf,this.stencilZFail=Cf,this.stencilZPass=Cf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==rh&&(r.blending=this.blending),this.side!==$c&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==DM&&(r.blendSrc=this.blendSrc),this.blendDst!==LM&&(r.blendDst=this.blendDst),this.blendEquation!==Bu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Oh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==QL&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Cf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Cf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Cf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Fd extends Vi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const yc=vut();function vut(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function gs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Vt(t,-65504,65504),yc.floatView[0]=t;const e=yc.uint32View[0],n=e>>23&511;return yc.baseTable[n]+((e&8388607)>>yc.shiftTable[n])}function P0(t){const e=t>>10;return yc.uint32View[0]=yc.mantissaTable[yc.offsetTable[e]+(t&1023)]+yc.exponentTable[e],yc.floatView[0]}class yut{static toHalfFloat(e){return gs(e)}static fromHalfFloat(e){return P0(e)}}const Lr=new le,cS=new ze;let xut=0;class Hn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:xut++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=B_,this.updateRanges=[],this.gpuType=As,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)cS.fromBufferAttribute(this,n),cS.applyMatrix3(e),this.setXY(n,cS.x,cS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix3(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix4(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyNormalMatrix(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.transformDirection(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=es(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==B_&&(e.usage=this.usage),e}}class _ut extends Hn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class but extends Hn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class wut extends Hn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Sut extends Hn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class n5 extends Hn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Eut extends Hn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class r5 extends Hn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Cut extends Hn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=P0(this.array[e*this.itemSize]);return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=gs(n),this}getY(e){let n=P0(this.array[e*this.itemSize+1]);return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=gs(n),this}getZ(e){let n=P0(this.array[e*this.itemSize+2]);return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=gs(n),this}getW(e){let n=P0(this.array[e*this.itemSize+3]);return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=gs(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this.array[e+2]=gs(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this.array[e+2]=gs(i),this.array[e+3]=gs(s),this}}class Et extends Hn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Mut=0;const Ro=new Gt,NO=new wn,Hp=new le,Hs=new $i,i0=new $i,ui=new le;class tn extends Gl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mut++}),this.uuid=ao(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tfe(e)?r5:n5)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Jt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ro.makeRotationFromQuaternion(e),this.applyMatrix4(Ro),this}rotateX(e){return Ro.makeRotationX(e),this.applyMatrix4(Ro),this}rotateY(e){return Ro.makeRotationY(e),this.applyMatrix4(Ro),this}rotateZ(e){return Ro.makeRotationZ(e),this.applyMatrix4(Ro),this}translate(e,n,r){return Ro.makeTranslation(e,n,r),this.applyMatrix4(Ro),this}scale(e,n,r){return Ro.makeScale(e,n,r),this.applyMatrix4(Ro),this}lookAt(e){return NO.lookAt(e),NO.updateMatrix(),this.applyMatrix4(NO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Et(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $i);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Hs.setFromBufferAttribute(s),this.morphTargetsRelative?(ui.addVectors(this.boundingBox.min,Hs.min),this.boundingBox.expandByPoint(ui),ui.addVectors(this.boundingBox.max,Hs.max),this.boundingBox.expandByPoint(ui)):(this.boundingBox.expandByPoint(Hs.min),this.boundingBox.expandByPoint(Hs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if(Hs.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];i0.setFromBufferAttribute(a),this.morphTargetsRelative?(ui.addVectors(Hs.min,i0.min),Hs.expandByPoint(ui),ui.addVectors(Hs.max,i0.max),Hs.expandByPoint(ui)):(Hs.expandByPoint(i0.min),Hs.expandByPoint(i0.max))}Hs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ui.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ui));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)ui.fromBufferAttribute(a,c),l&&(Hp.fromBufferAttribute(e,c),ui.add(Hp)),i=Math.max(i,r.distanceToSquared(ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let T=0;T<r.count;T++)a[T]=new le,l[T]=new le;const c=new le,d=new le,u=new le,f=new ze,g=new ze,v=new ze,y=new le,m=new le;function p(T,P,N){c.fromBufferAttribute(r,T),d.fromBufferAttribute(r,P),u.fromBufferAttribute(r,N),f.fromBufferAttribute(s,T),g.fromBufferAttribute(s,P),v.fromBufferAttribute(s,N),d.sub(c),u.sub(c),g.sub(f),v.sub(f);const I=1/(g.x*v.y-v.x*g.y);isFinite(I)&&(y.copy(d).multiplyScalar(v.y).addScaledVector(u,-g.y).multiplyScalar(I),m.copy(u).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(I),a[T].add(y),a[P].add(y),a[N].add(y),l[T].add(m),l[P].add(m),l[N].add(m))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let T=0,P=x.length;T<P;++T){const N=x[T],I=N.start,k=N.count;for(let j=I,F=I+k;j<F;j+=3)p(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const _=new le,b=new le,S=new le,C=new le;function M(T){S.fromBufferAttribute(i,T),C.copy(S);const P=a[T];_.copy(P),_.sub(S.multiplyScalar(S.dot(P))).normalize(),b.crossVectors(C,P);const I=b.dot(l[T])<0?-1:1;o.setXYZW(T,_.x,_.y,_.z,I)}for(let T=0,P=x.length;T<P;++T){const N=x[T],I=N.start,k=N.count;for(let j=I,F=I+k;j<F;j+=3)M(e.getX(j+0)),M(e.getX(j+1)),M(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Hn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,g=r.count;f<g;f++)r.setXYZ(f,0,0,0);const i=new le,s=new le,o=new le,a=new le,l=new le,c=new le,d=new le,u=new le;if(e)for(let f=0,g=e.count;f<g;f+=3){const v=e.getX(f+0),y=e.getX(f+1),m=e.getX(f+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,m),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,m),a.add(d),l.add(d),c.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,g=n.count;f<g;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ui.fromBufferAttribute(e,n),ui.normalize(),e.setXYZ(n,ui.x,ui.y,ui.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,u=a.normalized,f=new c.constructor(l.length*d);let g=0,v=0;for(let y=0,m=l.length;y<m;y++){a.isInterleavedBufferAttribute?g=l[y]*a.data.stride+a.offset:g=l[y]*d;for(let p=0;p<d;p++)f[v++]=c[g++]}return new Hn(f,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,u=c.length;d<u;d++){const f=c[d],g=e(f,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,f=c.length;u<f;u++){const g=c[u];d.push(g.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],u=s[c];for(let f=0,g=u.length;f<g;f++)d.push(u[f].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const x7=new Gt,rf=new Zh,uS=new wi,_7=new le,dS=new le,fS=new le,hS=new le,RO=new le,pS=new le,b7=new le,mS=new le;class $r extends wn{constructor(e=new tn,n=new Fd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){pS.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],u=s[l];d!==0&&(RO.fromBufferAttribute(u,e),o?pS.addScaledVector(RO,d):pS.addScaledVector(RO.sub(n),d))}n.add(pS)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uS.copy(r.boundingSphere),uS.applyMatrix4(s),rf.copy(e.ray).recast(e.near),!(uS.containsPoint(rf.origin)===!1&&(rf.intersectSphere(uS,_7)===null||rf.origin.distanceToSquared(_7)>(e.far-e.near)**2))&&(x7.copy(s).invert(),rf.copy(e.ray).applyMatrix4(x7),!(r.boundingBox!==null&&rf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,rf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,u=s.attributes.normal,f=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const m=f[v],p=o[m.materialIndex],x=Math.max(m.start,g.start),_=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let b=x,S=_;b<S;b+=3){const C=a.getX(b),M=a.getX(b+1),T=a.getX(b+2);i=gS(this,p,e,r,c,d,u,C,M,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let m=v,p=y;m<p;m+=3){const x=a.getX(m),_=a.getX(m+1),b=a.getX(m+2);i=gS(this,o,e,r,c,d,u,x,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const m=f[v],p=o[m.materialIndex],x=Math.max(m.start,g.start),_=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let b=x,S=_;b<S;b+=3){const C=b,M=b+1,T=b+2;i=gS(this,p,e,r,c,d,u,C,M,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let m=v,p=y;m<p;m+=3){const x=m,_=m+1,b=m+2;i=gS(this,o,e,r,c,d,u,x,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function Aut(t,e,n,r,i,s,o,a){let l;if(e.side===Ui?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===$c,a),l===null)return null;mS.copy(a),mS.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(mS);return c<n.near||c>n.far?null:{distance:c,point:mS.clone(),object:t}}function gS(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,dS),t.getVertexPosition(l,fS),t.getVertexPosition(c,hS);const d=Aut(t,e,n,r,dS,fS,hS,b7);if(d){const u=new le;Ss.getBarycoord(b7,dS,fS,hS,u),i&&(d.uv=Ss.getInterpolatedAttribute(i,a,l,c,u,new ze)),s&&(d.uv1=Ss.getInterpolatedAttribute(s,a,l,c,u,new ze)),o&&(d.normal=Ss.getInterpolatedAttribute(o,a,l,c,u,new le),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new le,materialIndex:0};Ss.getNormal(dS,fS,hS,f.normal),d.face=f,d.barycoord=u}return d}class Qh extends tn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],u=[];let f=0,g=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Et(c,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(u,2));function v(y,m,p,x,_,b,S,C,M,T,P){const N=b/M,I=S/T,k=b/2,j=S/2,F=C/2,B=M+1,U=T+1;let H=0,R=0;const L=new le;for(let z=0;z<U;z++){const W=z*I-j;for(let G=0;G<B;G++){const q=G*N-k;L[y]=q*x,L[m]=W*_,L[p]=F,c.push(L.x,L.y,L.z),L[y]=0,L[m]=0,L[p]=C>0?1:-1,d.push(L.x,L.y,L.z),u.push(G/M),u.push(1-z/T),H+=1}}for(let z=0;z<T;z++)for(let W=0;W<M;W++){const G=f+W+B*z,q=f+W+B*(z+1),ne=f+(W+1)+B*(z+1),ae=f+(W+1)+B*z;l.push(G,q,ae),l.push(q,ne,ae),R+=6}a.addGroup(g,R,P),g+=R,f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function vv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ki(t){const e={};for(let n=0;n<t.length;n++){const r=vv(t[n]);for(const i in r)e[i]=r[i]}return e}function Tut(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function sfe(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gn.workingColorSpace}const i5={clone:vv,merge:Ki};var Put=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Nut=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ko extends Vi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Put,this.fragmentShader=Nut,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vv(e.uniforms),this.uniformsGroups=Tut(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class tw extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=no,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Mu=new le,w7=new ze,S7=new ze;class gr extends tw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=gv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gv*2*Math.atan(Math.tan(ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Mu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Mu.x,Mu.y).multiplyScalar(-e/Mu.z),Mu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Mu.x,Mu.y).multiplyScalar(-e/Mu.z)}getViewSize(e,n){return this.getViewBounds(e,w7,S7),n.subVectors(S7,w7)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ih*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Vp=-90,Wp=1;class ofe extends wn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new gr(Vp,Wp,e,n);i.layers=this.layers,this.add(i);const s=new gr(Vp,Wp,e,n);s.layers=this.layers,this.add(s);const o=new gr(Vp,Wp,e,n);o.layers=this.layers,this.add(o);const a=new gr(Vp,Wp,e,n);a.layers=this.layers,this.add(a);const l=new gr(Vp,Wp,e,n);l.layers=this.layers,this.add(l);const c=new gr(Vp,Wp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===no)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===mv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,u=e.getRenderTarget(),f=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(u,f,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class nw extends Ar{constructor(e=[],n=Hc,r,i,s,o,a,l,c,d){super(e,n,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class afe extends Dl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new nw(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Qh(5,5,5),s=new Ko({name:"CubemapFromEquirect",uniforms:vv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ui,blending:Pc});s.uniforms.tEquirect.value=n;const o=new $r(i,s),a=n.minFilter;return n.minFilter===gl&&(n.minFilter=ni),new ofe(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class Rm extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Rut={type:"move"};class CE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const m=n.getJointPose(y,r),p=this._getHandJoint(c,y);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],f=d.position.distanceTo(u.position),g=.02,v=.005;c.inputState.pinching&&f>g+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=g-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Rut)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Rm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class WP{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new pt(e),this.density=n}clone(){return new WP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class GP{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new pt(e),this.near=n,this.far=r}clone(){return new GP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let s5=class extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new po,this.environmentIntensity=1,this.environmentRotation=new po,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class XP{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=B_,this.updateRanges=[],this.version=0,this.uuid=ao()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const qi=new le;class kh{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix4(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyNormalMatrix(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.transformDirection(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=es(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=es(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=es(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=es(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=es(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Hn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class o5 extends Vi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gp;const s0=new le,Xp=new le,qp=new le,Kp=new ze,o0=new ze,lfe=new Gt,vS=new le,a0=new le,yS=new le,E7=new ze,OO=new ze,C7=new ze;class cfe extends wn{constructor(e=new o5){if(super(),this.isSprite=!0,this.type="Sprite",Gp===void 0){Gp=new tn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new XP(n,5);Gp.setIndex([0,1,2,0,2,3]),Gp.setAttribute("position",new kh(r,3,0,!1)),Gp.setAttribute("uv",new kh(r,2,3,!1))}this.geometry=Gp,this.material=e,this.center=new ze(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xp.setFromMatrixScale(this.matrixWorld),lfe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xp.multiplyScalar(-qp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;xS(vS.set(-.5,-.5,0),qp,o,Xp,i,s),xS(a0.set(.5,-.5,0),qp,o,Xp,i,s),xS(yS.set(.5,.5,0),qp,o,Xp,i,s),E7.set(0,0),OO.set(1,0),C7.set(1,1);let a=e.ray.intersectTriangle(vS,a0,yS,!1,s0);if(a===null&&(xS(a0.set(-.5,.5,0),qp,o,Xp,i,s),OO.set(0,1),a=e.ray.intersectTriangle(vS,yS,a0,!1,s0),a===null))return;const l=e.ray.origin.distanceTo(s0);l<e.near||l>e.far||n.push({distance:l,point:s0.clone(),uv:Ss.getInterpolation(s0,vS,a0,yS,E7,OO,C7,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xS(t,e,n,r,i,s){Kp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(o0.x=s*Kp.x-i*Kp.y,o0.y=i*Kp.x+s*Kp.y):o0.copy(Kp),t.copy(e),t.x+=o0.x,t.y+=o0.y,t.applyMatrix4(lfe)}const _S=new le,M7=new le;class ufe extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){_S.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(_S);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_S.setFromMatrixPosition(e.matrixWorld),M7.setFromMatrixPosition(this.matrixWorld);const r=_S.distanceTo(M7)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const A7=new le,T7=new _n,P7=new _n,Out=new le,N7=new Gt,bS=new le,IO=new wi,R7=new Gt,kO=new Zh;class dfe extends $r{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ZL,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new $i),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,bS),this.boundingBox.expandByPoint(bS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new wi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,bS),this.boundingSphere.expandByPoint(bS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),IO.copy(this.boundingSphere),IO.applyMatrix4(i),e.ray.intersectsSphere(IO)!==!1&&(R7.copy(i).invert(),kO.copy(e.ray).applyMatrix4(R7),!(this.boundingBox!==null&&kO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,kO)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _n,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ZL?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Ude?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;T7.fromBufferAttribute(i.attributes.skinIndex,e),P7.fromBufferAttribute(i.attributes.skinWeight,e),A7.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=P7.getComponent(s);if(o!==0){const a=T7.getComponent(s);N7.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Out.copy(A7).applyMatrix4(N7),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class a5 extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tl extends Ar{constructor(e=null,n=1,r=1,i,s,o,a,l,c=bi,d=bi,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const O7=new Gt,Iut=new Gt;class qP{constructor(e=[],n=[]){this.uuid=ao(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Gt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Iut;O7.multiplyMatrices(a,n[s]),O7.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new qP(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Tl(n,e,e,Bi,As);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new a5),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class yv extends Hn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Yp=new Gt,I7=new Gt,wS=[],k7=new $i,kut=new Gt,l0=new $r,c0=new wi;class ffe extends $r{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new yv(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,kut)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new $i),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Yp),k7.copy(e.boundingBox).applyMatrix4(Yp),this.boundingBox.union(k7)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new wi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Yp),c0.copy(e.boundingSphere).applyMatrix4(Yp),this.boundingSphere.union(c0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(l0.geometry=this.geometry,l0.material=this.material,l0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),c0.copy(this.boundingSphere),c0.applyMatrix4(r),e.ray.intersectsSphere(c0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Yp),I7.multiplyMatrices(r,Yp),l0.matrixWorld=I7,l0.raycast(e,wS);for(let o=0,a=wS.length;o<a;o++){const l=wS[o];l.instanceId=s,l.object=this,n.push(l)}wS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new yv(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Tl(new Float32Array(i*this.count),i,this.count,BP,As));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const DO=new le,Dut=new le,Lut=new Jt;class cl{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=DO.subVectors(r,n).cross(Dut.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(DO),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Lut.getNormalMatrix(e),i=this.coplanarPoint(DO).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const sf=new wi,jut=new ze(.5,.5),SS=new le;class ty{constructor(e=new cl,n=new cl,r=new cl,i=new cl,s=new cl,o=new cl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=no,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],d=s[4],u=s[5],f=s[6],g=s[7],v=s[8],y=s[9],m=s[10],p=s[11],x=s[12],_=s[13],b=s[14],S=s[15];if(i[0].setComponents(c-o,g-d,p-v,S-x).normalize(),i[1].setComponents(c+o,g+d,p+v,S+x).normalize(),i[2].setComponents(c+a,g+u,p+y,S+_).normalize(),i[3].setComponents(c-a,g-u,p-y,S-_).normalize(),r)i[4].setComponents(l,f,m,b).normalize(),i[5].setComponents(c-l,g-f,p-m,S-b).normalize();else if(i[4].setComponents(c-l,g-f,p-m,S-b).normalize(),n===no)i[5].setComponents(c+l,g+f,p+m,S+b).normalize();else if(n===mv)i[5].setComponents(l,f,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),sf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),sf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(sf)}intersectsSprite(e){sf.center.set(0,0,0);const n=jut.distanceTo(e.center);return sf.radius=.7071067811865476+n,sf.applyMatrix4(e.matrixWorld),this.intersectsSphere(sf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(SS.x=i.normal.x>0?e.max.x:e.min.x,SS.y=i.normal.y>0?e.max.y:e.min.y,SS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(SS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const nl=new Gt,rl=new ty;class KP{constructor(){this.coordinateSystem=no}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(nl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rl.setFromProjectionMatrix(nl,i.coordinateSystem,i.reversedDepth),rl.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(nl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rl.setFromProjectionMatrix(nl,i.coordinateSystem,i.reversedDepth),rl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(nl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rl.setFromProjectionMatrix(nl,i.coordinateSystem,i.reversedDepth),rl.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(nl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rl.setFromProjectionMatrix(nl,i.coordinateSystem,i.reversedDepth),rl.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(nl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),rl.setFromProjectionMatrix(nl,i.coordinateSystem,i.reversedDepth),rl.containsPoint(e))return!0}return!1}clone(){return new KP}}function LO(t,e){return t-e}function Fut(t,e){return t.z-e.z}function But(t,e){return e.z-t.z}class Uut{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const ps=new Gt,zut=new pt(1,1,1),D7=new ty,$ut=new KP,ES=new $i,of=new wi,u0=new le,L7=new le,Hut=new le,jO=new Uut,ki=new $r,CS=[];function Vut(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function af(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class hfe extends $r{constructor(e,n,r=n*2,i){super(new tn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Tl(n,e,e,Bi,As);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Tl(n,e,e,ew,Vc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Tl(n,e,e,Bi,As);r.colorSpace=gn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(r*l),u=new Hn(d,l,c);n.setAttribute(s,u)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Hn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $i);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ps),this.getBoundingBoxAt(s,ES).applyMatrix4(ps),e.union(ES)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wi);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ps),this.getBoundingSphereAt(s,of).applyMatrix4(ps),e.union(of)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(LO),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;ps.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(zut.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(LO),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const u=n.getAttribute(d),f=r.getAttribute(d);Vut(u,f,l);const g=u.itemSize;for(let v=u.count,y=c;v<y;v++){const m=l+v;for(let p=0;p<g;p++)f.setComponent(m,p,0)}f.needsUpdate=!0,f.addUpdateRange(l*g,c*g)}if(i){const d=a.indexStart,u=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let f=0;f<o.count;f++)s.setX(d+f,l+o.getX(f));for(let f=o.count,g=u;f<g;f++)s.setX(d+f,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:u,reservedIndexCount:f}=c,g=s.index,v=g.array,y=e-u;for(let m=d;m<d+f;m++)v[m]=v[m]+y;g.array.copyWithin(n,d,d+f),g.addUpdateRange(n,f),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:u}=c,f=s.attributes;for(const g in f){const v=f[g],{array:y,itemSize:m}=v;y.copyWithin(e*m,d*m,(d+u)*m),v.addUpdateRange(e*m,u*m)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new $i,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(u0.fromBufferAttribute(a,d))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new wi;this.getBoundingBoxAt(e,ES),ES.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let u=c;o&&(u=o.getX(u)),u0.fromBufferAttribute(a,u),l=Math.max(l,s.center.distanceToSquared(u0))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(LO);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);af(this._multiDrawCounts,i),af(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),af(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),af(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),af(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(s));const o=this.geometry;s.index&&af(s.index.array,o.index.array);for(const a in s.attributes)af(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;ki.material=this.material,ki.geometry.index=o.index,ki.geometry.attributes=o.attributes,ki.geometry.boundingBox===null&&(ki.geometry.boundingBox=new $i),ki.geometry.boundingSphere===null&&(ki.geometry.boundingSphere=new wi);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,d=i[c];ki.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,ki.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ki.geometry.boundingBox),this.getBoundingSphereAt(c,ki.geometry.boundingSphere),ki.raycast(e,CS);for(let u=0,f=CS.length;u<f;u++){const g=CS[u];g.object=this,g.batchId=a,n.push(g)}CS.length=0}ki.material=null,ki.geometry.index=null,ki.geometry.attributes={},ki.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,u=this._geometryInfo,f=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data,y=r.isArrayCamera?$ut:D7;f&&!r.isArrayCamera&&(ps.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),D7.setFromProjectionMatrix(ps,r.coordinateSystem,r.reversedDepth));let m=0;if(this.sortObjects){ps.copy(this.matrixWorld).invert(),u0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ps),L7.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ps);for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const S=l[_].geometryIndex;this.getMatrixAt(_,ps),this.getBoundingSphereAt(S,of).applyMatrix4(ps);let C=!1;if(f&&(C=!y.intersectsSphere(of,r)),!C){const M=u[S],T=Hut.subVectors(of.center,u0).dot(L7);jO.push(M.start,M.count,T,_)}}const p=jO.list,x=this.customSort;x===null?p.sort(s.transparent?But:Fut):x.call(this,p,r);for(let _=0,b=p.length;_<b;_++){const S=p[_];c[m]=S.start*a,d[m]=S.count,v[m]=S.index,m++}jO.reset()}else for(let p=0,x=l.length;p<x;p++)if(l[p].visible&&l[p].active){const _=l[p].geometryIndex;let b=!1;if(f&&(this.getMatrixAt(p,ps),this.getBoundingSphereAt(_,of).applyMatrix4(ps),b=!y.intersectsSphere(of,r)),!b){const S=u[_];c[m]=S.start*a,d[m]=S.count,v[m]=p,m++}}g.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ls extends Vi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const xA=new le,_A=new le,j7=new Gt,d0=new Zh,MS=new wi,FO=new le,F7=new le;class bd extends wn{constructor(e=new tn,n=new ls){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)xA.fromBufferAttribute(n,i-1),_A.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=xA.distanceTo(_A);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),MS.copy(r.boundingSphere),MS.applyMatrix4(i),MS.radius+=s,e.ray.intersectsSphere(MS)===!1)return;j7.copy(i).invert(),d0.copy(e.ray).applyMatrix4(j7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=r.index,f=r.attributes.position;if(d!==null){const g=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let y=g,m=v-1;y<m;y+=c){const p=d.getX(y),x=d.getX(y+1),_=AS(this,e,d0,l,p,x,y);_&&n.push(_)}if(this.isLineLoop){const y=d.getX(v-1),m=d.getX(g),p=AS(this,e,d0,l,y,m,v-1);p&&n.push(p)}}else{const g=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let y=g,m=v-1;y<m;y+=c){const p=AS(this,e,d0,l,y,y+1,y);p&&n.push(p)}if(this.isLineLoop){const y=AS(this,e,d0,l,v-1,g,v-1);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function AS(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(xA.fromBufferAttribute(a,i),_A.fromBufferAttribute(a,s),n.distanceSqToSegment(xA,_A,FO,F7)>r)return;FO.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(FO);if(!(c<e.near||c>e.far))return{distance:c,point:F7.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const B7=new le,U7=new le;class Xl extends bd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)B7.fromBufferAttribute(n,i),U7.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+B7.distanceTo(U7);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pfe extends bd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class l5 extends Vi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const z7=new Gt,ej=new Zh,TS=new wi,PS=new le;class mfe extends wn{constructor(e=new tn,n=new l5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TS.copy(r.boundingSphere),TS.applyMatrix4(i),TS.radius+=s,e.ray.intersectsSphere(TS)===!1)return;z7.copy(i).invert(),ej.copy(e.ray).applyMatrix4(z7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,u=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let v=f,y=g;v<y;v++){const m=c.getX(v);PS.fromBufferAttribute(u,m),$7(PS,m,l,i,e,n,this)}}else{const f=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let v=f,y=g;v<y;v++)PS.fromBufferAttribute(u,v),$7(PS,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function $7(t,e,n,r,i,s,o){const a=ej.distanceSqToPoint(t);if(a<n){const l=new le;ej.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class gfe extends Ar{constructor(e,n,r,i,s=ni,o=ni,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function u(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(u))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class Wut extends gfe{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Gut extends Ar{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=bi,this.minFilter=bi,this.generateMipmaps=!1,this.needsUpdate=!0}}class YP extends Ar{constructor(e,n,r,i,s,o,a,l,c,d,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xut extends YP{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Uo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qut extends YP{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Hc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Kut extends Ar{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class c5 extends Ar{constructor(e,n,r=Vc,i,s,o,a=bi,l=bi,c,d=hv,u=1){if(d!==hv&&d!==pv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:u};super(f,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ed(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class u5 extends Ar{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class ZP extends tn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],d=n/2,u=Math.PI/2*e,f=n,g=2*u+f,v=r*2+s,y=i+1,m=new le,p=new le;for(let x=0;x<=v;x++){let _=0,b=0,S=0,C=0;if(x<=r){const P=x/r,N=P*Math.PI/2;b=-d-e*Math.cos(N),S=e*Math.sin(N),C=-e*Math.cos(N),_=P*u}else if(x<=r+s){const P=(x-r)/s;b=-d+P*n,S=e,C=0,_=u+P*f}else{const P=(x-r-s)/r,N=P*Math.PI/2;b=d+e*Math.sin(N),S=e*Math.cos(N),C=e*Math.sin(N),_=u+f+P*u}const M=Math.max(0,Math.min(1,_/g));let T=0;x===0?T=.5/i:x===v&&(T=-.5/i);for(let P=0;P<=i;P++){const N=P/i,I=N*Math.PI*2,k=Math.sin(I),j=Math.cos(I);p.x=-S*j,p.y=b,p.z=S*k,a.push(p.x,p.y,p.z),m.set(-S*j,C,S*k),m.normalize(),l.push(m.x,m.y,m.z),c.push(N+T,M)}if(x>0){const P=(x-1)*y;for(let N=0;N<i;N++){const I=P+N,k=P+N+1,j=x*y+N,F=x*y+N+1;o.push(I,k,j),o.push(k,F,j)}}}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZP(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class QP extends tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new le,d=new ze;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,f=3;u<=n;u++,f+=3){const g=r+u/n*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let u=1;u<=n;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class rw extends tn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],u=[],f=[],g=[];let v=0;const y=[],m=r/2;let p=0;x(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(g,2));function x(){const b=new le,S=new le;let C=0;const M=(n-e)/r;for(let T=0;T<=s;T++){const P=[],N=T/s,I=N*(n-e)+e;for(let k=0;k<=i;k++){const j=k/i,F=j*l+a,B=Math.sin(F),U=Math.cos(F);S.x=I*B,S.y=-N*r+m,S.z=I*U,u.push(S.x,S.y,S.z),b.set(B,M,U).normalize(),f.push(b.x,b.y,b.z),g.push(j,1-N),P.push(v++)}y.push(P)}for(let T=0;T<i;T++)for(let P=0;P<s;P++){const N=y[P][T],I=y[P+1][T],k=y[P+1][T+1],j=y[P][T+1];(e>0||P!==0)&&(d.push(N,I,j),C+=3),(n>0||P!==s-1)&&(d.push(I,k,j),C+=3)}c.addGroup(p,C,0),p+=C}function _(b){const S=v,C=new ze,M=new le;let T=0;const P=b===!0?e:n,N=b===!0?1:-1;for(let k=1;k<=i;k++)u.push(0,m*N,0),f.push(0,N,0),g.push(.5,.5),v++;const I=v;for(let k=0;k<=i;k++){const F=k/i*l+a,B=Math.cos(F),U=Math.sin(F);M.x=P*U,M.y=m*N,M.z=P*B,u.push(M.x,M.y,M.z),f.push(0,N,0),C.x=B*.5+.5,C.y=U*.5*N+.5,g.push(C.x,C.y),v++}for(let k=0;k<i;k++){const j=S+k,F=I+k;b===!0?d.push(F,F+1,j):d.push(F+1,F,j),T+=3}c.addGroup(p,T,b===!0?1:2),p+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class iw extends rw{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new iw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bd extends tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(s.slice(),3)),this.setAttribute("uv",new Et(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const _=new le,b=new le,S=new le;for(let C=0;C<n.length;C+=3)g(n[C+0],_),g(n[C+1],b),g(n[C+2],S),l(_,b,S,x)}function l(x,_,b,S){const C=S+1,M=[];for(let T=0;T<=C;T++){M[T]=[];const P=x.clone().lerp(b,T/C),N=_.clone().lerp(b,T/C),I=C-T;for(let k=0;k<=I;k++)k===0&&T===C?M[T][k]=P:M[T][k]=P.clone().lerp(N,k/I)}for(let T=0;T<C;T++)for(let P=0;P<2*(C-T)-1;P++){const N=Math.floor(P/2);P%2===0?(f(M[T][N+1]),f(M[T+1][N]),f(M[T][N])):(f(M[T][N+1]),f(M[T+1][N+1]),f(M[T+1][N]))}}function c(x){const _=new le;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(x),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function d(){const x=new le;for(let _=0;_<s.length;_+=3){x.x=s[_+0],x.y=s[_+1],x.z=s[_+2];const b=m(x)/2/Math.PI+.5,S=p(x)/Math.PI+.5;o.push(b,1-S)}v(),u()}function u(){for(let x=0;x<o.length;x+=6){const _=o[x+0],b=o[x+2],S=o[x+4],C=Math.max(_,b,S),M=Math.min(_,b,S);C>.9&&M<.1&&(_<.2&&(o[x+0]+=1),b<.2&&(o[x+2]+=1),S<.2&&(o[x+4]+=1))}}function f(x){s.push(x.x,x.y,x.z)}function g(x,_){const b=x*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const x=new le,_=new le,b=new le,S=new le,C=new ze,M=new ze,T=new ze;for(let P=0,N=0;P<s.length;P+=9,N+=6){x.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),b.set(s[P+6],s[P+7],s[P+8]),C.set(o[N+0],o[N+1]),M.set(o[N+2],o[N+3]),T.set(o[N+4],o[N+5]),S.copy(x).add(_).add(b).divideScalar(3);const I=m(S);y(C,N+0,x,I),y(M,N+2,_,I),y(T,N+4,b,I)}}function y(x,_,b,S){S<0&&x.x===1&&(o[_]=x.x-1),b.x===0&&b.z===0&&(o[_]=S/2/Math.PI+.5)}function m(x){return Math.atan2(x.z,-x.x)}function p(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bd(e.vertices,e.indices,e.radius,e.details)}}class JP extends Bd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new JP(e.radius,e.detail)}}const NS=new le,RS=new le,BO=new le,OS=new Ss;class vfe extends tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(ih*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),f={},g=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:m,c:p}=OS;if(y.fromBufferAttribute(a,c[0]),m.fromBufferAttribute(a,c[1]),p.fromBufferAttribute(a,c[2]),OS.getNormal(BO),u[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,u[1]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,u[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let x=0;x<3;x++){const _=(x+1)%3,b=u[x],S=u[_],C=OS[d[x]],M=OS[d[_]],T=`${b}_${S}`,P=`${S}_${b}`;P in f&&f[P]?(BO.dot(f[P].normal)<=s&&(g.push(C.x,C.y,C.z),g.push(M.x,M.y,M.z)),f[P]=null):T in f||(f[T]={index0:c[x],index1:c[_],normal:BO.clone()})}}for(const v in f)if(f[v]){const{index0:y,index1:m}=f[v];NS.fromBufferAttribute(a,y),RS.fromBufferAttribute(a,m),g.push(NS.x,NS.y,NS.z),g.push(RS.x,RS.y,RS.z)}this.setAttribute("position",new Et(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xa{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,g=(o-d)/f;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ze:new le);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new le,i=[],s=[],o=[],a=new le,l=new Gt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new le)}s[0]=new le,o[0]=new le;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),u=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),u<=c&&(c=u,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Vt(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Vt(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class e2 extends Xa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ze){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=l-this.aX,g=c-this.aY;l=f*d-g*u+this.aX,c=f*u+g*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yfe extends e2{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function d5(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,u){let f=(o-s)/c-(a-s)/(c+d)+(a-o)/d,g=(a-o)/d-(l-o)/(d+u)+(l-a)/u;f*=d,g*=d,i(o,a,f,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const IS=new le,UO=new d5,zO=new d5,$O=new d5;class xfe extends Xa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(IS.subVectors(i[0],i[1]).add(i[0]),c=IS);const u=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(IS.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=IS),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(u),g),y=Math.pow(u.distanceToSquared(f),g),m=Math.pow(f.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),m<1e-4&&(m=y),UO.initNonuniformCatmullRom(c.x,u.x,f.x,d.x,v,y,m),zO.initNonuniformCatmullRom(c.y,u.y,f.y,d.y,v,y,m),$O.initNonuniformCatmullRom(c.z,u.z,f.z,d.z,v,y,m)}else this.curveType==="catmullrom"&&(UO.initCatmullRom(c.x,u.x,f.x,d.x,this.tension),zO.initCatmullRom(c.y,u.y,f.y,d.y,this.tension),$O.initCatmullRom(c.z,u.z,f.z,d.z,this.tension));return r.set(UO.calc(l),zO.calc(l),$O.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function H7(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Yut(t,e){const n=1-t;return n*n*e}function Zut(t,e){return 2*(1-t)*t*e}function Qut(t,e){return t*t*e}function ax(t,e,n,r){return Yut(t,e)+Zut(t,n)+Qut(t,r)}function Jut(t,e){const n=1-t;return n*n*n*e}function edt(t,e){const n=1-t;return 3*n*n*t*e}function tdt(t,e){return 3*(1-t)*t*t*e}function ndt(t,e){return t*t*t*e}function lx(t,e,n,r,i){return Jut(t,e)+edt(t,n)+tdt(t,r)+ndt(t,i)}class f5 extends Xa{constructor(e=new ze,n=new ze,r=new ze,i=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(lx(e,i.x,s.x,o.x,a.x),lx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _fe extends Xa{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(lx(e,i.x,s.x,o.x,a.x),lx(e,i.y,s.y,o.y,a.y),lx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h5 extends Xa{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bfe extends Xa{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p5 extends Xa{constructor(e=new ze,n=new ze,r=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(ax(e,i.x,s.x,o.x),ax(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m5 extends Xa{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(ax(e,i.x,s.x,o.x),ax(e,i.y,s.y,o.y),ax(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g5 extends Xa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return r.set(H7(a,l.x,c.x,d.x,u.x),H7(a,l.y,c.y,d.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ze().fromArray(i))}return this}}var bA=Object.freeze({__proto__:null,ArcCurve:yfe,CatmullRomCurve3:xfe,CubicBezierCurve:f5,CubicBezierCurve3:_fe,EllipseCurve:e2,LineCurve:h5,LineCurve3:bfe,QuadraticBezierCurve:p5,QuadraticBezierCurve3:m5,SplineCurve:g5});class wfe extends Xa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new bA[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new bA[i.type]().fromJSON(i))}return this}}class wA extends wfe{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new h5(this.currentPoint.clone(),new ze(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new p5(this.currentPoint.clone(),new ze(e,n),new ze(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new f5(this.currentPoint.clone(),new ze(e,n),new ze(r,i),new ze(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new g5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new e2(e,n,r,i,s,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class oh extends wA{constructor(e){super(e),this.uuid=ao(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new wA().fromJSON(i))}return this}}function rdt(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Sfe(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=ldt(t,e,s,n)),t.length>80*n){a=1/0,l=1/0;let d=-1/0,u=-1/0;for(let f=n;f<i;f+=n){const g=t[f],v=t[f+1];g<a&&(a=g),v<l&&(l=v),g>d&&(d=g),v>u&&(u=v)}c=Math.max(d-a,u-l),c=c!==0?32767/c:0}return $_(s,o,n,a,l,c,0),o}function Sfe(t,e,n,r,i){let s;if(i===xdt(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=V7(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=V7(o/r|0,t[o],t[o+1],s);return s&&xv(s,s.next)&&(V_(s),s=s.next),s}function Dh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(xv(n,n.next)||yr(n.prev,n,n.next)===0)){if(V_(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $_(t,e,n,r,i,s,o){if(!t)return;!o&&s&&hdt(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?sdt(t,r,i,s):idt(t)){e.push(l.i,t.i,c.i),V_(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=odt(Dh(t),e),$_(t,e,n,r,i,s,2)):o===2&&adt(t,e,n,r,i,s):$_(Dh(t),e,n,r,i,s,1);break}}}function idt(t){const e=t.prev,n=t,r=t.next;if(yr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,d=Math.min(i,s,o),u=Math.min(a,l,c),f=Math.max(i,s,o),g=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=f&&v.y>=u&&v.y<=g&&N0(i,a,s,l,o,c,v.x,v.y)&&yr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function sdt(t,e,n,r){const i=t.prev,s=t,o=t.next;if(yr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,d=i.y,u=s.y,f=o.y,g=Math.min(a,l,c),v=Math.min(d,u,f),y=Math.max(a,l,c),m=Math.max(d,u,f),p=tj(g,v,e,n,r),x=tj(y,m,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=p&&b&&b.z<=x;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&N0(a,d,l,u,c,f,_.x,_.y)&&yr(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=g&&b.x<=y&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&N0(a,d,l,u,c,f,b.x,b.y)&&yr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=p;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&N0(a,d,l,u,c,f,_.x,_.y)&&yr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=x;){if(b.x>=g&&b.x<=y&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&N0(a,d,l,u,c,f,b.x,b.y)&&yr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function odt(t,e){let n=t;do{const r=n.prev,i=n.next.next;!xv(r,i)&&Cfe(r,n,n.next,i)&&H_(r,i)&&H_(i,r)&&(e.push(r.i,n.i,i.i),V_(n),V_(n.next),n=t=i),n=n.next}while(n!==t);return Dh(n)}function adt(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&gdt(o,a)){let l=Mfe(o,a);o=Dh(o,o.next),l=Dh(l,l.next),$_(o,e,n,r,i,s,0),$_(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function ldt(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=Sfe(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(mdt(c))}i.sort(cdt);for(let s=0;s<i.length;s++)n=udt(i[s],n);return n}function cdt(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function udt(t,e){const n=ddt(t,e);if(!n)return e;const r=Mfe(n,t);return Dh(r,r.next),Dh(n,n.next)}function ddt(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(xv(t,n))return n;do{if(xv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>s&&(s=u,o=n.x<n.next.x?n:n.next,u===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let d=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Efe(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const u=Math.abs(i-n.y)/(r-n.x);H_(n,t)&&(u<d||u===d&&(n.x>o.x||n.x===o.x&&fdt(o,n)))&&(o=n,d=u)}n=n.next}while(n!==a);return o}function fdt(t,e){return yr(t.prev,t,e.prev)<0&&yr(e.next,t,t.next)<0}function hdt(t,e,n,r){let i=t;do i.z===0&&(i.z=tj(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,pdt(i)}function pdt(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function tj(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function mdt(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Efe(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function N0(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&Efe(t,e,n,r,i,s,o,a)}function gdt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!vdt(t,e)&&(H_(t,e)&&H_(e,t)&&ydt(t,e)&&(yr(t.prev,t,e.prev)||yr(t,e.prev,e))||xv(t,e)&&yr(t.prev,t,t.next)>0&&yr(e.prev,e,e.next)>0)}function yr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function xv(t,e){return t.x===e.x&&t.y===e.y}function Cfe(t,e,n,r){const i=DS(yr(t,e,n)),s=DS(yr(t,e,r)),o=DS(yr(n,r,t)),a=DS(yr(n,r,e));return!!(i!==s&&o!==a||i===0&&kS(t,n,e)||s===0&&kS(t,r,e)||o===0&&kS(n,t,r)||a===0&&kS(n,e,r))}function kS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function DS(t){return t>0?1:t<0?-1:0}function vdt(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Cfe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function H_(t,e){return yr(t.prev,t,t.next)<0?yr(t,e,t.next)>=0&&yr(t,t.prev,e)>=0:yr(t,e,t.prev)<0||yr(t,t.next,e)<0}function ydt(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Mfe(t,e){const n=nj(t.i,t.x,t.y),r=nj(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function V7(t,e,n,r){const i=nj(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function V_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function nj(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function xdt(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class _dt{static triangulate(e,n,r=2){return rdt(e,n,r)}}class Aa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Aa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];W7(e),G7(r,e);let o=e.length;n.forEach(W7);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,G7(r,n[l]);const a=_dt.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function W7(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function G7(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class t2 extends tn{constructor(e=new oh([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Et(i,3)),this.setAttribute("uv",new Et(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,u=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:g-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:bdt;let _,b=!1,S,C,M,T;p&&(_=p.getSpacedPoints(d),b=!0,f=!1,S=p.computeFrenetFrames(d,!1),C=new le,M=new le,T=new le),f||(m=0,g=0,v=0,y=0);const P=a.extractPoints(c);let N=P.shape;const I=P.holes;if(!Aa.isClockWise(N)){N=N.reverse();for(let re=0,fe=I.length;re<fe;re++){const me=I[re];Aa.isClockWise(me)&&(I[re]=me.reverse())}}function j(re){const me=10000000000000001e-36;let pe=re[0];for(let Ae=1;Ae<=re.length;Ae++){const Ce=Ae%re.length,ke=re[Ce],rt=ke.x-pe.x,Je=ke.y-pe.y,ie=rt*rt+Je*Je,Z=Math.max(Math.abs(ke.x),Math.abs(ke.y),Math.abs(pe.x),Math.abs(pe.y)),ve=me*Z*Z;if(ie<=ve){re.splice(Ce,1),Ae--;continue}pe=ke}}j(N),I.forEach(j);const F=I.length,B=N;for(let re=0;re<F;re++){const fe=I[re];N=N.concat(fe)}function U(re,fe,me){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().addScaledVector(fe,me)}const H=N.length;function R(re,fe,me){let pe,Ae,Ce;const ke=re.x-fe.x,rt=re.y-fe.y,Je=me.x-re.x,ie=me.y-re.y,Z=ke*ke+rt*rt,ve=ke*ie-rt*Je;if(Math.abs(ve)>Number.EPSILON){const Se=Math.sqrt(Z),Ie=Math.sqrt(Je*Je+ie*ie),Me=fe.x-rt/Se,ct=fe.y+ke/Se,He=me.x-ie/Ie,lt=me.y+Je/Ie,Ge=((He-Me)*ie-(lt-ct)*Je)/(ke*ie-rt*Je);pe=Me+ke*Ge-re.x,Ae=ct+rt*Ge-re.y;const $e=pe*pe+Ae*Ae;if($e<=2)return new ze(pe,Ae);Ce=Math.sqrt($e/2)}else{let Se=!1;ke>Number.EPSILON?Je>Number.EPSILON&&(Se=!0):ke<-Number.EPSILON?Je<-Number.EPSILON&&(Se=!0):Math.sign(rt)===Math.sign(ie)&&(Se=!0),Se?(pe=-rt,Ae=ke,Ce=Math.sqrt(Z)):(pe=ke,Ae=rt,Ce=Math.sqrt(Z/2))}return new ze(pe/Ce,Ae/Ce)}const L=[];for(let re=0,fe=B.length,me=fe-1,pe=re+1;re<fe;re++,me++,pe++)me===fe&&(me=0),pe===fe&&(pe=0),L[re]=R(B[re],B[me],B[pe]);const z=[];let W,G=L.concat();for(let re=0,fe=F;re<fe;re++){const me=I[re];W=[];for(let pe=0,Ae=me.length,Ce=Ae-1,ke=pe+1;pe<Ae;pe++,Ce++,ke++)Ce===Ae&&(Ce=0),ke===Ae&&(ke=0),W[pe]=R(me[pe],me[Ce],me[ke]);z.push(W),G=G.concat(W)}let q;if(m===0)q=Aa.triangulateShape(B,I);else{const re=[],fe=[];for(let me=0;me<m;me++){const pe=me/m,Ae=g*Math.cos(pe*Math.PI/2),Ce=v*Math.sin(pe*Math.PI/2)+y;for(let ke=0,rt=B.length;ke<rt;ke++){const Je=U(B[ke],L[ke],Ce);Q(Je.x,Je.y,-Ae),pe===0&&re.push(Je)}for(let ke=0,rt=F;ke<rt;ke++){const Je=I[ke];W=z[ke];const ie=[];for(let Z=0,ve=Je.length;Z<ve;Z++){const Se=U(Je[Z],W[Z],Ce);Q(Se.x,Se.y,-Ae),pe===0&&ie.push(Se)}pe===0&&fe.push(ie)}}q=Aa.triangulateShape(re,fe)}const ne=q.length,ae=v+y;for(let re=0;re<H;re++){const fe=f?U(N[re],G[re],ae):N[re];b?(M.copy(S.normals[0]).multiplyScalar(fe.x),C.copy(S.binormals[0]).multiplyScalar(fe.y),T.copy(_[0]).add(M).add(C),Q(T.x,T.y,T.z)):Q(fe.x,fe.y,0)}for(let re=1;re<=d;re++)for(let fe=0;fe<H;fe++){const me=f?U(N[fe],G[fe],ae):N[fe];b?(M.copy(S.normals[re]).multiplyScalar(me.x),C.copy(S.binormals[re]).multiplyScalar(me.y),T.copy(_[re]).add(M).add(C),Q(T.x,T.y,T.z)):Q(me.x,me.y,u/d*re)}for(let re=m-1;re>=0;re--){const fe=re/m,me=g*Math.cos(fe*Math.PI/2),pe=v*Math.sin(fe*Math.PI/2)+y;for(let Ae=0,Ce=B.length;Ae<Ce;Ae++){const ke=U(B[Ae],L[Ae],pe);Q(ke.x,ke.y,u+me)}for(let Ae=0,Ce=I.length;Ae<Ce;Ae++){const ke=I[Ae];W=z[Ae];for(let rt=0,Je=ke.length;rt<Je;rt++){const ie=U(ke[rt],W[rt],pe);b?Q(ie.x,ie.y+_[d-1].y,_[d-1].x+me):Q(ie.x,ie.y,u+me)}}}se(),$();function se(){const re=i.length/3;if(f){let fe=0,me=H*fe;for(let pe=0;pe<ne;pe++){const Ae=q[pe];te(Ae[2]+me,Ae[1]+me,Ae[0]+me)}fe=d+m*2,me=H*fe;for(let pe=0;pe<ne;pe++){const Ae=q[pe];te(Ae[0]+me,Ae[1]+me,Ae[2]+me)}}else{for(let fe=0;fe<ne;fe++){const me=q[fe];te(me[2],me[1],me[0])}for(let fe=0;fe<ne;fe++){const me=q[fe];te(me[0]+H*d,me[1]+H*d,me[2]+H*d)}}r.addGroup(re,i.length/3-re,0)}function $(){const re=i.length/3;let fe=0;Y(B,fe),fe+=B.length;for(let me=0,pe=I.length;me<pe;me++){const Ae=I[me];Y(Ae,fe),fe+=Ae.length}r.addGroup(re,i.length/3-re,1)}function Y(re,fe){let me=re.length;for(;--me>=0;){const pe=me;let Ae=me-1;Ae<0&&(Ae=re.length-1);for(let Ce=0,ke=d+m*2;Ce<ke;Ce++){const rt=H*Ce,Je=H*(Ce+1),ie=fe+pe+rt,Z=fe+Ae+rt,ve=fe+Ae+Je,Se=fe+pe+Je;ue(ie,Z,ve,Se)}}}function Q(re,fe,me){l.push(re),l.push(fe),l.push(me)}function te(re,fe,me){J(re),J(fe),J(me);const pe=i.length/3,Ae=x.generateTopUV(r,i,pe-3,pe-2,pe-1);K(Ae[0]),K(Ae[1]),K(Ae[2])}function ue(re,fe,me,pe){J(re),J(fe),J(pe),J(fe),J(me),J(pe);const Ae=i.length/3,Ce=x.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);K(Ce[0]),K(Ce[1]),K(Ce[3]),K(Ce[1]),K(Ce[2]),K(Ce[3])}function J(re){i.push(l[re*3+0]),i.push(l[re*3+1]),i.push(l[re*3+2])}function K(re){s.push(re.x),s.push(re.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return wdt(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new bA[i.type]().fromJSON(i)),new t2(r,e.options)}}const bdt={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new ze(s,o),new ze(a,l),new ze(c,d)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],d=e[r*3+1],u=e[r*3+2],f=e[i*3],g=e[i*3+1],v=e[i*3+2],y=e[s*3],m=e[s*3+1],p=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ze(o,1-l),new ze(c,1-u),new ze(f,1-v),new ze(y,1-p)]:[new ze(a,1-l),new ze(d,1-u),new ze(g,1-v),new ze(m,1-p)]}};function wdt(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class n2 extends Bd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new n2(e.radius,e.detail)}}class r2 extends tn{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Vt(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/n,u=new le,f=new ze,g=new le,v=new le,y=new le;let m=0,p=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:m=e[x+1].x-e[x].x,p=e[x+1].y-e[x].y,g.x=p*1,g.y=-m,g.z=p*0,y.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:m=e[x+1].x-e[x].x,p=e[x+1].y-e[x].y,g.x=p*1,g.y=-m,g.z=p*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),l.push(g.x,g.y,g.z),y.copy(v)}for(let x=0;x<=n;x++){const _=r+x*d*i,b=Math.sin(_),S=Math.cos(_);for(let C=0;C<=e.length-1;C++){u.x=e[C].x*b,u.y=e[C].y,u.z=e[C].x*S,o.push(u.x,u.y,u.z),f.x=x/n,f.y=C/(e.length-1),a.push(f.x,f.y);const M=l[3*C+0]*b,T=l[3*C+1],P=l[3*C+0]*S;c.push(M,T,P)}}for(let x=0;x<n;x++)for(let _=0;_<e.length-1;_++){const b=_+x*e.length,S=b,C=b+e.length,M=b+e.length+1,T=b+1;s.push(S,C,T),s.push(M,T,C)}this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r2(e.points,e.segments,e.phiStart,e.phiLength)}}class sw extends Bd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sw(e.radius,e.detail)}}class ny extends tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,u=e/a,f=n/l,g=[],v=[],y=[],m=[];for(let p=0;p<d;p++){const x=p*f-o;for(let _=0;_<c;_++){const b=_*u-s;v.push(b,-x,0),y.push(0,0,1),m.push(_/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let x=0;x<a;x++){const _=x+c*p,b=x+c*(p+1),S=x+1+c*(p+1),C=x+1+c*p;g.push(_,b,C),g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Et(v,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ny(e.width,e.height,e.widthSegments,e.heightSegments)}}class i2 extends tn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let u=e;const f=(n-e)/i,g=new le,v=new ze;for(let y=0;y<=i;y++){for(let m=0;m<=r;m++){const p=s+m/r*o;g.x=u*Math.cos(p),g.y=u*Math.sin(p),l.push(g.x,g.y,g.z),c.push(0,0,1),v.x=(g.x/n+1)/2,v.y=(g.y/n+1)/2,d.push(v.x,v.y)}u+=f}for(let y=0;y<i;y++){const m=y*(r+1);for(let p=0;p<r;p++){const x=p+m,_=x,b=x+r+1,S=x+r+2,C=x+1;a.push(_,b,C),a.push(b,S,C)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class s2 extends tn{constructor(e=new oh([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Et(i,3)),this.setAttribute("normal",new Et(s,3)),this.setAttribute("uv",new Et(o,2));function c(d){const u=i.length/3,f=d.extractPoints(n);let g=f.shape;const v=f.holes;Aa.isClockWise(g)===!1&&(g=g.reverse());for(let m=0,p=v.length;m<p;m++){const x=v[m];Aa.isClockWise(x)===!0&&(v[m]=x.reverse())}const y=Aa.triangulateShape(g,v);for(let m=0,p=v.length;m<p;m++){const x=v[m];g=g.concat(x)}for(let m=0,p=g.length;m<p;m++){const x=g[m];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let m=0,p=y.length;m<p;m++){const x=y[m],_=x[0]+u,b=x[1]+u,S=x[2]+u;r.push(_,b,S),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Sdt(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new s2(r,e.curveSegments)}}function Sdt(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class ow extends tn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],u=new le,f=new le,g=[],v=[],y=[],m=[];for(let p=0;p<=r;p++){const x=[],_=p/r;let b=0;p===0&&o===0?b=.5/n:p===r&&l===Math.PI&&(b=-.5/n);for(let S=0;S<=n;S++){const C=S/n;u.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),u.y=e*Math.cos(o+_*a),u.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(u.x,u.y,u.z),f.copy(u).normalize(),y.push(f.x,f.y,f.z),m.push(C+b,1-_),x.push(c++)}d.push(x)}for(let p=0;p<r;p++)for(let x=0;x<n;x++){const _=d[p][x+1],b=d[p][x],S=d[p+1][x],C=d[p+1][x+1];(p!==0||o>0)&&g.push(_,b,C),(p!==r-1||l<Math.PI)&&g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Et(v,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ow(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class o2 extends Bd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new o2(e.radius,e.detail)}}class a2 extends tn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new le,u=new le,f=new le;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const y=v/i*s,m=g/r*Math.PI*2;u.x=(e+n*Math.cos(m))*Math.cos(y),u.y=(e+n*Math.cos(m))*Math.sin(y),u.z=n*Math.sin(m),a.push(u.x,u.y,u.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),f.subVectors(u,d).normalize(),l.push(f.x,f.y,f.z),c.push(v/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const y=(i+1)*g+v-1,m=(i+1)*(g-1)+v-1,p=(i+1)*(g-1)+v,x=(i+1)*g+v;o.push(y,m,x),o.push(m,p,x)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class l2 extends tn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],u=new le,f=new le,g=new le,v=new le,y=new le,m=new le,p=new le;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;x(b,s,o,e,g),x(b+.01,s,o,e,v),m.subVectors(v,g),p.addVectors(v,g),y.crossVectors(m,p),p.crossVectors(y,m),y.normalize(),p.normalize();for(let S=0;S<=i;++S){const C=S/i*Math.PI*2,M=-n*Math.cos(C),T=n*Math.sin(C);u.x=g.x+(M*p.x+T*y.x),u.y=g.y+(M*p.y+T*y.y),u.z=g.z+(M*p.z+T*y.z),l.push(u.x,u.y,u.z),f.subVectors(u,g).normalize(),c.push(f.x,f.y,f.z),d.push(_/r),d.push(S/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),M=(i+1)*_+b,T=(i+1)*(_-1)+b;a.push(S,C,T),a.push(C,M,T)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2));function x(_,b,S,C,M){const T=Math.cos(_),P=Math.sin(_),N=S/b*_,I=Math.cos(N);M.x=C*(2+I)*.5*T,M.y=C*(2+I)*P*.5,M.z=C*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class c2 extends tn{constructor(e=new m5(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new le,l=new le,c=new ze;let d=new le;const u=[],f=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(g,2));function y(){for(let _=0;_<n;_++)m(_);m(s===!1?n:0),x(),p()}function m(_){d=e.getPointAt(_/n,d);const b=o.normals[_],S=o.binormals[_];for(let C=0;C<=i;C++){const M=C/i*Math.PI*2,T=Math.sin(M),P=-Math.cos(M);l.x=P*b.x+T*S.x,l.y=P*b.y+T*S.y,l.z=P*b.z+T*S.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,u.push(a.x,a.y,a.z)}}function p(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),M=(i+1)*_+b,T=(i+1)*(_-1)+b;v.push(S,C,T),v.push(C,M,T)}}function x(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)c.x=_/n,c.y=b/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new c2(new bA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Afe extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const u=l[c],f=u.start,g=u.count;for(let v=f,y=f+g;v<y;v+=3)for(let m=0;m<3;m++){const p=a.getX(v+m),x=a.getX(v+(m+1)%3);i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,x),X7(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,u=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,u),X7(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function X7(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var q7=Object.freeze({__proto__:null,BoxGeometry:Qh,CapsuleGeometry:ZP,CircleGeometry:QP,ConeGeometry:iw,CylinderGeometry:rw,DodecahedronGeometry:JP,EdgesGeometry:vfe,ExtrudeGeometry:t2,IcosahedronGeometry:n2,LatheGeometry:r2,OctahedronGeometry:sw,PlaneGeometry:ny,PolyhedronGeometry:Bd,RingGeometry:i2,ShapeGeometry:s2,SphereGeometry:ow,TetrahedronGeometry:o2,TorusGeometry:a2,TorusKnotGeometry:l2,TubeGeometry:c2,WireframeGeometry:Afe});class Tfe extends Vi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Pfe extends Ko{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class v5 extends Vi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Nfe extends v5{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Rfe extends Vi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pt(16777215),this.specular=new pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ofe extends Vi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ife extends Vi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kfe extends Vi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=Jb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y5 extends Vi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Vde,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class x5 extends Vi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Dfe extends Vi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lfe extends ls{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Uf(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function jfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ffe(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function rj(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function _5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function Edt(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),u=[],f=[];for(let g=0;g<c.times.length;++g){const v=c.times[g]*i;if(!(v<n||v>=r)){u.push(c.times[g]);for(let y=0;y<d;++y)f.push(c.values[g*d+y])}}u.length!==0&&(c.times=Uf(u,c.times.constructor),c.values=Uf(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Cdt(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let f=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const p=d,x=u-d;y=a.values.slice(p,x)}else if(s>=a.times[v]){const p=v*u+d,x=p+u-d;y=a.values.slice(p,x)}else{const p=a.createInterpolant(),x=d,_=u-d;p.evaluate(s),y=p.resultBuffer.slice(x,_)}l==="quaternion"&&new zi().fromArray(y).normalize().conjugate().toArray(y);const m=c.times.length;for(let p=0;p<m;++p){const x=p*g+f;if(l==="quaternion")zi.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const _=g-f*2;for(let b=0;b<_;++b)c.values[x+b]-=y[b]}}}return t.blendMode=QB,t}class Mdt{static convertArray(e,n){return Uf(e,n)}static isTypedArray(e){return jfe(e)}static getKeyframeOrder(e){return Ffe(e)}static sortedArray(e,n,r){return rj(e,n,r)}static flattenJSON(e,n,r,i){_5(e,n,r,i)}static subclip(e,n,r,i,s=30){return Edt(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return Cdt(e,n,r,i)}}class aw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Bfe extends aw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ff,endingEnd:Ff}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Bf:s=e,a=2*n-r;break;case j_:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Bf:o=e,l=2*r-n;break;case j_:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,g=this._weightNext,v=(r-n)/(i-n),y=v*v,m=y*v,p=-f*m+2*f*y-f*v,x=(1+f)*m+(-1.5-2*f)*y+(-.5+f)*v+1,_=(-1-g)*m+(1.5+g)*y+.5*v,b=g*m-g*y;for(let S=0;S!==a;++S)s[S]=p*o[d+S]+x*o[c+S]+_*o[l+S]+b*o[u+S];return s}}class b5 extends aw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-n)/(i-n),u=1-d;for(let f=0;f!==a;++f)s[f]=o[c+f]*u+o[l+f]*d;return s}}class Ufe extends aw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ea{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uf(n,this.TimeBufferType),this.values=Uf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Uf(e.times,Array),values:Uf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Ufe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new b5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Bfe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case L_:n=this.InterpolantFactoryMethodDiscrete;break;case yA:n=this.InterpolantFactoryMethodLinear;break;case EE:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return L_;case this.InterpolantFactoryMethodLinear:return yA;case this.InterpolantFactoryMethodSmooth:return EE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&jfe(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===EE,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const u=a*r,f=u-r,g=u+r;for(let v=0;v!==r;++v){const y=n[u+v];if(y!==n[f+v]||y!==n[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*r,f=o*r;for(let g=0;g!==r;++g)n[f+g]=n[u+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ea.prototype.ValueTypeName="";ea.prototype.TimeBufferType=Float32Array;ea.prototype.ValueBufferType=Float32Array;ea.prototype.DefaultInterpolation=yA;class Jh extends ea{constructor(e,n,r){super(e,n,r)}}Jh.prototype.ValueTypeName="bool";Jh.prototype.ValueBufferType=Array;Jh.prototype.DefaultInterpolation=L_;Jh.prototype.InterpolantFactoryMethodLinear=void 0;Jh.prototype.InterpolantFactoryMethodSmooth=void 0;class w5 extends ea{constructor(e,n,r,i){super(e,n,r,i)}}w5.prototype.ValueTypeName="color";class W_ extends ea{constructor(e,n,r,i){super(e,n,r,i)}}W_.prototype.ValueTypeName="number";class zfe extends aw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let d=c+a;c!==d;c+=4)zi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class lw extends ea{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new zfe(this.times,this.values,this.getValueSize(),e)}}lw.prototype.ValueTypeName="quaternion";lw.prototype.InterpolantFactoryMethodSmooth=void 0;class ep extends ea{constructor(e,n,r){super(e,n,r)}}ep.prototype.ValueTypeName="string";ep.prototype.ValueBufferType=Array;ep.prototype.DefaultInterpolation=L_;ep.prototype.InterpolantFactoryMethodLinear=void 0;ep.prototype.InterpolantFactoryMethodSmooth=void 0;class G_ extends ea{constructor(e,n,r,i){super(e,n,r,i)}}G_.prototype.ValueTypeName="vector";class X_{constructor(e="",n=-1,r=[],i=$P){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ao(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(Tdt(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(ea.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=Ffe(l);l=rj(l,1,d),c=rj(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new W_(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const u=d[1];let f=i[u];f||(i[u]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,f,g,v,y){if(g.length!==0){const m=[],p=[];_5(g,m,p,v),m.length!==0&&y.push(new u(f,m,p))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const g={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let y=0;y<f[v].morphTargets.length;y++)g[f[v].morphTargets[y]]=-1;for(const y in g){const m=[],p=[];for(let x=0;x!==f[v].morphTargets.length;++x){const _=f[v];m.push(_.time),p.push(_.morphTarget===y?1:0)}i.push(new W_(".morphTargetInfluence["+y+"]",m,p))}l=g.length*o}else{const g=".bones["+n[u].name+"]";r(G_,g+".position",f,"pos",i),r(lw,g+".quaternion",f,"rot",i),r(G_,g+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Adt(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return W_;case"vector":case"vector2":case"vector3":case"vector4":return G_;case"color":return w5;case"quaternion":return lw;case"bool":case"boolean":return Jh;case"string":return ep}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Tdt(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Adt(t.type);if(t.times===void 0){const n=[],r=[];_5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const vl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class S5{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.abortController=new AbortController,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,f=c.length;u<f;u+=2){const g=c[u],v=c[u+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const $fe=new S5;class js{constructor(e){this.manager=e!==void 0?e:$fe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}js.DEFAULT_MATERIAL_NAME="__DEFAULT";const cc={};class Pdt extends Error{constructor(e,n){super(e),this.response=n}}class Wc extends js{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=vl.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(cc[e]!==void 0){cc[e].push({onLoad:n,onProgress:r,onError:i});return}cc[e]=[],cc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=cc[e],u=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=f?parseInt(f):0,v=g!==0;let y=0;const m=new ReadableStream({start(p){x();function x(){u.read().then(({done:_,value:b})=>{if(_)p.close();else{y+=b.byteLength;const S=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let C=0,M=d.length;C<M;C++){const T=d[C];T.onProgress&&T.onProgress(S)}p.enqueue(b),x()}},_=>{p.error(_)})}}});return new Response(m)}else throw new Pdt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,g=new TextDecoder(f);return c.arrayBuffer().then(v=>g.decode(v))}}}).then(c=>{vl.add(`file:${e}`,c);const d=cc[e];delete cc[e];for(let u=0,f=d.length;u<f;u++){const g=d[u];g.onLoad&&g.onLoad(c)}}).catch(c=>{const d=cc[e];if(d===void 0)throw this.manager.itemError(e),c;delete cc[e];for(let u=0,f=d.length;u<f;u++){const g=d[u];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Ndt extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=X_.parse(e[r]);n.push(i)}return n}}class Rdt extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new YP,l=new Wc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(u){l.load(e[u],function(f){const g=s.parse(f,!0);o[u]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=ni),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let u=0,f=e.length;u<f;++u)d(u);else l.load(e,function(u){const f=s.parse(u,!0);if(f.isCubemap){const g=f.mipmaps.length/f.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+y]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=ni),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const Zp=new WeakMap;class q_ extends js{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let u=Zp.get(o);u===void 0&&(u=[],Zp.set(o,u)),u.push({onLoad:n,onError:i})}return o}const a=U_("img");function l(){d(),n&&n(this);const u=Zp.get(this)||[];for(let f=0;f<u.length;f++){const g=u[f];g.onLoad&&g.onLoad(this)}Zp.delete(this),s.manager.itemEnd(e)}function c(u){d(),i&&i(u),vl.remove(`image:${e}`);const f=Zp.get(this)||[];for(let g=0;g<f.length;g++){const v=f[g];v.onError&&v.onError(u)}Zp.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),vl.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Odt extends js{constructor(e){super(e)}load(e,n,r,i){const s=new nw;s.colorSpace=_s;const o=new q_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class Idt extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Tl,a=new Wc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Uo,o.wrapT=c.wrapT!==void 0?c.wrapT:Uo,o.magFilter=c.magFilter!==void 0?c.magFilter:ni,o.minFilter=c.minFilter!==void 0?c.minFilter:ni,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=gl),c.mipmapCount===1&&(o.minFilter=ni),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class kdt extends js{constructor(e){super(e)}load(e,n,r,i){const s=new Ar,o=new q_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Ud extends wn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new pt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Hfe extends Ud{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const HO=new Gt,K7=new le,Y7=new le;class E5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=qo,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ty,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;K7.setFromMatrixPosition(e.matrixWorld),n.position.copy(K7),Y7.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Y7),n.updateMatrixWorld(),HO.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(HO,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(HO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ddt extends E5{constructor(){super(new gr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=gv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Vfe extends Ud{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Ddt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Z7=new Gt,f0=new le,VO=new le;class Ldt extends E5{constructor(){super(new gr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),f0.setFromMatrixPosition(e.matrixWorld),r.position.copy(f0),VO.copy(r.position),VO.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(VO),r.updateMatrixWorld(),i.makeTranslation(-f0.x,-f0.y,-f0.z),Z7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Z7,r.coordinateSystem,r.reversedDepth)}}class Wfe extends Ud{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ldt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Pl extends tw{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class jdt extends E5{constructor(){super(new Pl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Gfe extends Ud{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new jdt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Xfe extends Ud{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class qfe extends Ud{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Kfe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Yfe extends Ud{constructor(e=new Kfe,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class u2 extends js{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Wc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new pt().setHex(o.value);break;case"v2":i.uniforms[s].value=new ze().fromArray(o.value);break;case"v3":i.uniforms[s].value=new le().fromArray(o.value);break;case"v4":i.uniforms[s].value=new _n().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Jt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Gt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ze().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return u2.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Tfe,SpriteMaterial:o5,RawShaderMaterial:Pfe,ShaderMaterial:Ko,PointsMaterial:l5,MeshPhysicalMaterial:Nfe,MeshStandardMaterial:v5,MeshPhongMaterial:Rfe,MeshToonMaterial:Ofe,MeshNormalMaterial:Ife,MeshLambertMaterial:kfe,MeshDepthMaterial:y5,MeshDistanceMaterial:x5,MeshBasicMaterial:Fd,MeshMatcapMaterial:Dfe,LineDashedMaterial:Lfe,LineBasicMaterial:ls,Material:Vi};return new n[e]}}class ij{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Zfe extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Qfe extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,v){if(n[v]!==void 0)return n[v];const m=g.interleavedBuffers[v],p=s(g,m.buffer),x=Nm(m.type,p),_=new XP(x,m.stride);return _.uuid=m.uuid,n[v]=_,_}function s(g,v){if(r[v]!==void 0)return r[v];const m=g.arrayBuffers[v],p=new Uint32Array(m).buffer;return r[v]=p,p}const o=e.isInstancedBufferGeometry?new Zfe:new tn,a=e.data.index;if(a!==void 0){const g=Nm(a.type,a.array);o.setIndex(new Hn(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let y;if(v.isInterleavedBufferAttribute){const m=i(e.data,v.data);y=new kh(m,v.itemSize,v.offset,v.normalized)}else{const m=Nm(v.type,v.array),p=v.isInstancedBufferAttribute?yv:Hn;y=new p(m,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),o.setAttribute(g,y)}const c=e.data.morphAttributes;if(c)for(const g in c){const v=c[g],y=[];for(let m=0,p=v.length;m<p;m++){const x=v[m];let _;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);_=new kh(b,x.itemSize,x.offset,x.normalized)}else{const b=Nm(x.type,x.array);_=new Hn(b,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),y.push(_)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let g=0,v=u.length;g!==v;++g){const y=u[g];o.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(o.boundingSphere=new wi().fromJSON(f)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Fdt extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?ij.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Wc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?ij.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Wc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let u=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){u=!0;break}u===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new oh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new qP().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Qfe;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in q7?a=q7[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new u2;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=X_.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:Nm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new S5(n);s=new q_(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const u=e[c],f=u.url;if(Array.isArray(f)){const g=[];for(let v=0,y=f.length;v<y;v++){const m=f[v],p=a(m);p!==null&&(p instanceof HTMLImageElement?g.push(p):g.push(new Tl(p.data,p.width,p.height)))}i[u.uuid]=new ed(g)}else{const g=a(u.url);i[u.uuid]=new ed(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Nm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new q_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let u=0,f=c.length;u<f;u++){const g=c[u],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Tl(v.data,v.width,v.height)))}r[l.uuid]=new ed(d)}else{const d=await s(l.url);r[l.uuid]=new ed(d)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new nw,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Tl:d=new Ar,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,Bdt)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],Q7),d.wrapT=r(a.wrap[1],Q7)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,J7)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,J7)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const g=[];for(let v=0,y=f.length;v<y;v++){const m=f[v];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),g.push(r[m])}return g}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let d,u;switch(e.type){case"Scene":o=new s5,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new pt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new GP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new WP(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new gr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Pl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Xfe(e.color,e.intensity);break;case"DirectionalLight":o=new Gfe(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Wfe(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qfe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Vfe(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Hfe(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Yfe().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),u=l(e.material),o=new dfe(d,u),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),u=l(e.material),o=new $r(d,u);break;case"InstancedMesh":d=a(e.geometry),u=l(e.material);const f=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new ffe(d,u,f),o.instanceMatrix=new yv(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new yv(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),u=l(e.material),o=new hfe(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,u),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let m=null,p=null;return y.boundingBox!==void 0&&(m=new $i().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(p=new wi().fromJSON(y.boundingSphere)),{...y,boundingBox:m,boundingSphere:p}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new wi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new $i().fromJSON(e.boundingBox));break;case"LOD":o=new ufe;break;case"Line":o=new bd(a(e.geometry),l(e.material));break;case"LineLoop":o=new pfe(a(e.geometry),l(e.material));break;case"LineSegments":o=new Xl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new mfe(a(e.geometry),l(e.material));break;case"Sprite":o=new cfe(l(e.material));break;case"Group":o=new Rm;break;case"Bone":o=new a5;break;default:o=new wn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let g=0;g<f.length;g++)o.add(this.parseObject(f[g],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let g=0;g<f.length;g++){const v=f[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let g=0;g<f.length;g++){const v=f[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new wn}})}}const Bdt={UVMapping:DP,CubeReflectionMapping:Hc,CubeRefractionMapping:_d,EquirectangularReflectionMapping:O_,EquirectangularRefractionMapping:I_,CubeUVReflectionMapping:Jv},Q7={RepeatWrapping:k_,ClampToEdgeWrapping:Uo,MirroredRepeatWrapping:D_},J7={NearestFilter:bi,NearestMipmapNearestFilter:VB,NearestMipmapLinearFilter:Pm,LinearFilter:ni,LinearMipmapNearestFilter:tx,LinearMipmapLinearFilter:gl},WO=new WeakMap;class Udt extends js{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vl.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(WO.has(o)===!0)i&&i(WO.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return vl.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),WO.set(l,c),vl.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});vl.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let LS;class C5{static getContext(){return LS===void 0&&(LS=new(window.AudioContext||window.webkitAudioContext)),LS}static setContext(e){LS=e}}class zdt extends js{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);C5.getContext().decodeAudioData(c,function(u){n(u)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const e9=new Gt,t9=new Gt,lf=new Gt;class $dt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new gr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new gr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,lf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(ih*n.fov*.5)/n.zoom;let a,l;t9.elements[12]=-i,e9.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,lf.elements[0]=2*n.near/(l-a),lf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(lf),a=-o*n.aspect-s,l=o*n.aspect-s,lf.elements[0]=2*n.near/(l-a),lf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(lf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(t9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(e9)}}class Jfe extends gr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class M5{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const cf=new le,GO=new zi,Hdt=new le,uf=new le,df=new le;class Vdt extends wn{constructor(){super(),this.type="AudioListener",this.context=C5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new M5}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(cf,GO,Hdt),uf.set(0,0,-1).applyQuaternion(GO),df.set(0,1,0).applyQuaternion(GO),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(cf.x,r),n.positionY.linearRampToValueAtTime(cf.y,r),n.positionZ.linearRampToValueAtTime(cf.z,r),n.forwardX.linearRampToValueAtTime(uf.x,r),n.forwardY.linearRampToValueAtTime(uf.y,r),n.forwardZ.linearRampToValueAtTime(uf.z,r),n.upX.linearRampToValueAtTime(df.x,r),n.upY.linearRampToValueAtTime(df.y,r),n.upZ.linearRampToValueAtTime(df.z,r)}else n.setPosition(cf.x,cf.y,cf.z),n.setOrientation(uf.x,uf.y,uf.z,df.x,df.y,df.z)}}class ehe extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ff=new le,n9=new zi,Wdt=new le,hf=new le;class Gdt extends ehe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ff,n9,Wdt),hf.set(0,0,1).applyQuaternion(n9);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(ff.x,r),n.positionY.linearRampToValueAtTime(ff.y,r),n.positionZ.linearRampToValueAtTime(ff.z,r),n.orientationX.linearRampToValueAtTime(hf.x,r),n.orientationY.linearRampToValueAtTime(hf.y,r),n.orientationZ.linearRampToValueAtTime(hf.z,r)}else n.setPosition(ff.x,ff.y,ff.z),n.setOrientation(hf.x,hf.y,hf.z)}}class Xdt{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class the{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){zi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;zi.multiplyQuaternionsFlat(e,o,e,n,e,r),zi.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const A5="\\[\\]\\.:\\/",qdt=new RegExp("["+A5+"]","g"),T5="[^"+A5+"]",Kdt="[^"+A5.replace("\\.","")+"]",Ydt=/((?:WC+[\/:])*)/.source.replace("WC",T5),Zdt=/(WCOD+)?/.source.replace("WCOD",Kdt),Qdt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",T5),Jdt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",T5),eft=new RegExp("^"+Ydt+Zdt+Qdt+Jdt+"$"),tft=["material","materials","bones","map"];class nft{constructor(e,n,r){const i=r||xn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class xn{constructor(e,n,r){this.path=n,this.parsedPath=r||xn.parseTrackName(n),this.node=xn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new xn.Composite(e,n,r):new xn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qdt,"")}static parseTrackName(e){const n=eft.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);tft.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=xn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}xn.Composite=nft;xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};xn.prototype.GetterByBindingType=[xn.prototype._getValue_direct,xn.prototype._getValue_array,xn.prototype._getValue_arrayElement,xn.prototype._getValue_toArray];xn.prototype.SetterByBindingTypeAndVersioning=[[xn.prototype._setValue_direct,xn.prototype._setValue_direct_setNeedsUpdate,xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_array,xn.prototype._setValue_array_setNeedsUpdate,xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_arrayElement,xn.prototype._setValue_arrayElement_setNeedsUpdate,xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_fromArray,xn.prototype._setValue_fromArray_setNeedsUpdate,xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class rft{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ao(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,u=arguments.length;d!==u;++d){const f=arguments[d],g=f.uuid;let v=n[g];if(v===void 0){v=l++,n[g]=v,e.push(f);for(let y=0,m=o;y!==m;++y)s[y].push(new xn(f,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,m=e[y];n[m.uuid]=v,e[v]=m,n[g]=y,e[y]=f;for(let p=0,x=o;p!==x;++p){const _=s[p],b=_[y];let S=_[v];_[v]=b,S===void 0&&(S=new xn(f,r[p],i[p])),_[y]=S}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const u=s++,f=e[u];n[f.uuid]=d,e[d]=f,n[c]=u,e[u]=l;for(let g=0,v=i;g!==v;++g){const y=r[g],m=y[u],p=y[d];y[d]=m,y[u]=p}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,u=n[d];if(u!==void 0)if(delete n[d],u<s){const f=--s,g=e[f],v=--o,y=e[v];n[g.uuid]=u,e[u]=g,n[y.uuid]=f,e[f]=y,e.pop();for(let m=0,p=i;m!==p;++m){const x=r[m],_=x[f],b=x[v];x[u]=_,x[f]=b,x.pop()}}else{const f=--o,g=e[f];f>0&&(n[g.uuid]=u),e[u]=g,e.pop();for(let v=0,y=i;v!==y;++v){const m=r[v];m[u]=m[f],m.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,u=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(u);for(let f=d,g=l.length;f!==g;++f){const v=l[f];u[f]=new xn(v,e,n)}return u}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class nhe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Ff,endingEnd:Ff};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$de,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case QB:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case $P:default:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Hde;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===zde){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Bf,i.endingEnd=Bf):(e?i.endingStart=this.zeroSlopeAtStart?Bf:Ff:i.endingStart=j_,n?i.endingEnd=this.zeroSlopeAtEnd?Bf:Ff:i.endingEnd=j_)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const ift=new Float32Array(1);class sft extends Gl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let u=0;u!==s;++u){const f=i[u],g=f.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[u]=v;else{if(v=o[u],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const y=n&&n._propertyBindings[u].binding.parsedPath;v=new the(xn.create(r,g,y),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[u]=v}a[u].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new b5(new Float32Array(2),new Float32Array(2),1,ift),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?X_.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=$P),l!==void 0){const u=l.actionByRoot[s];if(u!==void 0&&u.blendMode===r)return u;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new nhe(this,o,n,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?X_.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,n[d]=u,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class oft extends t5{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new VP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class P5{constructor(e){this.value=e}clone(){return new P5(this.value.clone===void 0?this.value:this.value.clone())}}let aft=0;class lft extends Gl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:aft++}),this.name="",this.usage=B_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class cft extends XP{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class uft{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const r9=new Gt;class rhe{constructor(e,n,r=0,i=1/0){this.ray=new Zh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new sh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return r9.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(r9),this}intersectObject(e,n=!0,r=[]){return sj(e,this,r,n),r.sort(i9),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)sj(e[i],this,r,n);return r.sort(i9),r}}function i9(t,e){return t.distance-e.distance}function sj(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)sj(s[o],e,n,!0)}}class dft{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=fft.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function fft(){this._document.hidden===!1&&this.reset()}class oj{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Vt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Vt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hft{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class N5{constructor(e,n,r,i){N5.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const s9=new ze;class pft{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=s9.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,s9).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const o9=new le,jS=new le,Qp=new le,Jp=new le,XO=new le,mft=new le,gft=new le;class vft{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){o9.subVectors(e,this.start),jS.subVectors(this.end,this.start);const r=jS.dot(jS);let s=jS.dot(o9)/r;return n&&(s=Vt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=mft,r=gft){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,c=this.end,d=e.end;Qp.subVectors(c,a),Jp.subVectors(d,l),XO.subVectors(a,l);const u=Qp.dot(Qp),f=Jp.dot(Jp),g=Jp.dot(XO);if(u<=i&&f<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(u<=i)s=0,o=g/f,o=Vt(o,0,1);else{const v=Qp.dot(XO);if(f<=i)o=0,s=Vt(-v/u,0,1);else{const y=Qp.dot(Jp),m=u*f-y*y;m!==0?s=Vt((y*g-v*f)/m,0,1):s=0,o=(y*s+g)/f,o<0?(o=0,s=Vt(-v/u,0,1)):o>1&&(o=1,s=Vt((y-v)/u,0,1))}}return n.copy(a).add(Qp.multiplyScalar(s)),r.copy(l).add(Jp.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const a9=new le;class yft extends wn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Et(i,3));const s=new ls({fog:!1,toneMapped:!1});this.cone=new Xl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),a9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(a9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Au=new le,FS=new Gt,qO=new Gt;class xft extends Xl{constructor(e){const n=ihe(e),r=new tn,i=[],s=[];for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Et(i,3)),r.setAttribute("color",new Et(s,3));const o=new ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new pt(255),l=new pt(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");qO.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(FS.multiplyMatrices(qO,a.matrixWorld),Au.setFromMatrixPosition(FS),i.setXYZ(o,Au.x,Au.y,Au.z),FS.multiplyMatrices(qO,a.parent.matrixWorld),Au.setFromMatrixPosition(FS),i.setXYZ(o+1,Au.x,Au.y,Au.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function ihe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...ihe(t.children[n]));return e}class _ft extends $r{constructor(e,n,r){const i=new ow(n,4,2),s=new Fd({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bft=new le,l9=new pt,c9=new pt;class wft extends wn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new sw(n);i.rotateY(Math.PI*.5),this.material=new Fd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Hn(o,3)),this.add(new $r(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");l9.copy(this.light.color),c9.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?l9:c9;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bft.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Sft extends Xl{constructor(e=10,n=10,r=4473924,i=8947848){r=new pt(r),i=new pt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,g=0,v=-a;f<=n;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=f===s?r:i;y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3}const d=new tn;d.setAttribute("position",new Et(l,3)),d.setAttribute("color",new Et(c,3));const u=new ls({vertexColors:!0,toneMapped:!1});super(d,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Eft extends Xl{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new pt(s),o=new pt(o);const a=[],l=[];if(n>1)for(let u=0;u<n;u++){const f=u/n*(Math.PI*2),g=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(g,0,v);const y=u&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let u=0;u<r;u++){const f=u&1?s:o,g=e-e/r*u;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),m=Math.sin(y)*g,p=Math.cos(y)*g;a.push(m,0,p),l.push(f.r,f.g,f.b),y=(v+1)/i*(Math.PI*2),m=Math.sin(y)*g,p=Math.cos(y)*g,a.push(m,0,p),l.push(f.r,f.g,f.b)}}const c=new tn;c.setAttribute("position",new Et(a,3)),c.setAttribute("color",new Et(l,3));const d=new ls({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const u9=new le,BS=new le,d9=new le;class Cft extends wn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new tn;i.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ls({fog:!1,toneMapped:!1});this.lightPlane=new bd(i,s),this.add(this.lightPlane),i=new tn,i.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new bd(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),u9.setFromMatrixPosition(this.light.matrixWorld),BS.setFromMatrixPosition(this.light.target.matrixWorld),d9.subVectors(BS,u9),this.lightPlane.lookAt(BS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(BS),this.targetLine.scale.z=d9.length()}}const US=new le,Sr=new tw;class Mft extends Xl{constructor(e){const n=new tn,r=new ls({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new Et(i,3)),n.setAttribute("color",new Et(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new pt(16755200),d=new pt(16711680),u=new pt(43775),f=new pt(16777215),g=new pt(3355443);this.setColors(c,d,u,f,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(Sr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===no)s=-1,o=1;else if(this.camera.coordinateSystem===mv)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Pr("c",n,e,Sr,0,0,s),Pr("t",n,e,Sr,0,0,o),Pr("n1",n,e,Sr,-r,-i,s),Pr("n2",n,e,Sr,r,-i,s),Pr("n3",n,e,Sr,-r,i,s),Pr("n4",n,e,Sr,r,i,s),Pr("f1",n,e,Sr,-r,-i,o),Pr("f2",n,e,Sr,r,-i,o),Pr("f3",n,e,Sr,-r,i,o),Pr("f4",n,e,Sr,r,i,o),Pr("u1",n,e,Sr,r*.7,i*1.1,s),Pr("u2",n,e,Sr,-r*.7,i*1.1,s),Pr("u3",n,e,Sr,0,i*2,s),Pr("cf1",n,e,Sr,-r,0,o),Pr("cf2",n,e,Sr,r,0,o),Pr("cf3",n,e,Sr,0,-i,o),Pr("cf4",n,e,Sr,0,i,o),Pr("cn1",n,e,Sr,-r,0,s),Pr("cn2",n,e,Sr,r,0,s),Pr("cn3",n,e,Sr,0,-i,s),Pr("cn4",n,e,Sr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pr(t,e,n,r,i,s,o){US.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],US.x,US.y,US.z)}}const zS=new $i;class Aft extends Xl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new tn;s.setIndex(new Hn(r,1)),s.setAttribute("position",new Hn(i,3)),super(s,new ls({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&zS.setFromObject(this.object),zS.isEmpty())return;const e=zS.min,n=zS.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tft extends Xl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new tn;s.setIndex(new Hn(r,1)),s.setAttribute("position",new Et(i,3)),super(s,new ls({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Pft extends bd{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new tn;o.setAttribute("position",new Et(s,3)),o.computeBoundingSphere(),super(o,new ls({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new tn;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new $r(l,new Fd({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const f9=new le;let $S,KO;class Nft extends wn{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",$S===void 0&&($S=new tn,$S.setAttribute("position",new Et([0,0,0,0,1,0],3)),KO=new iw(.5,1,5,1),KO.translate(0,-.5,0)),this.position.copy(n),this.line=new bd($S,new ls({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $r(KO,new Fd({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{f9.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(f9,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Rft extends Xl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new tn;i.setAttribute("position",new Et(n,3)),i.setAttribute("color",new Et(r,3));const s=new ls({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new pt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oft{constructor(){this.type="ShapePath",this.color=new pt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new wA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(p){const x=[];for(let _=0,b=p.length;_<b;_++){const S=p[_],C=new oh;C.curves=S.curves,x.push(C)}return x}function r(p,x){const _=x.length;let b=!1;for(let S=_-1,C=0;C<_;S=C++){let M=x[S],T=x[C],P=T.x-M.x,N=T.y-M.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(M=x[C],P=-P,T=x[S],N=-N),p.y<M.y||p.y>T.y)continue;if(p.y===M.y){if(p.x===M.x)return!0}else{const I=N*(p.x-M.x)-P*(p.y-M.y);if(I===0)return!0;if(I<0)continue;b=!b}}else{if(p.y!==M.y)continue;if(T.x<=p.x&&p.x<=M.x||M.x<=p.x&&p.x<=T.x)return!0}}return b}const i=Aa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new oh,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const u=[],f=[];let g=[],v=0,y;f[v]=void 0,g[v]=[];for(let p=0,x=s.length;p<x;p++)a=s[p],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!d&&f[v]&&v++,f[v]={s:new oh,p:y},f[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!f[0])return n(s);if(f.length>1){let p=!1,x=0;for(let _=0,b=f.length;_<b;_++)u[_]=[];for(let _=0,b=f.length;_<b;_++){const S=g[_];for(let C=0;C<S.length;C++){const M=S[C];let T=!0;for(let P=0;P<f.length;P++)r(M.p,f[P].p)&&(_!==P&&x++,T?(T=!1,u[P].push(M)):p=!0);T&&u[_].push(M)}}x>0&&p===!1&&(g=u)}let m;for(let p=0,x=f.length;p<x;p++){l=f[p].s,c.push(l),m=g[p];for(let _=0,b=m.length;_<b;_++)l.holes.push(m[_].h)}return c}}class Ift extends Gl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function kft(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Dft(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Lft(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function aj(t,e,n,r){const i=jft(r);switch(n){case KB:return t*e;case BP:return t*e/i.components*i.byteLength;case ew:return t*e/i.components*i.byteLength;case ZB:return t*e*2/i.components*i.byteLength;case UP:return t*e*2/i.components*i.byteLength;case YB:return t*e*3/i.components*i.byteLength;case Bi:return t*e*4/i.components*i.byteLength;case zP:return t*e*4/i.components*i.byteLength;case nx:case rx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ix:case sx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case WM:case XM:return Math.max(t,16)*Math.max(e,8)/4;case VM:case GM:return Math.max(t,8)*Math.max(e,8)/2;case qM:case KM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case YM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ZM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case QM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case JM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case eA:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case tA:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case nA:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case rA:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case iA:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case sA:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case oA:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case aA:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case lA:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case cA:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case uA:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case dA:case fA:case hA:return Math.ceil(t/4)*Math.ceil(e/4)*16;case pA:case mA:return Math.ceil(t/4)*Math.ceil(e/4)*8;case gA:case vA:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function jft(t){switch(t){case qo:case WB:return{byteLength:1,components:1};case dv:case GB:case ey:return{byteLength:2,components:1};case jP:case FP:return{byteLength:2,components:4};case Vc:case LP:case As:return{byteLength:4,components:1};case XB:case qB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Fft{static contain(e,n){return kft(e,n)}static cover(e,n){return Dft(e,n)}static fill(e){return Lft(e)}static getByteLength(e,n,r,i){return aj(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function she(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Bft(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,u=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,d),a.onUploadCallback();let g;if(c instanceof Float32Array)g=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)g=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=t.SHORT;else if(c instanceof Uint32Array)g=t.UNSIGNED_INT;else if(c instanceof Int32Array)g=t.INT;else if(c instanceof Int8Array)g=t.BYTE;else if(c instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:u}}function r(a,l,c){const d=l.array,u=l.updateRanges;if(t.bindBuffer(c,a),u.length===0)t.bufferSubData(c,0,d);else{u.sort((g,v)=>g.start-v.start);let f=0;for(let g=1;g<u.length;g++){const v=u[f],y=u[g];y.start<=v.start+v.count+1?v.count=Math.max(v.count,y.start+y.count-v.start):(++f,u[f]=y)}u.length=f+1;for(let g=0,v=u.length;g<v;g++){const y=u[g];t.bufferSubData(c,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var Uft=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,zft=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$ft=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Hft=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vft=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Wft=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Gft=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Xft=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qft=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Kft=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Yft=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Zft=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Qft=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Jft=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,eht=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tht=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iht=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sht=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,oht=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,aht=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lht=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cht=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uht=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dht=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fht=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hht=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pht=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mht=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ght="gl_FragColor = linearToOutputTexel( gl_FragColor );",vht=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,yht=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xht=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_ht=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bht=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wht=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Sht=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Eht=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Cht=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mht=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Aht=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Tht=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Pht=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Nht=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Rht=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Oht=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Iht=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,kht=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Dht=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Lht=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jht=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Fht=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Bht=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Uht=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zht=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$ht=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Hht=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vht=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Wht=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ght=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Xht=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qht=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Kht=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yht=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Zht=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Qht=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Jht=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ept=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tpt=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,npt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rpt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ipt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,spt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,opt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,apt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lpt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cpt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,upt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,dpt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,fpt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,hpt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ppt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mpt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gpt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,vpt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ypt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xpt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_pt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bpt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,wpt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Spt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ept=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Cpt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Mpt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Apt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Tpt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ppt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Npt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Rpt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Opt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ipt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,kpt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Dpt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lpt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jpt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fpt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bpt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Upt=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zpt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$pt=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hpt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vpt=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wpt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Gpt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Xpt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qpt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Kpt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ypt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zpt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qpt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jpt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,emt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tmt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nmt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rmt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,imt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,smt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,omt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,amt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lmt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cmt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,umt=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dmt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fmt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hmt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pmt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mmt=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gmt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vmt=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ymt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rn={alphahash_fragment:Uft,alphahash_pars_fragment:zft,alphamap_fragment:$ft,alphamap_pars_fragment:Hft,alphatest_fragment:Vft,alphatest_pars_fragment:Wft,aomap_fragment:Gft,aomap_pars_fragment:Xft,batching_pars_vertex:qft,batching_vertex:Kft,begin_vertex:Yft,beginnormal_vertex:Zft,bsdfs:Qft,iridescence_fragment:Jft,bumpmap_pars_fragment:eht,clipping_planes_fragment:tht,clipping_planes_pars_fragment:nht,clipping_planes_pars_vertex:rht,clipping_planes_vertex:iht,color_fragment:sht,color_pars_fragment:oht,color_pars_vertex:aht,color_vertex:lht,common:cht,cube_uv_reflection_fragment:uht,defaultnormal_vertex:dht,displacementmap_pars_vertex:fht,displacementmap_vertex:hht,emissivemap_fragment:pht,emissivemap_pars_fragment:mht,colorspace_fragment:ght,colorspace_pars_fragment:vht,envmap_fragment:yht,envmap_common_pars_fragment:xht,envmap_pars_fragment:_ht,envmap_pars_vertex:bht,envmap_physical_pars_fragment:Oht,envmap_vertex:wht,fog_vertex:Sht,fog_pars_vertex:Eht,fog_fragment:Cht,fog_pars_fragment:Mht,gradientmap_pars_fragment:Aht,lightmap_pars_fragment:Tht,lights_lambert_fragment:Pht,lights_lambert_pars_fragment:Nht,lights_pars_begin:Rht,lights_toon_fragment:Iht,lights_toon_pars_fragment:kht,lights_phong_fragment:Dht,lights_phong_pars_fragment:Lht,lights_physical_fragment:jht,lights_physical_pars_fragment:Fht,lights_fragment_begin:Bht,lights_fragment_maps:Uht,lights_fragment_end:zht,logdepthbuf_fragment:$ht,logdepthbuf_pars_fragment:Hht,logdepthbuf_pars_vertex:Vht,logdepthbuf_vertex:Wht,map_fragment:Ght,map_pars_fragment:Xht,map_particle_fragment:qht,map_particle_pars_fragment:Kht,metalnessmap_fragment:Yht,metalnessmap_pars_fragment:Zht,morphinstance_vertex:Qht,morphcolor_vertex:Jht,morphnormal_vertex:ept,morphtarget_pars_vertex:tpt,morphtarget_vertex:npt,normal_fragment_begin:rpt,normal_fragment_maps:ipt,normal_pars_fragment:spt,normal_pars_vertex:opt,normal_vertex:apt,normalmap_pars_fragment:lpt,clearcoat_normal_fragment_begin:cpt,clearcoat_normal_fragment_maps:upt,clearcoat_pars_fragment:dpt,iridescence_pars_fragment:fpt,opaque_fragment:hpt,packing:ppt,premultiplied_alpha_fragment:mpt,project_vertex:gpt,dithering_fragment:vpt,dithering_pars_fragment:ypt,roughnessmap_fragment:xpt,roughnessmap_pars_fragment:_pt,shadowmap_pars_fragment:bpt,shadowmap_pars_vertex:wpt,shadowmap_vertex:Spt,shadowmask_pars_fragment:Ept,skinbase_vertex:Cpt,skinning_pars_vertex:Mpt,skinning_vertex:Apt,skinnormal_vertex:Tpt,specularmap_fragment:Ppt,specularmap_pars_fragment:Npt,tonemapping_fragment:Rpt,tonemapping_pars_fragment:Opt,transmission_fragment:Ipt,transmission_pars_fragment:kpt,uv_pars_fragment:Dpt,uv_pars_vertex:Lpt,uv_vertex:jpt,worldpos_vertex:Fpt,background_vert:Bpt,background_frag:Upt,backgroundCube_vert:zpt,backgroundCube_frag:$pt,cube_vert:Hpt,cube_frag:Vpt,depth_vert:Wpt,depth_frag:Gpt,distanceRGBA_vert:Xpt,distanceRGBA_frag:qpt,equirect_vert:Kpt,equirect_frag:Ypt,linedashed_vert:Zpt,linedashed_frag:Qpt,meshbasic_vert:Jpt,meshbasic_frag:emt,meshlambert_vert:tmt,meshlambert_frag:nmt,meshmatcap_vert:rmt,meshmatcap_frag:imt,meshnormal_vert:smt,meshnormal_frag:omt,meshphong_vert:amt,meshphong_frag:lmt,meshphysical_vert:cmt,meshphysical_frag:umt,meshtoon_vert:dmt,meshtoon_frag:fmt,points_vert:hmt,points_frag:pmt,shadow_vert:mmt,shadow_frag:gmt,sprite_vert:vmt,sprite_frag:ymt},dt={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},envMapRotation:{value:new Jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}}},wa={basic:{uniforms:Ki([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:Ki([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new pt(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:Ki([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:Ki([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:Ki([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new pt(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:Ki([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:Ki([dt.points,dt.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:Ki([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:Ki([dt.common,dt.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:Ki([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:Ki([dt.sprite,dt.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Jt}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:Ki([dt.common,dt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:Ki([dt.lights,dt.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};wa.physical={uniforms:Ki([wa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jt}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const HS={r:0,b:0,g:0},pf=new po,xmt=new Gt;function _mt(t,e,n,r,i,s,o){const a=new pt(0);let l=s===!0?0:1,c,d,u=null,f=0,g=null;function v(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function y(_){let b=!1;const S=v(_);S===null?p(a,l):S&&S.isColor&&(p(S,1),b=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function m(_,b){const S=v(b);S&&(S.isCubeTexture||S.mapping===Jv)?(d===void 0&&(d=new $r(new Qh(1,1,1),new Ko({name:"BackgroundCubeMaterial",uniforms:vv(wa.backgroundCube.uniforms),vertexShader:wa.backgroundCube.vertexShader,fragmentShader:wa.backgroundCube.fragmentShader,side:Ui,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),pf.copy(b.backgroundRotation),pf.x*=-1,pf.y*=-1,pf.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(pf.y*=-1,pf.z*=-1),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(xmt.makeRotationFromEuler(pf)),d.material.toneMapped=gn.getTransfer(S.colorSpace)!==jn,(u!==S||f!==S.version||g!==t.toneMapping)&&(d.material.needsUpdate=!0,u=S,f=S.version,g=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new $r(new ny(2,2),new Ko({name:"BackgroundMaterial",uniforms:vv(wa.background.uniforms),vertexShader:wa.background.vertexShader,fragmentShader:wa.background.fragmentShader,side:$c,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=gn.getTransfer(S.colorSpace)!==jn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(u!==S||f!==S.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,u=S,f=S.version,g=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function p(_,b){_.getRGB(HS,sfe(t)),r.buffers.color.setClear(HS.r,HS.g,HS.b,b,o)}function x(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,p(a,l)},render:y,addToRenderList:m,dispose:x}}function bmt(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(N,I,k,j,F){let B=!1;const U=u(j,k,I);s!==U&&(s=U,c(s.object)),B=g(N,j,k,F),B&&v(N,j,k,F),F!==null&&e.update(F,t.ELEMENT_ARRAY_BUFFER),(B||o)&&(o=!1,b(N,I,k,j),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function d(N){return t.deleteVertexArray(N)}function u(N,I,k){const j=k.wireframe===!0;let F=r[N.id];F===void 0&&(F={},r[N.id]=F);let B=F[I.id];B===void 0&&(B={},F[I.id]=B);let U=B[j];return U===void 0&&(U=f(l()),B[j]=U),U}function f(N){const I=[],k=[],j=[];for(let F=0;F<n;F++)I[F]=0,k[F]=0,j[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:k,attributeDivisors:j,object:N,attributes:{},index:null}}function g(N,I,k,j){const F=s.attributes,B=I.attributes;let U=0;const H=k.getAttributes();for(const R in H)if(H[R].location>=0){const z=F[R];let W=B[R];if(W===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(W=N.instanceColor)),z===void 0||z.attribute!==W||W&&z.data!==W.data)return!0;U++}return s.attributesNum!==U||s.index!==j}function v(N,I,k,j){const F={},B=I.attributes;let U=0;const H=k.getAttributes();for(const R in H)if(H[R].location>=0){let z=B[R];z===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(z=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(z=N.instanceColor));const W={};W.attribute=z,z&&z.data&&(W.data=z.data),F[R]=W,U++}s.attributes=F,s.attributesNum=U,s.index=j}function y(){const N=s.newAttributes;for(let I=0,k=N.length;I<k;I++)N[I]=0}function m(N){p(N,0)}function p(N,I){const k=s.newAttributes,j=s.enabledAttributes,F=s.attributeDivisors;k[N]=1,j[N]===0&&(t.enableVertexAttribArray(N),j[N]=1),F[N]!==I&&(t.vertexAttribDivisor(N,I),F[N]=I)}function x(){const N=s.newAttributes,I=s.enabledAttributes;for(let k=0,j=I.length;k<j;k++)I[k]!==N[k]&&(t.disableVertexAttribArray(k),I[k]=0)}function _(N,I,k,j,F,B,U){U===!0?t.vertexAttribIPointer(N,I,k,F,B):t.vertexAttribPointer(N,I,k,j,F,B)}function b(N,I,k,j){y();const F=j.attributes,B=k.getAttributes(),U=I.defaultAttributeValues;for(const H in B){const R=B[H];if(R.location>=0){let L=F[H];if(L===void 0&&(H==="instanceMatrix"&&N.instanceMatrix&&(L=N.instanceMatrix),H==="instanceColor"&&N.instanceColor&&(L=N.instanceColor)),L!==void 0){const z=L.normalized,W=L.itemSize,G=e.get(L);if(G===void 0)continue;const q=G.buffer,ne=G.type,ae=G.bytesPerElement,se=ne===t.INT||ne===t.UNSIGNED_INT||L.gpuType===LP;if(L.isInterleavedBufferAttribute){const $=L.data,Y=$.stride,Q=L.offset;if($.isInstancedInterleavedBuffer){for(let te=0;te<R.locationSize;te++)p(R.location+te,$.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let te=0;te<R.locationSize;te++)m(R.location+te);t.bindBuffer(t.ARRAY_BUFFER,q);for(let te=0;te<R.locationSize;te++)_(R.location+te,W/R.locationSize,ne,z,Y*ae,(Q+W/R.locationSize*te)*ae,se)}else{if(L.isInstancedBufferAttribute){for(let $=0;$<R.locationSize;$++)p(R.location+$,L.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let $=0;$<R.locationSize;$++)m(R.location+$);t.bindBuffer(t.ARRAY_BUFFER,q);for(let $=0;$<R.locationSize;$++)_(R.location+$,W/R.locationSize,ne,z,W*ae,W/R.locationSize*$*ae,se)}}else if(U!==void 0){const z=U[H];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(R.location,z);break;case 3:t.vertexAttrib3fv(R.location,z);break;case 4:t.vertexAttrib4fv(R.location,z);break;default:t.vertexAttrib1fv(R.location,z)}}}}x()}function S(){T();for(const N in r){const I=r[N];for(const k in I){const j=I[k];for(const F in j)d(j[F].object),delete j[F];delete I[k]}delete r[N]}}function C(N){if(r[N.id]===void 0)return;const I=r[N.id];for(const k in I){const j=I[k];for(const F in j)d(j[F].object),delete j[F];delete I[k]}delete r[N.id]}function M(N){for(const I in r){const k=r[I];if(k[N.id]===void 0)continue;const j=k[N.id];for(const F in j)d(j[F].object),delete j[F];delete k[N.id]}}function T(){P(),o=!0,s!==i&&(s=i,c(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:T,resetDefaultState:P,dispose:S,releaseStatesOfGeometry:C,releaseStatesOfProgram:M,initAttributes:y,enableAttribute:m,disableUnusedAttributes:x}}function wmt(t,e,n){let r;function i(c){r=c}function s(c,d){t.drawArrays(r,c,d),n.update(d,r,1)}function o(c,d,u){u!==0&&(t.drawArraysInstanced(r,c,d,u),n.update(d,r,u))}function a(c,d,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,u);let g=0;for(let v=0;v<u;v++)g+=d[v];n.update(g,r,1)}function l(c,d,u,f){if(u===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<c.length;v++)o(c[v],d[v],f[v]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,d,0,f,0,u);let v=0;for(let y=0;y<u;y++)v+=d[y]*f[y];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Smt(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(M){return!(M!==Bi&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(M){const T=M===ey&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==qo&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==As&&!T)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const u=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=v>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:u,reversedDepthBuffer:f,maxTextures:g,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:S,maxSamples:C}}function Emt(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new cl,a=new Jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const g=u.length!==0||f||r!==0||i;return i=f,r=u.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,f){n=d(u,f,0)},this.setState=function(u,f,g){const v=u.clippingPlanes,y=u.clipIntersection,m=u.clipShadows,p=t.get(u);if(!i||v===null||v.length===0||s&&!m)s?d(null):c();else{const x=s?0:r,_=x*4;let b=p.clippingState||null;l.value=b,b=d(v,f,_,g);for(let S=0;S!==_;++S)b[S]=n[S];p.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(u,f,g,v){const y=u!==null?u.length:0;let m=null;if(y!==0){if(m=l.value,v!==!0||m===null){const p=g+y*4,x=f.matrixWorldInverse;a.getNormalMatrix(x),(m===null||m.length<p)&&(m=new Float32Array(p));for(let _=0,b=g;_!==y;++_,b+=4)o.copy(u[_]).applyMatrix4(x,a),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,m}}function Cmt(t){let e=new WeakMap;function n(o,a){return a===O_?o.mapping=Hc:a===I_&&(o.mapping=_d),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===O_||a===I_)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new afe(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Om=4,h9=[.125,.215,.35,.446,.526,.582],Tf=20,YO=new Pl,p9=new pt;let ZO=null,QO=0,JO=0,eI=!1;const Mf=(1+Math.sqrt(5))/2,em=1/Mf,m9=[new le(-Mf,em,0),new le(Mf,em,0),new le(-em,0,Mf),new le(em,0,Mf),new le(0,Mf,-em),new le(0,Mf,em),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],Mmt=new le;class lj{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=Mmt}=s;ZO=this._renderer.getRenderTarget(),QO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel(),eI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=y9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=v9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ZO,QO,JO),this._renderer.xr.enabled=eI,e.scissorTest=!1,VS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Hc||e.mapping===_d?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ZO=this._renderer.getRenderTarget(),QO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel(),eI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ni,minFilter:ni,generateMipmaps:!1,type:ey,format:Bi,colorSpace:Ih,depthBuffer:!1},i=g9(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=g9(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Amt(s)),this._blurMaterial=Tmt(s,e,n)}return i}_compileMaterial(e){const n=new $r(this._lodPlanes[0],e);this._renderer.compile(n,YO)}_sceneToCubeUV(e,n,r,i,s){const l=new gr(90,1,n,r),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,g=u.toneMapping;u.getClearColor(p9),u.toneMapping=Al,u.autoClear=!1,u.state.buffers.depth.getReversed()&&(u.setRenderTarget(i),u.clearDepth(),u.setRenderTarget(null));const y=new Fd({name:"PMREM.Background",side:Ui,depthWrite:!1,depthTest:!1}),m=new $r(new Qh,y);let p=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,p=!0):(y.color.copy(p9),p=!0);for(let _=0;_<6;_++){const b=_%3;b===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[_],s.y,s.z)):b===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[_]));const S=this._cubeSize;VS(i,b*S,_>2?S:0,S,S),u.setRenderTarget(i),p&&u.render(m,l),u.render(e,l)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=g,u.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Hc||e.mapping===_d;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=y9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=v9());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new $r(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;VS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,YO)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=m9[(i-s-1)%m9.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,u=new $r(this._lodPlanes[i],c),f=c.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Tf-1),y=s/v,m=isFinite(s)?1+Math.floor(d*y):Tf;m>Tf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Tf}`);const p=[];let x=0;for(let M=0;M<Tf;++M){const T=M/y,P=Math.exp(-T*T/2);p.push(P),M===0?x+=P:M<m&&(x+=2*P)}for(let M=0;M<p.length;M++)p[M]=p[M]/x;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=p,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:_}=this;f.dTheta.value=v,f.mipInt.value=_-r;const b=this._sizeLods[i],S=3*b*(i>_-Om?i-_+Om:0),C=4*(this._cubeSize-b);VS(n,S,C,3*b,2*b),l.setRenderTarget(n),l.render(u,YO)}}function Amt(t){const e=[],n=[],r=[];let i=t;const s=t-Om+1+h9.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Om?l=h9[o-t+Om-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,u=1+c,f=[d,d,u,d,u,u,d,d,u,u,d,u],g=6,v=6,y=3,m=2,p=1,x=new Float32Array(y*v*g),_=new Float32Array(m*v*g),b=new Float32Array(p*v*g);for(let C=0;C<g;C++){const M=C%3*2/3-1,T=C>2?0:-1,P=[M,T,0,M+2/3,T,0,M+2/3,T+1,0,M,T,0,M+2/3,T+1,0,M,T+1,0];x.set(P,y*v*C),_.set(f,m*v*C);const N=[C,C,C,C,C,C];b.set(N,p*v*C)}const S=new tn;S.setAttribute("position",new Hn(x,y)),S.setAttribute("uv",new Hn(_,m)),S.setAttribute("faceIndex",new Hn(b,p)),e.push(S),i>Om&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function g9(t,e,n){const r=new Dl(t,e,n);return r.texture.mapping=Jv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function VS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Tmt(t,e,n){const r=new Float32Array(Tf),i=new le(0,1,0);return new Ko({name:"SphericalGaussianBlur",defines:{n:Tf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:R5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function v9(){return new Ko({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:R5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function y9(){return new Ko({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:R5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function R5(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Pmt(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===O_||l===I_,d=l===Hc||l===_d;if(c||d){let u=e.get(a);const f=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new lj(t)),u=c?n.fromEquirectangular(a,u):n.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),u.texture;if(u!==void 0)return u.texture;{const g=a.image;return c&&g&&g.height>0||d&&g&&i(g)?(n===null&&(n=new lj(t)),u=c?n.fromEquirectangular(a):n.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),a.addEventListener("dispose",s),u.texture):null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Nmt(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&z_("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Rmt(t,e,n,r){const i={},s=new WeakMap;function o(u){const f=u.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",o),delete i[f.id];const g=s.get(f);g&&(e.remove(g),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(u,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(u){const f=u.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER)}function c(u){const f=[],g=u.index,v=u.attributes.position;let y=0;if(g!==null){const x=g.array;y=g.version;for(let _=0,b=x.length;_<b;_+=3){const S=x[_+0],C=x[_+1],M=x[_+2];f.push(S,C,C,M,M,S)}}else if(v!==void 0){const x=v.array;y=v.version;for(let _=0,b=x.length/3-1;_<b;_+=3){const S=_+0,C=_+1,M=_+2;f.push(S,C,C,M,M,S)}}else return;const m=new(tfe(f)?r5:n5)(f,1);m.version=y;const p=s.get(u);p&&e.remove(p),s.set(u,m)}function d(u){const f=s.get(u);if(f){const g=u.index;g!==null&&f.version<g.version&&c(u)}else c(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function Omt(t,e,n){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,g){t.drawElements(r,g,s,f*o),n.update(g,r,1)}function c(f,g,v){v!==0&&(t.drawElementsInstanced(r,g,s,f*o,v),n.update(g,r,v))}function d(f,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,f,0,v);let m=0;for(let p=0;p<v;p++)m+=g[p];n.update(m,r,1)}function u(f,g,v,y){if(v===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<f.length;p++)c(f[p]/o,g[p],y[p]);else{m.multiDrawElementsInstancedWEBGL(r,g,0,s,f,0,y,0,v);let p=0;for(let x=0;x<v;x++)p+=g[x]*y[x];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function Imt(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function kmt(t,e,n){const r=new WeakMap,i=new _n;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0;let f=r.get(a);if(f===void 0||f.count!==u){let N=function(){T.dispose(),r.delete(a),a.removeEventListener("dispose",N)};var g=N;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,m=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),y===!0&&(b=2),m===!0&&(b=3);let S=a.attributes.position.count*b,C=1;S>e.maxTextureSize&&(C=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const M=new Float32Array(S*C*4*u),T=new HP(M,S,C,u);T.type=As,T.needsUpdate=!0;const P=b*4;for(let I=0;I<u;I++){const k=p[I],j=x[I],F=_[I],B=S*C*4*I;for(let U=0;U<k.count;U++){const H=U*P;v===!0&&(i.fromBufferAttribute(k,U),M[B+H+0]=i.x,M[B+H+1]=i.y,M[B+H+2]=i.z,M[B+H+3]=0),y===!0&&(i.fromBufferAttribute(j,U),M[B+H+4]=i.x,M[B+H+5]=i.y,M[B+H+6]=i.z,M[B+H+7]=0),m===!0&&(i.fromBufferAttribute(F,U),M[B+H+8]=i.x,M[B+H+9]=i.y,M[B+H+10]=i.z,M[B+H+11]=F.itemSize===4?i.w:1)}}f={count:u,texture:T,size:new ze(S,C)},r.set(a,f),a.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let m=0;m<c.length;m++)v+=c[m];const y=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function Dmt(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,u=e.get(l,d);if(i.get(u)!==c&&(e.update(u),i.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return u}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const ohe=new Ar,x9=new c5(1,1),ahe=new HP,lhe=new VP,che=new nw,_9=[],b9=[],w9=new Float32Array(16),S9=new Float32Array(9),E9=new Float32Array(4);function ry(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=_9[i];if(s===void 0&&(s=new Float32Array(i),_9[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ri(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ii(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function d2(t,e){let n=b9[e];n===void 0&&(n=new Int32Array(e),b9[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Lmt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function jmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ri(n,e))return;t.uniform2fv(this.addr,e),ii(n,e)}}function Fmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ri(n,e))return;t.uniform3fv(this.addr,e),ii(n,e)}}function Bmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ri(n,e))return;t.uniform4fv(this.addr,e),ii(n,e)}}function Umt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ri(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ii(n,e)}else{if(ri(n,r))return;E9.set(r),t.uniformMatrix2fv(this.addr,!1,E9),ii(n,r)}}function zmt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ri(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ii(n,e)}else{if(ri(n,r))return;S9.set(r),t.uniformMatrix3fv(this.addr,!1,S9),ii(n,r)}}function $mt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ri(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ii(n,e)}else{if(ri(n,r))return;w9.set(r),t.uniformMatrix4fv(this.addr,!1,w9),ii(n,r)}}function Hmt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Vmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ri(n,e))return;t.uniform2iv(this.addr,e),ii(n,e)}}function Wmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ri(n,e))return;t.uniform3iv(this.addr,e),ii(n,e)}}function Gmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ri(n,e))return;t.uniform4iv(this.addr,e),ii(n,e)}}function Xmt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ri(n,e))return;t.uniform2uiv(this.addr,e),ii(n,e)}}function Kmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ri(n,e))return;t.uniform3uiv(this.addr,e),ii(n,e)}}function Ymt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ri(n,e))return;t.uniform4uiv(this.addr,e),ii(n,e)}}function Zmt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(x9.compareFunction=JB,s=x9):s=ohe,n.setTexture2D(e||s,i)}function Qmt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||lhe,i)}function Jmt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||che,i)}function egt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||ahe,i)}function tgt(t){switch(t){case 5126:return Lmt;case 35664:return jmt;case 35665:return Fmt;case 35666:return Bmt;case 35674:return Umt;case 35675:return zmt;case 35676:return $mt;case 5124:case 35670:return Hmt;case 35667:case 35671:return Vmt;case 35668:case 35672:return Wmt;case 35669:case 35673:return Gmt;case 5125:return Xmt;case 36294:return qmt;case 36295:return Kmt;case 36296:return Ymt;case 35678:case 36198:case 36298:case 36306:case 35682:return Zmt;case 35679:case 36299:case 36307:return Qmt;case 35680:case 36300:case 36308:case 36293:return Jmt;case 36289:case 36303:case 36311:case 36292:return egt}}function ngt(t,e){t.uniform1fv(this.addr,e)}function rgt(t,e){const n=ry(e,this.size,2);t.uniform2fv(this.addr,n)}function igt(t,e){const n=ry(e,this.size,3);t.uniform3fv(this.addr,n)}function sgt(t,e){const n=ry(e,this.size,4);t.uniform4fv(this.addr,n)}function ogt(t,e){const n=ry(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function agt(t,e){const n=ry(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function lgt(t,e){const n=ry(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function cgt(t,e){t.uniform1iv(this.addr,e)}function ugt(t,e){t.uniform2iv(this.addr,e)}function dgt(t,e){t.uniform3iv(this.addr,e)}function fgt(t,e){t.uniform4iv(this.addr,e)}function hgt(t,e){t.uniform1uiv(this.addr,e)}function pgt(t,e){t.uniform2uiv(this.addr,e)}function mgt(t,e){t.uniform3uiv(this.addr,e)}function ggt(t,e){t.uniform4uiv(this.addr,e)}function vgt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);ri(r,s)||(t.uniform1iv(this.addr,s),ii(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||ohe,s[o])}function ygt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);ri(r,s)||(t.uniform1iv(this.addr,s),ii(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||lhe,s[o])}function xgt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);ri(r,s)||(t.uniform1iv(this.addr,s),ii(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||che,s[o])}function _gt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);ri(r,s)||(t.uniform1iv(this.addr,s),ii(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||ahe,s[o])}function bgt(t){switch(t){case 5126:return ngt;case 35664:return rgt;case 35665:return igt;case 35666:return sgt;case 35674:return ogt;case 35675:return agt;case 35676:return lgt;case 5124:case 35670:return cgt;case 35667:case 35671:return ugt;case 35668:case 35672:return dgt;case 35669:case 35673:return fgt;case 5125:return hgt;case 36294:return pgt;case 36295:return mgt;case 36296:return ggt;case 35678:case 36198:case 36298:case 36306:case 35682:return vgt;case 35679:case 36299:case 36307:return ygt;case 35680:case 36300:case 36308:case 36293:return xgt;case 36289:case 36303:case 36311:case 36292:return _gt}}class wgt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=tgt(n.type)}}class Sgt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=bgt(n.type)}}class Egt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const tI=/(\w+)(\])?(\[|\.)?/g;function C9(t,e){t.seq.push(e),t.map[e.id]=e}function Cgt(t,e,n){const r=t.name,i=r.length;for(tI.lastIndex=0;;){const s=tI.exec(r),o=tI.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){C9(n,c===void 0?new wgt(a,t,e):new Sgt(a,t,e));break}else{let u=n.map[a];u===void 0&&(u=new Egt(a),C9(n,u)),n=u}}}class ME{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Cgt(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function M9(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Mgt=37297;let Agt=0;function Tgt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const A9=new Jt;function Pgt(t){gn._getMatrix(A9,gn.workingColorSpace,t);const e=`mat3( ${A9.elements.map(n=>n.toFixed(4))} )`;switch(gn.getTransfer(t)){case F_:return[e,"LinearTransferOETF"];case jn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function T9(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+Tgt(t.getShaderSource(e),a)}else return s}function Ngt(t,e){const n=Pgt(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Rgt(t,e){let n;switch(e){case kde:n="Linear";break;case Dde:n="Reinhard";break;case Lde:n="Cineon";break;case HB:n="ACESFilmic";break;case Fde:n="AgX";break;case Bde:n="Neutral";break;case jde:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const WS=new le;function Ogt(){gn.getLuminanceCoefficients(WS);const t=WS.x.toFixed(4),e=WS.y.toFixed(4),n=WS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Igt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(R0).join(`
`)}function kgt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Dgt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function R0(t){return t!==""}function P9(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function N9(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Lgt=/^[ \t]*#include +<([\w\d./]+)>/gm;function cj(t){return t.replace(Lgt,Fgt)}const jgt=new Map;function Fgt(t,e){let n=rn[e];if(n===void 0){const r=jgt.get(e);if(r!==void 0)n=rn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return cj(n)}const Bgt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function R9(t){return t.replace(Bgt,Ugt)}function Ugt(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function O9(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function zgt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===kP?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ex?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===fa&&(e="SHADOWMAP_TYPE_VSM"),e}function $gt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Hc:case _d:e="ENVMAP_TYPE_CUBE";break;case Jv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hgt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case _d:e="ENVMAP_MODE_REFRACTION";break}return e}function Vgt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Jb:e="ENVMAP_BLENDING_MULTIPLY";break;case Ode:e="ENVMAP_BLENDING_MIX";break;case Ide:e="ENVMAP_BLENDING_ADD";break}return e}function Wgt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Ggt(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=zgt(n),c=$gt(n),d=Hgt(n),u=Vgt(n),f=Wgt(n),g=Igt(n),v=kgt(s),y=i.createProgram();let m,p,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(R0).join(`
`),m.length>0&&(m+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(R0).join(`
`),p.length>0&&(p+=`
`)):(m=[O9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(R0).join(`
`),p=[O9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Al?"#define TONE_MAPPING":"",n.toneMapping!==Al?rn.tonemapping_pars_fragment:"",n.toneMapping!==Al?Rgt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",rn.colorspace_pars_fragment,Ngt("linearToOutputTexel",n.outputColorSpace),Ogt(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(R0).join(`
`)),o=cj(o),o=P9(o,n),o=N9(o,n),a=cj(a),a=P9(a,n),a=N9(a,n),o=R9(o),a=R9(a),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,m=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,p=["#define varying in",n.glslVersion===JL?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===JL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const _=x+m+o,b=x+p+a,S=M9(i,i.VERTEX_SHADER,_),C=M9(i,i.FRAGMENT_SHADER,b);i.attachShader(y,S),i.attachShader(y,C),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function M(I){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(y)||"",j=i.getShaderInfoLog(S)||"",F=i.getShaderInfoLog(C)||"",B=k.trim(),U=j.trim(),H=F.trim();let R=!0,L=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(R=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,S,C);else{const z=T9(i,S,"vertex"),W=T9(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+B+`
`+z+`
`+W)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(U===""||H==="")&&(L=!1);L&&(I.diagnostics={runnable:R,programLog:B,vertexShader:{log:U,prefix:m},fragmentShader:{log:H,prefix:p}})}i.deleteShader(S),i.deleteShader(C),T=new ME(i,y),P=Dgt(i,y)}let T;this.getUniforms=function(){return T===void 0&&M(this),T};let P;this.getAttributes=function(){return P===void 0&&M(this),P};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(y,Mgt)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Agt++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=S,this.fragmentShader=C,this}let Xgt=0;class qgt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Kgt(e),n.set(e,r)),r}}class Kgt{constructor(e){this.id=Xgt++,this.code=e,this.usedTimes=0}}function Ygt(t,e,n,r,i,s,o){const a=new sh,l=new qgt,c=new Set,d=[],u=i.logarithmicDepthBuffer,f=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return c.add(P),P===0?"uv":`uv${P}`}function m(P,N,I,k,j){const F=k.fog,B=j.geometry,U=P.isMeshStandardMaterial?k.environment:null,H=(P.isMeshStandardMaterial?n:e).get(P.envMap||U),R=H&&H.mapping===Jv?H.image.height:null,L=v[P.type];P.precision!==null&&(g=i.getMaxPrecision(P.precision),g!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",g,"instead."));const z=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,W=z!==void 0?z.length:0;let G=0;B.morphAttributes.position!==void 0&&(G=1),B.morphAttributes.normal!==void 0&&(G=2),B.morphAttributes.color!==void 0&&(G=3);let q,ne,ae,se;if(L){const $t=wa[L];q=$t.vertexShader,ne=$t.fragmentShader}else q=P.vertexShader,ne=P.fragmentShader,l.update(P),ae=l.getVertexShaderID(P),se=l.getFragmentShaderID(P);const $=t.getRenderTarget(),Y=t.state.buffers.depth.getReversed(),Q=j.isInstancedMesh===!0,te=j.isBatchedMesh===!0,ue=!!P.map,J=!!P.matcap,K=!!H,re=!!P.aoMap,fe=!!P.lightMap,me=!!P.bumpMap,pe=!!P.normalMap,Ae=!!P.displacementMap,Ce=!!P.emissiveMap,ke=!!P.metalnessMap,rt=!!P.roughnessMap,Je=P.anisotropy>0,ie=P.clearcoat>0,Z=P.dispersion>0,ve=P.iridescence>0,Se=P.sheen>0,Ie=P.transmission>0,Me=Je&&!!P.anisotropyMap,ct=ie&&!!P.clearcoatMap,He=ie&&!!P.clearcoatNormalMap,lt=ie&&!!P.clearcoatRoughnessMap,Ge=ve&&!!P.iridescenceMap,$e=ve&&!!P.iridescenceThicknessMap,it=Se&&!!P.sheenColorMap,Ct=Se&&!!P.sheenRoughnessMap,he=!!P.specularMap,Ee=!!P.specularColorMap,Ye=!!P.specularIntensityMap,ce=Ie&&!!P.transmissionMap,Ne=Ie&&!!P.thicknessMap,Be=!!P.gradientMap,Ve=!!P.alphaMap,Ue=P.alphaTest>0,Le=!!P.alphaHash,Ze=!!P.extensions;let mt=Al;P.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(mt=t.toneMapping);const jt={shaderID:L,shaderType:P.type,shaderName:P.name,vertexShader:q,fragmentShader:ne,defines:P.defines,customVertexShaderID:ae,customFragmentShaderID:se,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:g,batching:te,batchingColor:te&&j._colorsTexture!==null,instancing:Q,instancingColor:Q&&j.instanceColor!==null,instancingMorph:Q&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:$===null?t.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:Ih,alphaToCoverage:!!P.alphaToCoverage,map:ue,matcap:J,envMap:K,envMapMode:K&&H.mapping,envMapCubeUVHeight:R,aoMap:re,lightMap:fe,bumpMap:me,normalMap:pe,displacementMap:f&&Ae,emissiveMap:Ce,normalMapObjectSpace:pe&&P.normalMapType===Gde,normalMapTangentSpace:pe&&P.normalMapType===jd,metalnessMap:ke,roughnessMap:rt,anisotropy:Je,anisotropyMap:Me,clearcoat:ie,clearcoatMap:ct,clearcoatNormalMap:He,clearcoatRoughnessMap:lt,dispersion:Z,iridescence:ve,iridescenceMap:Ge,iridescenceThicknessMap:$e,sheen:Se,sheenColorMap:it,sheenRoughnessMap:Ct,specularMap:he,specularColorMap:Ee,specularIntensityMap:Ye,transmission:Ie,transmissionMap:ce,thicknessMap:Ne,gradientMap:Be,opaque:P.transparent===!1&&P.blending===rh&&P.alphaToCoverage===!1,alphaMap:Ve,alphaTest:Ue,alphaHash:Le,combine:P.combine,mapUv:ue&&y(P.map.channel),aoMapUv:re&&y(P.aoMap.channel),lightMapUv:fe&&y(P.lightMap.channel),bumpMapUv:me&&y(P.bumpMap.channel),normalMapUv:pe&&y(P.normalMap.channel),displacementMapUv:Ae&&y(P.displacementMap.channel),emissiveMapUv:Ce&&y(P.emissiveMap.channel),metalnessMapUv:ke&&y(P.metalnessMap.channel),roughnessMapUv:rt&&y(P.roughnessMap.channel),anisotropyMapUv:Me&&y(P.anisotropyMap.channel),clearcoatMapUv:ct&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:He&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:lt&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ge&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:it&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:Ct&&y(P.sheenRoughnessMap.channel),specularMapUv:he&&y(P.specularMap.channel),specularColorMapUv:Ee&&y(P.specularColorMap.channel),specularIntensityMapUv:Ye&&y(P.specularIntensityMap.channel),transmissionMapUv:ce&&y(P.transmissionMap.channel),thicknessMapUv:Ne&&y(P.thicknessMap.channel),alphaMapUv:Ve&&y(P.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(pe||Je),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!B.attributes.uv&&(ue||Ve),fog:!!F,useFog:P.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:u,reversedDepthBuffer:Y,skinning:j.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:G,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,decodeVideoTexture:ue&&P.map.isVideoTexture===!0&&gn.getTransfer(P.map.colorSpace)===jn,decodeVideoTextureEmissive:Ce&&P.emissiveMap.isVideoTexture===!0&&gn.getTransfer(P.emissiveMap.colorSpace)===jn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ea,flipSided:P.side===Ui,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Ze&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ze&&P.extensions.multiDraw===!0||te)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return jt.vertexUv1s=c.has(1),jt.vertexUv2s=c.has(2),jt.vertexUv3s=c.has(3),c.clear(),jt}function p(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const I in P.defines)N.push(I),N.push(P.defines[I]);return P.isRawShaderMaterial===!1&&(x(N,P),_(N,P),N.push(t.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function x(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function _(P,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),N.gradientMap&&a.enable(22),P.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reversedDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),P.push(a.mask)}function b(P){const N=v[P.type];let I;if(N){const k=wa[N];I=i5.clone(k.uniforms)}else I=P.uniforms;return I}function S(P,N){let I;for(let k=0,j=d.length;k<j;k++){const F=d[k];if(F.cacheKey===N){I=F,++I.usedTimes;break}}return I===void 0&&(I=new Ggt(t,N,P,s),d.push(I)),I}function C(P){if(--P.usedTimes===0){const N=d.indexOf(P);d[N]=d[d.length-1],d.pop(),P.destroy()}}function M(P){l.remove(P)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:p,getUniforms:b,acquireProgram:S,releaseProgram:C,releaseShaderCache:M,programs:d,dispose:T}}function Zgt(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function Qgt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function I9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function k9(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(u,f,g,v,y,m){let p=t[e];return p===void 0?(p={id:u.id,object:u,geometry:f,material:g,groupOrder:v,renderOrder:u.renderOrder,z:y,group:m},t[e]=p):(p.id=u.id,p.object=u,p.geometry=f,p.material=g,p.groupOrder=v,p.renderOrder=u.renderOrder,p.z=y,p.group=m),e++,p}function a(u,f,g,v,y,m){const p=o(u,f,g,v,y,m);g.transmission>0?r.push(p):g.transparent===!0?i.push(p):n.push(p)}function l(u,f,g,v,y,m){const p=o(u,f,g,v,y,m);g.transmission>0?r.unshift(p):g.transparent===!0?i.unshift(p):n.unshift(p)}function c(u,f){n.length>1&&n.sort(u||Qgt),r.length>1&&r.sort(f||I9),i.length>1&&i.sort(f||I9)}function d(){for(let u=e,f=t.length;u<f;u++){const g=t[u];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function Jgt(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new k9,t.set(r,[o])):i>=s.length?(o=new k9,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function evt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new pt};break;case"SpotLight":n={position:new le,direction:new le,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":n={color:new pt,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function tvt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nvt=0;function rvt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function ivt(t){const e=new evt,n=tvt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new le);const i=new le,s=new Gt,o=new Gt;function a(c){let d=0,u=0,f=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let g=0,v=0,y=0,m=0,p=0,x=0,_=0,b=0,S=0,C=0,M=0;c.sort(rvt);for(let P=0,N=c.length;P<N;P++){const I=c[P],k=I.color,j=I.intensity,F=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=k.r*j,u+=k.g*j,f+=k.b*j;else if(I.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(I.sh.coefficients[U],j);M++}else if(I.isDirectionalLight){const U=e.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const H=I.shadow,R=n.get(I);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.directionalShadow[g]=R,r.directionalShadowMap[g]=B,r.directionalShadowMatrix[g]=I.shadow.matrix,x++}r.directional[g]=U,g++}else if(I.isSpotLight){const U=e.get(I);U.position.setFromMatrixPosition(I.matrixWorld),U.color.copy(k).multiplyScalar(j),U.distance=F,U.coneCos=Math.cos(I.angle),U.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),U.decay=I.decay,r.spot[y]=U;const H=I.shadow;if(I.map&&(r.spotLightMap[S]=I.map,S++,H.updateMatrices(I),I.castShadow&&C++),r.spotLightMatrix[y]=H.matrix,I.castShadow){const R=n.get(I);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.spotShadow[y]=R,r.spotShadowMap[y]=B,b++}y++}else if(I.isRectAreaLight){const U=e.get(I);U.color.copy(k).multiplyScalar(j),U.halfWidth.set(I.width*.5,0,0),U.halfHeight.set(0,I.height*.5,0),r.rectArea[m]=U,m++}else if(I.isPointLight){const U=e.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity),U.distance=I.distance,U.decay=I.decay,I.castShadow){const H=I.shadow,R=n.get(I);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,R.shadowCameraNear=H.camera.near,R.shadowCameraFar=H.camera.far,r.pointShadow[v]=R,r.pointShadowMap[v]=B,r.pointShadowMatrix[v]=I.shadow.matrix,_++}r.point[v]=U,v++}else if(I.isHemisphereLight){const U=e.get(I);U.skyColor.copy(I.color).multiplyScalar(j),U.groundColor.copy(I.groundColor).multiplyScalar(j),r.hemi[p]=U,p++}}m>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dt.LTC_FLOAT_1,r.rectAreaLTC2=dt.LTC_FLOAT_2):(r.rectAreaLTC1=dt.LTC_HALF_1,r.rectAreaLTC2=dt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=u,r.ambient[2]=f;const T=r.hash;(T.directionalLength!==g||T.pointLength!==v||T.spotLength!==y||T.rectAreaLength!==m||T.hemiLength!==p||T.numDirectionalShadows!==x||T.numPointShadows!==_||T.numSpotShadows!==b||T.numSpotMaps!==S||T.numLightProbes!==M)&&(r.directional.length=g,r.spot.length=y,r.rectArea.length=m,r.point.length=v,r.hemi.length=p,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=b+S-C,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=M,T.directionalLength=g,T.pointLength=v,T.spotLength=y,T.rectAreaLength=m,T.hemiLength=p,T.numDirectionalShadows=x,T.numPointShadows=_,T.numSpotShadows=b,T.numSpotMaps=S,T.numLightProbes=M,r.version=nvt++)}function l(c,d){let u=0,f=0,g=0,v=0,y=0;const m=d.matrixWorldInverse;for(let p=0,x=c.length;p<x;p++){const _=c[p];if(_.isDirectionalLight){const b=r.directional[u];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),u++}else if(_.isSpotLight){const b=r.spot[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),g++}else if(_.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),o.identity(),s.copy(_.matrixWorld),s.premultiply(m),o.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(_.isPointLight){const b=r.point[f];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),f++}else if(_.isHemisphereLight){const b=r.hemi[y];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(m),y++}}}return{setup:a,setupView:l,state:r}}function D9(t){const e=new ivt(t),n=[],r=[];function i(d){c.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function o(d){r.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function svt(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new D9(t),e.set(i,[a])):s>=o.length?(a=new D9(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const ovt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,avt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function lvt(t,e,n){let r=new ty;const i=new ze,s=new ze,o=new _n,a=new y5({depthPacking:Wde}),l=new x5,c={},d=n.maxTextureSize,u={[$c]:Ui,[Ui]:$c,[Ea]:Ea},f=new Ko({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:ovt,fragmentShader:avt}),g=f.clone();g.defines.HORIZONTAL_PASS=1;const v=new tn;v.setAttribute("position",new Hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new $r(v,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kP;let p=this.type;this.render=function(C,M,T){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||C.length===0)return;const P=t.getRenderTarget(),N=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),k=t.state;k.setBlending(Pc),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const j=p!==fa&&this.type===fa,F=p===fa&&this.type!==fa;for(let B=0,U=C.length;B<U;B++){const H=C[B],R=H.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const L=R.getFrameExtents();if(i.multiply(L),s.copy(R.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/L.x),i.x=s.x*L.x,R.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/L.y),i.y=s.y*L.y,R.mapSize.y=s.y)),R.map===null||j===!0||F===!0){const W=this.type!==fa?{minFilter:bi,magFilter:bi}:{};R.map!==null&&R.map.dispose(),R.map=new Dl(i.x,i.y,W),R.map.texture.name=H.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const z=R.getViewportCount();for(let W=0;W<z;W++){const G=R.getViewport(W);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),k.viewport(o),R.updateMatrices(H,W),r=R.getFrustum(),b(M,T,R.camera,H,this.type)}R.isPointLightShadow!==!0&&this.type===fa&&x(R,T),R.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(P,N,I)};function x(C,M){const T=e.update(y);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Dl(i.x,i.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(M,null,T,f,y,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(M,null,T,g,y,null)}function _(C,M,T,P){let N=null;const I=T.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0)N=I;else if(N=T.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const k=N.uuid,j=M.uuid;let F=c[k];F===void 0&&(F={},c[k]=F);let B=F[j];B===void 0&&(B=N.clone(),F[j]=B,M.addEventListener("dispose",S)),N=B}if(N.visible=M.visible,N.wireframe=M.wireframe,P===fa?N.side=M.shadowSide!==null?M.shadowSide:M.side:N.side=M.shadowSide!==null?M.shadowSide:u[M.side],N.alphaMap=M.alphaMap,N.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,N.map=M.map,N.clipShadows=M.clipShadows,N.clippingPlanes=M.clippingPlanes,N.clipIntersection=M.clipIntersection,N.displacementMap=M.displacementMap,N.displacementScale=M.displacementScale,N.displacementBias=M.displacementBias,N.wireframeLinewidth=M.wireframeLinewidth,N.linewidth=M.linewidth,T.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const k=t.properties.get(N);k.light=T}return N}function b(C,M,T,P,N){if(C.visible===!1)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&N===fa)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,C.matrixWorld);const j=e.update(C),F=C.material;if(Array.isArray(F)){const B=j.groups;for(let U=0,H=B.length;U<H;U++){const R=B[U],L=F[R.materialIndex];if(L&&L.visible){const z=_(C,L,P,N);C.onBeforeShadow(t,C,M,T,j,z,R),t.renderBufferDirect(T,null,j,z,C,R),C.onAfterShadow(t,C,M,T,j,z,R)}}}else if(F.visible){const B=_(C,F,P,N);C.onBeforeShadow(t,C,M,T,j,B,null),t.renderBufferDirect(T,null,j,B,C,null),C.onAfterShadow(t,C,M,T,j,B,null)}}const k=C.children;for(let j=0,F=k.length;j<F;j++)b(k[j],M,T,P,N)}function S(C){C.target.removeEventListener("dispose",S);for(const T in c){const P=c[T],N=C.target.uuid;N in P&&(P[N].dispose(),delete P[N])}}}const cvt={[jM]:FM,[BM]:$M,[UM]:HM,[Oh]:zM,[FM]:jM,[$M]:BM,[HM]:UM,[zM]:Oh};function uvt(t,e){function n(){let ce=!1;const Ne=new _n;let Be=null;const Ve=new _n(0,0,0,0);return{setMask:function(Ue){Be!==Ue&&!ce&&(t.colorMask(Ue,Ue,Ue,Ue),Be=Ue)},setLocked:function(Ue){ce=Ue},setClear:function(Ue,Le,Ze,mt,jt){jt===!0&&(Ue*=mt,Le*=mt,Ze*=mt),Ne.set(Ue,Le,Ze,mt),Ve.equals(Ne)===!1&&(t.clearColor(Ue,Le,Ze,mt),Ve.copy(Ne))},reset:function(){ce=!1,Be=null,Ve.set(-1,0,0,0)}}}function r(){let ce=!1,Ne=!1,Be=null,Ve=null,Ue=null;return{setReversed:function(Le){if(Ne!==Le){const Ze=e.get("EXT_clip_control");Le?Ze.clipControlEXT(Ze.LOWER_LEFT_EXT,Ze.ZERO_TO_ONE_EXT):Ze.clipControlEXT(Ze.LOWER_LEFT_EXT,Ze.NEGATIVE_ONE_TO_ONE_EXT),Ne=Le;const mt=Ue;Ue=null,this.setClear(mt)}},getReversed:function(){return Ne},setTest:function(Le){Le?$(t.DEPTH_TEST):Y(t.DEPTH_TEST)},setMask:function(Le){Be!==Le&&!ce&&(t.depthMask(Le),Be=Le)},setFunc:function(Le){if(Ne&&(Le=cvt[Le]),Ve!==Le){switch(Le){case jM:t.depthFunc(t.NEVER);break;case FM:t.depthFunc(t.ALWAYS);break;case BM:t.depthFunc(t.LESS);break;case Oh:t.depthFunc(t.LEQUAL);break;case UM:t.depthFunc(t.EQUAL);break;case zM:t.depthFunc(t.GEQUAL);break;case $M:t.depthFunc(t.GREATER);break;case HM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ve=Le}},setLocked:function(Le){ce=Le},setClear:function(Le){Ue!==Le&&(Ne&&(Le=1-Le),t.clearDepth(Le),Ue=Le)},reset:function(){ce=!1,Be=null,Ve=null,Ue=null,Ne=!1}}}function i(){let ce=!1,Ne=null,Be=null,Ve=null,Ue=null,Le=null,Ze=null,mt=null,jt=null;return{setTest:function($t){ce||($t?$(t.STENCIL_TEST):Y(t.STENCIL_TEST))},setMask:function($t){Ne!==$t&&!ce&&(t.stencilMask($t),Ne=$t)},setFunc:function($t,Ln,Rn){(Be!==$t||Ve!==Ln||Ue!==Rn)&&(t.stencilFunc($t,Ln,Rn),Be=$t,Ve=Ln,Ue=Rn)},setOp:function($t,Ln,Rn){(Le!==$t||Ze!==Ln||mt!==Rn)&&(t.stencilOp($t,Ln,Rn),Le=$t,Ze=Ln,mt=Rn)},setLocked:function($t){ce=$t},setClear:function($t){jt!==$t&&(t.clearStencil($t),jt=$t)},reset:function(){ce=!1,Ne=null,Be=null,Ve=null,Ue=null,Le=null,Ze=null,mt=null,jt=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let d={},u={},f=new WeakMap,g=[],v=null,y=!1,m=null,p=null,x=null,_=null,b=null,S=null,C=null,M=new pt(0,0,0),T=0,P=!1,N=null,I=null,k=null,j=null,F=null;const B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,H=0;const R=t.getParameter(t.VERSION);R.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(R)[1]),U=H>=1):R.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),U=H>=2);let L=null,z={};const W=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),q=new _n().fromArray(W),ne=new _n().fromArray(G);function ae(ce,Ne,Be,Ve){const Ue=new Uint8Array(4),Le=t.createTexture();t.bindTexture(ce,Le),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ze=0;Ze<Be;Ze++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(Ne,0,t.RGBA,1,1,Ve,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(Ne+Ze,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return Le}const se={};se[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),$(t.DEPTH_TEST),o.setFunc(Oh),me(!1),pe(XL),$(t.CULL_FACE),re(Pc);function $(ce){d[ce]!==!0&&(t.enable(ce),d[ce]=!0)}function Y(ce){d[ce]!==!1&&(t.disable(ce),d[ce]=!1)}function Q(ce,Ne){return u[ce]!==Ne?(t.bindFramebuffer(ce,Ne),u[ce]=Ne,ce===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Ne),ce===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Ne),!0):!1}function te(ce,Ne){let Be=g,Ve=!1;if(ce){Be=f.get(Ne),Be===void 0&&(Be=[],f.set(Ne,Be));const Ue=ce.textures;if(Be.length!==Ue.length||Be[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,Ze=Ue.length;Le<Ze;Le++)Be[Le]=t.COLOR_ATTACHMENT0+Le;Be.length=Ue.length,Ve=!0}}else Be[0]!==t.BACK&&(Be[0]=t.BACK,Ve=!0);Ve&&t.drawBuffers(Be)}function ue(ce){return v!==ce?(t.useProgram(ce),v=ce,!0):!1}const J={[Bu]:t.FUNC_ADD,[mde]:t.FUNC_SUBTRACT,[gde]:t.FUNC_REVERSE_SUBTRACT};J[vde]=t.MIN,J[yde]=t.MAX;const K={[xde]:t.ZERO,[_de]:t.ONE,[bde]:t.SRC_COLOR,[DM]:t.SRC_ALPHA,[Ade]:t.SRC_ALPHA_SATURATE,[Cde]:t.DST_COLOR,[Sde]:t.DST_ALPHA,[wde]:t.ONE_MINUS_SRC_COLOR,[LM]:t.ONE_MINUS_SRC_ALPHA,[Mde]:t.ONE_MINUS_DST_COLOR,[Ede]:t.ONE_MINUS_DST_ALPHA,[Tde]:t.CONSTANT_COLOR,[Pde]:t.ONE_MINUS_CONSTANT_COLOR,[Nde]:t.CONSTANT_ALPHA,[Rde]:t.ONE_MINUS_CONSTANT_ALPHA};function re(ce,Ne,Be,Ve,Ue,Le,Ze,mt,jt,$t){if(ce===Pc){y===!0&&(Y(t.BLEND),y=!1);return}if(y===!1&&($(t.BLEND),y=!0),ce!==pde){if(ce!==m||$t!==P){if((p!==Bu||b!==Bu)&&(t.blendEquation(t.FUNC_ADD),p=Bu,b=Bu),$t)switch(ce){case rh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qL:t.blendFunc(t.ONE,t.ONE);break;case KL:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case YL:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case rh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qL:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case KL:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case YL:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}x=null,_=null,S=null,C=null,M.set(0,0,0),T=0,m=ce,P=$t}return}Ue=Ue||Ne,Le=Le||Be,Ze=Ze||Ve,(Ne!==p||Ue!==b)&&(t.blendEquationSeparate(J[Ne],J[Ue]),p=Ne,b=Ue),(Be!==x||Ve!==_||Le!==S||Ze!==C)&&(t.blendFuncSeparate(K[Be],K[Ve],K[Le],K[Ze]),x=Be,_=Ve,S=Le,C=Ze),(mt.equals(M)===!1||jt!==T)&&(t.blendColor(mt.r,mt.g,mt.b,jt),M.copy(mt),T=jt),m=ce,P=!1}function fe(ce,Ne){ce.side===Ea?Y(t.CULL_FACE):$(t.CULL_FACE);let Be=ce.side===Ui;Ne&&(Be=!Be),me(Be),ce.blending===rh&&ce.transparent===!1?re(Pc):re(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const Ve=ce.stencilWrite;a.setTest(Ve),Ve&&(a.setMask(ce.stencilWriteMask),a.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),a.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ce(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?$(t.SAMPLE_ALPHA_TO_COVERAGE):Y(t.SAMPLE_ALPHA_TO_COVERAGE)}function me(ce){N!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),N=ce)}function pe(ce){ce!==dde?($(t.CULL_FACE),ce!==I&&(ce===XL?t.cullFace(t.BACK):ce===fde?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Y(t.CULL_FACE),I=ce}function Ae(ce){ce!==k&&(U&&t.lineWidth(ce),k=ce)}function Ce(ce,Ne,Be){ce?($(t.POLYGON_OFFSET_FILL),(j!==Ne||F!==Be)&&(t.polygonOffset(Ne,Be),j=Ne,F=Be)):Y(t.POLYGON_OFFSET_FILL)}function ke(ce){ce?$(t.SCISSOR_TEST):Y(t.SCISSOR_TEST)}function rt(ce){ce===void 0&&(ce=t.TEXTURE0+B-1),L!==ce&&(t.activeTexture(ce),L=ce)}function Je(ce,Ne,Be){Be===void 0&&(L===null?Be=t.TEXTURE0+B-1:Be=L);let Ve=z[Be];Ve===void 0&&(Ve={type:void 0,texture:void 0},z[Be]=Ve),(Ve.type!==ce||Ve.texture!==Ne)&&(L!==Be&&(t.activeTexture(Be),L=Be),t.bindTexture(ce,Ne||se[ce]),Ve.type=ce,Ve.texture=Ne)}function ie(){const ce=z[L];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Z(){try{t.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ve(){try{t.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Se(){try{t.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ie(){try{t.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Me(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ct(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function He(){try{t.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function lt(){try{t.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ge(){try{t.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function $e(){try{t.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function it(ce){q.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),q.copy(ce))}function Ct(ce){ne.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),ne.copy(ce))}function he(ce,Ne){let Be=c.get(Ne);Be===void 0&&(Be=new WeakMap,c.set(Ne,Be));let Ve=Be.get(ce);Ve===void 0&&(Ve=t.getUniformBlockIndex(Ne,ce.name),Be.set(ce,Ve))}function Ee(ce,Ne){const Ve=c.get(Ne).get(ce);l.get(Ne)!==Ve&&(t.uniformBlockBinding(Ne,Ve,ce.__bindingPointIndex),l.set(Ne,Ve))}function Ye(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},L=null,z={},u={},f=new WeakMap,g=[],v=null,y=!1,m=null,p=null,x=null,_=null,b=null,S=null,C=null,M=new pt(0,0,0),T=0,P=!1,N=null,I=null,k=null,j=null,F=null,q.set(0,0,t.canvas.width,t.canvas.height),ne.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:$,disable:Y,bindFramebuffer:Q,drawBuffers:te,useProgram:ue,setBlending:re,setMaterial:fe,setFlipSided:me,setCullFace:pe,setLineWidth:Ae,setPolygonOffset:Ce,setScissorTest:ke,activeTexture:rt,bindTexture:Je,unbindTexture:ie,compressedTexImage2D:Z,compressedTexImage3D:ve,texImage2D:Ge,texImage3D:$e,updateUBOMapping:he,uniformBlockBinding:Ee,texStorage2D:He,texStorage3D:lt,texSubImage2D:Se,texSubImage3D:Ie,compressedTexSubImage2D:Me,compressedTexSubImage3D:ct,scissor:it,viewport:Ct,reset:Ye}}function dvt(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ze,d=new WeakMap;let u;const f=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ie,Z){return g?new OffscreenCanvas(ie,Z):U_("canvas")}function y(ie,Z,ve){let Se=1;const Ie=Je(ie);if((Ie.width>ve||Ie.height>ve)&&(Se=ve/Math.max(Ie.width,Ie.height)),Se<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Me=Math.floor(Se*Ie.width),ct=Math.floor(Se*Ie.height);u===void 0&&(u=v(Me,ct));const He=Z?v(Me,ct):u;return He.width=Me,He.height=ct,He.getContext("2d").drawImage(ie,0,0,Me,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Me+"x"+ct+")."),He}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),ie;return ie}function m(ie){return ie.generateMipmaps}function p(ie){t.generateMipmap(ie)}function x(ie){return ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?t.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(ie,Z,ve,Se,Ie=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Me=Z;if(Z===t.RED&&(ve===t.FLOAT&&(Me=t.R32F),ve===t.HALF_FLOAT&&(Me=t.R16F),ve===t.UNSIGNED_BYTE&&(Me=t.R8)),Z===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.R8UI),ve===t.UNSIGNED_SHORT&&(Me=t.R16UI),ve===t.UNSIGNED_INT&&(Me=t.R32UI),ve===t.BYTE&&(Me=t.R8I),ve===t.SHORT&&(Me=t.R16I),ve===t.INT&&(Me=t.R32I)),Z===t.RG&&(ve===t.FLOAT&&(Me=t.RG32F),ve===t.HALF_FLOAT&&(Me=t.RG16F),ve===t.UNSIGNED_BYTE&&(Me=t.RG8)),Z===t.RG_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RG8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RG16UI),ve===t.UNSIGNED_INT&&(Me=t.RG32UI),ve===t.BYTE&&(Me=t.RG8I),ve===t.SHORT&&(Me=t.RG16I),ve===t.INT&&(Me=t.RG32I)),Z===t.RGB_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGB8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGB16UI),ve===t.UNSIGNED_INT&&(Me=t.RGB32UI),ve===t.BYTE&&(Me=t.RGB8I),ve===t.SHORT&&(Me=t.RGB16I),ve===t.INT&&(Me=t.RGB32I)),Z===t.RGBA_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGBA8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGBA16UI),ve===t.UNSIGNED_INT&&(Me=t.RGBA32UI),ve===t.BYTE&&(Me=t.RGBA8I),ve===t.SHORT&&(Me=t.RGBA16I),ve===t.INT&&(Me=t.RGBA32I)),Z===t.RGB&&(ve===t.UNSIGNED_INT_5_9_9_9_REV&&(Me=t.RGB9_E5),ve===t.UNSIGNED_INT_10F_11F_11F_REV&&(Me=t.R11F_G11F_B10F)),Z===t.RGBA){const ct=Ie?F_:gn.getTransfer(Se);ve===t.FLOAT&&(Me=t.RGBA32F),ve===t.HALF_FLOAT&&(Me=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Me=ct===jn?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Me=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Me=t.RGB5_A1)}return(Me===t.R16F||Me===t.R32F||Me===t.RG16F||Me===t.RG32F||Me===t.RGBA16F||Me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function b(ie,Z){let ve;return ie?Z===null||Z===Vc||Z===fv?ve=t.DEPTH24_STENCIL8:Z===As?ve=t.DEPTH32F_STENCIL8:Z===dv&&(ve=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Vc||Z===fv?ve=t.DEPTH_COMPONENT24:Z===As?ve=t.DEPTH_COMPONENT32F:Z===dv&&(ve=t.DEPTH_COMPONENT16),ve}function S(ie,Z){return m(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==bi&&ie.minFilter!==ni?Math.log2(Math.max(Z.width,Z.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?Z.mipmaps.length:1}function C(ie){const Z=ie.target;Z.removeEventListener("dispose",C),T(Z),Z.isVideoTexture&&d.delete(Z)}function M(ie){const Z=ie.target;Z.removeEventListener("dispose",M),N(Z)}function T(ie){const Z=r.get(ie);if(Z.__webglInit===void 0)return;const ve=ie.source,Se=f.get(ve);if(Se){const Ie=Se[Z.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&P(ie),Object.keys(Se).length===0&&f.delete(ve)}r.remove(ie)}function P(ie){const Z=r.get(ie);t.deleteTexture(Z.__webglTexture);const ve=ie.source,Se=f.get(ve);delete Se[Z.__cacheKey],o.memory.textures--}function N(ie){const Z=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(Z.__webglFramebuffer[Se]))for(let Ie=0;Ie<Z.__webglFramebuffer[Se].length;Ie++)t.deleteFramebuffer(Z.__webglFramebuffer[Se][Ie]);else t.deleteFramebuffer(Z.__webglFramebuffer[Se]);Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer[Se])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Se=0;Se<Z.__webglFramebuffer.length;Se++)t.deleteFramebuffer(Z.__webglFramebuffer[Se]);else t.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Se=0;Se<Z.__webglColorRenderbuffer.length;Se++)Z.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(Z.__webglColorRenderbuffer[Se]);Z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const ve=ie.textures;for(let Se=0,Ie=ve.length;Se<Ie;Se++){const Me=r.get(ve[Se]);Me.__webglTexture&&(t.deleteTexture(Me.__webglTexture),o.memory.textures--),r.remove(ve[Se])}r.remove(ie)}let I=0;function k(){I=0}function j(){const ie=I;return ie>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),I+=1,ie}function F(ie){const Z=[];return Z.push(ie.wrapS),Z.push(ie.wrapT),Z.push(ie.wrapR||0),Z.push(ie.magFilter),Z.push(ie.minFilter),Z.push(ie.anisotropy),Z.push(ie.internalFormat),Z.push(ie.format),Z.push(ie.type),Z.push(ie.generateMipmaps),Z.push(ie.premultiplyAlpha),Z.push(ie.flipY),Z.push(ie.unpackAlignment),Z.push(ie.colorSpace),Z.join()}function B(ie,Z){const ve=r.get(ie);if(ie.isVideoTexture&&ke(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&ve.__version!==ie.version){const Se=ie.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ve,ie,Z);return}}else ie.isExternalTexture&&(ve.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+Z)}function U(ie,Z){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){se(ve,ie,Z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+Z)}function H(ie,Z){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){se(ve,ie,Z);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+Z)}function R(ie,Z){const ve=r.get(ie);if(ie.version>0&&ve.__version!==ie.version){$(ve,ie,Z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+Z)}const L={[k_]:t.REPEAT,[Uo]:t.CLAMP_TO_EDGE,[D_]:t.MIRRORED_REPEAT},z={[bi]:t.NEAREST,[VB]:t.NEAREST_MIPMAP_NEAREST,[Pm]:t.NEAREST_MIPMAP_LINEAR,[ni]:t.LINEAR,[tx]:t.LINEAR_MIPMAP_NEAREST,[gl]:t.LINEAR_MIPMAP_LINEAR},W={[Xde]:t.NEVER,[Jde]:t.ALWAYS,[qde]:t.LESS,[JB]:t.LEQUAL,[Kde]:t.EQUAL,[Qde]:t.GEQUAL,[Yde]:t.GREATER,[Zde]:t.NOTEQUAL};function G(ie,Z){if(Z.type===As&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===ni||Z.magFilter===tx||Z.magFilter===Pm||Z.magFilter===gl||Z.minFilter===ni||Z.minFilter===tx||Z.minFilter===Pm||Z.minFilter===gl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,L[Z.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,L[Z.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,L[Z.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,z[Z.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,z[Z.minFilter]),Z.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,W[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===bi||Z.minFilter!==Pm&&Z.minFilter!==gl||Z.type===As&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||r.get(Z).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy}}}function q(ie,Z){let ve=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,Z.addEventListener("dispose",C));const Se=Z.source;let Ie=f.get(Se);Ie===void 0&&(Ie={},f.set(Se,Ie));const Me=F(Z);if(Me!==ie.__cacheKey){Ie[Me]===void 0&&(Ie[Me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),Ie[Me].usedTimes++;const ct=Ie[ie.__cacheKey];ct!==void 0&&(Ie[ie.__cacheKey].usedTimes--,ct.usedTimes===0&&P(Z)),ie.__cacheKey=Me,ie.__webglTexture=Ie[Me].texture}return ve}function ne(ie,Z,ve){return Math.floor(Math.floor(ie/ve)/Z)}function ae(ie,Z,ve,Se){const Me=ie.updateRanges;if(Me.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Z.width,Z.height,ve,Se,Z.data);else{Me.sort(($e,it)=>$e.start-it.start);let ct=0;for(let $e=1;$e<Me.length;$e++){const it=Me[ct],Ct=Me[$e],he=it.start+it.count,Ee=ne(Ct.start,Z.width,4),Ye=ne(it.start,Z.width,4);Ct.start<=he+1&&Ee===Ye&&ne(Ct.start+Ct.count-1,Z.width,4)===Ee?it.count=Math.max(it.count,Ct.start+Ct.count-it.start):(++ct,Me[ct]=Ct)}Me.length=ct+1;const He=t.getParameter(t.UNPACK_ROW_LENGTH),lt=t.getParameter(t.UNPACK_SKIP_PIXELS),Ge=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Z.width);for(let $e=0,it=Me.length;$e<it;$e++){const Ct=Me[$e],he=Math.floor(Ct.start/4),Ee=Math.ceil(Ct.count/4),Ye=he%Z.width,ce=Math.floor(he/Z.width),Ne=Ee,Be=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ye),t.pixelStorei(t.UNPACK_SKIP_ROWS,ce),n.texSubImage2D(t.TEXTURE_2D,0,Ye,ce,Ne,Be,ve,Se,Z.data)}ie.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,He),t.pixelStorei(t.UNPACK_SKIP_PIXELS,lt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Ge)}}function se(ie,Z,ve){let Se=t.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Se=t.TEXTURE_3D);const Ie=q(ie,Z),Me=Z.source;n.bindTexture(Se,ie.__webglTexture,t.TEXTURE0+ve);const ct=r.get(Me);if(Me.version!==ct.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ve);const He=gn.getPrimaries(gn.workingColorSpace),lt=Z.colorSpace===vc?null:gn.getPrimaries(Z.colorSpace),Ge=Z.colorSpace===vc||He===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);let $e=y(Z.image,!1,i.maxTextureSize);$e=rt(Z,$e);const it=s.convert(Z.format,Z.colorSpace),Ct=s.convert(Z.type);let he=_(Z.internalFormat,it,Ct,Z.colorSpace,Z.isVideoTexture);G(Se,Z);let Ee;const Ye=Z.mipmaps,ce=Z.isVideoTexture!==!0,Ne=ct.__version===void 0||Ie===!0,Be=Me.dataReady,Ve=S(Z,$e);if(Z.isDepthTexture)he=b(Z.format===pv,Z.type),Ne&&(ce?n.texStorage2D(t.TEXTURE_2D,1,he,$e.width,$e.height):n.texImage2D(t.TEXTURE_2D,0,he,$e.width,$e.height,0,it,Ct,null));else if(Z.isDataTexture)if(Ye.length>0){ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,Ye[0].width,Ye[0].height);for(let Ue=0,Le=Ye.length;Ue<Le;Ue++)Ee=Ye[Ue],ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,it,Ct,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,it,Ct,Ee.data);Z.generateMipmaps=!1}else ce?(Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,$e.width,$e.height),Be&&ae(Z,$e,it,Ct)):n.texImage2D(t.TEXTURE_2D,0,he,$e.width,$e.height,0,it,Ct,$e.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){ce&&Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,he,Ye[0].width,Ye[0].height,$e.depth);for(let Ue=0,Le=Ye.length;Ue<Le;Ue++)if(Ee=Ye[Ue],Z.format!==Bi)if(it!==null)if(ce){if(Be)if(Z.layerUpdates.size>0){const Ze=aj(Ee.width,Ee.height,Z.format,Z.type);for(const mt of Z.layerUpdates){const jt=Ee.data.subarray(mt*Ze/Ee.data.BYTES_PER_ELEMENT,(mt+1)*Ze/Ee.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,mt,Ee.width,Ee.height,1,it,jt)}Z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,$e.depth,it,Ee.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,$e.depth,0,Ee.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?Be&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,$e.depth,it,Ct,Ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,$e.depth,0,it,Ct,Ee.data)}else{ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,Ye[0].width,Ye[0].height);for(let Ue=0,Le=Ye.length;Ue<Le;Ue++)Ee=Ye[Ue],Z.format!==Bi?it!==null?ce?Be&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,it,Ee.data):n.compressedTexImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,it,Ct,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,it,Ct,Ee.data)}else if(Z.isDataArrayTexture)if(ce){if(Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,he,$e.width,$e.height,$e.depth),Be)if(Z.layerUpdates.size>0){const Ue=aj($e.width,$e.height,Z.format,Z.type);for(const Le of Z.layerUpdates){const Ze=$e.data.subarray(Le*Ue/$e.data.BYTES_PER_ELEMENT,(Le+1)*Ue/$e.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,$e.width,$e.height,1,it,Ct,Ze)}Z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,it,Ct,$e.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,$e.width,$e.height,$e.depth,0,it,Ct,$e.data);else if(Z.isData3DTexture)ce?(Ne&&n.texStorage3D(t.TEXTURE_3D,Ve,he,$e.width,$e.height,$e.depth),Be&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,it,Ct,$e.data)):n.texImage3D(t.TEXTURE_3D,0,he,$e.width,$e.height,$e.depth,0,it,Ct,$e.data);else if(Z.isFramebufferTexture){if(Ne)if(ce)n.texStorage2D(t.TEXTURE_2D,Ve,he,$e.width,$e.height);else{let Ue=$e.width,Le=$e.height;for(let Ze=0;Ze<Ve;Ze++)n.texImage2D(t.TEXTURE_2D,Ze,he,Ue,Le,0,it,Ct,null),Ue>>=1,Le>>=1}}else if(Ye.length>0){if(ce&&Ne){const Ue=Je(Ye[0]);n.texStorage2D(t.TEXTURE_2D,Ve,he,Ue.width,Ue.height)}for(let Ue=0,Le=Ye.length;Ue<Le;Ue++)Ee=Ye[Ue],ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,it,Ct,Ee):n.texImage2D(t.TEXTURE_2D,Ue,he,it,Ct,Ee);Z.generateMipmaps=!1}else if(ce){if(Ne){const Ue=Je($e);n.texStorage2D(t.TEXTURE_2D,Ve,he,Ue.width,Ue.height)}Be&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,it,Ct,$e)}else n.texImage2D(t.TEXTURE_2D,0,he,it,Ct,$e);m(Z)&&p(Se),ct.__version=Me.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function $(ie,Z,ve){if(Z.image.length!==6)return;const Se=q(ie,Z),Ie=Z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+ve);const Me=r.get(Ie);if(Ie.version!==Me.__version||Se===!0){n.activeTexture(t.TEXTURE0+ve);const ct=gn.getPrimaries(gn.workingColorSpace),He=Z.colorSpace===vc?null:gn.getPrimaries(Z.colorSpace),lt=Z.colorSpace===vc||ct===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const Ge=Z.isCompressedTexture||Z.image[0].isCompressedTexture,$e=Z.image[0]&&Z.image[0].isDataTexture,it=[];for(let Le=0;Le<6;Le++)!Ge&&!$e?it[Le]=y(Z.image[Le],!0,i.maxCubemapSize):it[Le]=$e?Z.image[Le].image:Z.image[Le],it[Le]=rt(Z,it[Le]);const Ct=it[0],he=s.convert(Z.format,Z.colorSpace),Ee=s.convert(Z.type),Ye=_(Z.internalFormat,he,Ee,Z.colorSpace),ce=Z.isVideoTexture!==!0,Ne=Me.__version===void 0||Se===!0,Be=Ie.dataReady;let Ve=S(Z,Ct);G(t.TEXTURE_CUBE_MAP,Z);let Ue;if(Ge){ce&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ve,Ye,Ct.width,Ct.height);for(let Le=0;Le<6;Le++){Ue=it[Le].mipmaps;for(let Ze=0;Ze<Ue.length;Ze++){const mt=Ue[Ze];Z.format!==Bi?he!==null?ce?Be&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze,0,0,mt.width,mt.height,he,mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze,Ye,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze,0,0,mt.width,mt.height,he,Ee,mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze,Ye,mt.width,mt.height,0,he,Ee,mt.data)}}}else{if(Ue=Z.mipmaps,ce&&Ne){Ue.length>0&&Ve++;const Le=Je(it[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ve,Ye,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if($e){ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,it[Le].width,it[Le].height,he,Ee,it[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Ye,it[Le].width,it[Le].height,0,he,Ee,it[Le].data);for(let Ze=0;Ze<Ue.length;Ze++){const jt=Ue[Ze].image[Le].image;ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze+1,0,0,jt.width,jt.height,he,Ee,jt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze+1,Ye,jt.width,jt.height,0,he,Ee,jt.data)}}else{ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,he,Ee,it[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Ye,he,Ee,it[Le]);for(let Ze=0;Ze<Ue.length;Ze++){const mt=Ue[Ze];ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze+1,0,0,he,Ee,mt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ze+1,Ye,he,Ee,mt.image[Le])}}}m(Z)&&p(t.TEXTURE_CUBE_MAP),Me.__version=Ie.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function Y(ie,Z,ve,Se,Ie,Me){const ct=s.convert(ve.format,ve.colorSpace),He=s.convert(ve.type),lt=_(ve.internalFormat,ct,He,ve.colorSpace),Ge=r.get(Z),$e=r.get(ve);if($e.__renderTarget=Z,!Ge.__hasExternalTextures){const it=Math.max(1,Z.width>>Me),Ct=Math.max(1,Z.height>>Me);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,Me,lt,it,Ct,Z.depth,0,ct,He,null):n.texImage2D(Ie,Me,lt,it,Ct,0,ct,He,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Ie,$e.__webglTexture,0,Ae(Z)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Ie,$e.__webglTexture,Me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Q(ie,Z,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),Z.depthBuffer){const Se=Z.depthTexture,Ie=Se&&Se.isDepthTexture?Se.type:null,Me=b(Z.stencilBuffer,Ie),ct=Z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,He=Ae(Z);Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,Me,Z.width,Z.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,Me,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,Me,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ct,t.RENDERBUFFER,ie)}else{const Se=Z.textures;for(let Ie=0;Ie<Se.length;Ie++){const Me=Se[Ie],ct=s.convert(Me.format,Me.colorSpace),He=s.convert(Me.type),lt=_(Me.internalFormat,ct,He,Me.colorSpace),Ge=Ae(Z);ve&&Ce(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ge,lt,Z.width,Z.height):Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ge,lt,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,lt,Z.width,Z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function te(ie,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(Z.depthTexture);Se.__renderTarget=Z,(!Se.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),B(Z.depthTexture,0);const Ie=Se.__webglTexture,Me=Ae(Z);if(Z.depthTexture.format===hv)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(Z.depthTexture.format===pv)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function ue(ie){const Z=r.get(ie),ve=ie.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==ie.depthTexture){const Se=ie.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Se){const Ie=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Se.removeEventListener("dispose",Ie)};Se.addEventListener("dispose",Ie),Z.__depthDisposeCallback=Ie}Z.__boundDepthTexture=Se}if(ie.depthTexture&&!Z.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");const Se=ie.texture.mipmaps;Se&&Se.length>0?te(Z.__webglFramebuffer[0],ie):te(Z.__webglFramebuffer,ie)}else if(ve){Z.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[Se]),Z.__webglDepthbuffer[Se]===void 0)Z.__webglDepthbuffer[Se]=t.createRenderbuffer(),Q(Z.__webglDepthbuffer[Se],ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer[Se];t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}else{const Se=ie.texture.mipmaps;if(Se&&Se.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=t.createRenderbuffer(),Q(Z.__webglDepthbuffer,ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(ie,Z,ve){const Se=r.get(ie);Z!==void 0&&Y(Se.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&ue(ie)}function K(ie){const Z=ie.texture,ve=r.get(ie),Se=r.get(Z);ie.addEventListener("dispose",M);const Ie=ie.textures,Me=ie.isWebGLCubeRenderTarget===!0,ct=Ie.length>1;if(ct||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=Z.version,o.memory.textures++),Me){ve.__webglFramebuffer=[];for(let He=0;He<6;He++)if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer[He]=[];for(let lt=0;lt<Z.mipmaps.length;lt++)ve.__webglFramebuffer[He][lt]=t.createFramebuffer()}else ve.__webglFramebuffer[He]=t.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer=[];for(let He=0;He<Z.mipmaps.length;He++)ve.__webglFramebuffer[He]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(ct)for(let He=0,lt=Ie.length;He<lt;He++){const Ge=r.get(Ie[He]);Ge.__webglTexture===void 0&&(Ge.__webglTexture=t.createTexture(),o.memory.textures++)}if(ie.samples>0&&Ce(ie)===!1){ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let He=0;He<Ie.length;He++){const lt=Ie[He];ve.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[He]);const Ge=s.convert(lt.format,lt.colorSpace),$e=s.convert(lt.type),it=_(lt.internalFormat,Ge,$e,lt.colorSpace,ie.isXRRenderTarget===!0),Ct=Ae(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ct,it,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,ve.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(ve.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Me){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),G(t.TEXTURE_CUBE_MAP,Z);for(let He=0;He<6;He++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)Y(ve.__webglFramebuffer[He][lt],ie,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,lt);else Y(ve.__webglFramebuffer[He],ie,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0);m(Z)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ct){for(let He=0,lt=Ie.length;He<lt;He++){const Ge=Ie[He],$e=r.get(Ge);let it=t.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(it=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(it,$e.__webglTexture),G(it,Ge),Y(ve.__webglFramebuffer,ie,Ge,t.COLOR_ATTACHMENT0+He,it,0),m(Ge)&&p(it)}n.unbindTexture()}else{let He=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(He=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(He,Se.__webglTexture),G(He,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)Y(ve.__webglFramebuffer[lt],ie,Z,t.COLOR_ATTACHMENT0,He,lt);else Y(ve.__webglFramebuffer,ie,Z,t.COLOR_ATTACHMENT0,He,0);m(Z)&&p(He),n.unbindTexture()}ie.depthBuffer&&ue(ie)}function re(ie){const Z=ie.textures;for(let ve=0,Se=Z.length;ve<Se;ve++){const Ie=Z[ve];if(m(Ie)){const Me=x(ie),ct=r.get(Ie).__webglTexture;n.bindTexture(Me,ct),p(Me),n.unbindTexture()}}}const fe=[],me=[];function pe(ie){if(ie.samples>0){if(Ce(ie)===!1){const Z=ie.textures,ve=ie.width,Se=ie.height;let Ie=t.COLOR_BUFFER_BIT;const Me=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ct=r.get(ie),He=Z.length>1;if(He)for(let Ge=0;Ge<Z.length;Ge++)n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const lt=ie.texture.mipmaps;lt&&lt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Ge=0;Ge<Z.length;Ge++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),He){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ct.__webglColorRenderbuffer[Ge]);const $e=r.get(Z[Ge]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,$e,0)}t.blitFramebuffer(0,0,ve,Se,0,0,ve,Se,Ie,t.NEAREST),l===!0&&(fe.length=0,me.length=0,fe.push(t.COLOR_ATTACHMENT0+Ge),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(fe.push(Me),me.push(Me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let Ge=0;Ge<Z.length;Ge++){n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.RENDERBUFFER,ct.__webglColorRenderbuffer[Ge]);const $e=r.get(Z[Ge]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.TEXTURE_2D,$e,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const Z=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Z])}}}function Ae(ie){return Math.min(i.maxSamples,ie.samples)}function Ce(ie){const Z=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function ke(ie){const Z=o.render.frame;d.get(ie)!==Z&&(d.set(ie,Z),ie.update())}function rt(ie,Z){const ve=ie.colorSpace,Se=ie.format,Ie=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||ve!==Ih&&ve!==vc&&(gn.getTransfer(ve)===jn?(Se!==Bi||Ie!==qo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),Z}function Je(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=k,this.setTexture2D=B,this.setTexture2DArray=U,this.setTexture3D=H,this.setTextureCube=R,this.rebindTextures=J,this.setupRenderTarget=K,this.updateRenderTargetMipmap=re,this.updateMultisampleRenderTarget=pe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=Y,this.useMultisampledRTT=Ce}function uhe(t,e){function n(r,i=vc){let s;const o=gn.getTransfer(i);if(r===qo)return t.UNSIGNED_BYTE;if(r===jP)return t.UNSIGNED_SHORT_4_4_4_4;if(r===FP)return t.UNSIGNED_SHORT_5_5_5_1;if(r===XB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===qB)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===WB)return t.BYTE;if(r===GB)return t.SHORT;if(r===dv)return t.UNSIGNED_SHORT;if(r===LP)return t.INT;if(r===Vc)return t.UNSIGNED_INT;if(r===As)return t.FLOAT;if(r===ey)return t.HALF_FLOAT;if(r===KB)return t.ALPHA;if(r===YB)return t.RGB;if(r===Bi)return t.RGBA;if(r===hv)return t.DEPTH_COMPONENT;if(r===pv)return t.DEPTH_STENCIL;if(r===BP)return t.RED;if(r===ew)return t.RED_INTEGER;if(r===ZB)return t.RG;if(r===UP)return t.RG_INTEGER;if(r===zP)return t.RGBA_INTEGER;if(r===nx||r===rx||r===ix||r===sx)if(o===jn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===nx)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===rx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ix)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===sx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===nx)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===rx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ix)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===sx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===VM||r===WM||r===GM||r===XM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===VM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===WM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===GM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===XM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===qM||r===KM||r===YM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===qM||r===KM)return o===jn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===YM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===ZM||r===QM||r===JM||r===eA||r===tA||r===nA||r===rA||r===iA||r===sA||r===oA||r===aA||r===lA||r===cA||r===uA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===ZM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===QM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===JM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===eA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===tA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===nA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===rA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===iA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===sA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===oA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===aA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===lA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===cA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===uA)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===dA||r===fA||r===hA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===dA)return o===jn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===fA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===hA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===pA||r===mA||r===gA||r===vA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===pA)return s.COMPRESSED_RED_RGTC1_EXT;if(r===mA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===gA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===vA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===fv?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const fvt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,hvt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class pvt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new u5(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Ko({vertexShader:fvt,fragmentShader:hvt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new $r(new ny(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class mvt extends Gl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,u=null,f=null,g=null,v=null;const y=typeof XRWebGLBinding<"u",m=new pvt,p={},x=n.getContextAttributes();let _=null,b=null;const S=[],C=[],M=new ze;let T=null;const P=new gr;P.viewport=new _n;const N=new gr;N.viewport=new _n;const I=[P,N],k=new Jfe;let j=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let $=S[se];return $===void 0&&($=new CE,S[se]=$),$.getTargetRaySpace()},this.getControllerGrip=function(se){let $=S[se];return $===void 0&&($=new CE,S[se]=$),$.getGripSpace()},this.getHand=function(se){let $=S[se];return $===void 0&&($=new CE,S[se]=$),$.getHandSpace()};function B(se){const $=C.indexOf(se.inputSource);if($===-1)return;const Y=S[$];Y!==void 0&&(Y.update(se.inputSource,se.frame,c||o),Y.dispatchEvent({type:se.type,data:se.inputSource}))}function U(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",H);for(let se=0;se<S.length;se++){const $=C[se];$!==null&&(C[se]=null,S[se].disconnect($))}j=null,F=null,m.reset();for(const se in p)delete p[se];e.setRenderTarget(_),g=null,f=null,u=null,i=null,b=null,ae.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return f!==null?f:g},this.getBinding=function(){return u===null&&y&&(u=new XRWebGLBinding(i,n)),u},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",U),i.addEventListener("inputsourceschange",H),x.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(M),y&&"createProjectionLayer"in XRWebGLBinding.prototype){let Y=null,Q=null,te=null;x.depth&&(te=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Y=x.stencil?pv:hv,Q=x.stencil?fv:Vc);const ue={colorFormat:n.RGBA8,depthFormat:te,scaleFactor:s};u=this.getBinding(),f=u.createProjectionLayer(ue),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new Dl(f.textureWidth,f.textureHeight,{format:Bi,type:qo,depthTexture:new c5(f.textureWidth,f.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const Y={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,Y),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new Dl(g.framebufferWidth,g.framebufferHeight,{format:Bi,type:qo,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ae.setContext(i),ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function H(se){for(let $=0;$<se.removed.length;$++){const Y=se.removed[$],Q=C.indexOf(Y);Q>=0&&(C[Q]=null,S[Q].disconnect(Y))}for(let $=0;$<se.added.length;$++){const Y=se.added[$];let Q=C.indexOf(Y);if(Q===-1){for(let ue=0;ue<S.length;ue++)if(ue>=C.length){C.push(Y),Q=ue;break}else if(C[ue]===null){C[ue]=Y,Q=ue;break}if(Q===-1)break}const te=S[Q];te&&te.connect(Y)}}const R=new le,L=new le;function z(se,$,Y){R.setFromMatrixPosition($.matrixWorld),L.setFromMatrixPosition(Y.matrixWorld);const Q=R.distanceTo(L),te=$.projectionMatrix.elements,ue=Y.projectionMatrix.elements,J=te[14]/(te[10]-1),K=te[14]/(te[10]+1),re=(te[9]+1)/te[5],fe=(te[9]-1)/te[5],me=(te[8]-1)/te[0],pe=(ue[8]+1)/ue[0],Ae=J*me,Ce=J*pe,ke=Q/(-me+pe),rt=ke*-me;if($.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(rt),se.translateZ(ke),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),te[10]===-1)se.projectionMatrix.copy($.projectionMatrix),se.projectionMatrixInverse.copy($.projectionMatrixInverse);else{const Je=J+ke,ie=K+ke,Z=Ae-rt,ve=Ce+(Q-rt),Se=re*K/ie*Je,Ie=fe*K/ie*Je;se.projectionMatrix.makePerspective(Z,ve,Se,Ie,Je,ie),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function W(se,$){$===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices($.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let $=se.near,Y=se.far;m.texture!==null&&(m.depthNear>0&&($=m.depthNear),m.depthFar>0&&(Y=m.depthFar)),k.near=N.near=P.near=$,k.far=N.far=P.far=Y,(j!==k.near||F!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),j=k.near,F=k.far),k.layers.mask=se.layers.mask|6,P.layers.mask=k.layers.mask&3,N.layers.mask=k.layers.mask&5;const Q=se.parent,te=k.cameras;W(k,Q);for(let ue=0;ue<te.length;ue++)W(te[ue],Q);te.length===2?z(k,P,N):k.projectionMatrix.copy(P.projectionMatrix),G(se,k,Q)};function G(se,$,Y){Y===null?se.matrix.copy($.matrixWorld):(se.matrix.copy(Y.matrixWorld),se.matrix.invert(),se.matrix.multiply($.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy($.projectionMatrix),se.projectionMatrixInverse.copy($.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=gv*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(f===null&&g===null))return l},this.setFoveation=function(se){l=se,f!==null&&(f.fixedFoveation=se),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=se)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(k)},this.getCameraTexture=function(se){return p[se]};let q=null;function ne(se,$){if(d=$.getViewerPose(c||o),v=$,d!==null){const Y=d.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let Q=!1;Y.length!==k.cameras.length&&(k.cameras.length=0,Q=!0);for(let K=0;K<Y.length;K++){const re=Y[K];let fe=null;if(g!==null)fe=g.getViewport(re);else{const pe=u.getViewSubImage(f,re);fe=pe.viewport,K===0&&(e.setRenderTargetTextures(b,pe.colorTexture,pe.depthStencilTexture),e.setRenderTarget(b))}let me=I[K];me===void 0&&(me=new gr,me.layers.enable(K),me.viewport=new _n,I[K]=me),me.matrix.fromArray(re.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(re.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(fe.x,fe.y,fe.width,fe.height),K===0&&(k.matrix.copy(me.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),Q===!0&&k.cameras.push(me)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&y){u=r.getBinding();const K=u.getDepthInformation(Y[0]);K&&K.isValid&&K.texture&&m.init(K,i.renderState)}if(te&&te.includes("camera-access")&&y){e.state.unbindTexture(),u=r.getBinding();for(let K=0;K<Y.length;K++){const re=Y[K].camera;if(re){let fe=p[re];fe||(fe=new u5,p[re]=fe);const me=u.getCameraImage(re);fe.sourceTexture=me}}}}for(let Y=0;Y<S.length;Y++){const Q=C[Y],te=S[Y];Q!==null&&te!==void 0&&te.update(Q,$,c||o)}q&&q(se,$),$.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:$}),v=null}const ae=new she;ae.setAnimationLoop(ne),this.setAnimationLoop=function(se){q=se},this.dispose=function(){}}}const mf=new po,gvt=new Gt;function vvt(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function r(m,p){p.color.getRGB(m.fogColor.value,sfe(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function i(m,p,x,_,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),u(m,p)):p.isMeshPhongMaterial?(s(m,p),d(m,p)):p.isMeshStandardMaterial?(s(m,p),f(m,p),p.isMeshPhysicalMaterial&&g(m,p,b)):p.isMeshMatcapMaterial?(s(m,p),v(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),y(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,x,_):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===Ui&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===Ui&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const x=e.get(p),_=x.envMap,b=x.envMapRotation;_&&(m.envMap.value=_,mf.copy(b),mf.x*=-1,mf.y*=-1,mf.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(mf.y*=-1,mf.z*=-1),m.envMapRotation.value.setFromMatrix4(gvt.makeRotationFromEuler(mf)),m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap&&(m.lightMap.value=p.lightMap,m.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,m.lightMapTransform)),p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,x,_){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*x,m.scale.value=_*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function d(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function u(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function f(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),p.envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function g(m,p,x){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Ui&&m.clearcoatNormalScale.value.negate())),p.dispersion>0&&(m.dispersion.value=p.dispersion),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=x.texture,m.transmissionSamplerSize.value.set(x.width,x.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function v(m,p){p.matcap&&(m.matcap.value=p.matcap)}function y(m,p){const x=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(x.matrixWorld),m.nearDistance.value=x.shadow.camera.near,m.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function yvt(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,_){const b=_.program;r.uniformBlockBinding(x,b)}function c(x,_){let b=i[x.id];b===void 0&&(v(x),b=d(x),i[x.id]=b,x.addEventListener("dispose",m));const S=_.program;r.updateUBOMapping(x,S);const C=e.render.frame;s[x.id]!==C&&(f(x),s[x.id]=C)}function d(x){const _=u();x.__bindingPointIndex=_;const b=t.createBuffer(),S=x.__size,C=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,S,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function u(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(x){const _=i[x.id],b=x.uniforms,S=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,M=b.length;C<M;C++){const T=Array.isArray(b[C])?b[C]:[b[C]];for(let P=0,N=T.length;P<N;P++){const I=T[P];if(g(I,C,P,S)===!0){const k=I.__offset,j=Array.isArray(I.value)?I.value:[I.value];let F=0;for(let B=0;B<j.length;B++){const U=j[B],H=y(U);typeof U=="number"||typeof U=="boolean"?(I.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,k+F,I.__data)):U.isMatrix3?(I.__data[0]=U.elements[0],I.__data[1]=U.elements[1],I.__data[2]=U.elements[2],I.__data[3]=0,I.__data[4]=U.elements[3],I.__data[5]=U.elements[4],I.__data[6]=U.elements[5],I.__data[7]=0,I.__data[8]=U.elements[6],I.__data[9]=U.elements[7],I.__data[10]=U.elements[8],I.__data[11]=0):(U.toArray(I.__data,F),F+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(x,_,b,S){const C=x.value,M=_+"_"+b;if(S[M]===void 0)return typeof C=="number"||typeof C=="boolean"?S[M]=C:S[M]=C.clone(),!0;{const T=S[M];if(typeof C=="number"||typeof C=="boolean"){if(T!==C)return S[M]=C,!0}else if(T.equals(C)===!1)return T.copy(C),!0}return!1}function v(x){const _=x.uniforms;let b=0;const S=16;for(let M=0,T=_.length;M<T;M++){const P=Array.isArray(_[M])?_[M]:[_[M]];for(let N=0,I=P.length;N<I;N++){const k=P[N],j=Array.isArray(k.value)?k.value:[k.value];for(let F=0,B=j.length;F<B;F++){const U=j[F],H=y(U),R=b%S,L=R%H.boundary,z=R+L;b+=L,z!==0&&S-z<H.storage&&(b+=S-z),k.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=b,b+=H.storage}}}const C=b%S;return C>0&&(b+=S-C),x.__size=b,x.__cache={},this}function y(x){const _={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function m(x){const _=x.target;_.removeEventListener("dispose",m);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function p(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:p}}class dhe{constructor(e={}){const{canvas:n=nfe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const v=new Uint32Array(4),y=new Int32Array(4);let m=null,p=null;const x=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Al,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let S=!1;this._outputColorSpace=_s;let C=0,M=0,T=null,P=-1,N=null;const I=new _n,k=new _n;let j=null;const F=new pt(0);let B=0,U=n.width,H=n.height,R=1,L=null,z=null;const W=new _n(0,0,U,H),G=new _n(0,0,U,H);let q=!1;const ne=new ty;let ae=!1,se=!1;const $=new Gt,Y=new le,Q=new _n,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ue=!1;function J(){return T===null?R:1}let K=r;function re(oe,_e){return n.getContext(oe,_e)}try{const oe={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Qb}`),n.addEventListener("webglcontextlost",Be,!1),n.addEventListener("webglcontextrestored",Ve,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),K===null){const _e="webgl2";if(K=re(_e,oe),K===null)throw re(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let fe,me,pe,Ae,Ce,ke,rt,Je,ie,Z,ve,Se,Ie,Me,ct,He,lt,Ge,$e,it,Ct,he,Ee,Ye;function ce(){fe=new Nmt(K),fe.init(),he=new uhe(K,fe),me=new Smt(K,fe,e,he),pe=new uvt(K,fe),me.reversedDepthBuffer&&f&&pe.buffers.depth.setReversed(!0),Ae=new Imt(K),Ce=new Zgt,ke=new dvt(K,fe,pe,Ce,me,he,Ae),rt=new Cmt(b),Je=new Pmt(b),ie=new Bft(K),Ee=new bmt(K,ie),Z=new Rmt(K,ie,Ae,Ee),ve=new Dmt(K,Z,ie,Ae),$e=new kmt(K,me,ke),He=new Emt(Ce),Se=new Ygt(b,rt,Je,fe,me,Ee,He),Ie=new vvt(b,Ce),Me=new Jgt,ct=new svt(fe),Ge=new _mt(b,rt,Je,pe,ve,g,l),lt=new lvt(b,ve,me),Ye=new yvt(K,Ae,me,pe),it=new wmt(K,fe,Ae),Ct=new Omt(K,fe,Ae),Ae.programs=Se.programs,b.capabilities=me,b.extensions=fe,b.properties=Ce,b.renderLists=Me,b.shadowMap=lt,b.state=pe,b.info=Ae}ce();const Ne=new mvt(b,K);this.xr=Ne,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(oe){oe!==void 0&&(R=oe,this.setSize(U,H,!1))},this.getSize=function(oe){return oe.set(U,H)},this.setSize=function(oe,_e,Pe=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=oe,H=_e,n.width=Math.floor(oe*R),n.height=Math.floor(_e*R),Pe===!0&&(n.style.width=oe+"px",n.style.height=_e+"px"),this.setViewport(0,0,oe,_e)},this.getDrawingBufferSize=function(oe){return oe.set(U*R,H*R).floor()},this.setDrawingBufferSize=function(oe,_e,Pe){U=oe,H=_e,R=Pe,n.width=Math.floor(oe*Pe),n.height=Math.floor(_e*Pe),this.setViewport(0,0,oe,_e)},this.getCurrentViewport=function(oe){return oe.copy(I)},this.getViewport=function(oe){return oe.copy(W)},this.setViewport=function(oe,_e,Pe,Re){oe.isVector4?W.set(oe.x,oe.y,oe.z,oe.w):W.set(oe,_e,Pe,Re),pe.viewport(I.copy(W).multiplyScalar(R).round())},this.getScissor=function(oe){return oe.copy(G)},this.setScissor=function(oe,_e,Pe,Re){oe.isVector4?G.set(oe.x,oe.y,oe.z,oe.w):G.set(oe,_e,Pe,Re),pe.scissor(k.copy(G).multiplyScalar(R).round())},this.getScissorTest=function(){return q},this.setScissorTest=function(oe){pe.setScissorTest(q=oe)},this.setOpaqueSort=function(oe){L=oe},this.setTransparentSort=function(oe){z=oe},this.getClearColor=function(oe){return oe.copy(Ge.getClearColor())},this.setClearColor=function(){Ge.setClearColor(...arguments)},this.getClearAlpha=function(){return Ge.getClearAlpha()},this.setClearAlpha=function(){Ge.setClearAlpha(...arguments)},this.clear=function(oe=!0,_e=!0,Pe=!0){let Re=0;if(oe){let be=!1;if(T!==null){const Ke=T.texture.format;be=Ke===zP||Ke===UP||Ke===ew}if(be){const Ke=T.texture.type,ut=Ke===qo||Ke===Vc||Ke===dv||Ke===fv||Ke===jP||Ke===FP,yt=Ge.getClearColor(),gt=Ge.getClearAlpha(),It=yt.r,Ot=yt.g,bt=yt.b;ut?(v[0]=It,v[1]=Ot,v[2]=bt,v[3]=gt,K.clearBufferuiv(K.COLOR,0,v)):(y[0]=It,y[1]=Ot,y[2]=bt,y[3]=gt,K.clearBufferiv(K.COLOR,0,y))}else Re|=K.COLOR_BUFFER_BIT}_e&&(Re|=K.DEPTH_BUFFER_BIT),Pe&&(Re|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Be,!1),n.removeEventListener("webglcontextrestored",Ve,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),Ge.dispose(),Me.dispose(),ct.dispose(),Ce.dispose(),rt.dispose(),Je.dispose(),ve.dispose(),Ee.dispose(),Ye.dispose(),Se.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Rn),Ne.removeEventListener("sessionend",ta),cs.stop()};function Be(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const oe=Ae.autoReset,_e=lt.enabled,Pe=lt.autoUpdate,Re=lt.needsUpdate,be=lt.type;ce(),Ae.autoReset=oe,lt.enabled=_e,lt.autoUpdate=Pe,lt.needsUpdate=Re,lt.type=be}function Ue(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Le(oe){const _e=oe.target;_e.removeEventListener("dispose",Le),Ze(_e)}function Ze(oe){mt(oe),Ce.remove(oe)}function mt(oe){const _e=Ce.get(oe).programs;_e!==void 0&&(_e.forEach(function(Pe){Se.releaseProgram(Pe)}),oe.isShaderMaterial&&Se.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,_e,Pe,Re,be,Ke){_e===null&&(_e=te);const ut=be.isMesh&&be.matrixWorld.determinant()<0,yt=op(oe,_e,Pe,Re,be);pe.setMaterial(Re,ut);let gt=Pe.index,It=1;if(Re.wireframe===!0){if(gt=Z.getWireframeAttribute(Pe),gt===void 0)return;It=2}const Ot=Pe.drawRange,bt=Pe.attributes.position;let St=Ot.start*It,Nt=(Ot.start+Ot.count)*It;Ke!==null&&(St=Math.max(St,Ke.start*It),Nt=Math.min(Nt,(Ke.start+Ke.count)*It)),gt!==null?(St=Math.max(St,0),Nt=Math.min(Nt,gt.count)):bt!=null&&(St=Math.max(St,0),Nt=Math.min(Nt,bt.count));const yn=Nt-St;if(yn<0||yn===1/0)return;Ee.setup(be,Re,yt,Pe,gt);let qt,Kt=it;if(gt!==null&&(qt=ie.get(gt),Kt=Ct,Kt.setIndex(qt)),be.isMesh)Re.wireframe===!0?(pe.setLineWidth(Re.wireframeLinewidth*J()),Kt.setMode(K.LINES)):Kt.setMode(K.TRIANGLES);else if(be.isLine){let Mt=Re.linewidth;Mt===void 0&&(Mt=1),pe.setLineWidth(Mt*J()),be.isLineSegments?Kt.setMode(K.LINES):be.isLineLoop?Kt.setMode(K.LINE_LOOP):Kt.setMode(K.LINE_STRIP)}else be.isPoints?Kt.setMode(K.POINTS):be.isSprite&&Kt.setMode(K.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)z_("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kt.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))Kt.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Mt=be._multiDrawStarts,En=be._multiDrawCounts,Ht=be._multiDrawCount,fr=gt?ie.get(gt).bytesPerElement:1,na=Ce.get(Re).currentProgram.getUniforms();for(let oi=0;oi<Ht;oi++)na.setValue(K,"_gl_DrawID",oi),Kt.render(Mt[oi]/fr,En[oi])}else if(be.isInstancedMesh)Kt.renderInstances(St,yn,be.count);else if(Pe.isInstancedBufferGeometry){const Mt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,En=Math.min(Pe.instanceCount,Mt);Kt.renderInstances(St,yn,En)}else Kt.render(St,yn)};function jt(oe,_e,Pe){oe.transparent===!0&&oe.side===Ea&&oe.forceSinglePass===!1?(oe.side=Ui,oe.needsUpdate=!0,su(oe,_e,Pe),oe.side=$c,oe.needsUpdate=!0,su(oe,_e,Pe),oe.side=Ea):su(oe,_e,Pe)}this.compile=function(oe,_e,Pe=null){Pe===null&&(Pe=oe),p=ct.get(Pe),p.init(_e),_.push(p),Pe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),oe!==Pe&&oe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),p.setupLights();const Re=new Set;return oe.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const Ke=be.material;if(Ke)if(Array.isArray(Ke))for(let ut=0;ut<Ke.length;ut++){const yt=Ke[ut];jt(yt,Pe,be),Re.add(yt)}else jt(Ke,Pe,be),Re.add(Ke)}),p=_.pop(),Re},this.compileAsync=function(oe,_e,Pe=null){const Re=this.compile(oe,_e,Pe);return new Promise(be=>{function Ke(){if(Re.forEach(function(ut){Ce.get(ut).currentProgram.isReady()&&Re.delete(ut)}),Re.size===0){be(oe);return}setTimeout(Ke,10)}fe.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let $t=null;function Ln(oe){$t&&$t(oe)}function Rn(){cs.stop()}function ta(){cs.start()}const cs=new she;cs.setAnimationLoop(Ln),typeof self<"u"&&cs.setContext(self),this.setAnimationLoop=function(oe){$t=oe,Ne.setAnimationLoop(oe),oe===null?cs.stop():cs.start()},Ne.addEventListener("sessionstart",Rn),Ne.addEventListener("sessionend",ta),this.render=function(oe,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(_e),_e=Ne.getCamera()),oe.isScene===!0&&oe.onBeforeRender(b,oe,_e,T),p=ct.get(oe,_.length),p.init(_e),_.push(p),$.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ne.setFromProjectionMatrix($,no,_e.reversedDepth),se=this.localClippingEnabled,ae=He.init(this.clippingPlanes,se),m=Me.get(oe,x.length),m.init(),x.push(m),Ne.enabled===!0&&Ne.isPresenting===!0){const Ke=b.xr.getDepthSensingMesh();Ke!==null&&ru(Ke,_e,-1/0,b.sortObjects)}ru(oe,_e,0,b.sortObjects),m.finish(),b.sortObjects===!0&&m.sort(L,z),ue=Ne.enabled===!1||Ne.isPresenting===!1||Ne.hasDepthSensing()===!1,ue&&Ge.addToRenderList(m,oe),this.info.render.frame++,ae===!0&&He.beginShadows();const Pe=p.state.shadowsArray;lt.render(Pe,oe,_e),ae===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset();const Re=m.opaque,be=m.transmissive;if(p.setupLights(),_e.isArrayCamera){const Ke=_e.cameras;if(be.length>0)for(let ut=0,yt=Ke.length;ut<yt;ut++){const gt=Ke[ut];np(Re,be,oe,gt)}ue&&Ge.render(oe);for(let ut=0,yt=Ke.length;ut<yt;ut++){const gt=Ke[ut];iu(m,oe,gt,gt.viewport)}}else be.length>0&&np(Re,be,oe,_e),ue&&Ge.render(oe),iu(m,oe,_e);T!==null&&M===0&&(ke.updateMultisampleRenderTarget(T),ke.updateRenderTargetMipmap(T)),oe.isScene===!0&&oe.onAfterRender(b,oe,_e),Ee.resetDefaultState(),P=-1,N=null,_.pop(),_.length>0?(p=_[_.length-1],ae===!0&&He.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,x.pop(),x.length>0?m=x[x.length-1]:m=null};function ru(oe,_e,Pe,Re){if(oe.visible===!1)return;if(oe.layers.test(_e.layers)){if(oe.isGroup)Pe=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(_e);else if(oe.isLight)p.pushLight(oe),oe.castShadow&&p.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||ne.intersectsSprite(oe)){Re&&Q.setFromMatrixPosition(oe.matrixWorld).applyMatrix4($);const ut=ve.update(oe),yt=oe.material;yt.visible&&m.push(oe,ut,yt,Pe,Q.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||ne.intersectsObject(oe))){const ut=ve.update(oe),yt=oe.material;if(Re&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),Q.copy(oe.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Q.copy(ut.boundingSphere.center)),Q.applyMatrix4(oe.matrixWorld).applyMatrix4($)),Array.isArray(yt)){const gt=ut.groups;for(let It=0,Ot=gt.length;It<Ot;It++){const bt=gt[It],St=yt[bt.materialIndex];St&&St.visible&&m.push(oe,ut,St,Pe,Q.z,bt)}}else yt.visible&&m.push(oe,ut,yt,Pe,Q.z,null)}}const Ke=oe.children;for(let ut=0,yt=Ke.length;ut<yt;ut++)ru(Ke[ut],_e,Pe,Re)}function iu(oe,_e,Pe,Re){const be=oe.opaque,Ke=oe.transmissive,ut=oe.transparent;p.setupLightsView(Pe),ae===!0&&He.setGlobalState(b.clippingPlanes,Pe),Re&&pe.viewport(I.copy(Re)),be.length>0&&vo(be,_e,Pe),Ke.length>0&&vo(Ke,_e,Pe),ut.length>0&&vo(ut,_e,Pe),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function np(oe,_e,Pe,Re){if((Pe.isScene===!0?Pe.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Re.id]===void 0&&(p.state.transmissionRenderTarget[Re.id]=new Dl(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?ey:qo,minFilter:gl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:gn.workingColorSpace}));const Ke=p.state.transmissionRenderTarget[Re.id],ut=Re.viewport||I;Ke.setSize(ut.z*b.transmissionResolutionScale,ut.w*b.transmissionResolutionScale);const yt=b.getRenderTarget(),gt=b.getActiveCubeFace(),It=b.getActiveMipmapLevel();b.setRenderTarget(Ke),b.getClearColor(F),B=b.getClearAlpha(),B<1&&b.setClearColor(16777215,.5),b.clear(),ue&&Ge.render(Pe);const Ot=b.toneMapping;b.toneMapping=Al;const bt=Re.viewport;if(Re.viewport!==void 0&&(Re.viewport=void 0),p.setupLightsView(Re),ae===!0&&He.setGlobalState(b.clippingPlanes,Re),vo(oe,Pe,Re),ke.updateMultisampleRenderTarget(Ke),ke.updateRenderTargetMipmap(Ke),fe.has("WEBGL_multisampled_render_to_texture")===!1){let St=!1;for(let Nt=0,yn=_e.length;Nt<yn;Nt++){const qt=_e[Nt],Kt=qt.object,Mt=qt.geometry,En=qt.material,Ht=qt.group;if(En.side===Ea&&Kt.layers.test(Re.layers)){const fr=En.side;En.side=Ui,En.needsUpdate=!0,rp(Kt,Pe,Re,Mt,En,Ht),En.side=fr,En.needsUpdate=!0,St=!0}}St===!0&&(ke.updateMultisampleRenderTarget(Ke),ke.updateRenderTargetMipmap(Ke))}b.setRenderTarget(yt,gt,It),b.setClearColor(F,B),bt!==void 0&&(Re.viewport=bt),b.toneMapping=Ot}function vo(oe,_e,Pe){const Re=_e.isScene===!0?_e.overrideMaterial:null;for(let be=0,Ke=oe.length;be<Ke;be++){const ut=oe[be],yt=ut.object,gt=ut.geometry,It=ut.group;let Ot=ut.material;Ot.allowOverride===!0&&Re!==null&&(Ot=Re),yt.layers.test(Pe.layers)&&rp(yt,_e,Pe,gt,Ot,It)}}function rp(oe,_e,Pe,Re,be,Ke){oe.onBeforeRender(b,_e,Pe,Re,be,Ke),oe.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),be.onBeforeRender(b,_e,Pe,Re,oe,Ke),be.transparent===!0&&be.side===Ea&&be.forceSinglePass===!1?(be.side=Ui,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),be.side=$c,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),be.side=Ea):b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),oe.onAfterRender(b,_e,Pe,Re,be,Ke)}function su(oe,_e,Pe){_e.isScene!==!0&&(_e=te);const Re=Ce.get(oe),be=p.state.lights,Ke=p.state.shadowsArray,ut=be.state.version,yt=Se.getParameters(oe,be.state,Ke,_e,Pe),gt=Se.getProgramCacheKey(yt);let It=Re.programs;Re.environment=oe.isMeshStandardMaterial?_e.environment:null,Re.fog=_e.fog,Re.envMap=(oe.isMeshStandardMaterial?Je:rt).get(oe.envMap||Re.environment),Re.envMapRotation=Re.environment!==null&&oe.envMap===null?_e.environmentRotation:oe.envMapRotation,It===void 0&&(oe.addEventListener("dispose",Le),It=new Map,Re.programs=It);let Ot=It.get(gt);if(Ot!==void 0){if(Re.currentProgram===Ot&&Re.lightsStateVersion===ut)return sp(oe,yt),Ot}else yt.uniforms=Se.getUniforms(oe),oe.onBeforeCompile(yt,b),Ot=Se.acquireProgram(yt,gt),It.set(gt,Ot),Re.uniforms=yt.uniforms;const bt=Re.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(bt.clippingPlanes=He.uniform),sp(oe,yt),Re.needsLights=lp(oe),Re.lightsStateVersion=ut,Re.needsLights&&(bt.ambientLightColor.value=be.state.ambient,bt.lightProbe.value=be.state.probe,bt.directionalLights.value=be.state.directional,bt.directionalLightShadows.value=be.state.directionalShadow,bt.spotLights.value=be.state.spot,bt.spotLightShadows.value=be.state.spotShadow,bt.rectAreaLights.value=be.state.rectArea,bt.ltc_1.value=be.state.rectAreaLTC1,bt.ltc_2.value=be.state.rectAreaLTC2,bt.pointLights.value=be.state.point,bt.pointLightShadows.value=be.state.pointShadow,bt.hemisphereLights.value=be.state.hemi,bt.directionalShadowMap.value=be.state.directionalShadowMap,bt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,bt.spotShadowMap.value=be.state.spotShadowMap,bt.spotLightMatrix.value=be.state.spotLightMatrix,bt.spotLightMap.value=be.state.spotLightMap,bt.pointShadowMap.value=be.state.pointShadowMap,bt.pointShadowMatrix.value=be.state.pointShadowMatrix),Re.currentProgram=Ot,Re.uniformsList=null,Ot}function ip(oe){if(oe.uniformsList===null){const _e=oe.currentProgram.getUniforms();oe.uniformsList=ME.seqWithValue(_e.seq,oe.uniforms)}return oe.uniformsList}function sp(oe,_e){const Pe=Ce.get(oe);Pe.outputColorSpace=_e.outputColorSpace,Pe.batching=_e.batching,Pe.batchingColor=_e.batchingColor,Pe.instancing=_e.instancing,Pe.instancingColor=_e.instancingColor,Pe.instancingMorph=_e.instancingMorph,Pe.skinning=_e.skinning,Pe.morphTargets=_e.morphTargets,Pe.morphNormals=_e.morphNormals,Pe.morphColors=_e.morphColors,Pe.morphTargetsCount=_e.morphTargetsCount,Pe.numClippingPlanes=_e.numClippingPlanes,Pe.numIntersection=_e.numClipIntersection,Pe.vertexAlphas=_e.vertexAlphas,Pe.vertexTangents=_e.vertexTangents,Pe.toneMapping=_e.toneMapping}function op(oe,_e,Pe,Re,be){_e.isScene!==!0&&(_e=te),ke.resetTextureUnits();const Ke=_e.fog,ut=Re.isMeshStandardMaterial?_e.environment:null,yt=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Ih,gt=(Re.isMeshStandardMaterial?Je:rt).get(Re.envMap||ut),It=Re.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Ot=!!Pe.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),bt=!!Pe.morphAttributes.position,St=!!Pe.morphAttributes.normal,Nt=!!Pe.morphAttributes.color;let yn=Al;Re.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(yn=b.toneMapping);const qt=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Kt=qt!==void 0?qt.length:0,Mt=Ce.get(Re),En=p.state.lights;if(ae===!0&&(se===!0||oe!==N)){const Ir=oe===N&&Re.id===P;He.setState(Re,oe,Ir)}let Ht=!1;Re.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==En.state.version||Mt.outputColorSpace!==yt||be.isBatchedMesh&&Mt.batching===!1||!be.isBatchedMesh&&Mt.batching===!0||be.isBatchedMesh&&Mt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Mt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Mt.instancing===!1||!be.isInstancedMesh&&Mt.instancing===!0||be.isSkinnedMesh&&Mt.skinning===!1||!be.isSkinnedMesh&&Mt.skinning===!0||be.isInstancedMesh&&Mt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Mt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Mt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Mt.instancingMorph===!1&&be.morphTexture!==null||Mt.envMap!==gt||Re.fog===!0&&Mt.fog!==Ke||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==He.numPlanes||Mt.numIntersection!==He.numIntersection)||Mt.vertexAlphas!==It||Mt.vertexTangents!==Ot||Mt.morphTargets!==bt||Mt.morphNormals!==St||Mt.morphColors!==Nt||Mt.toneMapping!==yn||Mt.morphTargetsCount!==Kt)&&(Ht=!0):(Ht=!0,Mt.__version=Re.version);let fr=Mt.currentProgram;Ht===!0&&(fr=su(Re,_e,be));let na=!1,oi=!1,yo=!1;const On=fr.getUniforms(),Xn=Mt.uniforms;if(pe.useProgram(fr.program)&&(na=!0,oi=!0,yo=!0),Re.id!==P&&(P=Re.id,oi=!0),na||N!==oe){pe.buffers.depth.getReversed()&&oe.reversedDepth!==!0&&(oe._reversedDepth=!0,oe.updateProjectionMatrix()),On.setValue(K,"projectionMatrix",oe.projectionMatrix),On.setValue(K,"viewMatrix",oe.matrixWorldInverse);const Ci=On.map.cameraPosition;Ci!==void 0&&Ci.setValue(K,Y.setFromMatrixPosition(oe.matrixWorld)),me.logarithmicDepthBuffer&&On.setValue(K,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&On.setValue(K,"isOrthographic",oe.isOrthographicCamera===!0),N!==oe&&(N=oe,oi=!0,yo=!0)}if(be.isSkinnedMesh){On.setOptional(K,be,"bindMatrix"),On.setOptional(K,be,"bindMatrixInverse");const Ir=be.skeleton;Ir&&(Ir.boneTexture===null&&Ir.computeBoneTexture(),On.setValue(K,"boneTexture",Ir.boneTexture,ke))}be.isBatchedMesh&&(On.setOptional(K,be,"batchingTexture"),On.setValue(K,"batchingTexture",be._matricesTexture,ke),On.setOptional(K,be,"batchingIdTexture"),On.setValue(K,"batchingIdTexture",be._indirectTexture,ke),On.setOptional(K,be,"batchingColorTexture"),be._colorsTexture!==null&&On.setValue(K,"batchingColorTexture",be._colorsTexture,ke));const Ei=Pe.morphAttributes;if((Ei.position!==void 0||Ei.normal!==void 0||Ei.color!==void 0)&&$e.update(be,Pe,fr),(oi||Mt.receiveShadow!==be.receiveShadow)&&(Mt.receiveShadow=be.receiveShadow,On.setValue(K,"receiveShadow",be.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(Xn.envMap.value=gt,Xn.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),Re.isMeshStandardMaterial&&Re.envMap===null&&_e.environment!==null&&(Xn.envMapIntensity.value=_e.environmentIntensity),oi&&(On.setValue(K,"toneMappingExposure",b.toneMappingExposure),Mt.needsLights&&ap(Xn,yo),Ke&&Re.fog===!0&&Ie.refreshFogUniforms(Xn,Ke),Ie.refreshMaterialUniforms(Xn,Re,R,H,p.state.transmissionRenderTarget[oe.id]),ME.upload(K,ip(Mt),Xn,ke)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(ME.upload(K,ip(Mt),Xn,ke),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&On.setValue(K,"center",be.center),On.setValue(K,"modelViewMatrix",be.modelViewMatrix),On.setValue(K,"normalMatrix",be.normalMatrix),On.setValue(K,"modelMatrix",be.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const Ir=Re.uniformsGroups;for(let Ci=0,ou=Ir.length;Ci<ou;Ci++){const xo=Ir[Ci];Ye.update(xo,fr),Ye.bind(xo,fr)}}return fr}function ap(oe,_e){oe.ambientLightColor.needsUpdate=_e,oe.lightProbe.needsUpdate=_e,oe.directionalLights.needsUpdate=_e,oe.directionalLightShadows.needsUpdate=_e,oe.pointLights.needsUpdate=_e,oe.pointLightShadows.needsUpdate=_e,oe.spotLights.needsUpdate=_e,oe.spotLightShadows.needsUpdate=_e,oe.rectAreaLights.needsUpdate=_e,oe.hemisphereLights.needsUpdate=_e}function lp(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(oe,_e,Pe){const Re=Ce.get(oe);Re.__autoAllocateDepthBuffer=oe.resolveDepthBuffer===!1,Re.__autoAllocateDepthBuffer===!1&&(Re.__useRenderToTexture=!1),Ce.get(oe.texture).__webglTexture=_e,Ce.get(oe.depthTexture).__webglTexture=Re.__autoAllocateDepthBuffer?void 0:Pe,Re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(oe,_e){const Pe=Ce.get(oe);Pe.__webglFramebuffer=_e,Pe.__useDefaultFramebuffer=_e===void 0};const cp=K.createFramebuffer();this.setRenderTarget=function(oe,_e=0,Pe=0){T=oe,C=_e,M=Pe;let Re=!0,be=null,Ke=!1,ut=!1;if(oe){const gt=Ce.get(oe);if(gt.__useDefaultFramebuffer!==void 0)pe.bindFramebuffer(K.FRAMEBUFFER,null),Re=!1;else if(gt.__webglFramebuffer===void 0)ke.setupRenderTarget(oe);else if(gt.__hasExternalTextures)ke.rebindTextures(oe,Ce.get(oe.texture).__webglTexture,Ce.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const bt=oe.depthTexture;if(gt.__boundDepthTexture!==bt){if(bt!==null&&Ce.has(bt)&&(oe.width!==bt.image.width||oe.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ke.setupDepthRenderbuffer(oe)}}const It=oe.texture;(It.isData3DTexture||It.isDataArrayTexture||It.isCompressedArrayTexture)&&(ut=!0);const Ot=Ce.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(Ot[_e])?be=Ot[_e][Pe]:be=Ot[_e],Ke=!0):oe.samples>0&&ke.useMultisampledRTT(oe)===!1?be=Ce.get(oe).__webglMultisampledFramebuffer:Array.isArray(Ot)?be=Ot[Pe]:be=Ot,I.copy(oe.viewport),k.copy(oe.scissor),j=oe.scissorTest}else I.copy(W).multiplyScalar(R).floor(),k.copy(G).multiplyScalar(R).floor(),j=q;if(Pe!==0&&(be=cp),pe.bindFramebuffer(K.FRAMEBUFFER,be)&&Re&&pe.drawBuffers(oe,be),pe.viewport(I),pe.scissor(k),pe.setScissorTest(j),Ke){const gt=Ce.get(oe.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+_e,gt.__webglTexture,Pe)}else if(ut){const gt=_e;for(let It=0;It<oe.textures.length;It++){const Ot=Ce.get(oe.textures[It]);K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+It,Ot.__webglTexture,Pe,gt)}}else if(oe!==null&&Pe!==0){const gt=Ce.get(oe.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,gt.__webglTexture,Pe)}P=-1},this.readRenderTargetPixels=function(oe,_e,Pe,Re,be,Ke,ut,yt=0){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&ut!==void 0&&(gt=gt[ut]),gt){pe.bindFramebuffer(K.FRAMEBUFFER,gt);try{const It=oe.textures[yt],Ot=It.format,bt=It.type;if(!me.textureFormatReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!me.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be&&(oe.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+yt),K.readPixels(_e,Pe,Re,be,he.convert(Ot),he.convert(bt),Ke))}finally{const It=T!==null?Ce.get(T).__webglFramebuffer:null;pe.bindFramebuffer(K.FRAMEBUFFER,It)}}},this.readRenderTargetPixelsAsync=async function(oe,_e,Pe,Re,be,Ke,ut,yt=0){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&ut!==void 0&&(gt=gt[ut]),gt)if(_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be){pe.bindFramebuffer(K.FRAMEBUFFER,gt);const It=oe.textures[yt],Ot=It.format,bt=It.type;if(!me.textureFormatReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!me.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const St=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,St),K.bufferData(K.PIXEL_PACK_BUFFER,Ke.byteLength,K.STREAM_READ),oe.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+yt),K.readPixels(_e,Pe,Re,be,he.convert(Ot),he.convert(bt),0);const Nt=T!==null?Ce.get(T).__webglFramebuffer:null;pe.bindFramebuffer(K.FRAMEBUFFER,Nt);const yn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await rut(K,yn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,St),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,Ke),K.deleteBuffer(St),K.deleteSync(yn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(oe,_e=null,Pe=0){const Re=Math.pow(2,-Pe),be=Math.floor(oe.image.width*Re),Ke=Math.floor(oe.image.height*Re),ut=_e!==null?_e.x:0,yt=_e!==null?_e.y:0;ke.setTexture2D(oe,0),K.copyTexSubImage2D(K.TEXTURE_2D,Pe,0,0,ut,yt,be,Ke),pe.unbindTexture()};const iy=K.createFramebuffer(),sy=K.createFramebuffer();this.copyTextureToTexture=function(oe,_e,Pe=null,Re=null,be=0,Ke=null){Ke===null&&(be!==0?(z_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=be,be=0):Ke=0);let ut,yt,gt,It,Ot,bt,St,Nt,yn;const qt=oe.isCompressedTexture?oe.mipmaps[Ke]:oe.image;if(Pe!==null)ut=Pe.max.x-Pe.min.x,yt=Pe.max.y-Pe.min.y,gt=Pe.isBox3?Pe.max.z-Pe.min.z:1,It=Pe.min.x,Ot=Pe.min.y,bt=Pe.isBox3?Pe.min.z:0;else{const Ei=Math.pow(2,-be);ut=Math.floor(qt.width*Ei),yt=Math.floor(qt.height*Ei),oe.isDataArrayTexture?gt=qt.depth:oe.isData3DTexture?gt=Math.floor(qt.depth*Ei):gt=1,It=0,Ot=0,bt=0}Re!==null?(St=Re.x,Nt=Re.y,yn=Re.z):(St=0,Nt=0,yn=0);const Kt=he.convert(_e.format),Mt=he.convert(_e.type);let En;_e.isData3DTexture?(ke.setTexture3D(_e,0),En=K.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ke.setTexture2DArray(_e,0),En=K.TEXTURE_2D_ARRAY):(ke.setTexture2D(_e,0),En=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,_e.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,_e.unpackAlignment);const Ht=K.getParameter(K.UNPACK_ROW_LENGTH),fr=K.getParameter(K.UNPACK_IMAGE_HEIGHT),na=K.getParameter(K.UNPACK_SKIP_PIXELS),oi=K.getParameter(K.UNPACK_SKIP_ROWS),yo=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,qt.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,qt.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,It),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ot),K.pixelStorei(K.UNPACK_SKIP_IMAGES,bt);const On=oe.isDataArrayTexture||oe.isData3DTexture,Xn=_e.isDataArrayTexture||_e.isData3DTexture;if(oe.isDepthTexture){const Ei=Ce.get(oe),Ir=Ce.get(_e),Ci=Ce.get(Ei.__renderTarget),ou=Ce.get(Ir.__renderTarget);pe.bindFramebuffer(K.READ_FRAMEBUFFER,Ci.__webglFramebuffer),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,ou.__webglFramebuffer);for(let xo=0;xo<gt;xo++)On&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ce.get(oe).__webglTexture,be,bt+xo),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ce.get(_e).__webglTexture,Ke,yn+xo)),K.blitFramebuffer(It,Ot,ut,yt,St,Nt,ut,yt,K.DEPTH_BUFFER_BIT,K.NEAREST);pe.bindFramebuffer(K.READ_FRAMEBUFFER,null),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(be!==0||oe.isRenderTargetTexture||Ce.has(oe)){const Ei=Ce.get(oe),Ir=Ce.get(_e);pe.bindFramebuffer(K.READ_FRAMEBUFFER,iy),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,sy);for(let Ci=0;Ci<gt;Ci++)On?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ei.__webglTexture,be,bt+Ci):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Ei.__webglTexture,be),Xn?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ir.__webglTexture,Ke,yn+Ci):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Ir.__webglTexture,Ke),be!==0?K.blitFramebuffer(It,Ot,ut,yt,St,Nt,ut,yt,K.COLOR_BUFFER_BIT,K.NEAREST):Xn?K.copyTexSubImage3D(En,Ke,St,Nt,yn+Ci,It,Ot,ut,yt):K.copyTexSubImage2D(En,Ke,St,Nt,It,Ot,ut,yt);pe.bindFramebuffer(K.READ_FRAMEBUFFER,null),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else Xn?oe.isDataTexture||oe.isData3DTexture?K.texSubImage3D(En,Ke,St,Nt,yn,ut,yt,gt,Kt,Mt,qt.data):_e.isCompressedArrayTexture?K.compressedTexSubImage3D(En,Ke,St,Nt,yn,ut,yt,gt,Kt,qt.data):K.texSubImage3D(En,Ke,St,Nt,yn,ut,yt,gt,Kt,Mt,qt):oe.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Ke,St,Nt,ut,yt,Kt,Mt,qt.data):oe.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Ke,St,Nt,qt.width,qt.height,Kt,qt.data):K.texSubImage2D(K.TEXTURE_2D,Ke,St,Nt,ut,yt,Kt,Mt,qt);K.pixelStorei(K.UNPACK_ROW_LENGTH,Ht),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,fr),K.pixelStorei(K.UNPACK_SKIP_PIXELS,na),K.pixelStorei(K.UNPACK_SKIP_ROWS,oi),K.pixelStorei(K.UNPACK_SKIP_IMAGES,yo),Ke===0&&_e.generateMipmaps&&K.generateMipmap(En),pe.unbindTexture()},this.initRenderTarget=function(oe){Ce.get(oe).__webglFramebuffer===void 0&&ke.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?ke.setTextureCube(oe,0):oe.isData3DTexture?ke.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?ke.setTexture2DArray(oe,0):ke.setTexture2D(oe,0),pe.unbindTexture()},this.resetState=function(){C=0,M=0,T=null,pe.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return no}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=gn._getDrawingBufferColorSpace(e),n.unpackColorSpace=gn._getUnpackColorSpace()}}const xvt=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:HB,AddEquation:Bu,AddOperation:Ide,AdditiveAnimationBlendMode:QB,AdditiveBlending:qL,AgXToneMapping:Fde,AlphaFormat:KB,AlwaysCompare:Jde,AlwaysDepth:FM,AlwaysStencilFunc:QL,AmbientLight:Xfe,AnimationAction:nhe,AnimationClip:X_,AnimationLoader:Ndt,AnimationMixer:sft,AnimationObjectGroup:rft,AnimationUtils:Mdt,ArcCurve:yfe,ArrayCamera:Jfe,ArrowHelper:Nft,AttachedBindMode:ZL,Audio:ehe,AudioAnalyser:Xdt,AudioContext:C5,AudioListener:Vdt,AudioLoader:zdt,AxesHelper:Rft,BackSide:Ui,BasicDepthPacking:Vde,BasicShadowMap:hde,BatchedMesh:hfe,Bone:a5,BooleanKeyframeTrack:Jh,Box2:pft,Box3:$i,Box3Helper:Tft,BoxGeometry:Qh,BoxHelper:Aft,BufferAttribute:Hn,BufferGeometry:tn,BufferGeometryLoader:Qfe,ByteType:WB,Cache:vl,Camera:tw,CameraHelper:Mft,CanvasTexture:Kut,CapsuleGeometry:ZP,CatmullRomCurve3:xfe,CineonToneMapping:Lde,CircleGeometry:QP,ClampToEdgeWrapping:Uo,Clock:M5,Color:pt,ColorKeyframeTrack:w5,ColorManagement:gn,CompressedArrayTexture:Xut,CompressedCubeTexture:qut,CompressedTexture:YP,CompressedTextureLoader:Rdt,ConeGeometry:iw,ConstantAlphaFactor:Nde,ConstantColorFactor:Tde,Controls:Ift,CubeCamera:ofe,CubeReflectionMapping:Hc,CubeRefractionMapping:_d,CubeTexture:nw,CubeTextureLoader:Odt,CubeUVReflectionMapping:Jv,CubicBezierCurve:f5,CubicBezierCurve3:_fe,CubicInterpolant:Bfe,CullFaceBack:XL,CullFaceFront:fde,CullFaceFrontBack:rct,CullFaceNone:dde,Curve:Xa,CurvePath:wfe,CustomBlending:pde,CustomToneMapping:jde,CylinderGeometry:rw,Cylindrical:hft,Data3DTexture:VP,DataArrayTexture:HP,DataTexture:Tl,DataTextureLoader:Idt,DataUtils:yut,DecrementStencilOp:vct,DecrementWrapStencilOp:xct,DefaultLoadingManager:$fe,DepthFormat:hv,DepthStencilFormat:pv,DepthTexture:c5,DetachedBindMode:Ude,DirectionalLight:Gfe,DirectionalLightHelper:Cft,DiscreteInterpolant:Ufe,DodecahedronGeometry:JP,DoubleSide:Ea,DstAlphaFactor:Sde,DstColorFactor:Cde,DynamicCopyUsage:kct,DynamicDrawUsage:Tct,DynamicReadUsage:Rct,EdgesGeometry:vfe,EllipseCurve:e2,EqualCompare:Kde,EqualDepth:UM,EqualStencilFunc:Sct,EquirectangularReflectionMapping:O_,EquirectangularRefractionMapping:I_,Euler:po,EventDispatcher:Gl,ExternalTexture:u5,ExtrudeGeometry:t2,FileLoader:Wc,Float16BufferAttribute:Cut,Float32BufferAttribute:Et,FloatType:As,Fog:GP,FogExp2:WP,FramebufferTexture:Gut,FrontSide:$c,Frustum:ty,FrustumArray:KP,GLBufferAttribute:uft,GLSL1:Lct,GLSL3:JL,GreaterCompare:Yde,GreaterDepth:$M,GreaterEqualCompare:Qde,GreaterEqualDepth:zM,GreaterEqualStencilFunc:Act,GreaterStencilFunc:Cct,GridHelper:Sft,Group:Rm,HalfFloatType:ey,HemisphereLight:Hfe,HemisphereLightHelper:wft,IcosahedronGeometry:n2,ImageBitmapLoader:Udt,ImageLoader:q_,ImageUtils:rfe,IncrementStencilOp:gct,IncrementWrapStencilOp:yct,InstancedBufferAttribute:yv,InstancedBufferGeometry:Zfe,InstancedInterleavedBuffer:cft,InstancedMesh:ffe,Int16BufferAttribute:Sut,Int32BufferAttribute:Eut,Int8BufferAttribute:_ut,IntType:LP,InterleavedBuffer:XP,InterleavedBufferAttribute:kh,Interpolant:aw,InterpolateDiscrete:L_,InterpolateLinear:yA,InterpolateSmooth:EE,InterpolationSamplingMode:Bct,InterpolationSamplingType:Fct,InvertStencilOp:_ct,KeepStencilOp:Cf,KeyframeTrack:ea,LOD:ufe,LatheGeometry:r2,Layers:sh,LessCompare:qde,LessDepth:BM,LessEqualCompare:JB,LessEqualDepth:Oh,LessEqualStencilFunc:Ect,LessStencilFunc:wct,Light:Ud,LightProbe:Yfe,Line:bd,Line3:vft,LineBasicMaterial:ls,LineCurve:h5,LineCurve3:bfe,LineDashedMaterial:Lfe,LineLoop:pfe,LineSegments:Xl,LinearFilter:ni,LinearInterpolant:b5,LinearMipMapLinearFilter:act,LinearMipMapNearestFilter:oct,LinearMipmapLinearFilter:gl,LinearMipmapNearestFilter:tx,LinearSRGBColorSpace:Ih,LinearToneMapping:kde,LinearTransfer:F_,Loader:js,LoaderUtils:ij,LoadingManager:S5,LoopOnce:zde,LoopPingPong:Hde,LoopRepeat:$de,MOUSE:Sf,Material:Vi,MaterialLoader:u2,MathUtils:efe,Matrix2:N5,Matrix3:Jt,Matrix4:Gt,MaxEquation:yde,Mesh:$r,MeshBasicMaterial:Fd,MeshDepthMaterial:y5,MeshDistanceMaterial:x5,MeshLambertMaterial:kfe,MeshMatcapMaterial:Dfe,MeshNormalMaterial:Ife,MeshPhongMaterial:Rfe,MeshPhysicalMaterial:Nfe,MeshStandardMaterial:v5,MeshToonMaterial:Ofe,MinEquation:vde,MirroredRepeatWrapping:D_,MixOperation:Ode,MultiplyBlending:YL,MultiplyOperation:Jb,NearestFilter:bi,NearestMipMapLinearFilter:sct,NearestMipMapNearestFilter:ict,NearestMipmapLinearFilter:Pm,NearestMipmapNearestFilter:VB,NeutralToneMapping:Bde,NeverCompare:Xde,NeverDepth:jM,NeverStencilFunc:bct,NoBlending:Pc,NoColorSpace:vc,NoToneMapping:Al,NormalAnimationBlendMode:$P,NormalBlending:rh,NotEqualCompare:Zde,NotEqualDepth:HM,NotEqualStencilFunc:Mct,NumberKeyframeTrack:W_,Object3D:wn,ObjectLoader:Fdt,ObjectSpaceNormalMap:Gde,OctahedronGeometry:sw,OneFactor:_de,OneMinusConstantAlphaFactor:Rde,OneMinusConstantColorFactor:Pde,OneMinusDstAlphaFactor:Ede,OneMinusDstColorFactor:Mde,OneMinusSrcAlphaFactor:LM,OneMinusSrcColorFactor:wde,OrthographicCamera:Pl,PCFShadowMap:kP,PCFSoftShadowMap:ex,PMREMGenerator:lj,Path:wA,PerspectiveCamera:gr,Plane:cl,PlaneGeometry:ny,PlaneHelper:Pft,PointLight:Wfe,PointLightHelper:_ft,Points:mfe,PointsMaterial:l5,PolarGridHelper:Eft,PolyhedronGeometry:Bd,PositionalAudio:Gdt,PropertyBinding:xn,PropertyMixer:the,QuadraticBezierCurve:p5,QuadraticBezierCurve3:m5,Quaternion:zi,QuaternionKeyframeTrack:lw,QuaternionLinearInterpolant:zfe,RED_GREEN_RGTC2_Format:gA,RED_RGTC1_Format:pA,REVISION:Qb,RGBADepthPacking:Wde,RGBAFormat:Bi,RGBAIntegerFormat:zP,RGBA_ASTC_10x10_Format:lA,RGBA_ASTC_10x5_Format:sA,RGBA_ASTC_10x6_Format:oA,RGBA_ASTC_10x8_Format:aA,RGBA_ASTC_12x10_Format:cA,RGBA_ASTC_12x12_Format:uA,RGBA_ASTC_4x4_Format:ZM,RGBA_ASTC_5x4_Format:QM,RGBA_ASTC_5x5_Format:JM,RGBA_ASTC_6x5_Format:eA,RGBA_ASTC_6x6_Format:tA,RGBA_ASTC_8x5_Format:nA,RGBA_ASTC_8x6_Format:rA,RGBA_ASTC_8x8_Format:iA,RGBA_BPTC_Format:dA,RGBA_ETC2_EAC_Format:YM,RGBA_PVRTC_2BPPV1_Format:XM,RGBA_PVRTC_4BPPV1_Format:GM,RGBA_S3TC_DXT1_Format:rx,RGBA_S3TC_DXT3_Format:ix,RGBA_S3TC_DXT5_Format:sx,RGBDepthPacking:fct,RGBFormat:YB,RGBIntegerFormat:lct,RGB_BPTC_SIGNED_Format:fA,RGB_BPTC_UNSIGNED_Format:hA,RGB_ETC1_Format:qM,RGB_ETC2_Format:KM,RGB_PVRTC_2BPPV1_Format:WM,RGB_PVRTC_4BPPV1_Format:VM,RGB_S3TC_DXT1_Format:nx,RGDepthPacking:hct,RGFormat:ZB,RGIntegerFormat:UP,RawShaderMaterial:Pfe,Ray:Zh,Raycaster:rhe,RectAreaLight:qfe,RedFormat:BP,RedIntegerFormat:ew,ReinhardToneMapping:Dde,RenderTarget:t5,RenderTarget3D:oft,RepeatWrapping:k_,ReplaceStencilOp:mct,ReverseSubtractEquation:gde,RingGeometry:i2,SIGNED_RED_GREEN_RGTC2_Format:vA,SIGNED_RED_RGTC1_Format:mA,SRGBColorSpace:_s,SRGBTransfer:jn,Scene:s5,ShaderChunk:rn,ShaderLib:wa,ShaderMaterial:Ko,ShadowMaterial:Tfe,Shape:oh,ShapeGeometry:s2,ShapePath:Oft,ShapeUtils:Aa,ShortType:GB,Skeleton:qP,SkeletonHelper:xft,SkinnedMesh:dfe,Source:ed,Sphere:wi,SphereGeometry:ow,Spherical:oj,SphericalHarmonics3:Kfe,SplineCurve:g5,SpotLight:Vfe,SpotLightHelper:yft,Sprite:cfe,SpriteMaterial:o5,SrcAlphaFactor:DM,SrcAlphaSaturateFactor:Ade,SrcColorFactor:bde,StaticCopyUsage:Ict,StaticDrawUsage:B_,StaticReadUsage:Nct,StereoCamera:$dt,StreamCopyUsage:Dct,StreamDrawUsage:Pct,StreamReadUsage:Oct,StringKeyframeTrack:ep,SubtractEquation:mde,SubtractiveBlending:KL,TOUCH:Ef,TangentSpaceNormalMap:jd,TetrahedronGeometry:o2,Texture:Ar,TextureLoader:kdt,TextureUtils:Fft,Timer:dft,TimestampQuery:jct,TorusGeometry:a2,TorusKnotGeometry:l2,Triangle:Ss,TriangleFanDrawMode:dct,TriangleStripDrawMode:uct,TrianglesDrawMode:cct,TubeGeometry:c2,UVMapping:DP,Uint16BufferAttribute:n5,Uint32BufferAttribute:r5,Uint8BufferAttribute:but,Uint8ClampedBufferAttribute:wut,Uniform:P5,UniformsGroup:lft,UniformsLib:dt,UniformsUtils:i5,UnsignedByteType:qo,UnsignedInt101111Type:qB,UnsignedInt248Type:fv,UnsignedInt5999Type:XB,UnsignedIntType:Vc,UnsignedShort4444Type:jP,UnsignedShort5551Type:FP,UnsignedShortType:dv,VSMShadowMap:fa,Vector2:ze,Vector3:le,Vector4:_n,VectorKeyframeTrack:G_,VideoFrameTexture:Wut,VideoTexture:gfe,WebGL3DRenderTarget:lut,WebGLArrayRenderTarget:aut,WebGLCoordinateSystem:no,WebGLCubeRenderTarget:afe,WebGLRenderTarget:Dl,WebGLRenderer:dhe,WebGLUtils:uhe,WebGPUCoordinateSystem:mv,WebXRController:CE,WireframeGeometry:Afe,WrapAroundEnding:j_,ZeroCurvatureEnding:Ff,ZeroFactor:xde,ZeroSlopeEnding:Bf,ZeroStencilOp:pct,createCanvasElement:nfe},Symbol.toStringTag,{value:"Module"}));var fhe={exports:{}},tp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */tp.ConcurrentRoot=1;tp.ContinuousEventPriority=4;tp.DefaultEventPriority=16;tp.DiscreteEventPriority=1;tp.IdleEventPriority=536870912;tp.LegacyRoot=0;fhe.exports=tp;var Im=fhe.exports;function _vt(t){let e;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(e):c;if(u!==e){const f=e;e=d?u:Object.assign({},e,u),n.forEach(g=>g(e,f))}},i=()=>e,s=(c,d=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function g(){const v=d(e);if(!u(f,v)){const y=f;c(f=v,y)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,d,u)=>d||u?s(c,d,u):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const bvt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),L9=bvt?A.useEffect:A.useLayoutEffect;function wvt(t){const e=typeof t=="function"?_vt(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=A.useReducer(m=>m+1,0),o=e.getState(),a=A.useRef(o),l=A.useRef(r),c=A.useRef(i),d=A.useRef(!1),u=A.useRef();u.current===void 0&&(u.current=r(o));let f,g=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(f=r(o),g=!i(u.current,f)),L9(()=>{g&&(u.current=f),a.current=o,l.current=r,c.current=i,d.current=!1});const v=A.useRef(o);L9(()=>{const m=()=>{try{const x=e.getState(),_=l.current(x);c.current(u.current,_)||(a.current=x,u.current=_,s())}catch{d.current=!0,s()}},p=e.subscribe(m);return e.getState()!==v.current&&m(),p},[]);const y=g?f:u.current;return A.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var hhe={exports:{}},nI={exports:{}},rI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j9;function Svt(){return j9||(j9=1,function(t){function e(R,L){var z=R.length;R.push(L);e:for(;0<z;){var W=z-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[z]=G,z=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var W=0,G=R.length,q=G>>>1;W<q;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,z))se<G&&0>i($,ae)?(R[W]=$,R[se]=z,W=se):(R[W]=ae,R[ne]=z,W=ne);else if(se<G&&0>i($,z))R[W]=$,R[se]=z,W=se;else break e}}return L}function i(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var L=n(c);L!==null&&H(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(T),T=-1),g=!0;var z=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var q=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-L),q=!1}return q}finally{u=null,f=z,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function I(){return!(t.unstable_now()-N<P)}function k(){if(M!==null){var R=t.unstable_now();N=R;var L=!0;try{L=M(!0,R)}finally{L?j():(C=!1,M=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=k,j=function(){B.postMessage(null)}}else j=function(){m(k,0)};function U(R){M=R,C||(C=!0,j())}function H(R,L){T=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(R,L,z){var W=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,R={id:d++,callback:L,priorityLevel:R,startTime:z,expirationTime:G,sortIndex:-1},z>W?(R.sortIndex=z,e(c,R),n(l)===null&&R===n(c)&&(y?(p(T),T=-1):y=!0,H(b,z-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var z=f;f=L;try{return R.apply(this,arguments)}finally{f=z}}}}(rI)),rI}var F9;function Evt(){return F9||(F9=1,nI.exports=Svt()),nI.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cvt=function(e){var n={},r=A,i=Evt(),s=Object.assign;function o(w){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+w,O=1;O<arguments.length;O++)E+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}function M(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case p:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case v:return(w.displayName||"Context")+".Consumer";case g:return(w._context.displayName||"Context")+".Provider";case y:var E=w.render;return w=w.displayName,w||(w=E.displayName||E.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case x:return E=w.displayName||null,E!==null?E:M(w.type)||"Memo";case _:E=w._payload,w=w._init;try{return M(w(E))}catch{}}return null}function T(w){var E=w.type;switch(w.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=E.render,w=w.displayName||w.name||"",E.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(E);case 8:return E===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function P(w){var E=w,O=w;if(w.alternate)for(;E.return;)E=E.return;else{w=E;do E=w,E.flags&4098&&(O=E.return),w=E.return;while(w)}return E.tag===3?O:null}function N(w){if(P(w)!==w)throw Error(o(188))}function I(w){var E=w.alternate;if(!E){if(E=P(w),E===null)throw Error(o(188));return E!==w?null:w}for(var O=w,D=E;;){var V=O.return;if(V===null)break;var X=V.alternate;if(X===null){if(D=V.return,D!==null){O=D;continue}break}if(V.child===X.child){for(X=V.child;X;){if(X===O)return N(V),w;if(X===D)return N(V),E;X=X.sibling}throw Error(o(188))}if(O.return!==D.return)O=V,D=X;else{for(var de=!1,ye=V.child;ye;){if(ye===O){de=!0,O=V,D=X;break}if(ye===D){de=!0,D=V,O=X;break}ye=ye.sibling}if(!de){for(ye=X.child;ye;){if(ye===O){de=!0,O=X,D=V;break}if(ye===D){de=!0,D=X,O=V;break}ye=ye.sibling}if(!de)throw Error(o(189))}}if(O.alternate!==D)throw Error(o(190))}if(O.tag!==3)throw Error(o(188));return O.stateNode.current===O?w:E}function k(w){return w=I(w),w!==null?j(w):null}function j(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var E=j(w);if(E!==null)return E;w=w.sibling}return null}function F(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){if(w.tag!==4){var E=F(w);if(E!==null)return E}w=w.sibling}return null}var B=Array.isArray,U=e.getPublicInstance,H=e.getRootHostContext,R=e.getChildHostContext,L=e.prepareForCommit,z=e.resetAfterCommit,W=e.createInstance,G=e.appendInitialChild,q=e.finalizeInitialChildren,ne=e.prepareUpdate,ae=e.shouldSetTextContent,se=e.createTextInstance,$=e.scheduleTimeout,Y=e.cancelTimeout,Q=e.noTimeout,te=e.isPrimaryRenderer,ue=e.supportsMutation,J=e.supportsPersistence,K=e.supportsHydration,re=e.getInstanceFromNode,fe=e.preparePortalMount,me=e.getCurrentEventPriority,pe=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Ce=e.scheduleMicrotask,ke=e.supportsTestSelectors,rt=e.findFiberRoot,Je=e.getBoundingRect,ie=e.getTextContent,Z=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,Me=e.appendChild,ct=e.appendChildToContainer,He=e.commitTextUpdate,lt=e.commitMount,Ge=e.commitUpdate,$e=e.insertBefore,it=e.insertInContainerBefore,Ct=e.removeChild,he=e.removeChildFromContainer,Ee=e.resetTextContent,Ye=e.hideInstance,ce=e.hideTextInstance,Ne=e.unhideInstance,Be=e.unhideTextInstance,Ve=e.clearContainer,Ue=e.cloneInstance,Le=e.createContainerChildSet,Ze=e.appendChildToContainerChildSet,mt=e.finalizeContainerChildren,jt=e.replaceContainerChildren,$t=e.cloneHiddenInstance,Ln=e.cloneHiddenTextInstance,Rn=e.canHydrateInstance,ta=e.canHydrateTextInstance,cs=e.canHydrateSuspenseInstance,ru=e.isSuspenseInstancePending,iu=e.isSuspenseInstanceFallback,np=e.registerSuspenseInstanceRetry,vo=e.getNextHydratableSibling,rp=e.getFirstHydratableChild,su=e.getFirstHydratableChildWithinContainer,ip=e.getFirstHydratableChildWithinSuspenseInstance,sp=e.hydrateInstance,op=e.hydrateTextInstance,ap=e.hydrateSuspenseInstance,lp=e.getNextHydratableInstanceAfterSuspenseInstance,cp=e.commitHydratedContainer,iy=e.commitHydratedSuspenseInstance,sy=e.clearSuspenseBoundary,oe=e.clearSuspenseBoundaryFromContainer,_e=e.shouldDeleteUnhydratedTailInstances,Pe=e.didNotMatchHydratedContainerTextInstance,Re=e.didNotMatchHydratedTextInstance,be;function Ke(w){if(be===void 0)try{throw Error()}catch(O){var E=O.stack.trim().match(/\n( *(at )?)/);be=E&&E[1]||""}return`
`+be+w}var ut=!1;function yt(w,E){if(!w||ut)return"";ut=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(tt){var D=tt}Reflect.construct(w,[],E)}else{try{E.call()}catch(tt){D=tt}w.call(E.prototype)}else{try{throw Error()}catch(tt){D=tt}w()}}catch(tt){if(tt&&D&&typeof tt.stack=="string"){for(var V=tt.stack.split(`
`),X=D.stack.split(`
`),de=V.length-1,ye=X.length-1;1<=de&&0<=ye&&V[de]!==X[ye];)ye--;for(;1<=de&&0<=ye;de--,ye--)if(V[de]!==X[ye]){if(de!==1||ye!==1)do if(de--,ye--,0>ye||V[de]!==X[ye]){var je=`
`+V[de].replace(" at new "," at ");return w.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",w.displayName)),je}while(1<=de&&0<=ye);break}}}finally{ut=!1,Error.prepareStackTrace=O}return(w=w?w.displayName||w.name:"")?Ke(w):""}var gt=Object.prototype.hasOwnProperty,It=[],Ot=-1;function bt(w){return{current:w}}function St(w){0>Ot||(w.current=It[Ot],It[Ot]=null,Ot--)}function Nt(w,E){Ot++,It[Ot]=w.current,w.current=E}var yn={},qt=bt(yn),Kt=bt(!1),Mt=yn;function En(w,E){var O=w.type.contextTypes;if(!O)return yn;var D=w.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===E)return D.__reactInternalMemoizedMaskedChildContext;var V={},X;for(X in O)V[X]=E[X];return D&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=E,w.__reactInternalMemoizedMaskedChildContext=V),V}function Ht(w){return w=w.childContextTypes,w!=null}function fr(){St(Kt),St(qt)}function na(w,E,O){if(qt.current!==yn)throw Error(o(168));Nt(qt,E),Nt(Kt,O)}function oi(w,E,O){var D=w.stateNode;if(E=E.childContextTypes,typeof D.getChildContext!="function")return O;D=D.getChildContext();for(var V in D)if(!(V in E))throw Error(o(108,T(w)||"Unknown",V));return s({},O,D)}function yo(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||yn,Mt=qt.current,Nt(qt,w),Nt(Kt,Kt.current),!0}function On(w,E,O){var D=w.stateNode;if(!D)throw Error(o(169));O?(w=oi(w,E,Mt),D.__reactInternalMemoizedMergedChildContext=w,St(Kt),St(qt),Nt(qt,w)):St(Kt),Nt(Kt,O)}var Xn=Math.clz32?Math.clz32:Ci,Ei=Math.log,Ir=Math.LN2;function Ci(w){return w>>>=0,w===0?32:31-(Ei(w)/Ir|0)|0}var ou=64,xo=4194304;function oy(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function dw(w,E){var O=w.pendingLanes;if(O===0)return 0;var D=0,V=w.suspendedLanes,X=w.pingedLanes,de=O&268435455;if(de!==0){var ye=de&~V;ye!==0?D=oy(ye):(X&=de,X!==0&&(D=oy(X)))}else de=O&~V,de!==0?D=oy(de):X!==0&&(D=oy(X));if(D===0)return 0;if(E!==0&&E!==D&&!(E&V)&&(V=D&-D,X=E&-E,V>=X||V===16&&(X&4194240)!==0))return E;if(D&4&&(D|=O&16),E=w.entangledLanes,E!==0)for(w=w.entanglements,E&=D;0<E;)O=31-Xn(E),V=1<<O,D|=w[O],E&=~V;return D}function Fhe(w,E){switch(w){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bhe(w,E){for(var O=w.suspendedLanes,D=w.pingedLanes,V=w.expirationTimes,X=w.pendingLanes;0<X;){var de=31-Xn(X),ye=1<<de,je=V[de];je===-1?(!(ye&O)||ye&D)&&(V[de]=Fhe(ye,E)):je<=E&&(w.expiredLanes|=ye),X&=~ye}}function h2(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function p2(w){for(var E=[],O=0;31>O;O++)E.push(w);return E}function ay(w,E,O){w.pendingLanes|=E,E!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,E=31-Xn(E),w[E]=O}function Uhe(w,E){var O=w.pendingLanes&~E;w.pendingLanes=E,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=E,w.mutableReadLanes&=E,w.entangledLanes&=E,E=w.entanglements;var D=w.eventTimes;for(w=w.expirationTimes;0<O;){var V=31-Xn(O),X=1<<V;E[V]=0,D[V]=-1,w[V]=-1,O&=~X}}function m2(w,E){var O=w.entangledLanes|=E;for(w=w.entanglements;O;){var D=31-Xn(O),V=1<<D;V&E|w[D]&E&&(w[D]|=E),O&=~V}}var Cn=0;function L5(w){return w&=-w,1<w?4<w?w&268435455?16:536870912:4:1}var g2=i.unstable_scheduleCallback,j5=i.unstable_cancelCallback,zhe=i.unstable_shouldYield,$he=i.unstable_requestPaint,ai=i.unstable_now,v2=i.unstable_ImmediatePriority,Hhe=i.unstable_UserBlockingPriority,y2=i.unstable_NormalPriority,Vhe=i.unstable_IdlePriority,fw=null,qa=null;function Whe(w){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(fw,w,void 0,(w.current.flags&128)===128)}catch{}}function Ghe(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var Ka=typeof Object.is=="function"?Object.is:Ghe,ql=null,hw=!1,x2=!1;function F5(w){ql===null?ql=[w]:ql.push(w)}function Xhe(w){hw=!0,F5(w)}function Ya(){if(!x2&&ql!==null){x2=!0;var w=0,E=Cn;try{var O=ql;for(Cn=1;w<O.length;w++){var D=O[w];do D=D(!0);while(D!==null)}ql=null,hw=!1}catch(V){throw ql!==null&&(ql=ql.slice(w+1)),g2(v2,Ya),V}finally{Cn=E,x2=!1}}return null}var qhe=a.ReactCurrentBatchConfig;function pw(w,E){if(Ka(w,E))return!0;if(typeof w!="object"||w===null||typeof E!="object"||E===null)return!1;var O=Object.keys(w),D=Object.keys(E);if(O.length!==D.length)return!1;for(D=0;D<O.length;D++){var V=O[D];if(!gt.call(E,V)||!Ka(w[V],E[V]))return!1}return!0}function Khe(w){switch(w.tag){case 5:return Ke(w.type);case 16:return Ke("Lazy");case 13:return Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 2:case 15:return w=yt(w.type,!1),w;case 11:return w=yt(w.type.render,!1),w;case 1:return w=yt(w.type,!0),w;default:return""}}function ra(w,E){if(w&&w.defaultProps){E=s({},E),w=w.defaultProps;for(var O in w)E[O]===void 0&&(E[O]=w[O]);return E}return E}var mw=bt(null),gw=null,up=null,_2=null;function b2(){_2=up=gw=null}function B5(w,E,O){te?(Nt(mw,E._currentValue),E._currentValue=O):(Nt(mw,E._currentValue2),E._currentValue2=O)}function w2(w){var E=mw.current;St(mw),te?w._currentValue=E:w._currentValue2=E}function S2(w,E,O){for(;w!==null;){var D=w.alternate;if((w.childLanes&E)!==E?(w.childLanes|=E,D!==null&&(D.childLanes|=E)):D!==null&&(D.childLanes&E)!==E&&(D.childLanes|=E),w===O)break;w=w.return}}function dp(w,E){gw=w,_2=up=null,w=w.dependencies,w!==null&&w.firstContext!==null&&(w.lanes&E&&(Us=!0),w.firstContext=null)}function _o(w){var E=te?w._currentValue:w._currentValue2;if(_2!==w)if(w={context:w,memoizedValue:E,next:null},up===null){if(gw===null)throw Error(o(308));up=w,gw.dependencies={lanes:0,firstContext:w}}else up=up.next=w;return E}var Za=null,au=!1;function E2(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U5(w,E){w=w.updateQueue,E.updateQueue===w&&(E.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function Kl(w,E){return{eventTime:w,lane:E,tag:0,payload:null,callback:null,next:null}}function lu(w,E){var O=w.updateQueue;O!==null&&(O=O.shared,kr!==null&&w.mode&1&&!(ln&2)?(w=O.interleaved,w===null?(E.next=E,Za===null?Za=[O]:Za.push(O)):(E.next=w.next,w.next=E),O.interleaved=E):(w=O.pending,w===null?E.next=E:(E.next=w.next,w.next=E),O.pending=E))}function vw(w,E,O){if(E=E.updateQueue,E!==null&&(E=E.shared,(O&4194240)!==0)){var D=E.lanes;D&=w.pendingLanes,O|=D,E.lanes=O,m2(w,O)}}function z5(w,E){var O=w.updateQueue,D=w.alternate;if(D!==null&&(D=D.updateQueue,O===D)){var V=null,X=null;if(O=O.firstBaseUpdate,O!==null){do{var de={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};X===null?V=X=de:X=X.next=de,O=O.next}while(O!==null);X===null?V=X=E:X=X.next=E}else V=X=E;O={baseState:D.baseState,firstBaseUpdate:V,lastBaseUpdate:X,shared:D.shared,effects:D.effects},w.updateQueue=O;return}w=O.lastBaseUpdate,w===null?O.firstBaseUpdate=E:w.next=E,O.lastBaseUpdate=E}function yw(w,E,O,D){var V=w.updateQueue;au=!1;var X=V.firstBaseUpdate,de=V.lastBaseUpdate,ye=V.shared.pending;if(ye!==null){V.shared.pending=null;var je=ye,tt=je.next;je.next=null,de===null?X=tt:de.next=tt,de=je;var wt=w.alternate;wt!==null&&(wt=wt.updateQueue,ye=wt.lastBaseUpdate,ye!==de&&(ye===null?wt.firstBaseUpdate=tt:ye.next=tt,wt.lastBaseUpdate=je))}if(X!==null){var Zt=V.baseState;de=0,wt=tt=je=null,ye=X;do{var kt=ye.lane,Vn=ye.eventTime;if((D&kt)===kt){wt!==null&&(wt=wt.next={eventTime:Vn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Rt=w,Pi=ye;switch(kt=E,Vn=O,Pi.tag){case 1:if(Rt=Pi.payload,typeof Rt=="function"){Zt=Rt.call(Vn,Zt,kt);break e}Zt=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Pi.payload,kt=typeof Rt=="function"?Rt.call(Vn,Zt,kt):Rt,kt==null)break e;Zt=s({},Zt,kt);break e;case 2:au=!0}}ye.callback!==null&&ye.lane!==0&&(w.flags|=64,kt=V.effects,kt===null?V.effects=[ye]:kt.push(ye))}else Vn={eventTime:Vn,lane:kt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},wt===null?(tt=wt=Vn,je=Zt):wt=wt.next=Vn,de|=kt;if(ye=ye.next,ye===null){if(ye=V.shared.pending,ye===null)break;kt=ye,ye=kt.next,kt.next=null,V.lastBaseUpdate=kt,V.shared.pending=null}}while(!0);if(wt===null&&(je=Zt),V.baseState=je,V.firstBaseUpdate=tt,V.lastBaseUpdate=wt,E=V.shared.interleaved,E!==null){V=E;do de|=V.lane,V=V.next;while(V!==E)}else X===null&&(V.shared.lanes=0);_p|=de,w.lanes=de,w.memoizedState=Zt}}function $5(w,E,O){if(w=E.effects,E.effects=null,w!==null)for(E=0;E<w.length;E++){var D=w[E],V=D.callback;if(V!==null){if(D.callback=null,D=O,typeof V!="function")throw Error(o(191,V));V.call(D)}}}var H5=new r.Component().refs;function C2(w,E,O,D){E=w.memoizedState,O=O(D,E),O=O==null?E:s({},E,O),w.memoizedState=O,w.lanes===0&&(w.updateQueue.baseState=O)}var xw={isMounted:function(w){return(w=w._reactInternals)?P(w)===w:!1},enqueueSetState:function(w,E,O){w=w._reactInternals;var D=Gi(),V=du(w),X=Kl(D,V);X.payload=E,O!=null&&(X.callback=O),lu(w,X),E=Co(w,V,D),E!==null&&vw(E,w,V)},enqueueReplaceState:function(w,E,O){w=w._reactInternals;var D=Gi(),V=du(w),X=Kl(D,V);X.tag=1,X.payload=E,O!=null&&(X.callback=O),lu(w,X),E=Co(w,V,D),E!==null&&vw(E,w,V)},enqueueForceUpdate:function(w,E){w=w._reactInternals;var O=Gi(),D=du(w),V=Kl(O,D);V.tag=2,E!=null&&(V.callback=E),lu(w,V),E=Co(w,D,O),E!==null&&vw(E,w,D)}};function V5(w,E,O,D,V,X,de){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(D,X,de):E.prototype&&E.prototype.isPureReactComponent?!pw(O,D)||!pw(V,X):!0}function W5(w,E,O){var D=!1,V=yn,X=E.contextType;return typeof X=="object"&&X!==null?X=_o(X):(V=Ht(E)?Mt:qt.current,D=E.contextTypes,X=(D=D!=null)?En(w,V):yn),E=new E(O,X),w.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=xw,w.stateNode=E,E._reactInternals=w,D&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=V,w.__reactInternalMemoizedMaskedChildContext=X),E}function G5(w,E,O,D){w=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(O,D),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(O,D),E.state!==w&&xw.enqueueReplaceState(E,E.state,null)}function M2(w,E,O,D){var V=w.stateNode;V.props=O,V.state=w.memoizedState,V.refs=H5,E2(w);var X=E.contextType;typeof X=="object"&&X!==null?V.context=_o(X):(X=Ht(E)?Mt:qt.current,V.context=En(w,X)),V.state=w.memoizedState,X=E.getDerivedStateFromProps,typeof X=="function"&&(C2(w,E,X,O),V.state=w.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(E=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),E!==V.state&&xw.enqueueReplaceState(V,V.state,null),yw(w,O,V,D),V.state=w.memoizedState),typeof V.componentDidMount=="function"&&(w.flags|=4194308)}var fp=[],hp=0,_w=null,bw=0,bo=[],wo=0,zd=null,Yl=1,Zl="";function $d(w,E){fp[hp++]=bw,fp[hp++]=_w,_w=w,bw=E}function X5(w,E,O){bo[wo++]=Yl,bo[wo++]=Zl,bo[wo++]=zd,zd=w;var D=Yl;w=Zl;var V=32-Xn(D)-1;D&=~(1<<V),O+=1;var X=32-Xn(E)+V;if(30<X){var de=V-V%5;X=(D&(1<<de)-1).toString(32),D>>=de,V-=de,Yl=1<<32-Xn(E)+V|O<<V|D,Zl=X+w}else Yl=1<<X|O<<V|D,Zl=w}function A2(w){w.return!==null&&($d(w,1),X5(w,1,0))}function T2(w){for(;w===_w;)_w=fp[--hp],fp[hp]=null,bw=fp[--hp],fp[hp]=null;for(;w===zd;)zd=bo[--wo],bo[wo]=null,Zl=bo[--wo],bo[wo]=null,Yl=bo[--wo],bo[wo]=null}var Fs=null,Bs=null,ar=!1,ly=!1,ia=null;function q5(w,E){var O=Mo(5,null,null,0);O.elementType="DELETED",O.stateNode=E,O.return=w,E=w.deletions,E===null?(w.deletions=[O],w.flags|=16):E.push(O)}function K5(w,E){switch(w.tag){case 5:return E=Rn(E,w.type,w.pendingProps),E!==null?(w.stateNode=E,Fs=w,Bs=rp(E),!0):!1;case 6:return E=ta(E,w.pendingProps),E!==null?(w.stateNode=E,Fs=w,Bs=null,!0):!1;case 13:if(E=cs(E),E!==null){var O=zd!==null?{id:Yl,overflow:Zl}:null;return w.memoizedState={dehydrated:E,treeContext:O,retryLane:1073741824},O=Mo(18,null,null,0),O.stateNode=E,O.return=w,w.child=O,Fs=w,Bs=null,!0}return!1;default:return!1}}function P2(w){return(w.mode&1)!==0&&(w.flags&128)===0}function N2(w){if(ar){var E=Bs;if(E){var O=E;if(!K5(w,E)){if(P2(w))throw Error(o(418));E=vo(O);var D=Fs;E&&K5(w,E)?q5(D,O):(w.flags=w.flags&-4097|2,ar=!1,Fs=w)}}else{if(P2(w))throw Error(o(418));w.flags=w.flags&-4097|2,ar=!1,Fs=w}}}function Y5(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;Fs=w}function cy(w){if(!K||w!==Fs)return!1;if(!ar)return Y5(w),ar=!0,!1;if(w.tag!==3&&(w.tag!==5||_e(w.type)&&!ae(w.type,w.memoizedProps))){var E=Bs;if(E){if(P2(w)){for(w=Bs;w;)w=vo(w);throw Error(o(418))}for(;E;)q5(w,E),E=vo(E)}}if(Y5(w),w.tag===13){if(!K)throw Error(o(316));if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));Bs=lp(w)}else Bs=Fs?vo(w.stateNode):null;return!0}function pp(){K&&(Bs=Fs=null,ly=ar=!1)}function R2(w){ia===null?ia=[w]:ia.push(w)}function uy(w,E,O){if(w=O.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(o(309));var D=O.stateNode}if(!D)throw Error(o(147,w));var V=D,X=""+w;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===X?E.ref:(E=function(de){var ye=V.refs;ye===H5&&(ye=V.refs={}),de===null?delete ye[X]:ye[X]=de},E._stringRef=X,E)}if(typeof w!="string")throw Error(o(284));if(!O._owner)throw Error(o(290,w))}return w}function ww(w,E){throw w=Object.prototype.toString.call(E),Error(o(31,w==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":w))}function Z5(w){var E=w._init;return E(w._payload)}function Q5(w){function E(Te,xe){if(w){var De=Te.deletions;De===null?(Te.deletions=[xe],Te.flags|=16):De.push(xe)}}function O(Te,xe){if(!w)return null;for(;xe!==null;)E(Te,xe),xe=xe.sibling;return null}function D(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function V(Te,xe){return Te=hu(Te,xe),Te.index=0,Te.sibling=null,Te}function X(Te,xe,De){return Te.index=De,w?(De=Te.alternate,De!==null?(De=De.index,De<xe?(Te.flags|=2,xe):De):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function de(Te){return w&&Te.alternate===null&&(Te.flags|=2),Te}function ye(Te,xe,De,ht){return xe===null||xe.tag!==6?(xe=pN(De,Te.mode,ht),xe.return=Te,xe):(xe=V(xe,De),xe.return=Te,xe)}function je(Te,xe,De,ht){var Tt=De.type;return Tt===d?wt(Te,xe,De.props.children,ht,De.key):xe!==null&&(xe.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&Z5(Tt)===xe.type)?(ht=V(xe,De.props),ht.ref=uy(Te,xe,De),ht.return=Te,ht):(ht=Jw(De.type,De.key,De.props,null,Te.mode,ht),ht.ref=uy(Te,xe,De),ht.return=Te,ht)}function tt(Te,xe,De,ht){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=mN(De,Te.mode,ht),xe.return=Te,xe):(xe=V(xe,De.children||[]),xe.return=Te,xe)}function wt(Te,xe,De,ht,Tt){return xe===null||xe.tag!==7?(xe=Kd(De,Te.mode,ht,Tt),xe.return=Te,xe):(xe=V(xe,De),xe.return=Te,xe)}function Zt(Te,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=pN(""+xe,Te.mode,De),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return De=Jw(xe.type,xe.key,xe.props,null,Te.mode,De),De.ref=uy(Te,null,xe),De.return=Te,De;case c:return xe=mN(xe,Te.mode,De),xe.return=Te,xe;case _:var ht=xe._init;return Zt(Te,ht(xe._payload),De)}if(B(xe)||C(xe))return xe=Kd(xe,Te.mode,De,null),xe.return=Te,xe;ww(Te,xe)}return null}function kt(Te,xe,De,ht){var Tt=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Tt!==null?null:ye(Te,xe,""+De,ht);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===Tt?je(Te,xe,De,ht):null;case c:return De.key===Tt?tt(Te,xe,De,ht):null;case _:return Tt=De._init,kt(Te,xe,Tt(De._payload),ht)}if(B(De)||C(De))return Tt!==null?null:wt(Te,xe,De,ht,null);ww(Te,De)}return null}function Vn(Te,xe,De,ht,Tt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Te=Te.get(De)||null,ye(xe,Te,""+ht,Tt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case l:return Te=Te.get(ht.key===null?De:ht.key)||null,je(xe,Te,ht,Tt);case c:return Te=Te.get(ht.key===null?De:ht.key)||null,tt(xe,Te,ht,Tt);case _:var sn=ht._init;return Vn(Te,xe,De,sn(ht._payload),Tt)}if(B(ht)||C(ht))return Te=Te.get(De)||null,wt(xe,Te,ht,Tt,null);ww(xe,ht)}return null}function Rt(Te,xe,De,ht){for(var Tt=null,sn=null,Qt=xe,Mn=xe=0,ci=null;Qt!==null&&Mn<De.length;Mn++){Qt.index>Mn?(ci=Qt,Qt=null):ci=Qt.sibling;var An=kt(Te,Qt,De[Mn],ht);if(An===null){Qt===null&&(Qt=ci);break}w&&Qt&&An.alternate===null&&E(Te,Qt),xe=X(An,xe,Mn),sn===null?Tt=An:sn.sibling=An,sn=An,Qt=ci}if(Mn===De.length)return O(Te,Qt),ar&&$d(Te,Mn),Tt;if(Qt===null){for(;Mn<De.length;Mn++)Qt=Zt(Te,De[Mn],ht),Qt!==null&&(xe=X(Qt,xe,Mn),sn===null?Tt=Qt:sn.sibling=Qt,sn=Qt);return ar&&$d(Te,Mn),Tt}for(Qt=D(Te,Qt);Mn<De.length;Mn++)ci=Vn(Qt,Te,Mn,De[Mn],ht),ci!==null&&(w&&ci.alternate!==null&&Qt.delete(ci.key===null?Mn:ci.key),xe=X(ci,xe,Mn),sn===null?Tt=ci:sn.sibling=ci,sn=ci);return w&&Qt.forEach(function(pu){return E(Te,pu)}),ar&&$d(Te,Mn),Tt}function Pi(Te,xe,De,ht){var Tt=C(De);if(typeof Tt!="function")throw Error(o(150));if(De=Tt.call(De),De==null)throw Error(o(151));for(var sn=Tt=null,Qt=xe,Mn=xe=0,ci=null,An=De.next();Qt!==null&&!An.done;Mn++,An=De.next()){Qt.index>Mn?(ci=Qt,Qt=null):ci=Qt.sibling;var pu=kt(Te,Qt,An.value,ht);if(pu===null){Qt===null&&(Qt=ci);break}w&&Qt&&pu.alternate===null&&E(Te,Qt),xe=X(pu,xe,Mn),sn===null?Tt=pu:sn.sibling=pu,sn=pu,Qt=ci}if(An.done)return O(Te,Qt),ar&&$d(Te,Mn),Tt;if(Qt===null){for(;!An.done;Mn++,An=De.next())An=Zt(Te,An.value,ht),An!==null&&(xe=X(An,xe,Mn),sn===null?Tt=An:sn.sibling=An,sn=An);return ar&&$d(Te,Mn),Tt}for(Qt=D(Te,Qt);!An.done;Mn++,An=De.next())An=Vn(Qt,Te,Mn,An.value,ht),An!==null&&(w&&An.alternate!==null&&Qt.delete(An.key===null?Mn:An.key),xe=X(An,xe,Mn),sn===null?Tt=An:sn.sibling=An,sn=An);return w&&Qt.forEach(function(Cpe){return E(Te,Cpe)}),ar&&$d(Te,Mn),Tt}function Ao(Te,xe,De,ht){if(typeof De=="object"&&De!==null&&De.type===d&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var Tt=De.key,sn=xe;sn!==null;){if(sn.key===Tt){if(Tt=De.type,Tt===d){if(sn.tag===7){O(Te,sn.sibling),xe=V(sn,De.props.children),xe.return=Te,Te=xe;break e}}else if(sn.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&Z5(Tt)===sn.type){O(Te,sn.sibling),xe=V(sn,De.props),xe.ref=uy(Te,sn,De),xe.return=Te,Te=xe;break e}O(Te,sn);break}else E(Te,sn);sn=sn.sibling}De.type===d?(xe=Kd(De.props.children,Te.mode,ht,De.key),xe.return=Te,Te=xe):(ht=Jw(De.type,De.key,De.props,null,Te.mode,ht),ht.ref=uy(Te,xe,De),ht.return=Te,Te=ht)}return de(Te);case c:e:{for(sn=De.key;xe!==null;){if(xe.key===sn)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){O(Te,xe.sibling),xe=V(xe,De.children||[]),xe.return=Te,Te=xe;break e}else{O(Te,xe);break}else E(Te,xe);xe=xe.sibling}xe=mN(De,Te.mode,ht),xe.return=Te,Te=xe}return de(Te);case _:return sn=De._init,Ao(Te,xe,sn(De._payload),ht)}if(B(De))return Rt(Te,xe,De,ht);if(C(De))return Pi(Te,xe,De,ht);ww(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,xe!==null&&xe.tag===6?(O(Te,xe.sibling),xe=V(xe,De),xe.return=Te,Te=xe):(O(Te,xe),xe=pN(De,Te.mode,ht),xe.return=Te,Te=xe),de(Te)):O(Te,xe)}return Ao}var mp=Q5(!0),J5=Q5(!1),dy={},So=bt(dy),fy=bt(dy),gp=bt(dy);function Qa(w){if(w===dy)throw Error(o(174));return w}function O2(w,E){Nt(gp,E),Nt(fy,w),Nt(So,dy),w=H(E),St(So),Nt(So,w)}function vp(){St(So),St(fy),St(gp)}function eU(w){var E=Qa(gp.current),O=Qa(So.current);E=R(O,w.type,E),O!==E&&(Nt(fy,w),Nt(So,E))}function I2(w){fy.current===w&&(St(So),St(fy))}var hr=bt(0);function Sw(w){for(var E=w;E!==null;){if(E.tag===13){var O=E.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||ru(O)||iu(O)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var k2=[];function D2(){for(var w=0;w<k2.length;w++){var E=k2[w];te?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}k2.length=0}var Ew=a.ReactCurrentDispatcher,Eo=a.ReactCurrentBatchConfig,yp=0,wr=null,Mi=null,li=null,Cw=!1,hy=!1,py=0,Yhe=0;function Ai(){throw Error(o(321))}function L2(w,E){if(E===null)return!1;for(var O=0;O<E.length&&O<w.length;O++)if(!Ka(w[O],E[O]))return!1;return!0}function j2(w,E,O,D,V,X){if(yp=X,wr=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Ew.current=w===null||w.memoizedState===null?epe:tpe,w=O(D,V),hy){X=0;do{if(hy=!1,py=0,25<=X)throw Error(o(301));X+=1,li=Mi=null,E.updateQueue=null,Ew.current=npe,w=O(D,V)}while(hy)}if(Ew.current=Nw,E=Mi!==null&&Mi.next!==null,yp=0,li=Mi=wr=null,Cw=!1,E)throw Error(o(300));return w}function F2(){var w=py!==0;return py=0,w}function Ql(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?wr.memoizedState=li=w:li=li.next=w,li}function Ja(){if(Mi===null){var w=wr.alternate;w=w!==null?w.memoizedState:null}else w=Mi.next;var E=li===null?wr.memoizedState:li.next;if(E!==null)li=E,Mi=w;else{if(w===null)throw Error(o(310));Mi=w,w={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},li===null?wr.memoizedState=li=w:li=li.next=w}return li}function Hd(w,E){return typeof E=="function"?E(w):E}function Mw(w){var E=Ja(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var D=Mi,V=D.baseQueue,X=O.pending;if(X!==null){if(V!==null){var de=V.next;V.next=X.next,X.next=de}D.baseQueue=V=X,O.pending=null}if(V!==null){X=V.next,D=D.baseState;var ye=de=null,je=null,tt=X;do{var wt=tt.lane;if((yp&wt)===wt)je!==null&&(je=je.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),D=tt.hasEagerState?tt.eagerState:w(D,tt.action);else{var Zt={lane:wt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};je===null?(ye=je=Zt,de=D):je=je.next=Zt,wr.lanes|=wt,_p|=wt}tt=tt.next}while(tt!==null&&tt!==X);je===null?de=D:je.next=ye,Ka(D,E.memoizedState)||(Us=!0),E.memoizedState=D,E.baseState=de,E.baseQueue=je,O.lastRenderedState=D}if(w=O.interleaved,w!==null){V=w;do X=V.lane,wr.lanes|=X,_p|=X,V=V.next;while(V!==w)}else V===null&&(O.lanes=0);return[E.memoizedState,O.dispatch]}function Aw(w){var E=Ja(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var D=O.dispatch,V=O.pending,X=E.memoizedState;if(V!==null){O.pending=null;var de=V=V.next;do X=w(X,de.action),de=de.next;while(de!==V);Ka(X,E.memoizedState)||(Us=!0),E.memoizedState=X,E.baseQueue===null&&(E.baseState=X),O.lastRenderedState=X}return[X,D]}function tU(){}function nU(w,E){var O=wr,D=Ja(),V=E(),X=!Ka(D.memoizedState,V);if(X&&(D.memoizedState=V,Us=!0),D=D.queue,gy(sU.bind(null,O,D,w),[w]),D.getSnapshot!==E||X||li!==null&&li.memoizedState.tag&1){if(O.flags|=2048,my(9,iU.bind(null,O,D,V,E),void 0,null),kr===null)throw Error(o(349));yp&30||rU(O,E,V)}return V}function rU(w,E,O){w.flags|=16384,w={getSnapshot:E,value:O},E=wr.updateQueue,E===null?(E={lastEffect:null,stores:null},wr.updateQueue=E,E.stores=[w]):(O=E.stores,O===null?E.stores=[w]:O.push(w))}function iU(w,E,O,D){E.value=O,E.getSnapshot=D,oU(E)&&Co(w,1,-1)}function sU(w,E,O){return O(function(){oU(E)&&Co(w,1,-1)})}function oU(w){var E=w.getSnapshot;w=w.value;try{var O=E();return!Ka(w,O)}catch{return!0}}function B2(w){var E=Ql();return typeof w=="function"&&(w=w()),E.memoizedState=E.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:w},E.queue=w,w=w.dispatch=Jhe.bind(null,wr,w),[E.memoizedState,w]}function my(w,E,O,D){return w={tag:w,create:E,destroy:O,deps:D,next:null},E=wr.updateQueue,E===null?(E={lastEffect:null,stores:null},wr.updateQueue=E,E.lastEffect=w.next=w):(O=E.lastEffect,O===null?E.lastEffect=w.next=w:(D=O.next,O.next=w,w.next=D,E.lastEffect=w)),w}function aU(){return Ja().memoizedState}function Tw(w,E,O,D){var V=Ql();wr.flags|=w,V.memoizedState=my(1|E,O,void 0,D===void 0?null:D)}function Pw(w,E,O,D){var V=Ja();D=D===void 0?null:D;var X=void 0;if(Mi!==null){var de=Mi.memoizedState;if(X=de.destroy,D!==null&&L2(D,de.deps)){V.memoizedState=my(E,O,X,D);return}}wr.flags|=w,V.memoizedState=my(1|E,O,X,D)}function U2(w,E){return Tw(8390656,8,w,E)}function gy(w,E){return Pw(2048,8,w,E)}function lU(w,E){return Pw(4,2,w,E)}function cU(w,E){return Pw(4,4,w,E)}function uU(w,E){if(typeof E=="function")return w=w(),E(w),function(){E(null)};if(E!=null)return w=w(),E.current=w,function(){E.current=null}}function dU(w,E,O){return O=O!=null?O.concat([w]):null,Pw(4,4,uU.bind(null,E,w),O)}function z2(){}function fU(w,E){var O=Ja();E=E===void 0?null:E;var D=O.memoizedState;return D!==null&&E!==null&&L2(E,D[1])?D[0]:(O.memoizedState=[w,E],w)}function hU(w,E){var O=Ja();E=E===void 0?null:E;var D=O.memoizedState;return D!==null&&E!==null&&L2(E,D[1])?D[0]:(w=w(),O.memoizedState=[w,E],w)}function Zhe(w,E){var O=Cn;Cn=O!==0&&4>O?O:4,w(!0);var D=Eo.transition;Eo.transition={};try{w(!1),E()}finally{Cn=O,Eo.transition=D}}function pU(){return Ja().memoizedState}function Qhe(w,E,O){var D=du(w);O={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null},mU(w)?gU(E,O):(vU(w,E,O),O=Gi(),w=Co(w,D,O),w!==null&&yU(w,E,D))}function Jhe(w,E,O){var D=du(w),V={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(mU(w))gU(E,V);else{vU(w,E,V);var X=w.alternate;if(w.lanes===0&&(X===null||X.lanes===0)&&(X=E.lastRenderedReducer,X!==null))try{var de=E.lastRenderedState,ye=X(de,O);if(V.hasEagerState=!0,V.eagerState=ye,Ka(ye,de))return}catch{}finally{}O=Gi(),w=Co(w,D,O),w!==null&&yU(w,E,D)}}function mU(w){var E=w.alternate;return w===wr||E!==null&&E===wr}function gU(w,E){hy=Cw=!0;var O=w.pending;O===null?E.next=E:(E.next=O.next,O.next=E),w.pending=E}function vU(w,E,O){kr!==null&&w.mode&1&&!(ln&2)?(w=E.interleaved,w===null?(O.next=O,Za===null?Za=[E]:Za.push(E)):(O.next=w.next,w.next=O),E.interleaved=O):(w=E.pending,w===null?O.next=O:(O.next=w.next,w.next=O),E.pending=O)}function yU(w,E,O){if(O&4194240){var D=E.lanes;D&=w.pendingLanes,O|=D,E.lanes=O,m2(w,O)}}var Nw={readContext:_o,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},epe={readContext:_o,useCallback:function(w,E){return Ql().memoizedState=[w,E===void 0?null:E],w},useContext:_o,useEffect:U2,useImperativeHandle:function(w,E,O){return O=O!=null?O.concat([w]):null,Tw(4194308,4,uU.bind(null,E,w),O)},useLayoutEffect:function(w,E){return Tw(4194308,4,w,E)},useInsertionEffect:function(w,E){return Tw(4,2,w,E)},useMemo:function(w,E){var O=Ql();return E=E===void 0?null:E,w=w(),O.memoizedState=[w,E],w},useReducer:function(w,E,O){var D=Ql();return E=O!==void 0?O(E):E,D.memoizedState=D.baseState=E,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:E},D.queue=w,w=w.dispatch=Qhe.bind(null,wr,w),[D.memoizedState,w]},useRef:function(w){var E=Ql();return w={current:w},E.memoizedState=w},useState:B2,useDebugValue:z2,useDeferredValue:function(w){var E=B2(w),O=E[0],D=E[1];return U2(function(){var V=Eo.transition;Eo.transition={};try{D(w)}finally{Eo.transition=V}},[w]),O},useTransition:function(){var w=B2(!1),E=w[0];return w=Zhe.bind(null,w[1]),Ql().memoizedState=w,[E,w]},useMutableSource:function(){},useSyncExternalStore:function(w,E,O){var D=wr,V=Ql();if(ar){if(O===void 0)throw Error(o(407));O=O()}else{if(O=E(),kr===null)throw Error(o(349));yp&30||rU(D,E,O)}V.memoizedState=O;var X={value:O,getSnapshot:E};return V.queue=X,U2(sU.bind(null,D,X,w),[w]),D.flags|=2048,my(9,iU.bind(null,D,X,O,E),void 0,null),O},useId:function(){var w=Ql(),E=kr.identifierPrefix;if(ar){var O=Zl,D=Yl;O=(D&~(1<<32-Xn(D)-1)).toString(32)+O,E=":"+E+"R"+O,O=py++,0<O&&(E+="H"+O.toString(32)),E+=":"}else O=Yhe++,E=":"+E+"r"+O.toString(32)+":";return w.memoizedState=E},unstable_isNewReconciler:!1},tpe={readContext:_o,useCallback:fU,useContext:_o,useEffect:gy,useImperativeHandle:dU,useInsertionEffect:lU,useLayoutEffect:cU,useMemo:hU,useReducer:Mw,useRef:aU,useState:function(){return Mw(Hd)},useDebugValue:z2,useDeferredValue:function(w){var E=Mw(Hd),O=E[0],D=E[1];return gy(function(){var V=Eo.transition;Eo.transition={};try{D(w)}finally{Eo.transition=V}},[w]),O},useTransition:function(){var w=Mw(Hd)[0],E=Ja().memoizedState;return[w,E]},useMutableSource:tU,useSyncExternalStore:nU,useId:pU,unstable_isNewReconciler:!1},npe={readContext:_o,useCallback:fU,useContext:_o,useEffect:gy,useImperativeHandle:dU,useInsertionEffect:lU,useLayoutEffect:cU,useMemo:hU,useReducer:Aw,useRef:aU,useState:function(){return Aw(Hd)},useDebugValue:z2,useDeferredValue:function(w){var E=Aw(Hd),O=E[0],D=E[1];return gy(function(){var V=Eo.transition;Eo.transition={};try{D(w)}finally{Eo.transition=V}},[w]),O},useTransition:function(){var w=Aw(Hd)[0],E=Ja().memoizedState;return[w,E]},useMutableSource:tU,useSyncExternalStore:nU,useId:pU,unstable_isNewReconciler:!1};function $2(w,E){try{var O="",D=E;do O+=Khe(D),D=D.return;while(D);var V=O}catch(X){V=`
Error generating stack: `+X.message+`
`+X.stack}return{value:w,source:E,stack:V}}function H2(w,E){try{console.error(E.value)}catch(O){setTimeout(function(){throw O})}}var rpe=typeof WeakMap=="function"?WeakMap:Map;function xU(w,E,O){O=Kl(-1,O),O.tag=3,O.payload={element:null};var D=E.value;return O.callback=function(){Gw||(Gw=!0,aN=D),H2(w,E)},O}function _U(w,E,O){O=Kl(-1,O),O.tag=3;var D=w.type.getDerivedStateFromError;if(typeof D=="function"){var V=E.value;O.payload=function(){return D(V)},O.callback=function(){H2(w,E)}}var X=w.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(O.callback=function(){H2(w,E),typeof D!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var de=E.stack;this.componentDidCatch(E.value,{componentStack:de!==null?de:""})}),O}function bU(w,E,O){var D=w.pingCache;if(D===null){D=w.pingCache=new rpe;var V=new Set;D.set(E,V)}else V=D.get(E),V===void 0&&(V=new Set,D.set(E,V));V.has(O)||(V.add(O),w=vpe.bind(null,w,E,O),E.then(w,w))}function wU(w){do{var E;if((E=w.tag===13)&&(E=w.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return w;w=w.return}while(w!==null);return null}function SU(w,E,O,D,V){return w.mode&1?(w.flags|=65536,w.lanes=V,w):(w===E?w.flags|=65536:(w.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(E=Kl(-1,1),E.tag=2,lu(O,E))),O.lanes|=1),w)}function el(w){w.flags|=4}function EU(w,E){if(w!==null&&w.child===E.child)return!0;if(E.flags&16)return!1;for(w=E.child;w!==null;){if(w.flags&12854||w.subtreeFlags&12854)return!1;w=w.sibling}return!0}var vy,yy,Rw,Ow;if(ue)vy=function(w,E){for(var O=E.child;O!==null;){if(O.tag===5||O.tag===6)G(w,O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===E)break;for(;O.sibling===null;){if(O.return===null||O.return===E)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},yy=function(){},Rw=function(w,E,O,D,V){if(w=w.memoizedProps,w!==D){var X=E.stateNode,de=Qa(So.current);O=ne(X,O,w,D,V,de),(E.updateQueue=O)&&el(E)}},Ow=function(w,E,O,D){O!==D&&el(E)};else if(J){vy=function(w,E,O,D){for(var V=E.child;V!==null;){if(V.tag===5){var X=V.stateNode;O&&D&&(X=$t(X,V.type,V.memoizedProps,V)),G(w,X)}else if(V.tag===6)X=V.stateNode,O&&D&&(X=Ln(X,V.memoizedProps,V)),G(w,X);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)X=V.child,X!==null&&(X.return=V),vy(w,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===E)break;for(;V.sibling===null;){if(V.return===null||V.return===E)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};var CU=function(w,E,O,D){for(var V=E.child;V!==null;){if(V.tag===5){var X=V.stateNode;O&&D&&(X=$t(X,V.type,V.memoizedProps,V)),Ze(w,X)}else if(V.tag===6)X=V.stateNode,O&&D&&(X=Ln(X,V.memoizedProps,V)),Ze(w,X);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)X=V.child,X!==null&&(X.return=V),CU(w,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===E)break;for(;V.sibling===null;){if(V.return===null||V.return===E)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};yy=function(w,E){var O=E.stateNode;if(!EU(w,E)){w=O.containerInfo;var D=Le(w);CU(D,E,!1,!1),O.pendingChildren=D,el(E),mt(w,D)}},Rw=function(w,E,O,D,V){var X=w.stateNode,de=w.memoizedProps;if((w=EU(w,E))&&de===D)E.stateNode=X;else{var ye=E.stateNode,je=Qa(So.current),tt=null;de!==D&&(tt=ne(ye,O,de,D,V,je)),w&&tt===null?E.stateNode=X:(X=Ue(X,tt,O,de,D,E,w,ye),q(X,O,D,V,je)&&el(E),E.stateNode=X,w?el(E):vy(X,E,!1,!1))}},Ow=function(w,E,O,D){O!==D?(w=Qa(gp.current),O=Qa(So.current),E.stateNode=se(D,w,O,E),el(E)):E.stateNode=w.stateNode}}else yy=function(){},Rw=function(){},Ow=function(){};function xy(w,E){if(!ar)switch(w.tailMode){case"hidden":E=w.tail;for(var O=null;E!==null;)E.alternate!==null&&(O=E),E=E.sibling;O===null?w.tail=null:O.sibling=null;break;case"collapsed":O=w.tail;for(var D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?E||w.tail===null?w.tail=null:w.tail.sibling=null:D.sibling=null}}function Ti(w){var E=w.alternate!==null&&w.alternate.child===w.child,O=0,D=0;if(E)for(var V=w.child;V!==null;)O|=V.lanes|V.childLanes,D|=V.subtreeFlags&14680064,D|=V.flags&14680064,V.return=w,V=V.sibling;else for(V=w.child;V!==null;)O|=V.lanes|V.childLanes,D|=V.subtreeFlags,D|=V.flags,V.return=w,V=V.sibling;return w.subtreeFlags|=D,w.childLanes=O,E}function ipe(w,E,O){var D=E.pendingProps;switch(T2(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(E),null;case 1:return Ht(E.type)&&fr(),Ti(E),null;case 3:return D=E.stateNode,vp(),St(Kt),St(qt),D2(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(w===null||w.child===null)&&(cy(E)?el(E):w===null||w.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,ia!==null&&(uN(ia),ia=null))),yy(w,E),Ti(E),null;case 5:I2(E),O=Qa(gp.current);var V=E.type;if(w!==null&&E.stateNode!=null)Rw(w,E,V,D,O),w.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!D){if(E.stateNode===null)throw Error(o(166));return Ti(E),null}if(w=Qa(So.current),cy(E)){if(!K)throw Error(o(175));w=sp(E.stateNode,E.type,E.memoizedProps,O,w,E,!ly),E.updateQueue=w,w!==null&&el(E)}else{var X=W(V,D,O,w,E);vy(X,E,!1,!1),E.stateNode=X,q(X,V,D,O,w)&&el(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Ti(E),null;case 6:if(w&&E.stateNode!=null)Ow(w,E,w.memoizedProps,D);else{if(typeof D!="string"&&E.stateNode===null)throw Error(o(166));if(w=Qa(gp.current),O=Qa(So.current),cy(E)){if(!K)throw Error(o(176));if(w=E.stateNode,D=E.memoizedProps,(O=op(w,D,E,!ly))&&(V=Fs,V!==null))switch(X=(V.mode&1)!==0,V.tag){case 3:Pe(V.stateNode.containerInfo,w,D,X);break;case 5:Re(V.type,V.memoizedProps,V.stateNode,w,D,X)}O&&el(E)}else E.stateNode=se(D,w,O,E)}return Ti(E),null;case 13:if(St(hr),D=E.memoizedState,ar&&Bs!==null&&E.mode&1&&!(E.flags&128)){for(w=Bs;w;)w=vo(w);return pp(),E.flags|=98560,E}if(D!==null&&D.dehydrated!==null){if(D=cy(E),w===null){if(!D)throw Error(o(318));if(!K)throw Error(o(344));if(w=E.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));ap(w,E)}else pp(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return Ti(E),null}return ia!==null&&(uN(ia),ia=null),E.flags&128?(E.lanes=O,E):(D=D!==null,O=!1,w===null?cy(E):O=w.memoizedState!==null,D&&!O&&(E.child.flags|=8192,E.mode&1&&(w===null||hr.current&1?Gr===0&&(Gr=3):fN())),E.updateQueue!==null&&(E.flags|=4),Ti(E),null);case 4:return vp(),yy(w,E),w===null&&fe(E.stateNode.containerInfo),Ti(E),null;case 10:return w2(E.type._context),Ti(E),null;case 17:return Ht(E.type)&&fr(),Ti(E),null;case 19:if(St(hr),V=E.memoizedState,V===null)return Ti(E),null;if(D=(E.flags&128)!==0,X=V.rendering,X===null)if(D)xy(V,!1);else{if(Gr!==0||w!==null&&w.flags&128)for(w=E.child;w!==null;){if(X=Sw(w),X!==null){for(E.flags|=128,xy(V,!1),w=X.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),E.subtreeFlags=0,w=O,D=E.child;D!==null;)O=D,V=w,O.flags&=14680066,X=O.alternate,X===null?(O.childLanes=0,O.lanes=V,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=X.childLanes,O.lanes=X.lanes,O.child=X.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=X.memoizedProps,O.memoizedState=X.memoizedState,O.updateQueue=X.updateQueue,O.type=X.type,V=X.dependencies,O.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),D=D.sibling;return Nt(hr,hr.current&1|2),E.child}w=w.sibling}V.tail!==null&&ai()>oN&&(E.flags|=128,D=!0,xy(V,!1),E.lanes=4194304)}else{if(!D)if(w=Sw(X),w!==null){if(E.flags|=128,D=!0,w=w.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),xy(V,!0),V.tail===null&&V.tailMode==="hidden"&&!X.alternate&&!ar)return Ti(E),null}else 2*ai()-V.renderingStartTime>oN&&O!==1073741824&&(E.flags|=128,D=!0,xy(V,!1),E.lanes=4194304);V.isBackwards?(X.sibling=E.child,E.child=X):(w=V.last,w!==null?w.sibling=X:E.child=X,V.last=X)}return V.tail!==null?(E=V.tail,V.rendering=E,V.tail=E.sibling,V.renderingStartTime=ai(),E.sibling=null,w=hr.current,Nt(hr,D?w&1|2:w&1),E):(Ti(E),null);case 22:case 23:return dN(),D=E.memoizedState!==null,w!==null&&w.memoizedState!==null!==D&&(E.flags|=8192),D&&E.mode&1?zs&1073741824&&(Ti(E),ue&&E.subtreeFlags&6&&(E.flags|=8192)):Ti(E),null;case 24:return null;case 25:return null}throw Error(o(156,E.tag))}var spe=a.ReactCurrentOwner,Us=!1;function Wi(w,E,O,D){E.child=w===null?J5(E,null,O,D):mp(E,w.child,O,D)}function MU(w,E,O,D,V){O=O.render;var X=E.ref;return dp(E,V),D=j2(w,E,O,D,X,V),O=F2(),w!==null&&!Us?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,Jl(w,E,V)):(ar&&O&&A2(E),E.flags|=1,Wi(w,E,D,V),E.child)}function AU(w,E,O,D,V){if(w===null){var X=O.type;return typeof X=="function"&&!hN(X)&&X.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(E.tag=15,E.type=X,TU(w,E,X,D,V)):(w=Jw(O.type,null,D,E,E.mode,V),w.ref=E.ref,w.return=E,E.child=w)}if(X=w.child,!(w.lanes&V)){var de=X.memoizedProps;if(O=O.compare,O=O!==null?O:pw,O(de,D)&&w.ref===E.ref)return Jl(w,E,V)}return E.flags|=1,w=hu(X,D),w.ref=E.ref,w.return=E,E.child=w}function TU(w,E,O,D,V){if(w!==null&&pw(w.memoizedProps,D)&&w.ref===E.ref)if(Us=!1,(w.lanes&V)!==0)w.flags&131072&&(Us=!0);else return E.lanes=w.lanes,Jl(w,E,V);return V2(w,E,O,D,V)}function PU(w,E,O){var D=E.pendingProps,V=D.children,X=w!==null?w.memoizedState:null;if(D.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Nt(xp,zs),zs|=O;else if(O&1073741824)E.memoizedState={baseLanes:0,cachePool:null},D=X!==null?X.baseLanes:O,Nt(xp,zs),zs|=D;else return w=X!==null?X.baseLanes|O:O,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:w,cachePool:null},E.updateQueue=null,Nt(xp,zs),zs|=w,null;else X!==null?(D=X.baseLanes|O,E.memoizedState=null):D=O,Nt(xp,zs),zs|=D;return Wi(w,E,V,O),E.child}function NU(w,E){var O=E.ref;(w===null&&O!==null||w!==null&&w.ref!==O)&&(E.flags|=512,E.flags|=2097152)}function V2(w,E,O,D,V){var X=Ht(O)?Mt:qt.current;return X=En(E,X),dp(E,V),O=j2(w,E,O,D,X,V),D=F2(),w!==null&&!Us?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,Jl(w,E,V)):(ar&&D&&A2(E),E.flags|=1,Wi(w,E,O,V),E.child)}function RU(w,E,O,D,V){if(Ht(O)){var X=!0;yo(E)}else X=!1;if(dp(E,V),E.stateNode===null)w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),W5(E,O,D),M2(E,O,D,V),D=!0;else if(w===null){var de=E.stateNode,ye=E.memoizedProps;de.props=ye;var je=de.context,tt=O.contextType;typeof tt=="object"&&tt!==null?tt=_o(tt):(tt=Ht(O)?Mt:qt.current,tt=En(E,tt));var wt=O.getDerivedStateFromProps,Zt=typeof wt=="function"||typeof de.getSnapshotBeforeUpdate=="function";Zt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==D||je!==tt)&&G5(E,de,D,tt),au=!1;var kt=E.memoizedState;de.state=kt,yw(E,D,de,V),je=E.memoizedState,ye!==D||kt!==je||Kt.current||au?(typeof wt=="function"&&(C2(E,O,wt,D),je=E.memoizedState),(ye=au||V5(E,O,ye,D,kt,je,tt))?(Zt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(E.flags|=4194308)):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=D,E.memoizedState=je),de.props=D,de.state=je,de.context=tt,D=ye):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),D=!1)}else{de=E.stateNode,U5(w,E),ye=E.memoizedProps,tt=E.type===E.elementType?ye:ra(E.type,ye),de.props=tt,Zt=E.pendingProps,kt=de.context,je=O.contextType,typeof je=="object"&&je!==null?je=_o(je):(je=Ht(O)?Mt:qt.current,je=En(E,je));var Vn=O.getDerivedStateFromProps;(wt=typeof Vn=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==Zt||kt!==je)&&G5(E,de,D,je),au=!1,kt=E.memoizedState,de.state=kt,yw(E,D,de,V);var Rt=E.memoizedState;ye!==Zt||kt!==Rt||Kt.current||au?(typeof Vn=="function"&&(C2(E,O,Vn,D),Rt=E.memoizedState),(tt=au||V5(E,O,tt,D,kt,Rt,je)||!1)?(wt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(D,Rt,je),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(D,Rt,je)),typeof de.componentDidUpdate=="function"&&(E.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=1024),E.memoizedProps=D,E.memoizedState=Rt),de.props=D,de.state=Rt,de.context=je,D=tt):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=1024),D=!1)}return W2(w,E,O,D,X,V)}function W2(w,E,O,D,V,X){NU(w,E);var de=(E.flags&128)!==0;if(!D&&!de)return V&&On(E,O,!1),Jl(w,E,X);D=E.stateNode,spe.current=E;var ye=de&&typeof O.getDerivedStateFromError!="function"?null:D.render();return E.flags|=1,w!==null&&de?(E.child=mp(E,w.child,null,X),E.child=mp(E,null,ye,X)):Wi(w,E,ye,X),E.memoizedState=D.state,V&&On(E,O,!0),E.child}function OU(w){var E=w.stateNode;E.pendingContext?na(w,E.pendingContext,E.pendingContext!==E.context):E.context&&na(w,E.context,!1),O2(w,E.containerInfo)}function IU(w,E,O,D,V){return pp(),R2(V),E.flags|=256,Wi(w,E,O,D),E.child}var Iw={dehydrated:null,treeContext:null,retryLane:0};function kw(w){return{baseLanes:w,cachePool:null}}function kU(w,E,O){var D=E.pendingProps,V=hr.current,X=!1,de=(E.flags&128)!==0,ye;if((ye=de)||(ye=w!==null&&w.memoizedState===null?!1:(V&2)!==0),ye?(X=!0,E.flags&=-129):(w===null||w.memoizedState!==null)&&(V|=1),Nt(hr,V&1),w===null)return N2(E),w=E.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?(E.mode&1?iu(w)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(V=D.children,w=D.fallback,X?(D=E.mode,X=E.child,V={mode:"hidden",children:V},!(D&1)&&X!==null?(X.childLanes=0,X.pendingProps=V):X=e1(V,D,0,null),w=Kd(w,D,O,null),X.return=E,w.return=E,X.sibling=w,E.child=X,E.child.memoizedState=kw(O),E.memoizedState=Iw,w):G2(E,V));if(V=w.memoizedState,V!==null){if(ye=V.dehydrated,ye!==null){if(de)return E.flags&256?(E.flags&=-257,Dw(w,E,O,Error(o(422)))):E.memoizedState!==null?(E.child=w.child,E.flags|=128,null):(X=D.fallback,V=E.mode,D=e1({mode:"visible",children:D.children},V,0,null),X=Kd(X,V,O,null),X.flags|=2,D.return=E,X.return=E,D.sibling=X,E.child=D,E.mode&1&&mp(E,w.child,null,O),E.child.memoizedState=kw(O),E.memoizedState=Iw,X);if(!(E.mode&1))E=Dw(w,E,O,null);else if(iu(ye))E=Dw(w,E,O,Error(o(419)));else if(D=(O&w.childLanes)!==0,Us||D){if(D=kr,D!==null){switch(O&-O){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}D=X&(D.suspendedLanes|O)?0:X,D!==0&&D!==V.retryLane&&(V.retryLane=D,Co(w,D,-1))}fN(),E=Dw(w,E,O,Error(o(421)))}else ru(ye)?(E.flags|=128,E.child=w.child,E=ype.bind(null,w),np(ye,E),E=null):(O=V.treeContext,K&&(Bs=ip(ye),Fs=E,ar=!0,ia=null,ly=!1,O!==null&&(bo[wo++]=Yl,bo[wo++]=Zl,bo[wo++]=zd,Yl=O.id,Zl=O.overflow,zd=E)),E=G2(E,E.pendingProps.children),E.flags|=4096);return E}return X?(D=LU(w,E,D.children,D.fallback,O),X=E.child,V=w.child.memoizedState,X.memoizedState=V===null?kw(O):{baseLanes:V.baseLanes|O,cachePool:null},X.childLanes=w.childLanes&~O,E.memoizedState=Iw,D):(O=DU(w,E,D.children,O),E.memoizedState=null,O)}return X?(D=LU(w,E,D.children,D.fallback,O),X=E.child,V=w.child.memoizedState,X.memoizedState=V===null?kw(O):{baseLanes:V.baseLanes|O,cachePool:null},X.childLanes=w.childLanes&~O,E.memoizedState=Iw,D):(O=DU(w,E,D.children,O),E.memoizedState=null,O)}function G2(w,E){return E=e1({mode:"visible",children:E},w.mode,0,null),E.return=w,w.child=E}function DU(w,E,O,D){var V=w.child;return w=V.sibling,O=hu(V,{mode:"visible",children:O}),!(E.mode&1)&&(O.lanes=D),O.return=E,O.sibling=null,w!==null&&(D=E.deletions,D===null?(E.deletions=[w],E.flags|=16):D.push(w)),E.child=O}function LU(w,E,O,D,V){var X=E.mode;w=w.child;var de=w.sibling,ye={mode:"hidden",children:O};return!(X&1)&&E.child!==w?(O=E.child,O.childLanes=0,O.pendingProps=ye,E.deletions=null):(O=hu(w,ye),O.subtreeFlags=w.subtreeFlags&14680064),de!==null?D=hu(de,D):(D=Kd(D,X,V,null),D.flags|=2),D.return=E,O.return=E,O.sibling=D,E.child=O,D}function Dw(w,E,O,D){return D!==null&&R2(D),mp(E,w.child,null,O),w=G2(E,E.pendingProps.children),w.flags|=2,E.memoizedState=null,w}function jU(w,E,O){w.lanes|=E;var D=w.alternate;D!==null&&(D.lanes|=E),S2(w.return,E,O)}function X2(w,E,O,D,V){var X=w.memoizedState;X===null?w.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:V}:(X.isBackwards=E,X.rendering=null,X.renderingStartTime=0,X.last=D,X.tail=O,X.tailMode=V)}function FU(w,E,O){var D=E.pendingProps,V=D.revealOrder,X=D.tail;if(Wi(w,E,D.children,O),D=hr.current,D&2)D=D&1|2,E.flags|=128;else{if(w!==null&&w.flags&128)e:for(w=E.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&jU(w,O,E);else if(w.tag===19)jU(w,O,E);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===E)break e;for(;w.sibling===null;){if(w.return===null||w.return===E)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}D&=1}if(Nt(hr,D),!(E.mode&1))E.memoizedState=null;else switch(V){case"forwards":for(O=E.child,V=null;O!==null;)w=O.alternate,w!==null&&Sw(w)===null&&(V=O),O=O.sibling;O=V,O===null?(V=E.child,E.child=null):(V=O.sibling,O.sibling=null),X2(E,!1,V,O,X);break;case"backwards":for(O=null,V=E.child,E.child=null;V!==null;){if(w=V.alternate,w!==null&&Sw(w)===null){E.child=V;break}w=V.sibling,V.sibling=O,O=V,V=w}X2(E,!0,O,null,X);break;case"together":X2(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function Jl(w,E,O){if(w!==null&&(E.dependencies=w.dependencies),_p|=E.lanes,!(O&E.childLanes))return null;if(w!==null&&E.child!==w.child)throw Error(o(153));if(E.child!==null){for(w=E.child,O=hu(w,w.pendingProps),E.child=O,O.return=E;w.sibling!==null;)w=w.sibling,O=O.sibling=hu(w,w.pendingProps),O.return=E;O.sibling=null}return E.child}function ope(w,E,O){switch(E.tag){case 3:OU(E),pp();break;case 5:eU(E);break;case 1:Ht(E.type)&&yo(E);break;case 4:O2(E,E.stateNode.containerInfo);break;case 10:B5(E,E.type._context,E.memoizedProps.value);break;case 13:var D=E.memoizedState;if(D!==null)return D.dehydrated!==null?(Nt(hr,hr.current&1),E.flags|=128,null):O&E.child.childLanes?kU(w,E,O):(Nt(hr,hr.current&1),w=Jl(w,E,O),w!==null?w.sibling:null);Nt(hr,hr.current&1);break;case 19:if(D=(O&E.childLanes)!==0,w.flags&128){if(D)return FU(w,E,O);E.flags|=128}var V=E.memoizedState;if(V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Nt(hr,hr.current),D)break;return null;case 22:case 23:return E.lanes=0,PU(w,E,O)}return Jl(w,E,O)}function ape(w,E){switch(T2(E),E.tag){case 1:return Ht(E.type)&&fr(),w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 3:return vp(),St(Kt),St(qt),D2(),w=E.flags,w&65536&&!(w&128)?(E.flags=w&-65537|128,E):null;case 5:return I2(E),null;case 13:if(St(hr),w=E.memoizedState,w!==null&&w.dehydrated!==null){if(E.alternate===null)throw Error(o(340));pp()}return w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 19:return St(hr),null;case 4:return vp(),null;case 10:return w2(E.type._context),null;case 22:case 23:return dN(),null;case 24:return null;default:return null}}var Lw=!1,Vd=!1,lpe=typeof WeakSet=="function"?WeakSet:Set,ft=null;function jw(w,E){var O=w.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(D){fs(w,E,D)}else O.current=null}function q2(w,E,O){try{O()}catch(D){fs(w,E,D)}}var BU=!1;function cpe(w,E){for(L(w.containerInfo),ft=E;ft!==null;)if(w=ft,E=w.child,(w.subtreeFlags&1028)!==0&&E!==null)E.return=w,ft=E;else for(;ft!==null;){w=ft;try{var O=w.alternate;if(w.flags&1024)switch(w.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var D=O.memoizedProps,V=O.memoizedState,X=w.stateNode,de=X.getSnapshotBeforeUpdate(w.elementType===w.type?D:ra(w.type,D),V);X.__reactInternalSnapshotBeforeUpdate=de}break;case 3:ue&&Ve(w.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){fs(w,w.return,ye)}if(E=w.sibling,E!==null){E.return=w.return,ft=E;break}ft=w.return}return O=BU,BU=!1,O}function Wd(w,E,O){var D=E.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var V=D=D.next;do{if((V.tag&w)===w){var X=V.destroy;V.destroy=void 0,X!==void 0&&q2(E,O,X)}V=V.next}while(V!==D)}}function _y(w,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var O=E=E.next;do{if((O.tag&w)===w){var D=O.create;O.destroy=D()}O=O.next}while(O!==E)}}function K2(w){var E=w.ref;if(E!==null){var O=w.stateNode;switch(w.tag){case 5:w=U(O);break;default:w=O}typeof E=="function"?E(w):E.current=w}}function UU(w,E,O){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(fw,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(w=E.updateQueue,w!==null&&(w=w.lastEffect,w!==null)){var D=w=w.next;do{var V=D,X=V.destroy;V=V.tag,X!==void 0&&(V&2||V&4)&&q2(E,O,X),D=D.next}while(D!==w)}break;case 1:if(jw(E,O),w=E.stateNode,typeof w.componentWillUnmount=="function")try{w.props=E.memoizedProps,w.state=E.memoizedState,w.componentWillUnmount()}catch(de){fs(E,O,de)}break;case 5:jw(E,O);break;case 4:ue?GU(w,E,O):J&&J&&(E=E.stateNode.containerInfo,O=Le(E),jt(E,O))}}function zU(w,E,O){for(var D=E;;)if(UU(w,D,O),D.child===null||ue&&D.tag===4){if(D===E)break;for(;D.sibling===null;){if(D.return===null||D.return===E)return;D=D.return}D.sibling.return=D.return,D=D.sibling}else D.child.return=D,D=D.child}function $U(w){var E=w.alternate;E!==null&&(w.alternate=null,$U(E)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(E=w.stateNode,E!==null&&pe(E)),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function HU(w){return w.tag===5||w.tag===3||w.tag===4}function VU(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||HU(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function WU(w){if(ue){e:{for(var E=w.return;E!==null;){if(HU(E))break e;E=E.return}throw Error(o(160))}var O=E;switch(O.tag){case 5:E=O.stateNode,O.flags&32&&(Ee(E),O.flags&=-33),O=VU(w),Z2(w,O,E);break;case 3:case 4:E=O.stateNode.containerInfo,O=VU(w),Y2(w,O,E);break;default:throw Error(o(161))}}}function Y2(w,E,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,E?it(O,w,E):ct(O,w);else if(D!==4&&(w=w.child,w!==null))for(Y2(w,E,O),w=w.sibling;w!==null;)Y2(w,E,O),w=w.sibling}function Z2(w,E,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,E?$e(O,w,E):Me(O,w);else if(D!==4&&(w=w.child,w!==null))for(Z2(w,E,O),w=w.sibling;w!==null;)Z2(w,E,O),w=w.sibling}function GU(w,E,O){for(var D=E,V=!1,X,de;;){if(!V){V=D.return;e:for(;;){if(V===null)throw Error(o(160));switch(X=V.stateNode,V.tag){case 5:de=!1;break e;case 3:X=X.containerInfo,de=!0;break e;case 4:X=X.containerInfo,de=!0;break e}V=V.return}V=!0}if(D.tag===5||D.tag===6)zU(w,D,O),de?he(X,D.stateNode):Ct(X,D.stateNode);else if(D.tag===18)de?oe(X,D.stateNode):sy(X,D.stateNode);else if(D.tag===4){if(D.child!==null){X=D.stateNode.containerInfo,de=!0,D.child.return=D,D=D.child;continue}}else if(UU(w,D,O),D.child!==null){D.child.return=D,D=D.child;continue}if(D===E)break;for(;D.sibling===null;){if(D.return===null||D.return===E)return;D=D.return,D.tag===4&&(V=!1)}D.sibling.return=D.return,D=D.sibling}}function Q2(w,E){if(ue){switch(E.tag){case 0:case 11:case 14:case 15:Wd(3,E,E.return),_y(3,E),Wd(5,E,E.return);return;case 1:return;case 5:var O=E.stateNode;if(O!=null){var D=E.memoizedProps;w=w!==null?w.memoizedProps:D;var V=E.type,X=E.updateQueue;E.updateQueue=null,X!==null&&Ge(O,X,V,w,D,E)}return;case 6:if(E.stateNode===null)throw Error(o(162));O=E.memoizedProps,He(E.stateNode,w!==null?w.memoizedProps:O,O);return;case 3:K&&w!==null&&w.memoizedState.isDehydrated&&cp(E.stateNode.containerInfo);return;case 12:return;case 13:Fw(E);return;case 19:Fw(E);return;case 17:return}throw Error(o(163))}switch(E.tag){case 0:case 11:case 14:case 15:Wd(3,E,E.return),_y(3,E),Wd(5,E,E.return);return;case 12:return;case 13:Fw(E);return;case 19:Fw(E);return;case 3:K&&w!==null&&w.memoizedState.isDehydrated&&cp(E.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,jt(E.containerInfo,E.pendingChildren);break e}throw Error(o(163))}}function Fw(w){var E=w.updateQueue;if(E!==null){w.updateQueue=null;var O=w.stateNode;O===null&&(O=w.stateNode=new lpe),E.forEach(function(D){var V=xpe.bind(null,w,D);O.has(D)||(O.add(D),D.then(V,V))})}}function upe(w,E){for(ft=E;ft!==null;){E=ft;var O=E.deletions;if(O!==null)for(var D=0;D<O.length;D++){var V=O[D];try{var X=w;ue?GU(X,V,E):zU(X,V,E);var de=V.alternate;de!==null&&(de.return=null),V.return=null}catch(Tt){fs(V,E,Tt)}}if(O=E.child,E.subtreeFlags&12854&&O!==null)O.return=E,ft=O;else for(;ft!==null;){E=ft;try{var ye=E.flags;if(ye&32&&ue&&Ee(E.stateNode),ye&512){var je=E.alternate;if(je!==null){var tt=je.ref;tt!==null&&(typeof tt=="function"?tt(null):tt.current=null)}}if(ye&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var wt=E.alternate;(wt===null||wt.memoizedState===null)&&(sN=ai())}break;case 22:var Zt=E.memoizedState!==null,kt=E.alternate,Vn=kt!==null&&kt.memoizedState!==null;if(O=E,ue){e:if(D=O,V=Zt,X=null,ue)for(var Rt=D;;){if(Rt.tag===5){if(X===null){X=Rt;var Pi=Rt.stateNode;V?Ye(Pi):Ne(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(X===null){var Ao=Rt.stateNode;V?ce(Ao):Be(Ao,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===D)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===D)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===D)break e;X===Rt&&(X=null),Rt=Rt.return}X===Rt&&(X=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(Zt&&!Vn&&O.mode&1){ft=O;for(var Te=O.child;Te!==null;){for(O=ft=Te;ft!==null;){D=ft;var xe=D.child;switch(D.tag){case 0:case 11:case 14:case 15:Wd(4,D,D.return);break;case 1:jw(D,D.return);var De=D.stateNode;if(typeof De.componentWillUnmount=="function"){var ht=D.return;try{De.props=D.memoizedProps,De.state=D.memoizedState,De.componentWillUnmount()}catch(Tt){fs(D,ht,Tt)}}break;case 5:jw(D,D.return);break;case 22:if(D.memoizedState!==null){KU(O);continue}}xe!==null?(xe.return=D,ft=xe):KU(O)}Te=Te.sibling}}}switch(ye&4102){case 2:WU(E),E.flags&=-3;break;case 6:WU(E),E.flags&=-3,Q2(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,Q2(E.alternate,E);break;case 4:Q2(E.alternate,E)}}catch(Tt){fs(E,E.return,Tt)}if(O=E.sibling,O!==null){O.return=E.return,ft=O;break}ft=E.return}}}function dpe(w,E,O){ft=w,XU(w)}function XU(w,E,O){for(var D=(w.mode&1)!==0;ft!==null;){var V=ft,X=V.child;if(V.tag===22&&D){var de=V.memoizedState!==null||Lw;if(!de){var ye=V.alternate,je=ye!==null&&ye.memoizedState!==null||Vd;ye=Lw;var tt=Vd;if(Lw=de,(Vd=je)&&!tt)for(ft=V;ft!==null;)de=ft,je=de.child,de.tag===22&&de.memoizedState!==null?YU(V):je!==null?(je.return=de,ft=je):YU(V);for(;X!==null;)ft=X,XU(X),X=X.sibling;ft=V,Lw=ye,Vd=tt}qU(w)}else V.subtreeFlags&8772&&X!==null?(X.return=V,ft=X):qU(w)}}function qU(w){for(;ft!==null;){var E=ft;if(E.flags&8772){var O=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Vd||_y(5,E);break;case 1:var D=E.stateNode;if(E.flags&4&&!Vd)if(O===null)D.componentDidMount();else{var V=E.elementType===E.type?O.memoizedProps:ra(E.type,O.memoizedProps);D.componentDidUpdate(V,O.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var X=E.updateQueue;X!==null&&$5(E,X,D);break;case 3:var de=E.updateQueue;if(de!==null){if(O=null,E.child!==null)switch(E.child.tag){case 5:O=U(E.child.stateNode);break;case 1:O=E.child.stateNode}$5(E,de,O)}break;case 5:var ye=E.stateNode;O===null&&E.flags&4&&lt(ye,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(K&&E.memoizedState===null){var je=E.alternate;if(je!==null){var tt=je.memoizedState;if(tt!==null){var wt=tt.dehydrated;wt!==null&&iy(wt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Vd||E.flags&512&&K2(E)}catch(Zt){fs(E,E.return,Zt)}}if(E===w){ft=null;break}if(O=E.sibling,O!==null){O.return=E.return,ft=O;break}ft=E.return}}function KU(w){for(;ft!==null;){var E=ft;if(E===w){ft=null;break}var O=E.sibling;if(O!==null){O.return=E.return,ft=O;break}ft=E.return}}function YU(w){for(;ft!==null;){var E=ft;try{switch(E.tag){case 0:case 11:case 15:var O=E.return;try{_y(4,E)}catch(je){fs(E,O,je)}break;case 1:var D=E.stateNode;if(typeof D.componentDidMount=="function"){var V=E.return;try{D.componentDidMount()}catch(je){fs(E,V,je)}}var X=E.return;try{K2(E)}catch(je){fs(E,X,je)}break;case 5:var de=E.return;try{K2(E)}catch(je){fs(E,de,je)}}}catch(je){fs(E,E.return,je)}if(E===w){ft=null;break}var ye=E.sibling;if(ye!==null){ye.return=E.return,ft=ye;break}ft=E.return}}var Bw=0,Uw=1,zw=2,$w=3,Hw=4;if(typeof Symbol=="function"&&Symbol.for){var by=Symbol.for;Bw=by("selector.component"),Uw=by("selector.has_pseudo_class"),zw=by("selector.role"),$w=by("selector.test_id"),Hw=by("selector.text")}function J2(w){var E=re(w);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(o(364));return E}if(w=rt(w),w===null)throw Error(o(362));return w.stateNode.current}function eN(w,E){switch(E.$$typeof){case Bw:if(w.type===E.value)return!0;break;case Uw:e:{E=E.value,w=[w,0];for(var O=0;O<w.length;){var D=w[O++],V=w[O++],X=E[V];if(D.tag!==5||!Z(D)){for(;X!=null&&eN(D,X);)V++,X=E[V];if(V===E.length){E=!0;break e}else for(D=D.child;D!==null;)w.push(D,V),D=D.sibling}}E=!1}return E;case zw:if(w.tag===5&&ve(w.stateNode,E.value))return!0;break;case Hw:if((w.tag===5||w.tag===6)&&(w=ie(w),w!==null&&0<=w.indexOf(E.value)))return!0;break;case $w:if(w.tag===5&&(w=w.memoizedProps["data-testname"],typeof w=="string"&&w.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function tN(w){switch(w.$$typeof){case Bw:return"<"+(M(w.value)||"Unknown")+">";case Uw:return":has("+(tN(w)||"")+")";case zw:return'[role="'+w.value+'"]';case Hw:return'"'+w.value+'"';case $w:return'[data-testname="'+w.value+'"]';default:throw Error(o(365))}}function ZU(w,E){var O=[];w=[w,0];for(var D=0;D<w.length;){var V=w[D++],X=w[D++],de=E[X];if(V.tag!==5||!Z(V)){for(;de!=null&&eN(V,de);)X++,de=E[X];if(X===E.length)O.push(V);else for(V=V.child;V!==null;)w.push(V,X),V=V.sibling}}return O}function nN(w,E){if(!ke)throw Error(o(363));w=J2(w),w=ZU(w,E),E=[],w=Array.from(w);for(var O=0;O<w.length;){var D=w[O++];if(D.tag===5)Z(D)||E.push(D.stateNode);else for(D=D.child;D!==null;)w.push(D),D=D.sibling}return E}var fpe=Math.ceil,Vw=a.ReactCurrentDispatcher,rN=a.ReactCurrentOwner,Tr=a.ReactCurrentBatchConfig,ln=0,kr=null,Dr=null,vi=0,zs=0,xp=bt(0),Gr=0,wy=null,_p=0,Ww=0,iN=0,Sy=null,us=null,sN=0,oN=1/0;function bp(){oN=ai()+500}var Gw=!1,aN=null,cu=null,Xw=!1,uu=null,qw=0,Ey=0,lN=null,Kw=-1,Yw=0;function Gi(){return ln&6?ai():Kw!==-1?Kw:Kw=ai()}function du(w){return w.mode&1?ln&2&&vi!==0?vi&-vi:qhe.transition!==null?(Yw===0&&(w=ou,ou<<=1,!(ou&4194240)&&(ou=64),Yw=w),Yw):(w=Cn,w!==0?w:me()):1}function Co(w,E,O){if(50<Ey)throw Ey=0,lN=null,Error(o(185));var D=Zw(w,E);return D===null?null:(ay(D,E,O),(!(ln&2)||D!==kr)&&(D===kr&&(!(ln&2)&&(Ww|=E),Gr===4&&fu(D,vi)),ds(D,O),E===1&&ln===0&&!(w.mode&1)&&(bp(),hw&&Ya())),D)}function Zw(w,E){w.lanes|=E;var O=w.alternate;for(O!==null&&(O.lanes|=E),O=w,w=w.return;w!==null;)w.childLanes|=E,O=w.alternate,O!==null&&(O.childLanes|=E),O=w,w=w.return;return O.tag===3?O.stateNode:null}function ds(w,E){var O=w.callbackNode;Bhe(w,E);var D=dw(w,w===kr?vi:0);if(D===0)O!==null&&j5(O),w.callbackNode=null,w.callbackPriority=0;else if(E=D&-D,w.callbackPriority!==E){if(O!=null&&j5(O),E===1)w.tag===0?Xhe(JU.bind(null,w)):F5(JU.bind(null,w)),Ae?Ce(function(){ln===0&&Ya()}):g2(v2,Ya),O=null;else{switch(L5(D)){case 1:O=v2;break;case 4:O=Hhe;break;case 16:O=y2;break;case 536870912:O=Vhe;break;default:O=y2}O=lz(O,QU.bind(null,w))}w.callbackPriority=E,w.callbackNode=O}}function QU(w,E){if(Kw=-1,Yw=0,ln&6)throw Error(o(327));var O=w.callbackNode;if(qd()&&w.callbackNode!==O)return null;var D=dw(w,w===kr?vi:0);if(D===0)return null;if(D&30||D&w.expiredLanes||E)E=Qw(w,D);else{E=D;var V=ln;ln|=2;var X=nz();(kr!==w||vi!==E)&&(bp(),Gd(w,E));do try{mpe();break}catch(ye){tz(w,ye)}while(!0);b2(),Vw.current=X,ln=V,Dr!==null?E=0:(kr=null,vi=0,E=Gr)}if(E!==0){if(E===2&&(V=h2(w),V!==0&&(D=V,E=cN(w,V))),E===1)throw O=wy,Gd(w,0),fu(w,D),ds(w,ai()),O;if(E===6)fu(w,D);else{if(V=w.current.alternate,!(D&30)&&!hpe(V)&&(E=Qw(w,D),E===2&&(X=h2(w),X!==0&&(D=X,E=cN(w,X))),E===1))throw O=wy,Gd(w,0),fu(w,D),ds(w,ai()),O;switch(w.finishedWork=V,w.finishedLanes=D,E){case 0:case 1:throw Error(o(345));case 2:Xd(w,us);break;case 3:if(fu(w,D),(D&130023424)===D&&(E=sN+500-ai(),10<E)){if(dw(w,0)!==0)break;if(V=w.suspendedLanes,(V&D)!==D){Gi(),w.pingedLanes|=w.suspendedLanes&V;break}w.timeoutHandle=$(Xd.bind(null,w,us),E);break}Xd(w,us);break;case 4:if(fu(w,D),(D&4194240)===D)break;for(E=w.eventTimes,V=-1;0<D;){var de=31-Xn(D);X=1<<de,de=E[de],de>V&&(V=de),D&=~X}if(D=V,D=ai()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*fpe(D/1960))-D,10<D){w.timeoutHandle=$(Xd.bind(null,w,us),D);break}Xd(w,us);break;case 5:Xd(w,us);break;default:throw Error(o(329))}}}return ds(w,ai()),w.callbackNode===O?QU.bind(null,w):null}function cN(w,E){var O=Sy;return w.current.memoizedState.isDehydrated&&(Gd(w,E).flags|=256),w=Qw(w,E),w!==2&&(E=us,us=O,E!==null&&uN(E)),w}function uN(w){us===null?us=w:us.push.apply(us,w)}function hpe(w){for(var E=w;;){if(E.flags&16384){var O=E.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var D=0;D<O.length;D++){var V=O[D],X=V.getSnapshot;V=V.value;try{if(!Ka(X(),V))return!1}catch{return!1}}}if(O=E.child,E.subtreeFlags&16384&&O!==null)O.return=E,E=O;else{if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function fu(w,E){for(E&=~iN,E&=~Ww,w.suspendedLanes|=E,w.pingedLanes&=~E,w=w.expirationTimes;0<E;){var O=31-Xn(E),D=1<<O;w[O]=-1,E&=~D}}function JU(w){if(ln&6)throw Error(o(327));qd();var E=dw(w,0);if(!(E&1))return ds(w,ai()),null;var O=Qw(w,E);if(w.tag!==0&&O===2){var D=h2(w);D!==0&&(E=D,O=cN(w,D))}if(O===1)throw O=wy,Gd(w,0),fu(w,E),ds(w,ai()),O;if(O===6)throw Error(o(345));return w.finishedWork=w.current.alternate,w.finishedLanes=E,Xd(w,us),ds(w,ai()),null}function ez(w){uu!==null&&uu.tag===0&&!(ln&6)&&qd();var E=ln;ln|=1;var O=Tr.transition,D=Cn;try{if(Tr.transition=null,Cn=1,w)return w()}finally{Cn=D,Tr.transition=O,ln=E,!(ln&6)&&Ya()}}function dN(){zs=xp.current,St(xp)}function Gd(w,E){w.finishedWork=null,w.finishedLanes=0;var O=w.timeoutHandle;if(O!==Q&&(w.timeoutHandle=Q,Y(O)),Dr!==null)for(O=Dr.return;O!==null;){var D=O;switch(T2(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&fr();break;case 3:vp(),St(Kt),St(qt),D2();break;case 5:I2(D);break;case 4:vp();break;case 13:St(hr);break;case 19:St(hr);break;case 10:w2(D.type._context);break;case 22:case 23:dN()}O=O.return}if(kr=w,Dr=w=hu(w.current,null),vi=zs=E,Gr=0,wy=null,iN=Ww=_p=0,us=Sy=null,Za!==null){for(E=0;E<Za.length;E++)if(O=Za[E],D=O.interleaved,D!==null){O.interleaved=null;var V=D.next,X=O.pending;if(X!==null){var de=X.next;X.next=V,D.next=de}O.pending=D}Za=null}return w}function tz(w,E){do{var O=Dr;try{if(b2(),Ew.current=Nw,Cw){for(var D=wr.memoizedState;D!==null;){var V=D.queue;V!==null&&(V.pending=null),D=D.next}Cw=!1}if(yp=0,li=Mi=wr=null,hy=!1,py=0,rN.current=null,O===null||O.return===null){Gr=1,wy=E,Dr=null;break}e:{var X=w,de=O.return,ye=O,je=E;if(E=vi,ye.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var tt=je,wt=ye,Zt=wt.tag;if(!(wt.mode&1)&&(Zt===0||Zt===11||Zt===15)){var kt=wt.alternate;kt?(wt.updateQueue=kt.updateQueue,wt.memoizedState=kt.memoizedState,wt.lanes=kt.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var Vn=wU(de);if(Vn!==null){Vn.flags&=-257,SU(Vn,de,ye,X,E),Vn.mode&1&&bU(X,tt,E),E=Vn,je=tt;var Rt=E.updateQueue;if(Rt===null){var Pi=new Set;Pi.add(je),E.updateQueue=Pi}else Rt.add(je);break e}else{if(!(E&1)){bU(X,tt,E),fN();break e}je=Error(o(426))}}else if(ar&&ye.mode&1){var Ao=wU(de);if(Ao!==null){!(Ao.flags&65536)&&(Ao.flags|=256),SU(Ao,de,ye,X,E),R2(je);break e}}X=je,Gr!==4&&(Gr=2),Sy===null?Sy=[X]:Sy.push(X),je=$2(je,ye),ye=de;do{switch(ye.tag){case 3:ye.flags|=65536,E&=-E,ye.lanes|=E;var Te=xU(ye,je,E);z5(ye,Te);break e;case 1:X=je;var xe=ye.type,De=ye.stateNode;if(!(ye.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(cu===null||!cu.has(De)))){ye.flags|=65536,E&=-E,ye.lanes|=E;var ht=_U(ye,X,E);z5(ye,ht);break e}}ye=ye.return}while(ye!==null)}iz(O)}catch(Tt){E=Tt,Dr===O&&O!==null&&(Dr=O=O.return);continue}break}while(!0)}function nz(){var w=Vw.current;return Vw.current=Nw,w===null?Nw:w}function fN(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),kr===null||!(_p&268435455)&&!(Ww&268435455)||fu(kr,vi)}function Qw(w,E){var O=ln;ln|=2;var D=nz();kr===w&&vi===E||Gd(w,E);do try{ppe();break}catch(V){tz(w,V)}while(!0);if(b2(),ln=O,Vw.current=D,Dr!==null)throw Error(o(261));return kr=null,vi=0,Gr}function ppe(){for(;Dr!==null;)rz(Dr)}function mpe(){for(;Dr!==null&&!zhe();)rz(Dr)}function rz(w){var E=az(w.alternate,w,zs);w.memoizedProps=w.pendingProps,E===null?iz(w):Dr=E,rN.current=null}function iz(w){var E=w;do{var O=E.alternate;if(w=E.return,E.flags&32768){if(O=ape(O,E),O!==null){O.flags&=32767,Dr=O;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{Gr=6,Dr=null;return}}else if(O=ipe(O,E,zs),O!==null){Dr=O;return}if(E=E.sibling,E!==null){Dr=E;return}Dr=E=w}while(E!==null);Gr===0&&(Gr=5)}function Xd(w,E){var O=Cn,D=Tr.transition;try{Tr.transition=null,Cn=1,gpe(w,E,O)}finally{Tr.transition=D,Cn=O}return null}function gpe(w,E,O){do qd();while(uu!==null);if(ln&6)throw Error(o(327));var D=w.finishedWork,V=w.finishedLanes;if(D===null)return null;if(w.finishedWork=null,w.finishedLanes=0,D===w.current)throw Error(o(177));w.callbackNode=null,w.callbackPriority=0;var X=D.lanes|D.childLanes;if(Uhe(w,X),w===kr&&(Dr=kr=null,vi=0),!(D.subtreeFlags&2064)&&!(D.flags&2064)||Xw||(Xw=!0,lz(y2,function(){return qd(),null})),X=(D.flags&15990)!==0,D.subtreeFlags&15990||X){X=Tr.transition,Tr.transition=null;var de=Cn;Cn=1;var ye=ln;ln|=4,rN.current=null,cpe(w,D),upe(w,D),z(w.containerInfo),w.current=D,dpe(D),$he(),ln=ye,Cn=de,Tr.transition=X}else w.current=D;if(Xw&&(Xw=!1,uu=w,qw=V),X=w.pendingLanes,X===0&&(cu=null),Whe(D.stateNode),ds(w,ai()),E!==null)for(O=w.onRecoverableError,D=0;D<E.length;D++)O(E[D]);if(Gw)throw Gw=!1,w=aN,aN=null,w;return qw&1&&w.tag!==0&&qd(),X=w.pendingLanes,X&1?w===lN?Ey++:(Ey=0,lN=w):Ey=0,Ya(),null}function qd(){if(uu!==null){var w=L5(qw),E=Tr.transition,O=Cn;try{if(Tr.transition=null,Cn=16>w?16:w,uu===null)var D=!1;else{if(w=uu,uu=null,qw=0,ln&6)throw Error(o(331));var V=ln;for(ln|=4,ft=w.current;ft!==null;){var X=ft,de=X.child;if(ft.flags&16){var ye=X.deletions;if(ye!==null){for(var je=0;je<ye.length;je++){var tt=ye[je];for(ft=tt;ft!==null;){var wt=ft;switch(wt.tag){case 0:case 11:case 15:Wd(8,wt,X)}var Zt=wt.child;if(Zt!==null)Zt.return=wt,ft=Zt;else for(;ft!==null;){wt=ft;var kt=wt.sibling,Vn=wt.return;if($U(wt),wt===tt){ft=null;break}if(kt!==null){kt.return=Vn,ft=kt;break}ft=Vn}}}var Rt=X.alternate;if(Rt!==null){var Pi=Rt.child;if(Pi!==null){Rt.child=null;do{var Ao=Pi.sibling;Pi.sibling=null,Pi=Ao}while(Pi!==null)}}ft=X}}if(X.subtreeFlags&2064&&de!==null)de.return=X,ft=de;else e:for(;ft!==null;){if(X=ft,X.flags&2048)switch(X.tag){case 0:case 11:case 15:Wd(9,X,X.return)}var Te=X.sibling;if(Te!==null){Te.return=X.return,ft=Te;break e}ft=X.return}}var xe=w.current;for(ft=xe;ft!==null;){de=ft;var De=de.child;if(de.subtreeFlags&2064&&De!==null)De.return=de,ft=De;else e:for(de=xe;ft!==null;){if(ye=ft,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:_y(9,ye)}}catch(Tt){fs(ye,ye.return,Tt)}if(ye===de){ft=null;break e}var ht=ye.sibling;if(ht!==null){ht.return=ye.return,ft=ht;break e}ft=ye.return}}if(ln=V,Ya(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(fw,w)}catch{}D=!0}return D}finally{Cn=O,Tr.transition=E}}return!1}function sz(w,E,O){E=$2(O,E),E=xU(w,E,1),lu(w,E),E=Gi(),w=Zw(w,1),w!==null&&(ay(w,1,E),ds(w,E))}function fs(w,E,O){if(w.tag===3)sz(w,w,O);else for(;E!==null;){if(E.tag===3){sz(E,w,O);break}else if(E.tag===1){var D=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(cu===null||!cu.has(D))){w=$2(O,w),w=_U(E,w,1),lu(E,w),w=Gi(),E=Zw(E,1),E!==null&&(ay(E,1,w),ds(E,w));break}}E=E.return}}function vpe(w,E,O){var D=w.pingCache;D!==null&&D.delete(E),E=Gi(),w.pingedLanes|=w.suspendedLanes&O,kr===w&&(vi&O)===O&&(Gr===4||Gr===3&&(vi&130023424)===vi&&500>ai()-sN?Gd(w,0):iN|=O),ds(w,E)}function oz(w,E){E===0&&(w.mode&1?(E=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):E=1);var O=Gi();w=Zw(w,E),w!==null&&(ay(w,E,O),ds(w,O))}function ype(w){var E=w.memoizedState,O=0;E!==null&&(O=E.retryLane),oz(w,O)}function xpe(w,E){var O=0;switch(w.tag){case 13:var D=w.stateNode,V=w.memoizedState;V!==null&&(O=V.retryLane);break;case 19:D=w.stateNode;break;default:throw Error(o(314))}D!==null&&D.delete(E),oz(w,O)}var az;az=function(w,E,O){if(w!==null)if(w.memoizedProps!==E.pendingProps||Kt.current)Us=!0;else{if(!(w.lanes&O)&&!(E.flags&128))return Us=!1,ope(w,E,O);Us=!!(w.flags&131072)}else Us=!1,ar&&E.flags&1048576&&X5(E,bw,E.index);switch(E.lanes=0,E.tag){case 2:var D=E.type;w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps;var V=En(E,qt.current);dp(E,O),V=j2(null,E,D,w,V,O);var X=F2();return E.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,Ht(D)?(X=!0,yo(E)):X=!1,E.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,E2(E),V.updater=xw,E.stateNode=V,V._reactInternals=E,M2(E,D,w,O),E=W2(null,E,D,!0,X,O)):(E.tag=0,ar&&X&&A2(E),Wi(null,E,V,O),E=E.child),E;case 16:D=E.elementType;e:{switch(w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps,V=D._init,D=V(D._payload),E.type=D,V=E.tag=bpe(D),w=ra(D,w),V){case 0:E=V2(null,E,D,w,O);break e;case 1:E=RU(null,E,D,w,O);break e;case 11:E=MU(null,E,D,w,O);break e;case 14:E=AU(null,E,D,ra(D.type,w),O);break e}throw Error(o(306,D,""))}return E;case 0:return D=E.type,V=E.pendingProps,V=E.elementType===D?V:ra(D,V),V2(w,E,D,V,O);case 1:return D=E.type,V=E.pendingProps,V=E.elementType===D?V:ra(D,V),RU(w,E,D,V,O);case 3:e:{if(OU(E),w===null)throw Error(o(387));D=E.pendingProps,X=E.memoizedState,V=X.element,U5(w,E),yw(E,D,null,O);var de=E.memoizedState;if(D=de.element,K&&X.isDehydrated)if(X={element:D,isDehydrated:!1,cache:de.cache,transitions:de.transitions},E.updateQueue.baseState=X,E.memoizedState=X,E.flags&256){V=Error(o(423)),E=IU(w,E,D,O,V);break e}else if(D!==V){V=Error(o(424)),E=IU(w,E,D,O,V);break e}else for(K&&(Bs=su(E.stateNode.containerInfo),Fs=E,ar=!0,ia=null,ly=!1),O=J5(E,null,D,O),E.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(pp(),D===V){E=Jl(w,E,O);break e}Wi(w,E,D,O)}E=E.child}return E;case 5:return eU(E),w===null&&N2(E),D=E.type,V=E.pendingProps,X=w!==null?w.memoizedProps:null,de=V.children,ae(D,V)?de=null:X!==null&&ae(D,X)&&(E.flags|=32),NU(w,E),Wi(w,E,de,O),E.child;case 6:return w===null&&N2(E),null;case 13:return kU(w,E,O);case 4:return O2(E,E.stateNode.containerInfo),D=E.pendingProps,w===null?E.child=mp(E,null,D,O):Wi(w,E,D,O),E.child;case 11:return D=E.type,V=E.pendingProps,V=E.elementType===D?V:ra(D,V),MU(w,E,D,V,O);case 7:return Wi(w,E,E.pendingProps,O),E.child;case 8:return Wi(w,E,E.pendingProps.children,O),E.child;case 12:return Wi(w,E,E.pendingProps.children,O),E.child;case 10:e:{if(D=E.type._context,V=E.pendingProps,X=E.memoizedProps,de=V.value,B5(E,D,de),X!==null)if(Ka(X.value,de)){if(X.children===V.children&&!Kt.current){E=Jl(w,E,O);break e}}else for(X=E.child,X!==null&&(X.return=E);X!==null;){var ye=X.dependencies;if(ye!==null){de=X.child;for(var je=ye.firstContext;je!==null;){if(je.context===D){if(X.tag===1){je=Kl(-1,O&-O),je.tag=2;var tt=X.updateQueue;if(tt!==null){tt=tt.shared;var wt=tt.pending;wt===null?je.next=je:(je.next=wt.next,wt.next=je),tt.pending=je}}X.lanes|=O,je=X.alternate,je!==null&&(je.lanes|=O),S2(X.return,O,E),ye.lanes|=O;break}je=je.next}}else if(X.tag===10)de=X.type===E.type?null:X.child;else if(X.tag===18){if(de=X.return,de===null)throw Error(o(341));de.lanes|=O,ye=de.alternate,ye!==null&&(ye.lanes|=O),S2(de,O,E),de=X.sibling}else de=X.child;if(de!==null)de.return=X;else for(de=X;de!==null;){if(de===E){de=null;break}if(X=de.sibling,X!==null){X.return=de.return,de=X;break}de=de.return}X=de}Wi(w,E,V.children,O),E=E.child}return E;case 9:return V=E.type,D=E.pendingProps.children,dp(E,O),V=_o(V),D=D(V),E.flags|=1,Wi(w,E,D,O),E.child;case 14:return D=E.type,V=ra(D,E.pendingProps),V=ra(D.type,V),AU(w,E,D,V,O);case 15:return TU(w,E,E.type,E.pendingProps,O);case 17:return D=E.type,V=E.pendingProps,V=E.elementType===D?V:ra(D,V),w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Ht(D)?(w=!0,yo(E)):w=!1,dp(E,O),W5(E,D,V),M2(E,D,V,O),W2(null,E,D,!0,w,O);case 19:return FU(w,E,O);case 22:return PU(w,E,O)}throw Error(o(156,E.tag))};function lz(w,E){return g2(w,E)}function _pe(w,E,O,D){this.tag=w,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(w,E,O,D){return new _pe(w,E,O,D)}function hN(w){return w=w.prototype,!(!w||!w.isReactComponent)}function bpe(w){if(typeof w=="function")return hN(w)?1:0;if(w!=null){if(w=w.$$typeof,w===y)return 11;if(w===x)return 14}return 2}function hu(w,E){var O=w.alternate;return O===null?(O=Mo(w.tag,E,w.key,w.mode),O.elementType=w.elementType,O.type=w.type,O.stateNode=w.stateNode,O.alternate=w,w.alternate=O):(O.pendingProps=E,O.type=w.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=w.flags&14680064,O.childLanes=w.childLanes,O.lanes=w.lanes,O.child=w.child,O.memoizedProps=w.memoizedProps,O.memoizedState=w.memoizedState,O.updateQueue=w.updateQueue,E=w.dependencies,O.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},O.sibling=w.sibling,O.index=w.index,O.ref=w.ref,O}function Jw(w,E,O,D,V,X){var de=2;if(D=w,typeof w=="function")hN(w)&&(de=1);else if(typeof w=="string")de=5;else e:switch(w){case d:return Kd(O.children,V,X,E);case u:de=8,V|=8;break;case f:return w=Mo(12,O,E,V|2),w.elementType=f,w.lanes=X,w;case m:return w=Mo(13,O,E,V),w.elementType=m,w.lanes=X,w;case p:return w=Mo(19,O,E,V),w.elementType=p,w.lanes=X,w;case b:return e1(O,V,X,E);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case g:de=10;break e;case v:de=9;break e;case y:de=11;break e;case x:de=14;break e;case _:de=16,D=null;break e}throw Error(o(130,w==null?w:typeof w,""))}return E=Mo(de,O,E,V),E.elementType=w,E.type=D,E.lanes=X,E}function Kd(w,E,O,D){return w=Mo(7,w,D,E),w.lanes=O,w}function e1(w,E,O,D){return w=Mo(22,w,D,E),w.elementType=b,w.lanes=O,w.stateNode={},w}function pN(w,E,O){return w=Mo(6,w,null,E),w.lanes=O,w}function mN(w,E,O){return E=Mo(4,w.children!==null?w.children:[],w.key,E),E.lanes=O,E.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},E}function wpe(w,E,O,D,V){this.tag=E,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p2(0),this.expirationTimes=p2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p2(0),this.identifierPrefix=D,this.onRecoverableError=V,K&&(this.mutableSourceEagerHydrationData=null)}function cz(w,E,O,D,V,X,de,ye,je){return w=new wpe(w,E,O,ye,je),E===1?(E=1,X===!0&&(E|=8)):E=0,X=Mo(3,null,null,E),w.current=X,X.stateNode=w,X.memoizedState={element:D,isDehydrated:O,cache:null,transitions:null},E2(X),w}function uz(w){if(!w)return yn;w=w._reactInternals;e:{if(P(w)!==w||w.tag!==1)throw Error(o(170));var E=w;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(Ht(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(o(171))}if(w.tag===1){var O=w.type;if(Ht(O))return oi(w,O,E)}return E}function dz(w){var E=w._reactInternals;if(E===void 0)throw typeof w.render=="function"?Error(o(188)):(w=Object.keys(w).join(","),Error(o(268,w)));return w=k(E),w===null?null:w.stateNode}function fz(w,E){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var O=w.retryLane;w.retryLane=O!==0&&O<E?O:E}}function gN(w,E){fz(w,E),(w=w.alternate)&&fz(w,E)}function Spe(w){return w=k(w),w===null?null:w.stateNode}function Epe(){return null}return n.attemptContinuousHydration=function(w){if(w.tag===13){var E=Gi();Co(w,134217728,E),gN(w,134217728)}},n.attemptHydrationAtCurrentPriority=function(w){if(w.tag===13){var E=Gi(),O=du(w);Co(w,O,E),gN(w,O)}},n.attemptSynchronousHydration=function(w){switch(w.tag){case 3:var E=w.stateNode;if(E.current.memoizedState.isDehydrated){var O=oy(E.pendingLanes);O!==0&&(m2(E,O|1),ds(E,ai()),!(ln&6)&&(bp(),Ya()))}break;case 13:var D=Gi();ez(function(){return Co(w,1,D)}),gN(w,1)}},n.batchedUpdates=function(w,E){var O=ln;ln|=1;try{return w(E)}finally{ln=O,ln===0&&(bp(),hw&&Ya())}},n.createComponentSelector=function(w){return{$$typeof:Bw,value:w}},n.createContainer=function(w,E,O,D,V,X,de){return cz(w,E,!1,null,O,D,V,X,de)},n.createHasPseudoClassSelector=function(w){return{$$typeof:Uw,value:w}},n.createHydrationContainer=function(w,E,O,D,V,X,de,ye,je){return w=cz(O,D,!0,w,V,X,de,ye,je),w.context=uz(null),O=w.current,D=Gi(),V=du(O),X=Kl(D,V),X.callback=E??null,lu(O,X),w.current.lanes=V,ay(w,V,D),ds(w,D),w},n.createPortal=function(w,E,O){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:D==null?null:""+D,children:w,containerInfo:E,implementation:O}},n.createRoleSelector=function(w){return{$$typeof:zw,value:w}},n.createTestNameSelector=function(w){return{$$typeof:$w,value:w}},n.createTextSelector=function(w){return{$$typeof:Hw,value:w}},n.deferredUpdates=function(w){var E=Cn,O=Tr.transition;try{return Tr.transition=null,Cn=16,w()}finally{Cn=E,Tr.transition=O}},n.discreteUpdates=function(w,E,O,D,V){var X=Cn,de=Tr.transition;try{return Tr.transition=null,Cn=1,w(E,O,D,V)}finally{Cn=X,Tr.transition=de,ln===0&&bp()}},n.findAllNodes=nN,n.findBoundingRects=function(w,E){if(!ke)throw Error(o(363));E=nN(w,E),w=[];for(var O=0;O<E.length;O++)w.push(Je(E[O]));for(E=w.length-1;0<E;E--){O=w[E];for(var D=O.x,V=D+O.width,X=O.y,de=X+O.height,ye=E-1;0<=ye;ye--)if(E!==ye){var je=w[ye],tt=je.x,wt=tt+je.width,Zt=je.y,kt=Zt+je.height;if(D>=tt&&X>=Zt&&V<=wt&&de<=kt){w.splice(E,1);break}else if(D!==tt||O.width!==je.width||kt<X||Zt>de){if(!(X!==Zt||O.height!==je.height||wt<D||tt>V)){tt>D&&(je.width+=tt-D,je.x=D),wt<V&&(je.width=V-tt),w.splice(E,1);break}}else{Zt>X&&(je.height+=Zt-X,je.y=X),kt<de&&(je.height=de-Zt),w.splice(E,1);break}}}return w},n.findHostInstance=dz,n.findHostInstanceWithNoPortals=function(w){return w=I(w),w=w!==null?F(w):null,w===null?null:w.stateNode},n.findHostInstanceWithWarning=function(w){return dz(w)},n.flushControlled=function(w){var E=ln;ln|=1;var O=Tr.transition,D=Cn;try{Tr.transition=null,Cn=1,w()}finally{Cn=D,Tr.transition=O,ln=E,ln===0&&(bp(),Ya())}},n.flushPassiveEffects=qd,n.flushSync=ez,n.focusWithin=function(w,E){if(!ke)throw Error(o(363));for(w=J2(w),E=ZU(w,E),E=Array.from(E),w=0;w<E.length;){var O=E[w++];if(!Z(O)){if(O.tag===5&&Se(O.stateNode))return!0;for(O=O.child;O!==null;)E.push(O),O=O.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Cn},n.getFindAllNodesFailureDescription=function(w,E){if(!ke)throw Error(o(363));var O=0,D=[];w=[J2(w),0];for(var V=0;V<w.length;){var X=w[V++],de=w[V++],ye=E[de];if((X.tag!==5||!Z(X))&&(eN(X,ye)&&(D.push(tN(ye)),de++,de>O&&(O=de)),de<E.length))for(X=X.child;X!==null;)w.push(X,de),X=X.sibling}if(O<E.length){for(w=[];O<E.length;O++)w.push(tN(E[O]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+w.join(" > ")}return null},n.getPublicRootInstance=function(w){if(w=w.current,!w.child)return null;switch(w.child.tag){case 5:return U(w.child.stateNode);default:return w.child.stateNode}},n.injectIntoDevTools=function(w){if(w={bundleType:w.bundleType,version:w.version,rendererPackageName:w.rendererPackageName,rendererConfig:w.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Spe,findFiberByHostInstance:w.findFiberByHostInstance||Epe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")w=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)w=!0;else{try{fw=E.inject(w),qa=E}catch{}w=!!E.checkDCE}}return w},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(w,E,O,D){if(!ke)throw Error(o(363));w=nN(w,E);var V=Ie(w,O,D).disconnect;return{disconnect:function(){V()}}},n.registerMutableSourceForHydration=function(w,E){var O=E._getVersion;O=O(E._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[E,O]:w.mutableSourceEagerHydrationData.push(E,O)},n.runWithPriority=function(w,E){var O=Cn;try{return Cn=w,E()}finally{Cn=O}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(w,E,O,D){var V=E.current,X=Gi(),de=du(V);return O=uz(O),E.context===null?E.context=O:E.pendingContext=O,E=Kl(X,de),E.payload={element:w},D=D===void 0?null:D,D!==null&&(E.callback=D),lu(V,E),w=Co(V,de,X),w!==null&&vw(w,V,de),de},n};hhe.exports=Cvt;var Mvt=hhe.exports;const Avt=Nn(Mvt);var phe={exports:{}},mhe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var z=R.length;R.push(L);e:for(;0<z;){var W=z-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[z]=G,z=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var W=0,G=R.length,q=G>>>1;W<q;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,z))se<G&&0>i($,ae)?(R[W]=$,R[se]=z,W=se):(R[W]=ae,R[ne]=z,W=ne);else if(se<G&&0>i($,z))R[W]=$,R[se]=z,W=se;else break e}}return L}function i(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var L=n(c);L!==null&&H(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(T),T=-1),g=!0;var z=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var q=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-L),q=!1}return q}finally{u=null,f=z,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function I(){return!(t.unstable_now()-N<P)}function k(){if(M!==null){var R=t.unstable_now();N=R;var L=!0;try{L=M(!0,R)}finally{L?j():(C=!1,M=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=k,j=function(){B.postMessage(null)}}else j=function(){m(k,0)};function U(R){M=R,C||(C=!0,j())}function H(R,L){T=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return R()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(R,L,z){var W=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,R={id:d++,callback:L,priorityLevel:R,startTime:z,expirationTime:G,sortIndex:-1},z>W?(R.sortIndex=z,e(c,R),n(l)===null&&R===n(c)&&(y?(p(T),T=-1):y=!0,H(b,z-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var z=f;f=L;try{return R.apply(this,arguments)}finally{f=z}}}})(mhe);phe.exports=mhe;var B9=phe.exports;const O5={},ghe=t=>void Object.assign(O5,t);function Tvt(t,e){function n(d,{args:u=[],attach:f,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,m;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const p=g.object;m=om(p,{type:d,root:v,attach:f,primitive:!0})}else{const p=O5[y];if(!p)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");m=om(new p(...u),{type:d,root:v,attach:f,memoizedProps:{args:u}})}return m.__r3f.attach===void 0&&(m.isBufferGeometry?m.__r3f.attach="geometry":m.isMaterial&&(m.__r3f.attach="material")),y!=="inject"&&oI(m,g),m}function r(d,u){let f=!1;if(u){var g,v;(g=u.__r3f)!=null&&g.attach?sI(d,u,u.__r3f.attach):u.isObject3D&&d.isObject3D&&(d.add(u),f=!0),f||(v=d.__r3f)==null||v.objects.push(u),u.__r3f||om(u,{}),u.__r3f.parent=d,dj(u),am(u)}}function i(d,u,f){let g=!1;if(u){var v,y;if((v=u.__r3f)!=null&&v.attach)sI(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){u.parent=d,u.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:u});const m=d.children.filter(x=>x!==u),p=m.indexOf(f);d.children=[...m.slice(0,p),u,...m.slice(p)],g=!0}g||(y=d.__r3f)==null||y.objects.push(u),u.__r3f||om(u,{}),u.__r3f.parent=d,dj(u),am(u)}}function s(d,u,f=!1){d&&[...d].forEach(g=>o(u,g,f))}function o(d,u,f){if(u){var g,v,y;if(u.__r3f&&(u.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(b=>b!==u)),(v=u.__r3f)!=null&&v.attach)V9(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){var m;d.remove(u),(m=u.__r3f)!=null&&m.root&&Lvt(AE(u),u)}const x=(y=u.__r3f)==null?void 0:y.primitive,_=!x&&(f===void 0?u.dispose!==null:f);if(!x){var p;s((p=u.__r3f)==null?void 0:p.objects,u,_),s(u.children,u,_)}if(delete u.__r3f,_&&u.dispose&&u.type!=="Scene"){const b=()=>{try{u.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?B9.unstable_scheduleCallback(B9.unstable_IdlePriority,b):b()}am(d)}}function a(d,u,f,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const m=n(u,f,d.__r3f.root);if(d.children){for(const p of d.children)p.__r3f&&r(m,p);d.children=d.children.filter(p=>!p.__r3f)}d.__r3f.objects.forEach(p=>r(m,p)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),m.parent&&(m.__r3f.autoRemovedBeforeAppend=!0),r(y,m),m.raycast&&m.__r3f.eventCount&&AE(m).getState().internal.interaction.push(m),[g,g.alternate].forEach(p=>{p!==null&&(p.stateNode=m,p.ref&&(typeof p.ref=="function"?p.ref(m):p.ref.current=m))})}const l=()=>{};return{reconciler:Avt({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,u)=>{if(!u)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,u))},removeChildFromContainer:(d,u)=>{u&&o(d.getState().scene,u)},insertInContainerBefore:(d,u,f)=>{if(!u||!f)return;const g=d.getState().scene;g.__r3f&&i(g,u,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var u;return!!((u=d==null?void 0:d.__r3f)!=null?u:{}).handlers},prepareUpdate(d,u,f,g){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==d)return[!0];{const{args:m=[],children:p,...x}=g,{args:_=[],children:b,...S}=f;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((M,T)=>M!==_[T]))return[!0];const C=She(d,x,S,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[u,f],g,v,y,m){u?a(d,g,y,m):oI(d,f)},commitMount(d,u,f,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&AE(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>om(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var u;const{attach:f,parent:g}=(u=d.__r3f)!=null?u:{};f&&g&&V9(g,d,f),d.isObject3D&&(d.visible=!1),am(d)},unhideInstance(d,u){var f;const{attach:g,parent:v}=(f=d.__r3f)!=null?f:{};g&&v&&sI(v,d,g),(d.isObject3D&&u.visible==null||u.visible)&&(d.visible=!0),am(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Im.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&rr.fun(performance.now)?performance.now:rr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:rr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:rr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:oI}}var U9,z9;const iI=t=>"colorSpace"in t||"outputColorSpace"in t,vhe=()=>{var t;return(t=O5.ColorManagement)!=null?t:null},yhe=t=>t&&t.isOrthographicCamera,Pvt=t=>t&&t.hasOwnProperty("current"),cw=typeof window<"u"&&((U9=window.document)!=null&&U9.createElement||((z9=window.navigator)==null?void 0:z9.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function xhe(t){const e=A.useRef(t);return cw(()=>void(e.current=t),[t]),e}function Nvt({set:t}){return cw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class _he extends A.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_he.getDerivedStateFromError=()=>({error:!0});const bhe="__default",$9=new Map,Rvt=t=>t&&!!t.memoized&&!!t.changes;function whe(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const h0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function AE(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const rr={obj:t=>t===Object(t)&&!rr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(rr.str(t)||rr.num(t)||rr.boo(t))return t===e;const s=rr.obj(t);if(s&&r==="reference")return t===e;const o=rr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!rr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(rr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Ovt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function om(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uj(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const H9=/-\d+$/;function sI(t,e,n){if(rr.str(n)){if(H9.test(n)){const s=n.replace(H9,""),{target:o,key:a}=uj(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=uj(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function V9(t,e,n){var r,i;if(rr.str(n)){const{target:s,key:o}=uj(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function She(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const d=t.__r3f,u=Object.entries(i),f=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||u.unshift([v[y],bhe+"remove"])}u.forEach(([v,y])=>{var m;if((m=t.__r3f)!=null&&m.primitive&&v==="object"||rr.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,y,!0,[]]);let p=[];v.includes("-")&&(p=v.split("-")),f.push([v,y,!1,p]);for(const x in i){const _=i[x];x.startsWith(`${v}-`)&&f.push([x,_,!1,x.split("-")])}});const g={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:f}}const Ivt=typeof process<"u"&&!1;function oI(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Rvt(e)?e:She(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[g,v,y,m]=a[f];if(iI(t)){const b="srgb",S="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?b:S):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?b:S)}let p=t,x=p[g];if(m.length&&(x=m.reduce((_,b)=>_[b],t),!(x&&x.set))){const[_,...b]=m.reverse();p=b.reverse().reduce((S,C)=>S[C],t),g=_}if(v===bhe+"remove")if(p.constructor){let _=$9.get(p.constructor);_||(_=new p.constructor,$9.set(p.constructor,_)),v=_[g]}else v=0;if(y&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(x&&x.set&&(x.copy||x instanceof sh)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&(Ivt?x.constructor.name===v.constructor.name:x.constructor===v.constructor))x.copy(v);else if(v!==void 0){var c;const _=(c=x)==null?void 0:c.isColor;!_&&x.setScalar?x.setScalar(v):x instanceof sh&&v instanceof sh?x.mask=v.mask:x.set(v),!vhe()&&s&&!s.linear&&_&&x.convertSRGBToLinear()}}else{var d;if(p[g]=v,(d=p[g])!=null&&d.isTexture&&p[g].format===Bi&&p[g].type===qo&&s){const _=p[g];iI(_)&&iI(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}am(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=AE(t).getState().internal,g=f.interaction.indexOf(t);g>-1&&f.interaction.splice(g,1),r.eventCount&&f.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&dj(t),t}function am(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function dj(t){t.onUpdate==null||t.onUpdate(t)}function kvt(t,e){t.manual||(yhe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function GS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Dvt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Im.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Im.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Im.ContinuousEventPriority;default:return Im.DefaultEventPriority}}function Ehe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Lvt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Ehe(n.capturedMap,e,r,i)})}function jvt(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],u=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+u*u))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var u;return(u=c.__r3f)==null?void 0:u.handlers["onPointer"+d]}))}function r(l,c){const d=t.getState(),u=new Set,f=[],g=c?c(d.internal.interaction):d.internal.interaction;for(let p=0;p<g.length;p++){const x=h0(g[p]);x&&(x.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(p){const x=h0(p);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var _;x.events.compute==null||x.events.compute(l,x,(_=x.previousRoot)==null?void 0:_.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(p,!0):[]}let y=g.flatMap(v).sort((p,x)=>{const _=h0(p.object),b=h0(x.object);return!_||!b?p.distance-x.distance:b.events.priority-_.events.priority||p.distance-x.distance}).filter(p=>{const x=GS(p);return u.has(x)?!1:(u.add(x),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const p of y){let x=p.object;for(;x;){var m;(m=x.__r3f)!=null&&m.eventCount&&f.push({...p,eventObject:x}),x=x.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let p of d.internal.capturedMap.get(l.pointerId).values())u.has(GS(p.intersection))||f.push(p.intersection);return f}function i(l,c,d,u){const f=t.getState();if(l.length){const g={stopped:!1};for(const v of l){const y=h0(v.object)||f,{raycaster:m,pointer:p,camera:x,internal:_}=y,b=new le(p.x,p.y,0).unproject(x),S=N=>{var I,k;return(I=(k=_.capturedMap.get(N))==null?void 0:k.has(v.eventObject))!=null?I:!1},C=N=>{const I={intersection:v,target:c.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(v.eventObject,I):_.capturedMap.set(N,new Map([[v.eventObject,I]])),c.target.setPointerCapture(N)},M=N=>{const I=_.capturedMap.get(N);I&&Ehe(_.capturedMap,v.eventObject,I,N)};let T={};for(let N in c){let I=c[N];typeof I!="function"&&(T[N]=I)}let P={...v,...T,pointer:p,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:b,ray:m.ray,camera:x,stopPropagation(){const N="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!N||N.has(v.eventObject))&&(P.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(I=>I.eventObject===v.eventObject))){const I=l.slice(0,l.indexOf(v));s([...I,v])}},target:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:M},currentTarget:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:M},nativeEvent:c};if(u(P),g.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(u=>u.object===d.object&&u.index===d.index&&u.instanceId===d.instanceId)){const f=d.eventObject.__r3f,g=f==null?void 0:f.handlers;if(c.hovered.delete(GS(d)),f!=null&&f.eventCount){const v={...d,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const u=c[d].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:u,internal:f}=t.getState();f.lastEvent.current=d;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(d,g?n:void 0),p=v?e(d):0;l==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=m.map(_=>_.eventObject)),v&&!m.length&&p<=2&&(o(d,f.interaction),u&&u(d)),g&&s(m);function x(_){const b=_.eventObject,S=b.__r3f,C=S==null?void 0:S.handlers;if(S!=null&&S.eventCount)if(g){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const M=GS(_),T=f.hovered.get(M);T?T.stopped&&_.stopPropagation():(f.hovered.set(M,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const M=C[l];M?(!v||f.initialHits.includes(b))&&(o(d,f.interaction.filter(T=>!f.initialHits.includes(T))),M(_)):v&&f.initialHits.includes(b)&&o(d,f.interaction.filter(T=>!f.initialHits.includes(T)))}}i(m,d,p,x)}}return{handlePointer:a}}const Che=t=>!!(t!=null&&t.render),Mhe=A.createContext(null),Fvt=(t,e)=>{const n=wvt((a,l)=>{const c=new le,d=new le,u=new le;function f(p=l().camera,x=d,_=l().size){const{width:b,height:S,top:C,left:M}=_,T=b/S;x.isVector3?u.copy(x):u.set(...x);const P=p.getWorldPosition(c).distanceTo(u);if(yhe(p))return{width:b/p.zoom,height:S/p.zoom,top:C,left:M,factor:1,distance:P,aspect:T};{const N=p.fov*Math.PI/180,I=2*Math.tan(N/2)*P,k=I*(b/S);return{width:k,height:I,top:C,left:M,factor:b/k,distance:P,aspect:T}}}let g;const v=p=>a(x=>({performance:{...x.performance,current:p}})),y=new ze;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(p=1)=>t(l(),p),advance:(p,x)=>e(p,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new M5,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const p=l();g&&clearTimeout(g),p.performance.current!==p.performance.min&&v(p.performance.min),g=setTimeout(()=>v(l().performance.max),p.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:p=>a(x=>({...x,events:{...x.events,...p}})),setSize:(p,x,_,b,S)=>{const C=l().camera,M={width:p,height:x,top:b||0,left:S||0,updateStyle:_};a(T=>({size:M,viewport:{...T.viewport,...f(C,d,M)}}))},setDpr:p=>a(x=>{const _=whe(p);return{viewport:{...x.viewport,dpr:_,initialDpr:x.viewport.initialDpr||_}}}),setFrameloop:(p="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,p!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:p}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:A.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(p,x,_)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:p,priority:x,store:_}),b.subscribers=b.subscribers.sort((S,C)=>S.priority-C.priority),()=>{const S=l().internal;S!=null&&S.subscribers&&(S.priority=S.priority-(x>0?1:0),S.subscribers=S.subscribers.filter(C=>C.ref!==p))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:u}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,kvt(a,l),d.setPixelRatio(c.dpr);const g=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,g)}a!==o&&(o=a,u(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let XS,Bvt=new Set,Uvt=new Set,zvt=new Set;function aI(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function p0(t,e){switch(t){case"before":return aI(Bvt,e);case"after":return aI(Uvt,e);case"tail":return aI(zvt,e)}}let lI,cI;function uI(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),lI=e.internal.subscribers,XS=0;XS<lI.length;XS++)cI=lI[XS],cI.ref.current(cI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $vt(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,p0("before",c),n=!0;for(const u of t.values()){var d;s=u.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=uI(c,s))}if(n=!1,p0("after",c),r===0)return p0("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,d=1){var u;if(!c)return t.forEach(f=>a(f.store.getState(),d));(u=c.gl.xr)!=null&&u.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,u,f){if(d&&p0("before",c),u)uI(c,u,f);else for(const g of t.values())uI(c,g.store.getState());d&&p0("after",c)}return{loop:o,invalidate:a,advance:l}}function Ahe(){const t=A.useContext(Mhe);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function dc(t=n=>n,e){return Ahe()(t,e)}function f2(t,e=0){const n=Ahe(),r=n.getState().internal.subscribe,i=xhe(t);return cw(()=>r(i,e,n),[e,r,n]),null}const _v=new Map,{invalidate:W9,advance:G9}=$vt(_v),{reconciler:SA,applyProps:tm}=Tvt(_v,Dvt),nm={objects:"shallow",strict:!1},Hvt=(t,e)=>{const n=typeof t=="function"?t(e):t;return Che(n)?n:new dhe({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Vvt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Wvt(t){const e=_v.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Fvt(W9,G9),o=n||SA.createContainer(s,Im.ConcurrentRoot,null,!1,null,"",i,null);e||_v.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:u,size:f,scene:g,events:v,onCreated:y,shadows:m=!1,linear:p=!1,flat:x=!1,legacy:_=!1,orthographic:b=!1,frameloop:S="always",dpr:C=[1,2],performance:M,raycaster:T,camera:P,onPointerMissed:N}=d,I=s.getState(),k=I.gl;I.gl||I.set({gl:k=Hvt(u,t)});let j=I.raycaster;j||I.set({raycaster:j=new rhe});const{params:F,...B}=T||{};if(rr.equ(B,j,nm)||tm(j,{...B}),rr.equ(F,j.params,nm)||tm(j,{params:{...j.params,...F}}),!I.camera||I.camera===c&&!rr.equ(c,P,nm)){c=P;const z=P instanceof tw,W=z?P:b?new Pl(0,0,0,0,.1,1e3):new gr(75,0,.1,1e3);z||(W.position.z=5,P&&(tm(W,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(W.manual=!0,W.updateProjectionMatrix())),!I.camera&&!(P!=null&&P.rotation)&&W.lookAt(0,0,0)),I.set({camera:W}),j.camera=W}if(!I.scene){let z;g!=null&&g.isScene?z=g:(z=new s5,g&&tm(z,g)),I.set({scene:om(z)})}if(!I.xr){var U;const z=(q,ne)=>{const ae=s.getState();ae.frameloop!=="never"&&G9(q,!0,ae,ne)},W=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?z:null),q.gl.xr.isPresenting||W9(q)},G={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",W),q.xr.addEventListener("sessionend",W)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",W),q.xr.removeEventListener("sessionend",W)}};typeof((U=k.xr)==null?void 0:U.addEventListener)=="function"&&G.connect(),I.set({xr:G})}if(k.shadowMap){const z=k.shadowMap.enabled,W=k.shadowMap.type;if(k.shadowMap.enabled=!!m,rr.boo(m))k.shadowMap.type=ex;else if(rr.str(m)){var H;const G={basic:hde,percentage:kP,soft:ex,variance:fa};k.shadowMap.type=(H=G[m])!=null?H:ex}else rr.obj(m)&&Object.assign(k.shadowMap,m);(z!==k.shadowMap.enabled||W!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const R=vhe();R&&("enabled"in R?R.enabled=!_:"legacyMode"in R&&(R.legacyMode=_)),l||tm(k,{outputEncoding:p?3e3:3001,toneMapping:x?Al:HB}),I.legacy!==_&&I.set(()=>({legacy:_})),I.linear!==p&&I.set(()=>({linear:p})),I.flat!==x&&I.set(()=>({flat:x})),u&&!rr.fun(u)&&!Che(u)&&!rr.equ(u,k,nm)&&tm(k,u),v&&!I.events.handlers&&I.set({events:v(s)});const L=Vvt(t,f);return rr.equ(L,I.size,nm)||I.setSize(L.width,L.height,L.updateStyle,L.top,L.left),C&&I.viewport.dpr!==whe(C)&&I.setDpr(C),I.frameloop!==S&&I.setFrameloop(S),I.onPointerMissed||I.set({onPointerMissed:N}),M&&!rr.equ(M,I.performance,nm)&&I.set(z=>({performance:{...z.performance,...M}})),a=y,l=!0,this},render(d){return l||this.configure(),SA.updateContainer(h.jsx(Gvt,{store:s,children:d,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){The(t)}}}function Gvt({store:t,children:e,onCreated:n,rootElement:r}){return cw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),h.jsx(Mhe.Provider,{value:t,children:e})}function The(t,e){const n=_v.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),SA.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ovt(i),_v.delete(t)}catch{}},500)})}}SA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:A.version});const dI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xvt(t){const{handlePointer:e}=jvt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(dI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=dI[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=dI[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function X9(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function qvt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=A.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=A.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=A.useRef(!1);A.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[u,f,g]=A.useMemo(()=>{const p=()=>{if(!a.current.element)return;const{left:x,top:_,width:b,height:S,bottom:C,right:M,x:T,y:P}=a.current.element.getBoundingClientRect(),N={left:x,top:_,width:b,height:S,bottom:C,right:M,x:T,y:P};a.current.element instanceof HTMLElement&&r&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),d.current&&!Qvt(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[p,c?X9(p,c):p,l?X9(p,l):p]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(p=>p.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const m=p=>{!p||p===a.current.element||(v(),a.current.element=p,a.current.scrollContainers=Phe(p),y())};return Yvt(g,!!e),Kvt(f),A.useEffect(()=>{v(),y()},[e,g,f]),A.useEffect(()=>v,[]),[m,s,u]}function Kvt(t){A.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Yvt(t,e){A.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Phe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Phe(t.parentElement)]}const Zvt=["x","y","top","bottom","left","right","width","height"],Qvt=(t,e)=>Zvt.every(n=>t[n]===e[n]);var Jvt=Object.defineProperty,eyt=Object.defineProperties,tyt=Object.getOwnPropertyDescriptors,q9=Object.getOwnPropertySymbols,nyt=Object.prototype.hasOwnProperty,ryt=Object.prototype.propertyIsEnumerable,K9=(t,e,n)=>e in t?Jvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y9=(t,e)=>{for(var n in e||(e={}))nyt.call(e,n)&&K9(t,n,e[n]);if(q9)for(var n of q9(e))ryt.call(e,n)&&K9(t,n,e[n]);return t},iyt=(t,e)=>eyt(t,tyt(e)),Z9,Q9;typeof window<"u"&&((Z9=window.document)!=null&&Z9.createElement||((Q9=window.navigator)==null?void 0:Q9.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function Nhe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Nhe(r,e,n);if(i)return i;r=r.sibling}}function Rhe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const J9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=J9;return}return J9.apply(this,arguments)};const I5=Rhe(A.createContext(null));class Ohe extends A.Component{render(){return A.createElement(I5.Provider,{value:this._reactInternals},this.props.children)}}function syt(){const t=A.useContext(I5);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Nhe(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function oyt(){const t=syt(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==I5&&!e.has(i)&&e.set(i,A.useContext(Rhe(i)))}n=n.return}return e}function ayt(){const t=oyt();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,iyt(Y9({},r),{value:t.get(n)}))),e=>A.createElement(Ohe,Y9({},e))),[t])}const lyt=A.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Xvt,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:u,legacy:f,orthographic:g,frameloop:v,dpr:y,performance:m,raycaster:p,camera:x,scene:_,onPointerMissed:b,onCreated:S,...C},M){A.useMemo(()=>ghe(xvt),[]);const T=ayt(),[P,N]=qvt({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=A.useRef(null),k=A.useRef(null);A.useImperativeHandle(M,()=>I.current);const j=xhe(b),[F,B]=A.useState(!1),[U,H]=A.useState(!1);if(F)throw F;if(U)throw U;const R=A.useRef(null);cw(()=>{const z=I.current;N.width>0&&N.height>0&&z&&(R.current||(R.current=Wvt(z)),R.current.configure({gl:s,events:o,shadows:c,linear:d,flat:u,legacy:f,orthographic:g,frameloop:v,dpr:y,performance:m,raycaster:p,camera:x,scene:_,size:N,onPointerMissed:(...W)=>j.current==null?void 0:j.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?Pvt(a)?a.current:a:k.current),l&&W.setEvents({compute:(G,q)=>{const ne=G[l+"X"],ae=G[l+"Y"];q.pointer.set(ne/q.size.width*2-1,-(ae/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),S==null||S(W)}}),R.current.render(h.jsx(T,{children:h.jsx(_he,{set:H,children:h.jsx(A.Suspense,{fallback:h.jsx(Nvt,{set:B}),children:e??null})})})))}),A.useEffect(()=>{const z=I.current;if(z)return()=>The(z)},[]);const L=a?"none":"auto";return h.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...i},...C,children:h.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:h.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),Ihe=A.forwardRef(function(e,n){return h.jsx(Ohe,{children:h.jsx(lyt,{...e,ref:n})})}),uw=new le,k5=new le,cyt=new le,eX=new ze;function uyt(t,e,n){const r=uw.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function dyt(t,e){const n=uw.setFromMatrixPosition(t.matrixWorld),r=k5.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(cyt);return i.angleTo(s)>Math.PI/2}function fyt(t,e,n,r){const i=uw.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),eX.set(s.x,s.y),n.setFromCamera(eX,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function hyt(t,e){if(e instanceof Pl)return e.zoom;if(e instanceof gr){const n=uw.setFromMatrixPosition(t.matrixWorld),r=k5.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function pyt(t,e,n){if(e instanceof gr||e instanceof Pl){const r=uw.setFromMatrixPosition(t.matrixWorld),i=k5.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const fj=t=>Math.abs(t)<1e-10?0:t;function khe(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=fj(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const myt=(t=>e=>khe(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),gyt=(t=>(e,n)=>khe(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function vyt(t){return t&&typeof t=="object"&&"current"in t}const D5=A.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:u,onOcclude:f,castShadow:g,receiveShadow:v,material:y,geometry:m,zIndexRange:p=[16777271,0],calculatePosition:x=uyt,as:_="div",wrapperClass:b,pointerEvents:S="auto",...C},M)=>{const{gl:T,camera:P,scene:N,size:I,raycaster:k,events:j,viewport:F}=dc(),[B]=A.useState(()=>document.createElement(_)),U=A.useRef(),H=A.useRef(null),R=A.useRef(0),L=A.useRef([0,0]),z=A.useRef(null),W=A.useRef(null),G=(a==null?void 0:a.current)||j.connected||T.domElement.parentNode,q=A.useRef(null),ne=A.useRef(!1),ae=A.useMemo(()=>u&&u!=="blending"||Array.isArray(u)&&u.length&&vyt(u[0]),[u]);A.useLayoutEffect(()=>{const te=T.domElement;u&&u==="blending"?(te.style.zIndex=`${Math.floor(p[0]/2)}`,te.style.position="absolute",te.style.pointerEvents="none"):(te.style.zIndex=null,te.style.position=null,te.style.pointerEvents=null)},[u]),A.useLayoutEffect(()=>{if(H.current){const te=U.current=a3(B);if(N.updateMatrixWorld(),d)B.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=x(H.current,P,I);B.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend(B):G.appendChild(B)),()=>{G&&G.removeChild(B),te.unmount()}}},[G,d]),A.useLayoutEffect(()=>{b&&(B.className=b)},[b]);const se=A.useMemo(()=>d?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...n},[n,s,o,I,d]),$=A.useMemo(()=>({position:"absolute",pointerEvents:S}),[S]);A.useLayoutEffect(()=>{if(ne.current=!1,d){var te;(te=U.current)==null||te.render(A.createElement("div",{ref:z,style:se},A.createElement("div",{ref:W,style:$},A.createElement("div",{ref:M,className:r,style:n,children:t}))))}else{var ue;(ue=U.current)==null||ue.render(A.createElement("div",{ref:M,style:se,className:r,children:t}))}});const Y=A.useRef(!0);f2(te=>{if(H.current){P.updateMatrixWorld(),H.current.updateWorldMatrix(!0,!1);const ue=d?L.current:x(H.current,P,I);if(d||Math.abs(R.current-P.zoom)>e||Math.abs(L.current[0]-ue[0])>e||Math.abs(L.current[1]-ue[1])>e){const J=dyt(H.current,P);let K=!1;ae&&(Array.isArray(u)?K=u.map(pe=>pe.current):u!=="blending"&&(K=[N]));const re=Y.current;if(K){const pe=fyt(H.current,P,k,K);Y.current=pe&&!J}else Y.current=!J;re!==Y.current&&(f?f(!Y.current):B.style.display=Y.current?"block":"none");const fe=Math.floor(p[0]/2),me=u?ae?[p[0],fe]:[fe-1,0]:p;if(B.style.zIndex=`${pyt(H.current,P,me)}`,d){const[pe,Ae]=[I.width/2,I.height/2],Ce=P.projectionMatrix.elements[5]*Ae,{isOrthographicCamera:ke,top:rt,left:Je,bottom:ie,right:Z}=P,ve=myt(P.matrixWorldInverse),Se=ke?`scale(${Ce})translate(${fj(-(Z+Je)/2)}px,${fj((rt+ie)/2)}px)`:`translateZ(${Ce}px)`;let Ie=H.current.matrixWorld;c&&(Ie=P.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale(H.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),B.style.width=I.width+"px",B.style.height=I.height+"px",B.style.perspective=ke?"":`${Ce}px`,z.current&&W.current&&(z.current.style.transform=`${Se}${ve}translate(${pe}px,${Ae}px)`,W.current.style.transform=gyt(Ie,1/((l||10)/400)))}else{const pe=l===void 0?1:hyt(H.current,P)*l;B.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${pe})`}L.current=ue,R.current=P.zoom}}if(!ae&&q.current&&!ne.current)if(d){if(z.current){const ue=z.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:J}=P;if(J||m)C.scale&&(Array.isArray(C.scale)?C.scale instanceof le?q.current.scale.copy(C.scale.clone().divideScalar(1)):q.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):q.current.scale.setScalar(1/C.scale));else{const K=(l||10)/400,re=ue.clientWidth*K,fe=ue.clientHeight*K;q.current.scale.set(re,fe,1)}ne.current=!0}}}else{const ue=B.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const J=1/F.factor,K=ue.clientWidth*J,re=ue.clientHeight*J;q.current.scale.set(K,re,1),ne.current=!0}q.current.lookAt(te.camera.position)}});const Q=A.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return A.createElement("group",Eh({},C,{ref:H}),u&&!ae&&A.createElement("mesh",{castShadow:g,receiveShadow:v,ref:q},m||A.createElement("planeGeometry",null),y||A.createElement("shaderMaterial",{side:Ea,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))});var yyt=Object.defineProperty,xyt=(t,e,n)=>e in t?yyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_yt=(t,e,n)=>(xyt(t,e+"",n),n);class byt{constructor(){_yt(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var wyt=Object.defineProperty,Syt=(t,e,n)=>e in t?wyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dt=(t,e,n)=>(Syt(t,typeof e!="symbol"?e+"":e,n),n);const qS=new Zh,tX=new cl,Eyt=Math.cos(70*(Math.PI/180)),nX=(t,e)=>(t%e+e)%e;let Cyt=class extends byt{constructor(e,n){super(),Dt(this,"object"),Dt(this,"domElement"),Dt(this,"enabled",!0),Dt(this,"target",new le),Dt(this,"minDistance",0),Dt(this,"maxDistance",1/0),Dt(this,"minZoom",0),Dt(this,"maxZoom",1/0),Dt(this,"minPolarAngle",0),Dt(this,"maxPolarAngle",Math.PI),Dt(this,"minAzimuthAngle",-1/0),Dt(this,"maxAzimuthAngle",1/0),Dt(this,"enableDamping",!1),Dt(this,"dampingFactor",.05),Dt(this,"enableZoom",!0),Dt(this,"zoomSpeed",1),Dt(this,"enableRotate",!0),Dt(this,"rotateSpeed",1),Dt(this,"enablePan",!0),Dt(this,"panSpeed",1),Dt(this,"screenSpacePanning",!0),Dt(this,"keyPanSpeed",7),Dt(this,"zoomToCursor",!1),Dt(this,"autoRotate",!1),Dt(this,"autoRotateSpeed",2),Dt(this,"reverseOrbit",!1),Dt(this,"reverseHorizontalOrbit",!1),Dt(this,"reverseVerticalOrbit",!1),Dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Dt(this,"mouseButtons",{LEFT:Sf.ROTATE,MIDDLE:Sf.DOLLY,RIGHT:Sf.PAN}),Dt(this,"touches",{ONE:Ef.ROTATE,TWO:Ef.DOLLY_PAN}),Dt(this,"target0"),Dt(this,"position0"),Dt(this,"zoom0"),Dt(this,"_domElementKeyEvents",null),Dt(this,"getPolarAngle"),Dt(this,"getAzimuthalAngle"),Dt(this,"setPolarAngle"),Dt(this,"setAzimuthalAngle"),Dt(this,"getDistance"),Dt(this,"getZoomScale"),Dt(this,"listenToKeyEvents"),Dt(this,"stopListenToKeyEvents"),Dt(this,"saveState"),Dt(this,"reset"),Dt(this,"update"),Dt(this,"connect"),Dt(this,"dispose"),Dt(this,"dollyIn"),Dt(this,"dollyOut"),Dt(this,"getScale"),Dt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=he=>{let Ee=nX(he,2*Math.PI),Ye=d.phi;Ye<0&&(Ye+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Ye);2*Math.PI-ce<ce&&(Ee<Ye?Ee+=2*Math.PI:Ye+=2*Math.PI),u.phi=Ee-Ye,r.update()},this.setAzimuthalAngle=he=>{let Ee=nX(he,2*Math.PI),Ye=d.theta;Ye<0&&(Ye+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Ye);2*Math.PI-ce<ce&&(Ee<Ye?Ee+=2*Math.PI:Ye+=2*Math.PI),u.theta=Ee-Ye,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",Me),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Me),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new le,Ee=new le(0,1,0),Ye=new zi().setFromUnitVectors(e.up,Ee),ce=Ye.clone().invert(),Ne=new le,Be=new zi,Ve=2*Math.PI;return function(){const Le=r.object.position;Ye.setFromUnitVectors(e.up,Ee),ce.copy(Ye).invert(),he.copy(Le).sub(r.target),he.applyQuaternion(Ye),d.setFromVector3(he),r.autoRotate&&l===a.NONE&&F(k()),r.enableDamping?(d.theta+=u.theta*r.dampingFactor,d.phi+=u.phi*r.dampingFactor):(d.theta+=u.theta,d.phi+=u.phi);let Ze=r.minAzimuthAngle,mt=r.maxAzimuthAngle;isFinite(Ze)&&isFinite(mt)&&(Ze<-Math.PI?Ze+=Ve:Ze>Math.PI&&(Ze-=Ve),mt<-Math.PI?mt+=Ve:mt>Math.PI&&(mt-=Ve),Ze<=mt?d.theta=Math.max(Ze,Math.min(mt,d.theta)):d.theta=d.theta>(Ze+mt)/2?Math.max(Ze,d.theta):Math.min(mt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&P||r.object.isOrthographicCamera?d.radius=q(d.radius):d.radius=q(d.radius*f),he.setFromSpherical(d),he.applyQuaternion(ce),Le.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),g.set(0,0,0));let jt=!1;if(r.zoomToCursor&&P){let $t=null;if(r.object instanceof gr&&r.object.isPerspectiveCamera){const Ln=he.length();$t=q(Ln*f);const Rn=Ln-$t;r.object.position.addScaledVector(M,Rn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ln=new le(T.x,T.y,0);Ln.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),jt=!0;const Rn=new le(T.x,T.y,0);Rn.unproject(r.object),r.object.position.sub(Rn).add(Ln),r.object.updateMatrixWorld(),$t=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;$t!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar($t).add(r.object.position):(qS.origin.copy(r.object.position),qS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(qS.direction))<Eyt?e.lookAt(r.target):(tX.setFromNormalAndCoplanarPoint(r.object.up,r.target),qS.intersectPlane(tX,r.target))))}else r.object instanceof Pl&&r.object.isOrthographicCamera&&(jt=f!==1,jt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,P=!1,jt||Ne.distanceToSquared(r.object.position)>c||8*(1-Be.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ne.copy(r.object.position),Be.copy(r.object.quaternion),jt=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",lt),r.domElement.addEventListener("pointerdown",Je),r.domElement.addEventListener("pointercancel",Z),r.domElement.addEventListener("wheel",Ie)},this.dispose=()=>{var he,Ee,Ye,ce,Ne,Be;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",lt),(Ee=r.domElement)==null||Ee.removeEventListener("pointerdown",Je),(Ye=r.domElement)==null||Ye.removeEventListener("pointercancel",Z),(ce=r.domElement)==null||ce.removeEventListener("wheel",Ie),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",ie),(Be=r.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",Z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Me)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new oj,u=new oj;let f=1;const g=new le,v=new ze,y=new ze,m=new ze,p=new ze,x=new ze,_=new ze,b=new ze,S=new ze,C=new ze,M=new le,T=new ze;let P=!1;const N=[],I={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function F(he){r.reverseOrbit||r.reverseHorizontalOrbit?u.theta+=he:u.theta-=he}function B(he){r.reverseOrbit||r.reverseVerticalOrbit?u.phi+=he:u.phi-=he}const U=(()=>{const he=new le;return function(Ye,ce){he.setFromMatrixColumn(ce,0),he.multiplyScalar(-Ye),g.add(he)}})(),H=(()=>{const he=new le;return function(Ye,ce){r.screenSpacePanning===!0?he.setFromMatrixColumn(ce,1):(he.setFromMatrixColumn(ce,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(Ye),g.add(he)}})(),R=(()=>{const he=new le;return function(Ye,ce){const Ne=r.domElement;if(Ne&&r.object instanceof gr&&r.object.isPerspectiveCamera){const Be=r.object.position;he.copy(Be).sub(r.target);let Ve=he.length();Ve*=Math.tan(r.object.fov/2*Math.PI/180),U(2*Ye*Ve/Ne.clientHeight,r.object.matrix),H(2*ce*Ve/Ne.clientHeight,r.object.matrix)}else Ne&&r.object instanceof Pl&&r.object.isOrthographicCamera?(U(Ye*(r.object.right-r.object.left)/r.object.zoom/Ne.clientWidth,r.object.matrix),H(ce*(r.object.top-r.object.bottom)/r.object.zoom/Ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function L(he){r.object instanceof gr&&r.object.isPerspectiveCamera||r.object instanceof Pl&&r.object.isOrthographicCamera?f=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(he){L(f/he)}function W(he){L(f*he)}function G(he){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Ee=r.domElement.getBoundingClientRect(),Ye=he.clientX-Ee.left,ce=he.clientY-Ee.top,Ne=Ee.width,Be=Ee.height;T.x=Ye/Ne*2-1,T.y=-(ce/Be)*2+1,M.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function q(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function ne(he){v.set(he.clientX,he.clientY)}function ae(he){G(he),b.set(he.clientX,he.clientY)}function se(he){p.set(he.clientX,he.clientY)}function $(he){y.set(he.clientX,he.clientY),m.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),B(2*Math.PI*m.y/Ee.clientHeight)),v.copy(y),r.update()}function Y(he){S.set(he.clientX,he.clientY),C.subVectors(S,b),C.y>0?z(j()):C.y<0&&W(j()),b.copy(S),r.update()}function Q(he){x.set(he.clientX,he.clientY),_.subVectors(x,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(x),r.update()}function te(he){G(he),he.deltaY<0?W(j()):he.deltaY>0&&z(j()),r.update()}function ue(he){let Ee=!1;switch(he.code){case r.keys.UP:R(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:R(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(he.preventDefault(),r.update())}function J(){if(N.length==1)v.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);v.set(he,Ee)}}function K(){if(N.length==1)p.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);p.set(he,Ee)}}function re(){const he=N[0].pageX-N[1].pageX,Ee=N[0].pageY-N[1].pageY,Ye=Math.sqrt(he*he+Ee*Ee);b.set(0,Ye)}function fe(){r.enableZoom&&re(),r.enablePan&&K()}function me(){r.enableZoom&&re(),r.enableRotate&&J()}function pe(he){if(N.length==1)y.set(he.pageX,he.pageY);else{const Ye=Ct(he),ce=.5*(he.pageX+Ye.x),Ne=.5*(he.pageY+Ye.y);y.set(ce,Ne)}m.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),B(2*Math.PI*m.y/Ee.clientHeight)),v.copy(y)}function Ae(he){if(N.length==1)x.set(he.pageX,he.pageY);else{const Ee=Ct(he),Ye=.5*(he.pageX+Ee.x),ce=.5*(he.pageY+Ee.y);x.set(Ye,ce)}_.subVectors(x,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(x)}function Ce(he){const Ee=Ct(he),Ye=he.pageX-Ee.x,ce=he.pageY-Ee.y,Ne=Math.sqrt(Ye*Ye+ce*ce);S.set(0,Ne),C.set(0,Math.pow(S.y/b.y,r.zoomSpeed)),z(C.y),b.copy(S)}function ke(he){r.enableZoom&&Ce(he),r.enablePan&&Ae(he)}function rt(he){r.enableZoom&&Ce(he),r.enableRotate&&pe(he)}function Je(he){var Ee,Ye;r.enabled!==!1&&(N.length===0&&((Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",ie),(Ye=r.domElement)==null||Ye.ownerDocument.addEventListener("pointerup",Z)),Ge(he),he.pointerType==="touch"?ct(he):ve(he))}function ie(he){r.enabled!==!1&&(he.pointerType==="touch"?He(he):Se(he))}function Z(he){var Ee,Ye,ce;$e(he),N.length===0&&((Ee=r.domElement)==null||Ee.releasePointerCapture(he.pointerId),(Ye=r.domElement)==null||Ye.ownerDocument.removeEventListener("pointermove",ie),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",Z)),r.dispatchEvent(o),l=a.NONE}function ve(he){let Ee;switch(he.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Sf.DOLLY:if(r.enableZoom===!1)return;ae(he),l=a.DOLLY;break;case Sf.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;se(he),l=a.PAN}else{if(r.enableRotate===!1)return;ne(he),l=a.ROTATE}break;case Sf.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;ne(he),l=a.ROTATE}else{if(r.enablePan===!1)return;se(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Se(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;$(he);break;case a.DOLLY:if(r.enableZoom===!1)return;Y(he);break;case a.PAN:if(r.enablePan===!1)return;Q(he);break}}function Ie(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(s),te(he),r.dispatchEvent(o))}function Me(he){r.enabled===!1||r.enablePan===!1||ue(he)}function ct(he){switch(it(he),N.length){case 1:switch(r.touches.ONE){case Ef.ROTATE:if(r.enableRotate===!1)return;J(),l=a.TOUCH_ROTATE;break;case Ef.PAN:if(r.enablePan===!1)return;K(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Ef.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(),l=a.TOUCH_DOLLY_PAN;break;case Ef.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function He(he){switch(it(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ke(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;rt(he),r.update();break;default:l=a.NONE}}function lt(he){r.enabled!==!1&&he.preventDefault()}function Ge(he){N.push(he)}function $e(he){delete I[he.pointerId];for(let Ee=0;Ee<N.length;Ee++)if(N[Ee].pointerId==he.pointerId){N.splice(Ee,1);return}}function it(he){let Ee=I[he.pointerId];Ee===void 0&&(Ee=new ze,I[he.pointerId]=Ee),Ee.set(he.pageX,he.pageY)}function Ct(he){const Ee=he.pointerId===N[0].pointerId?N[1]:N[0];return I[Ee.pointerId]}this.dollyIn=(he=j())=>{W(he),r.update()},this.dollyOut=(he=j())=>{z(he),r.update()},this.getScale=()=>f,this.setScale=he=>{L(he),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};function Myt(t,e,n,r){const i=class extends Ko{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,d])=>{const u=i5.clone({[c]:{value:d}});return{...l,...u}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=efe.generateUUID(),i}const Ayt=()=>parseInt(Qb.replace(/\D+/g,"")),Tyt=Ayt(),Dhe=A.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const u=dc(C=>C.invalidate),f=dc(C=>C.camera),g=dc(C=>C.gl),v=dc(C=>C.events),y=dc(C=>C.setEvents),m=dc(C=>C.set),p=dc(C=>C.get),x=dc(C=>C.performance),_=e||f,b=r||v.connected||g.domElement,S=A.useMemo(()=>new Cyt(_),[_]);return f2(()=>{S.enabled&&S.update()},-1),A.useEffect(()=>(s&&S.connect(s===!0?b:s),S.connect(b),()=>void S.dispose()),[s,b,n,S,u]),A.useEffect(()=>{const C=P=>{u(),n&&x.regress(),o&&o(P)},M=P=>{a&&a(P)},T=P=>{l&&l(P)};return S.addEventListener("change",C),S.addEventListener("start",M),S.addEventListener("end",T),()=>{S.removeEventListener("start",M),S.removeEventListener("end",T),S.removeEventListener("change",C)}},[o,a,l,S,u,y]),A.useEffect(()=>{if(t){const C=p().controls;return m({controls:S}),()=>m({controls:C})}},[t,S]),A.createElement("primitive",Eh({ref:d,object:S,enableDamping:i},c))}),Pyt=Myt({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new pt,sectionColor:new pt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new le,worldPlanePosition:new le},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Tyt>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),Nyt=A.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:s=!1,infiniteGrid:o=!1,fadeDistance:a=100,fadeStrength:l=1,fadeFrom:c=1,cellThickness:d=.5,sectionThickness:u=1,side:f=Ui,...g},v)=>{ghe({GridMaterial:Pyt});const y=A.useRef(null);A.useImperativeHandle(v,()=>y.current,[]);const m=new cl,p=new le(0,1,0),x=new le(0,0,0);f2(S=>{m.setFromNormalAndCoplanarPoint(p,x).applyMatrix4(y.current.matrixWorld);const C=y.current.material,M=C.uniforms.worldCamProjPosition,T=C.uniforms.worldPlanePosition;m.projectPoint(S.camera.position,M.value),T.value.set(0,0,0).applyMatrix4(y.current.matrixWorld)});const _={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:d,sectionThickness:u},b={fadeDistance:a,fadeStrength:l,fadeFrom:c,infiniteGrid:o,followCamera:s};return A.createElement("mesh",Eh({ref:y,frustumCulled:!1},g),A.createElement("gridMaterial",Eh({transparent:!0,"extensions-derivatives":!0,side:f},_,b)),A.createElement("planeGeometry",{args:t}))});function Lhe(t,e){const n=t+"Geometry";return A.forwardRef(({args:r,children:i,...s},o)=>{const a=A.useRef(null);return A.useImperativeHandle(o,()=>a.current),A.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),A.createElement("mesh",Eh({ref:a},s),A.createElement(n,{attach:"geometry",args:r}),i)})}const Ryt=Lhe("box"),jhe=Lhe("sphere");function Oyt(){return h.jsxs("mesh",{children:[h.jsx("boxGeometry",{args:[2,2,2]}),h.jsx("meshStandardMaterial",{color:"hsl(var(--primary))"})]})}function Iyt(){const[t,e]=A.useState("1"),{data:n}=Jr({queryKey:["/api/devices"],queryFn:async()=>{const f=await fetch("/api/devices");if(!f.ok)throw new Error("Network response was not ok");return f.json()}}),{toast:r}=Yh(),i=Ll(),s=Bn({mutationFn:async f=>{const g=await fetch(`/api/devices/${f}/connect`,{method:"POST"});if(!g.ok)throw new Error("Failed to connect to device");return g.json()},onSuccess:()=>{r({title:"Device Connected",description:"Successfully connected to device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:f=>{r({title:"Error",description:`Failed to connect: ${f.message}`,variant:"destructive"})}}),o=Bn({mutationFn:async f=>{const g=await fetch(`/api/devices/${f}/disconnect`,{method:"POST"});if(!g.ok)throw new Error("Failed to disconnect from device");return g.json()},onSuccess:()=>{r({title:"Device Disconnected",description:"Successfully disconnected from device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:f=>{r({title:"Error",description:`Failed to disconnect: ${f.message}`,variant:"destructive"})}});Bn({mutationFn:async({deviceId:f,command:g})=>{const v=await fetch(`/api/devices/${f}/command`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:g})});if(!v.ok)throw new Error("Failed to send command");return v.json()},onSuccess:()=>{r({title:"Command Sent",description:"Command successfully sent to device."})},onError:f=>{r({title:"Error",description:`Failed to send command: ${f.message}`,variant:"destructive"})}});const a=Bn({mutationFn:async({deviceId:f,file:g})=>{const v=new FormData;v.append("file",g);const y=await fetch(`/api/devices/${f}/upload`,{method:"POST",body:v});if(!y.ok)throw new Error("Failed to upload file");return y.json()},onSuccess:()=>{r({title:"File Uploaded",description:"File successfully uploaded to device."})},onError:f=>{r({title:"Error",description:`Failed to upload file: ${f.message}`,variant:"destructive"})}}),[l,c]=A.useState({}),[d,u]=A.useState([]);return A.useEffect(()=>{if(!t)return;const f=window.location.protocol==="https:"?"wss:":"ws:",g=localStorage.getItem("access_token"),v=new WebSocket(`${f}//${window.location.host}/ws/telemetry/${t}?token=${g}`);return v.onopen=()=>{console.log(`Telemetry WebSocket connected for device ${t}`),u(y=>[...y,`[${new Date().toLocaleTimeString()}] Connected to telemetry stream.`])},v.onmessage=y=>{const m=JSON.parse(y.data);m.type==="telemetry"?c(m.payload):m.type==="log"&&u(p=>[...p,`[${new Date().toLocaleTimeString()}] ${m.payload}`])},v.onclose=()=>{console.log(`Telemetry WebSocket disconnected for device ${t}`),u(y=>[...y,`[${new Date().toLocaleTimeString()}] Disconnected from telemetry stream.`])},v.onerror=y=>{console.error(`Telemetry WebSocket error for device ${t}:`,y),u(m=>[...m,`[${new Date().toLocaleTimeString()}] Telemetry stream error.`])},()=>{v.close(),c({}),u([])}},[t]),h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Na,{className:"h-5 w-5 text-primary"}),"Device Control Center"]}),h.jsx(Bt,{children:"Monitor and control connected hardware devices"})]}),h.jsx(at,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n==null?void 0:n.map(f=>h.jsxs(Xe,{className:`cursor-pointer hover-elevate ${t===f.id?"border-primary":""}`,onClick:()=>e(f.id),"data-testid":`card-device-${f.id}`,children:[h.jsxs(nt,{className:"pb-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm",children:f.name}),h.jsx(eg,{status:f.status,size:"sm"})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(dn,{variant:"outline",className:"text-xs",children:f.type.toUpperCase()}),f.port&&h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:f.port})]})]}),h.jsx(at,{className:"flex justify-end gap-2",children:f.status==="connected"?h.jsx(We,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),o.mutate(f.id)},disabled:o.isPending,children:o.isPending?h.jsx(Ra,{className:"h-4 w-4 animate-spin"}):"Disconnect"}):h.jsx(We,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),s.mutate(f.id)},disabled:s.isPending,children:s.isPending?h.jsx(Ra,{className:"h-4 w-4 animate-spin"}):"Connect"})}),f.lastSeen&&h.jsx(at,{children:h.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last seen: ",new Date(f.lastSeen).toLocaleString()]})})]},f.id))})})]}),h.jsxs(Vl,{defaultValue:"3d",children:[h.jsxs(Wa,{className:"grid w-full grid-cols-3",children:[h.jsxs(Qn,{value:"3d","data-testid":"tab-3d-viewer",children:[h.jsx(Tx,{className:"h-4 w-4 mr-2"}),"3D Viewer"]}),h.jsxs(Qn,{value:"telemetry","data-testid":"tab-telemetry",children:[h.jsx(zr,{className:"h-4 w-4 mr-2"}),"Telemetry"]}),h.jsxs(Qn,{value:"upload","data-testid":"tab-upload",children:[h.jsx(zm,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),h.jsx(un,{value:"3d",className:"mt-4",children:h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"3D Model Viewer"}),h.jsx(Bt,{children:"Preview CAD/CAM designs and G-code toolpaths"})]}),h.jsxs(at,{children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border overflow-hidden",children:h.jsx(Ihe,{camera:{position:[5,5,5]},children:h.jsxs(A.Suspense,{fallback:null,children:[h.jsx("ambientLight",{intensity:.5}),h.jsx("directionalLight",{position:[10,10,5],intensity:1}),h.jsx(Oyt,{}),h.jsx(Nyt,{args:[10,10],cellColor:"hsl(var(--muted-foreground))",sectionColor:"hsl(var(--primary))"}),h.jsx(Dhe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})})}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[h.jsx(We,{variant:"outline",size:"sm",children:"Load STL"}),h.jsx(We,{variant:"outline",size:"sm",children:"Load OBJ"}),h.jsx(We,{variant:"outline",size:"sm",children:"Load G-Code"}),h.jsx(We,{variant:"outline",size:"sm",className:"ml-auto",children:"Reset View"})]})]})]})}),h.jsx(un,{value:"telemetry",className:"mt-4",children:h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Live Telemetry"}),h.jsx(Bt,{children:"Real-time device metrics and sensor data"})]}),h.jsxs(at,{children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Temperature"}),h.jsx("div",{className:"text-2xl font-bold mt-1",children:l.temperature?`${l.temperature}C`:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Speed"}),h.jsx("div",{className:"text-2xl font-bold mt-1",children:l.speed?`${l.speed} RPM`:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Position X"}),h.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionX!==void 0?l.positionX:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Position Y"}),h.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionY!==void 0?l.positionY:"N/A"})]})]}),h.jsx("div",{className:"mt-4 p-4 bg-background/50 rounded-lg font-mono text-xs space-y-1 h-48 overflow-y-auto",children:d.map((f,g)=>h.jsx("div",{children:f},g))})]})]})}),h.jsx(un,{value:"upload",className:"mt-4",children:h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Upload to Device"}),h.jsx(Bt,{children:"Upload G-code or firmware to connected device"})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:f=>{f.target.files&&f.target.files[0]&&t&&a.mutate({deviceId:t,file:f.target.files[0]})}}),h.jsxs("label",{htmlFor:"file-upload",className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer block",children:[h.jsx(zm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Drop G-code or firmware file here, or click to select"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports .gcode, .nc, .hex, .bin formats"})]}),h.jsxs(We,{className:"w-full","data-testid":"button-upload-to-device",onClick:()=>{const f=document.getElementById("file-upload");f&&f.click()},disabled:!t||a.isPending,children:[a.isPending?h.jsx(Ra,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(zm,{className:"h-4 w-4 mr-2"}),"Upload to Device"]})]})]})})]})]})}function kyt(){const{data:t}=Jr({queryKey:["/api/telemetry"],initialData:wce}),{data:e}=Jr({queryKey:["/api/jobs"],initialData:_ce}),n=t.systemMetrics.cpu.map((i,s)=>({time:s,value:i})),r=t.systemMetrics.memory.map((i,s)=>({time:s,value:i}));return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Xe,{children:h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(ph,{className:"h-5 w-5 text-primary"}),"Resource Monitor"]}),h.jsx(Bt,{children:"System resources and job activity monitoring"})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm text-muted-foreground",children:"CPU Usage"}),h.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(at,{children:[h.jsxs("div",{className:"text-3xl font-bold",children:[n[n.length-1].value,"%"]}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Avg: ",Math.round(n.reduce((i,s)=>i+s.value,0)/n.length),"%"]})]})]}),h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm text-muted-foreground",children:"Memory Usage"}),h.jsx(i0e,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(at,{children:[h.jsxs("div",{className:"text-3xl font-bold",children:[r[r.length-1].value,"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"12.8 GB / 16 GB"})]})]}),h.jsxs(Xe,{children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm text-muted-foreground",children:"Active Jobs"}),h.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(at,{children:[h.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.filter(i=>i.status==="running").length}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e==null?void 0:e.filter(i=>i.status==="pending").length," pending"]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"CPU Usage"}),h.jsx(Bt,{children:"Real-time CPU utilization"})]}),h.jsx(at,{children:h.jsx(fl,{width:"100%",height:200,children:h.jsxs(Qte,{data:n,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"time",tick:{fontSize:12}}),h.jsx(to,{domain:[0,100],tick:{fontSize:12}}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(tu,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",fillOpacity:1,fill:"url(#colorCpu)"})]})})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Memory Usage"}),h.jsx(Bt,{children:"RAM utilization over time"})]}),h.jsx(at,{children:h.jsx(fl,{width:"100%",height:200,children:h.jsxs(K0,{data:r,children:[h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"time",tick:{fontSize:12}}),h.jsx(to,{domain:[0,100],tick:{fontSize:12}}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Bo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Job Activity"}),h.jsx(Bt,{children:"Current running and pending jobs"})]}),h.jsx(at,{className:"space-y-3",children:e==null?void 0:e.map(i=>h.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:i.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(dn,{variant:i.status==="running"?"default":i.status==="completed"?"secondary":"outline",className:"text-xs",children:i.status}),h.jsx("span",{className:"text-xs text-muted-foreground",children:i.type})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-sm font-mono font-medium",children:[i.progress,"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(i.createdAt).toLocaleTimeString()})]})]},i.id))})]})]})}function Dyt({id:t,offset:e,color:n,speed:r}){const i=A.useRef(null);return f2(({clock:s})=>{const o=s.getElapsedTime()*r+e,a=5*Math.cos(o),l=5*Math.sin(o);i.current.position.set(a,0,l)}),h.jsxs(jhe,{ref:i,args:[.3,32,32],children:[h.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5}),h.jsx(D5,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function Lyt({id:t,position:e,color:n}){return h.jsxs(Ryt,{position:e,args:[.5,.5,.5],children:[h.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.2}),h.jsx(D5,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function jyt(){const t=A.useMemo(()=>[{id:"Agent-001",offset:0,color:"#33a0e8",speed:.5},{id:"Agent-002",offset:Math.PI/2,color:"#33e885",speed:.4},{id:"Agent-003",offset:Math.PI,color:"#e8335a",speed:.6},{id:"Agent-004",offset:3*Math.PI/2,color:"#e8e233",speed:.3}],[]),e=A.useMemo(()=>[{id:"Device-A",position:[3,2,-3],color:"#888"},{id:"Device-B",position:[-3,-2,3],color:"#888"},{id:"Device-C",position:[4,-1,4],color:"#888"}],[]);return h.jsxs(h.Fragment,{children:[h.jsx("ambientLight",{intensity:.2}),h.jsx("pointLight",{position:[10,10,10],intensity:1}),h.jsxs(jhe,{args:[1,32,32],position:[0,0,0],children:[h.jsx("meshStandardMaterial",{color:"#fff",emissive:"#fff",emissiveIntensity:.8,roughness:.2,metalness:.8}),h.jsx(D5,{distanceFactor:10,position:[0,1.3,0],className:"text-white text-sm whitespace-nowrap",children:"MYNTRIX Core"})]}),t.map(n=>h.jsx(Dyt,{...n},n.id)),e.map(n=>h.jsx(Lyt,{...n},n.id)),h.jsx(Dhe,{enablePan:!0,enableZoom:!0,enableRotate:!0}),h.jsx("gridHelper",{args:[20,20,"#555","#222"]})]})}function Fyt(){return h.jsx("div",{className:"w-full h-[calc(100vh-200px)] bg-gray-900 rounded-lg overflow-hidden",children:h.jsx(Ihe,{camera:{position:[0,5,12],fov:60},children:h.jsx(jyt,{})})})}const Byt=[{value:"agents",label:"Agent Manager",icon:_l},{value:"scheduler",label:"Task Scheduler",icon:_Y},{value:"devices",label:"Device Control",icon:Na},{value:"monitor",label:"Resource Monitor",icon:ph},{value:"3d-viz",label:"3D Visualization",icon:ph}];function Uyt(){const t=$A(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"agents",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/myntrix?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"MYNTRIX Core"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI Core & Hardware Integration Platform"})]}),h.jsx(dn,{variant:"outline",children:"v1.8.2"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Vl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6",children:h.jsx(Wa,{className:"bg-transparent h-12 w-full justify-start gap-1",children:Byt.map(a=>h.jsxs(Qn,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[h.jsx(a.icon,{className:"h-4 w-4"}),a.label]},a.value))})}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsx(un,{value:"agents",className:"h-full m-0 p-6",children:h.jsx(Jlt,{})}),h.jsx(un,{value:"scheduler",className:"h-full m-0 p-6",children:h.jsx(nct,{})}),h.jsx(un,{value:"devices",className:"h-full m-0 p-6",children:h.jsx(Iyt,{})}),h.jsx(un,{value:"monitor",className:"h-full m-0 p-6",children:h.jsx(kyt,{})}),h.jsx(un,{value:"3d-viz",className:"h-full m-0 p-6",children:h.jsx(Fyt,{})})]})]})})]})}function zyt(){const[t,e]=A.useState(""),{data:n,isLoading:r,error:i}=Jr({queryKey:["/api/neosyntis/datasets"],queryFn:async()=>{const p=await fetch("/api/neosyntis/datasets");if(!p.ok)throw new Error("Network response was not ok");return p.json()}}),{toast:s}=Yh(),o=Ll(),[a,l]=A.useState(""),[c,d]=A.useState(""),[u,f]=A.useState("custom"),g=Bn({mutationFn:async p=>{const x=await fetch("/api/neosyntis/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!x.ok)throw new Error("Failed to create dataset");return x.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]}),l(""),d(""),f("custom")},onError:p=>{s({title:"Error",description:`Failed to create dataset: ${p.message}`,variant:"destructive"})}}),v=Bn({mutationFn:async p=>{const x=new FormData;x.append("file",p);const _=await fetch("/api/neosyntis/datasets/upload",{method:"POST",body:x});if(!_.ok)throw new Error("Failed to upload dataset");return _.json()},onSuccess:()=>{s({title:"Dataset Uploaded",description:"Dataset file successfully uploaded."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to upload dataset: ${p.message}`,variant:"destructive"})}}),y=Bn({mutationFn:async p=>{const x=await fetch(`/api/neosyntis/datasets/${p}`,{method:"DELETE"});if(!x.ok)throw new Error("Failed to delete dataset");return x.json()},onSuccess:()=>{s({title:"Dataset Deleted",description:"Dataset has been successfully deleted."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to delete dataset: ${p.message}`,variant:"destructive"})}}),m=n==null?void 0:n.filter(p=>{var x;return p.name.toLowerCase().includes(t.toLowerCase())||((x=p.description)==null?void 0:x.toLowerCase().includes(t.toLowerCase()))});return r?h.jsx("div",{className:"p-6 text-center",children:"Loading datasets..."}):i?(console.error("Error loading datasets:",i),h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading datasets: ",i.message]})):(console.log("Datasets:",n),console.log("Filtered Datasets:",m),h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(GA,{className:"h-5 w-5 text-primary"}),"Dataset Management"]}),h.jsx(Bt,{className:"mt-1",children:"Create, manage, and deploy custom datasets for model fine-tuning"})]}),h.jsxs(U4,{children:[h.jsx(Dre,{asChild:!0,children:h.jsxs(We,{"data-testid":"button-create-dataset",children:[h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Create Dataset"]})}),h.jsxs(eP,{children:[h.jsxs(z4,{children:[h.jsx($4,{children:"Create New Dataset"}),h.jsx(H4,{children:"Build a custom dataset from scratch or import existing data"})]}),h.jsxs("div",{className:"space-y-4 pt-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Dataset Name"}),h.jsx(Tn,{placeholder:"My Custom Dataset","data-testid":"input-dataset-name",value:a,onChange:p=>l(p.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Description"}),h.jsx(Tn,{placeholder:"Dataset description...","data-testid":"input-dataset-description",value:c,onChange:p=>d(p.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Type"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-dataset-type",value:u,onChange:p=>f(p.target.value),children:[h.jsx("option",{value:"custom",children:"Custom"}),h.jsx("option",{value:"qa",children:"Question-Answer"}),h.jsx("option",{value:"code",children:"Code Examples"}),h.jsx("option",{value:"text",children:"Text"}),h.jsx("option",{value:"structured",children:"Structured Data"})]})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx(We,{className:"flex-1","data-testid":"button-create",onClick:()=>g.mutate({name:a,description:c,type:u}),disabled:g.isPending||!a,children:g.isPending?h.jsx(Ra,{className:"h-4 w-4 mr-2 animate-spin"}):"Create"}),h.jsx(We,{variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Tn,{placeholder:"Search datasets...",value:t,onChange:p=>e(p.target.value),className:"flex-1","data-testid":"input-search-datasets"}),h.jsx("input",{type:"file",id:"dataset-file-upload",className:"hidden",onChange:p=>{p.target.files&&p.target.files[0]&&v.mutate(p.target.files[0])}}),h.jsxs(We,{variant:"outline","data-testid":"button-import",onClick:()=>{const p=document.getElementById("dataset-file-upload");p&&p.click()},disabled:v.isPending,children:[v.isPending?h.jsx(Ra,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(zm,{className:"h-4 w-4 mr-2"}),"Import"]})]}),h.jsx("div",{className:"border rounded-lg",children:h.jsxs(zb,{children:[h.jsx($b,{children:h.jsxs(Ml,{children:[h.jsx(Qr,{children:"Name"}),h.jsx(Qr,{children:"Type"}),h.jsx(Qr,{children:"Size"}),h.jsx(Qr,{children:"Created"}),h.jsx(Qr,{className:"text-right",children:"Actions"})]})}),h.jsx(Hb,{children:(m==null?void 0:m.length)===0?h.jsx(Ml,{children:h.jsx(Br,{colSpan:5,className:"text-center text-muted-foreground",children:"No datasets found. Create one or import from a file."})}):m==null?void 0:m.map(p=>h.jsxs(Ml,{"data-testid":`row-dataset-${p.id}`,children:[h.jsx(Br,{children:h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:p.name}),h.jsx("div",{className:"text-sm text-muted-foreground",children:p.description})]})}),h.jsx(Br,{children:h.jsx(dn,{variant:"outline",children:p.type})}),h.jsxs(Br,{className:"font-mono text-sm",children:[p.size.toLocaleString()," rows"]}),h.jsx(Br,{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleDateString()}),h.jsx(Br,{className:"text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx(We,{variant:"ghost",size:"sm","data-testid":`button-view-${p.id}`,children:"View"}),h.jsx(We,{variant:"ghost",size:"sm","data-testid":`button-export-${p.id}`,children:h.jsx(Zye,{className:"h-4 w-4"})}),h.jsx(We,{variant:"ghost",size:"sm","data-testid":`button-huggingface-${p.id}`,children:h.jsx(_k,{className:"h-4 w-4"})}),h.jsx(We,{variant:"ghost",size:"sm","data-testid":`button-delete-${p.id}`,onClick:()=>y.mutate(p.id),disabled:y.isPending,children:y.isPending?h.jsx(Ra,{className:"h-4 w-4 animate-spin"}):h.jsx(lb,{className:"h-4 w-4"})})]})})]},p.id))})]})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[h.jsxs("span",{children:["Showing ",m==null?void 0:m.length," of ",n==null?void 0:n.length," datasets"]}),h.jsxs(We,{variant:"outline",size:"sm",children:[h.jsx(_k,{className:"h-4 w-4 mr-2"}),"Push to HuggingFace"]})]})]})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Dataset Injection"})}),h.jsxs(at,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"VAREON uses dataset injection for prompt enhancement. Before LLM inference, selected datasets are checked and relevant context is automatically injected into the prompt."}),h.jsx("p",{children:"This approach allows fine-tuning-like results without training custom models, perfect for using cloud LLM providers like OpenRouter, Gemini API, or HuggingFace Inference."})]})]})]}))}const $yt={id:"res-1",query:"Impact of AI on renewable energy",provider:"google",createdAt:new Date().toISOString(),summary:"AI is revolutionizing the renewable energy sector by optimizing grid management, improving forecasting for wind and solar, and accelerating the discovery of new materials for batteries and solar panels. This leads to increased efficiency, lower costs, and greater grid stability.",results:[{title:"How AI is transforming renewable energy - McKinsey",snippet:"AI can help optimize energy consumption, improve the accuracy of weather forecasting for renewables, and support the development of new clean energy technologies.",url:"#"},{title:"The Role of AI in the Energy Transition - BCG",snippet:"Artificial intelligence is a critical enabler for the energy transition, helping to integrate variable renewables and manage complex power grids.",url:"#"}],entities:[{type:"Organization",text:"McKinsey",count:1},{type:"Organization",text:"BCG",count:1},{type:"Person",text:"Sundar Pichai",count:0},{type:"Location",text:"California",count:0}],sentiment:{positive:85,neutral:10,negative:5}},Hyt=({type:t})=>{switch(t){case"Person":return h.jsx(M0e,{className:"h-4 w-4 text-blue-400"});case"Organization":return h.jsx(Vye,{className:"h-4 w-4 text-green-400"});case"Location":return h.jsx(c0e,{className:"h-4 w-4 text-red-400"});default:return null}};function Vyt(){const[t,e]=A.useState("Impact of AI on renewable energy"),[n,r]=A.useState("google");Yh(),Ll();const{data:i,refetch:s,isLoading:o}=Jr({queryKey:["/api/search",t,n],queryFn:async()=>t.trim()?Promise.resolve($yt):Promise.reject(new Error("Query is empty")),enabled:!1}),a=()=>{t.trim()&&s()};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(bl,{className:"h-5 w-5 text-primary"}),"Intelligent Search Engine"]}),h.jsx(Bt,{children:"Search the web with AI-powered summarization and knowledge extraction."})]}),h.jsx(at,{className:"space-y-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Go,{value:n,onValueChange:r,children:[h.jsx(uo,{className:"w-[180px]",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"google",children:"Google"}),h.jsx(cn,{value:"bing",children:"Bing"})]})]}),h.jsx(Tn,{placeholder:"Enter your search query...",value:t,onChange:l=>e(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),className:"flex-1"}),h.jsxs(We,{onClick:a,disabled:o,children:[o?h.jsx(zr,{className:"h-4 w-4 animate-spin"}):h.jsx(bl,{className:"h-4 w-4"}),h.jsx("span",{className:"ml-2",children:"Search"})]})]})})]}),o&&h.jsx("div",{className:"text-center p-12",children:"Searching..."}),i?h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs(st,{children:['Search Results for "',i.query,'"']})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[h.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[h.jsx(XA,{className:"h-4 w-4 text-primary mt-0.5"}),h.jsx("span",{className:"text-sm font-medium",children:"AI Summary"})]}),h.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary})]}),i.results.map((l,c)=>h.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[h.jsx(_k,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h5",{className:"font-medium text-sm truncate",children:l.title}),h.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:l.snippet}),h.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline mt-1 inline-block",children:l.url})]})]},c))]})]})}),h.jsx("div",{className:"lg:col-span-1 space-y-6",children:h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Knowledge Panel"})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Extracted Entities"}),h.jsx("div",{className:"space-y-2",children:i.entities.filter(l=>l.count>0).map(l=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Hyt,{type:l.type}),h.jsx("span",{children:l.text})]}),h.jsx(dn,{variant:"secondary",children:l.count})]},l.text))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Sentiment Analysis"}),h.jsx(fl,{width:"100%",height:150,children:h.jsxs(xGe,{data:[{name:"Positive",value:i.sentiment.positive,fill:"#22c55e"},{name:"Neutral",value:i.sentiment.neutral,fill:"#a1a1aa"},{name:"Negative",value:i.sentiment.negative,fill:"#ef4444"}],layout:"vertical",children:[h.jsx(eo,{type:"number",hide:!0}),h.jsx(to,{type:"category",dataKey:"name",tickLine:!1,axisLine:!1,width:60,fontSize:12}),h.jsx(hi,{cursor:{fill:"rgba(128,128,128,0.1)"}}),h.jsx(Xh,{dataKey:"value",barSize:20})]})})]})]})]})})]}):!o&&h.jsx(Xe,{className:"p-12",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(bl,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),h.jsx("h3",{className:"text-lg font-medium",children:"No search results yet"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a query above to start searching"})]})})]})}const Wyt={input:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-green-500",children:[h.jsx("div",{className:"text-xs font-bold text-green-600",children:"INPUT"}),h.jsx("div",{className:"text-sm",children:t.label})]}),llm:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-primary",children:[h.jsx("div",{className:"text-xs font-bold text-primary",children:"LLM"}),h.jsx("div",{className:"text-sm",children:t.label}),t.model&&h.jsx("div",{className:"text-xs text-muted-foreground",children:t.model})]}),action:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-accent",children:[h.jsx("div",{className:"text-xs font-bold text-accent",children:"ACTION"}),h.jsx("div",{className:"text-sm",children:t.label})]}),output:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-orange-500",children:[h.jsx("div",{className:"text-xs font-bold text-orange-600",children:"OUTPUT"}),h.jsx("div",{className:"text-sm",children:t.label})]}),delay:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-yellow-500",children:[h.jsx("div",{className:"text-xs font-bold text-yellow-600",children:"DELAY"}),h.jsx("div",{className:"text-sm",children:t.label})]})};function Gyt(){const{toast:t}=Yh(),e=Ll(),[n,r]=A.useState(null),{data:i,isLoading:s,error:o}=Jr({queryKey:["workflow",n],queryFn:async()=>{if(!n)return{nodes:[],edges:[]};const p=await fetch(`/api/workflows/${n}`);if(!p.ok)throw new Error("Network response was not ok");return p.json()},enabled:!!n,initialData:{nodes:[],edges:[]}}),[a,l,c]=rde(i.nodes),[d,u,f]=ide(i.edges);A.useEffect(()=>{l(i.nodes),u(i.edges)},[i,l,u]);const g=A.useCallback(p=>u(x=>LB(p,x)),[u]),v=Bn({mutationFn:async p=>{const x=n?"PUT":"POST",_=n?`/api/workflows/${n}`:"/api/workflows",b=await fetch(_,{method:x,headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!b.ok)throw new Error("Failed to save workflow");return b.json()},onSuccess:p=>{t({title:"Workflow Saved",description:"Workflow has been successfully saved."}),!n&&p.id&&r(p.id),e.invalidateQueries({queryKey:["workflow",n]})},onError:p=>{t({title:"Error",description:`Failed to save workflow: ${p.message}`,variant:"destructive"})}}),y=Bn({mutationFn:async p=>{const x=await fetch(`/api/workflows/${p}/run`,{method:"POST"});if(!x.ok)throw new Error("Failed to run workflow");return x.json()},onSuccess:()=>{t({title:"Workflow Started",description:"Workflow execution initiated."})},onError:p=>{t({title:"Error",description:`Failed to run workflow: ${p.message}`,variant:"destructive"})}}),m=Bn({mutationFn:async p=>{if(!n)throw new Error("Cannot add node without a workflow. Please save the workflow first.");const x=await fetch(`/api/workflows/${n}/nodes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!x.ok)throw new Error("Failed to add node");return x.json()},onSuccess:p=>{l(x=>x.concat(p)),t({title:"Node Added",description:"New node added to workflow."})},onError:p=>{t({title:"Error",description:`Failed to add node: ${p.message}`,variant:"destructive"})}});return s?h.jsx("div",{className:"p-6 text-center",children:"Loading workflow..."}):o?h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading workflow: ",o.message]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx(Xe,{children:h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(tC,{className:"h-5 w-5 text-primary"}),"Workflow Builder"]}),h.jsx(Bt,{className:"mt-1",children:"Create agentic workflows with drag-and-drop node editor"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{variant:"outline","data-testid":"button-add-node",onClick:()=>m.mutate({id:`node-${Date.now()}`,type:"llm",position:{x:Math.random()*250,y:Math.random()*250},data:{label:"New LLM Node",model:"GPT-3.5"}}),disabled:m.isPending||!n,children:[m.isPending?h.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Node"]}),h.jsxs(We,{variant:"outline","data-testid":"button-save-workflow",onClick:()=>v.mutate({nodes:a,edges:d}),disabled:v.isPending,children:[v.isPending?h.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(m0e,{className:"h-4 w-4 mr-2"}),"Save"]}),h.jsxs(We,{"data-testid":"button-run-workflow",onClick:()=>n&&y.mutate(n),disabled:y.isPending||!n,children:[y.isPending?h.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Sg,{className:"h-4 w-4 mr-2"}),"Run"]})]})]})})}),h.jsx(Xe,{className:"h-[600px]",children:h.jsx(at,{className:"h-full p-0",children:h.jsxs(nde,{nodes:a,edges:d,onNodesChange:c,onEdgesChange:f,onConnect:g,nodeTypes:Wyt,fitView:!0,className:"bg-background h-[500px]",children:[h.jsx(lde,{}),h.jsx(ude,{className:"bg-card border"}),h.jsx(ode,{gap:12,size:1})]})})}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Available Node Types"})}),h.jsx(at,{children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(dn,{variant:"outline",className:"border-green-500 text-green-600",children:"Input - Entry point"}),h.jsx(dn,{variant:"outline",className:"border-primary text-primary",children:"LLM - AI Processing"}),h.jsx(dn,{variant:"outline",className:"border-accent text-accent",children:"Action - Execute Task"}),h.jsx(dn,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Output - Result"}),h.jsx(dn,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Delay - Wait Timer"})]})})]})]})}const rX=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function Xyt(){const{data:t}=Jr({queryKey:["/api/telemetry"],initialData:wce}),{data:e}=Jr({queryKey:["/api/jobs"],initialData:_ce});return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Xe,{children:h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(ph,{className:"h-5 w-5 text-primary"}),"Telemetry Dashboard"]}),h.jsx(Bt,{children:"Real-time metrics, statistics, and system performance monitoring"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Token Usage (Last 7 Days)"})}),h.jsx(at,{children:h.jsx(fl,{width:"100%",height:250,children:h.jsxs(Qte,{data:t.tokenUsage,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"date",tick:{fontSize:12}}),h.jsx(to,{tick:{fontSize:12}}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(tu,{type:"monotone",dataKey:"tokens",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorTokens)"})]})})})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Model Usage Distribution"})}),h.jsx(at,{children:h.jsx(fl,{width:"100%",height:250,children:h.jsxs(_Ge,{children:[h.jsx(eu,{data:t.modelUsage,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.modelUsage.map((n,r)=>h.jsx(ST,{fill:rX[r%rX.length]},`cell-${r}`))}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})})})]})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"System Resources"})}),h.jsx(at,{children:h.jsxs(Vl,{defaultValue:"cpu",children:[h.jsxs(Wa,{children:[h.jsx(Qn,{value:"cpu",children:"CPU"}),h.jsx(Qn,{value:"memory",children:"Memory"}),h.jsx(Qn,{value:"network",children:"Network"})]}),h.jsx(un,{value:"cpu",className:"mt-4",children:h.jsx(fl,{width:"100%",height:200,children:h.jsxs(K0,{data:t.systemMetrics.cpu.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"time"}),h.jsx(to,{domain:[0,100]}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Bo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2})]})})}),h.jsx(un,{value:"memory",className:"mt-4",children:h.jsx(fl,{width:"100%",height:200,children:h.jsxs(K0,{data:t.systemMetrics.memory.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"time"}),h.jsx(to,{domain:[0,100]}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Bo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})}),h.jsx(un,{value:"network",className:"mt-4",children:h.jsx(fl,{width:"100%",height:200,children:h.jsxs(K0,{data:t.systemMetrics.network.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"time"}),h.jsx(to,{}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Bo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-3))",strokeWidth:2})]})})})]})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(zr,{className:"h-5 w-5 text-primary"}),"Active Jobs"]}),h.jsx(Bt,{children:"Real-time job execution status and logs"})]}),h.jsx(at,{className:"space-y-4",children:e==null?void 0:e.map(n=>h.jsxs(Xe,{className:"bg-card/50",children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm",children:n.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`h-2 w-2 rounded-full ${n.status==="running"?"bg-green-500":n.status==="completed"?"bg-blue-500":"bg-yellow-500"}`}),h.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.status})]})]})}),h.jsx(at,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Progress"}),h.jsxs("span",{className:"font-mono font-medium",children:[n.progress,"%"]})]}),h.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${n.progress}%`}})}),h.jsxs("div",{className:"mt-3 p-3 bg-background/50 rounded-md font-mono text-xs",children:[h.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job started"]}),n.status==="running"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-blue-500",children:["[",new Date(Date.now()-3e4).toLocaleTimeString(),"] Processing data..."]}),h.jsxs("div",{className:"text-yellow-500",children:["[",new Date(Date.now()-1e4).toLocaleTimeString(),"] ",n.progress,"% complete"]})]}),n.status==="completed"&&h.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job completed successfully"]})]})]})})]},n.id))})]})]})}function qyt(){const[t,e]=A.useState("cnc"),[n,r]=A.useState("cad");return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Na,{className:"h-5 w-5 text-primary"}),"Device Integration Settings"]}),h.jsx(Bt,{children:"Configure connections to CNC machines, ESP32, Arduino, and other hardware"})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Device Type"}),h.jsxs(Go,{value:t,onValueChange:i=>e(i),children:[h.jsx(uo,{"data-testid":"select-device-type",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"cnc",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tx,{className:"h-4 w-4"}),"CNC Machine"]})}),h.jsx(cn,{value:"esp32",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Na,{className:"h-4 w-4"}),"ESP32"]})}),h.jsx(cn,{value:"arduino",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Na,{className:"h-4 w-4"}),"Arduino"]})})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Serial Port"}),h.jsxs(Go,{children:[h.jsx(uo,{"data-testid":"select-serial-port",children:h.jsx(Xo,{placeholder:"Select port..."})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"/dev/ttyUSB0",children:"/dev/ttyUSB0"}),h.jsx(cn,{value:"/dev/ttyUSB1",children:"/dev/ttyUSB1"}),h.jsx(cn,{value:"/dev/ttyUSB2",children:"/dev/ttyUSB2"}),h.jsx(cn,{value:"COM3",children:"COM3"}),h.jsx(cn,{value:"COM4",children:"COM4"})]})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{"data-testid":"button-connect-device",children:[h.jsx(C0e,{className:"h-4 w-4 mr-2"}),"Connect"]}),h.jsx(We,{variant:"outline",children:"Disconnect"}),h.jsx(We,{variant:"outline",children:"Test Connection"})]}),h.jsxs("div",{className:"flex items-center gap-4 p-4 bg-card/50 rounded-lg border",children:[h.jsx(eg,{status:"connected"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:"Connection Status"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Device connected on /dev/ttyUSB0"})]}),h.jsx(dn,{variant:"outline",children:"115200 baud"})]})]})]}),t==="cnc"?h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"CNC Control Interface"}),h.jsx(Bt,{children:"CAD/CAM mode for G-code generation and machine control"})]}),h.jsx(at,{children:h.jsxs(Vl,{value:n,onValueChange:i=>r(i),children:[h.jsxs(Wa,{children:[h.jsx(Qn,{value:"cad","data-testid":"tab-cad",children:"CAD Mode"}),h.jsx(Qn,{value:"cam","data-testid":"tab-cam",children:"CAM Mode"})]}),h.jsxs(un,{value:"cad",className:"mt-4 space-y-4",children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border border-dashed flex items-center justify-center",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(Tx,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"CAD Viewer"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"3D model viewer would appear here"})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{variant:"outline",children:"Import STL"}),h.jsx(We,{variant:"outline",children:"Import OBJ"}),h.jsx(We,{children:"Generate Toolpath"})]})]}),h.jsx(un,{value:"cam",className:"mt-4 space-y-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Tool Diameter (mm)"}),h.jsx(Tn,{type:"number",defaultValue:"6"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Spindle Speed (RPM)"}),h.jsx(Tn,{type:"number",defaultValue:"12000"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Feed Rate (mm/min)"}),h.jsx(Tn,{type:"number",defaultValue:"800"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Depth Per Pass (mm)"}),h.jsx(Tn,{type:"number",defaultValue:"2"})]})]}),h.jsx(We,{className:"w-full",children:"Generate G-Code"})]})})]})})]}):h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Px,{className:"h-5 w-5 text-primary"}),"Integrated Development Environment"]}),h.jsxs(Bt,{children:["Code editor for ",t.toUpperCase()," development"]})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border font-mono text-sm p-4 overflow-auto",children:h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"text-green-500",children:["// ",t.toUpperCase()," Sketch"]}),h.jsx("div",{children:"void setup() {"}),h.jsx("div",{className:"pl-4",children:"Serial.begin(115200);"}),h.jsx("div",{className:"pl-4",children:"pinMode(LED_BUILTIN, OUTPUT);"}),h.jsx("div",{children:"}"}),h.jsx("div",{className:"mt-2",children:"void loop() {"}),h.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, HIGH);"}),h.jsx("div",{className:"pl-4",children:"delay(1000);"}),h.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, LOW);"}),h.jsx("div",{className:"pl-4",children:"delay(1000);"}),h.jsx("div",{children:"}"})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{children:[h.jsx(Px,{className:"h-4 w-4 mr-2"}),"Verify"]}),h.jsx(We,{variant:"outline",children:"Upload to Device"}),h.jsx(We,{variant:"outline",children:"Serial Monitor"})]})]})]})]})}const iX=[{id:"reasoning",label:"Reasoning Model",description:"Deep thinking and problem solving"},{id:"code_generation",label:"Code Generation",description:"Generate and refactor code"},{id:"conversation",label:"Conversation",description:"Natural dialogue and chat"},{id:"shell_conversion",label:"Shell Conversion",description:"Natural language to shell commands"},{id:"summarization",label:"Summarization",description:"Condense and summarize content"},{id:"intent_detection",label:"Intent Detection",description:"Understand user intentions"},{id:"general",label:"General Purpose",description:"Universal model for naming files, etc"}];function Kyt(){const[t,e]=A.useState(!1),[n,r]=A.useState("openrouter");return h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Md,{className:"h-5 w-5 text-primary"}),"COGNISYS Configuration"]}),h.jsx(Bt,{children:"Configure API providers, model assignments, and reasoning settings"})]}),h.jsx(at,{className:"space-y-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"LLM Provider"}),h.jsxs(Go,{value:n,onValueChange:r,children:[h.jsx(uo,{"data-testid":"select-provider",children:h.jsx(Xo,{})}),h.jsxs(fo,{children:[h.jsx(cn,{value:"openrouter",children:"OpenRouter"}),h.jsx(cn,{value:"openai",children:"OpenAI"}),h.jsx(cn,{value:"anthropic",children:"Anthropic"}),h.jsx(cn,{value:"google",children:"Google Gemini API"}),h.jsx(cn,{value:"huggingface",children:"HuggingFace Inference"}),h.jsx(cn,{value:"local",children:"Local Deployment"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"API Key"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Tn,{type:t?"text":"password",placeholder:"sk-...","data-testid":"input-api-key"}),h.jsx(We,{variant:"outline",size:"icon",onClick:()=>e(!t),"data-testid":"button-toggle-api-key",children:t?h.jsx(EY,{className:"h-4 w-4"}):h.jsx(CY,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"API Base URL (optional)"}),h.jsx(Tn,{placeholder:"https://api.openrouter.ai/v1","data-testid":"input-api-url"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Organization ID (optional)"}),h.jsx(Tn,{placeholder:"org-...","data-testid":"input-org-id"})]})]})]})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Model Assignment per Role"}),h.jsx(Bt,{children:"Assign specific models to different tasks for optimal performance"})]}),h.jsx(at,{className:"space-y-4",children:iX.map(i=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:i.label}),h.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]}),h.jsxs(Go,{defaultValue:"gpt-4",children:[h.jsx(uo,{className:"w-[200px]","data-testid":`select-model-${i.id}`,children:h.jsx(Xo,{})}),h.jsx(fo,{children:bce.filter(s=>s.isActive).map(s=>h.jsx(cn,{value:s.id,children:s.name},s.id))})]})]},i.id))})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Reasoning Configuration"}),h.jsx(Bt,{children:"Enable reasoning for specific models to improve accuracy"})]}),h.jsx(at,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Reasoning adds a thinking step before responses. Enable selectively to balance accuracy with token usage and inference speed."}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:iX.map(i=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsx(pn,{htmlFor:`reasoning-${i.id}`,className:"flex-1 cursor-pointer",children:i.label}),h.jsx(Qm,{id:`reasoning-${i.id}`,"data-testid":`switch-reasoning-${i.id}`})]},i.id))})]})})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Advanced Settings"})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Token Limit"}),h.jsx(Tn,{type:"number",defaultValue:"4096","data-testid":"input-token-limit"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Temperature"}),h.jsx(Tn,{type:"number",step:"0.1",min:"0",max:"2",defaultValue:"0.7","data-testid":"input-temperature"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Search Engine API Key (optional)"}),h.jsx(Tn,{placeholder:"For Serper or similar providers","data-testid":"input-search-api-key"})]}),h.jsx(We,{className:"w-full","data-testid":"button-save-config",children:"Save Configuration"})]})]})]})}function Yyt(){const t=[{name:"VAREON",color:"bg-blue-500",connected:!0},{name:"NEOSYNTIS",color:"bg-purple-500",connected:!0},{name:"MYNTRIX",color:"bg-green-500",connected:!0},{name:"COGNISYS",color:"bg-orange-500",connected:!0},{name:"ARCANA",color:"bg-pink-500",connected:!0}];return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsx(Xe,{children:h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Tx,{className:"h-5 w-5 text-primary"}),"Ecosystem Architecture Builder"]}),h.jsx(Bt,{children:"Visualize and customize your VAREON ecosystem architecture"})]})}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"System Architecture"}),h.jsx(Bt,{children:"Visual representation of module connections and data flow"})]}),h.jsx(at,{children:h.jsx("div",{className:"h-96 bg-gradient-to-br from-primary/5 via-background to-accent/5 rounded-lg border border-dashed flex items-center justify-center relative overflow-hidden",children:h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"line-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[h.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"}),h.jsx("stop",{offset:"50%",stopColor:"hsl(var(--accent))",stopOpacity:"0.5"}),h.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"})]})}),h.jsx("line",{x1:"400",y1:"100",x2:"400",y2:"200",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"400",y1:"250",x2:"250",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"400",y1:"250",x2:"550",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"250",y1:"400",x2:"150",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"250",y1:"400",x2:"350",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"550",y1:"400",x2:"650",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("circle",{cx:"400",cy:"100",r:"60",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"3"}),h.jsx("text",{x:"400",y:"110",textAnchor:"middle",className:"fill-current text-sm font-bold",children:"VAREON"}),h.jsx("circle",{cx:"400",cy:"250",r:"50",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"2"}),h.jsx("text",{x:"400",y:"260",textAnchor:"middle",className:"fill-current text-xs font-medium",children:"COGNISYS"}),h.jsx("circle",{cx:"250",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),h.jsx("text",{x:"250",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"NEOSYNTIS"}),h.jsx("circle",{cx:"550",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),h.jsx("text",{x:"550",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"MYNTRIX"}),h.jsx("circle",{cx:"150",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),h.jsx("text",{x:"150",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Search"}),h.jsx("circle",{cx:"350",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),h.jsx("text",{x:"350",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Workflow"}),h.jsx("circle",{cx:"650",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-4))",strokeWidth:"2"}),h.jsx("text",{x:"650",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"ARCANA"})]})})})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2 text-base",children:[h.jsx(E3,{className:"h-5 w-5 text-primary"}),"Active Modules"]})}),h.jsx(at,{className:"space-y-3",children:t.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`h-3 w-3 rounded-full ${e.color}`}),h.jsx("span",{className:"font-medium",children:e.name})]}),h.jsx(dn,{variant:e.connected?"default":"outline",children:e.connected?"Connected":"Disconnected"})]},e.name))})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs(st,{className:"flex items-center gap-2 text-base",children:[h.jsx(Md,{className:"h-5 w-5 text-primary"}),"Integration Points"]})}),h.jsxs(at,{className:"space-y-3",children:[h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"NEOSYNTIS  ARCANA"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Search results auto-save to chat memory"})]}),h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"ARCANA  MYNTRIX"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Chat commands trigger agent jobs"})]}),h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"COGNISYS  ALL"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Model routing for all modules"})]}),h.jsxs(We,{variant:"outline",className:"w-full mt-2","data-testid":"button-add-integration",children:[h.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Custom Integration"]})]})]})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Custom Architecture"})}),h.jsxs(at,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"This is a placeholder for advanced ecosystem customization. You can define:"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[h.jsx("li",{children:"Custom module relationships and data flows"}),h.jsx("li",{children:"Conditional routing rules between components"}),h.jsx("li",{children:"Event-driven triggers and webhooks"}),h.jsx("li",{children:"Custom API endpoints and integrations"}),h.jsx("li",{children:"Resource allocation and scaling policies"})]})]})]})]})}const Zyt=[{name:"Llama-3-8B-Instruct",status:"deployed",uptime:"15d 4h",requests:12453},{name:"Mistral-7B-v0.3",status:"deploying",progress:67,eta:"5 min"},{name:"CodeLlama-13B",status:"pending",queuePosition:3}];function Qyt(){return h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(F$,{className:"h-5 w-5 text-primary"}),"Model Deployment"]}),h.jsx(Bt,{children:"Deploy and manage self-hosted LLM models"})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Model Name"}),h.jsx(Tn,{placeholder:"llama-3-8b-instruct","data-testid":"input-model-name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Model Format"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-model-format",children:[h.jsx("option",{value:"gguf",children:"GGUF"}),h.jsx("option",{value:"safetensors",children:"SafeTensors"}),h.jsx("option",{value:"pytorch",children:"PyTorch"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{children:"Upload Model File"}),h.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer",children:[h.jsx(zm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop your model file here, or click to browse"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports GGUF, SafeTensors, PyTorch formats (max 50GB)"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{className:"flex-1","data-testid":"button-deploy-model",children:[h.jsx(F$,{className:"h-4 w-4 mr-2"}),"Deploy Model"]}),h.jsx(We,{variant:"outline","data-testid":"button-import-huggingface",children:"Import from HuggingFace"})]})]})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Active Deployments"}),h.jsx(Bt,{children:"Monitor and manage deployed models"})]}),h.jsx(at,{className:"space-y-4",children:Zyt.map(t=>{var e;return h.jsxs(Xe,{className:"bg-card/50",children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(st,{className:"text-sm",children:t.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.status==="deployed"&&h.jsxs(h.Fragment,{children:[h.jsxs(dn,{variant:"default",className:"gap-1",children:[h.jsx(bY,{className:"h-3 w-3"}),"Deployed"]}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.uptime," uptime"]})]}),t.status==="deploying"&&h.jsxs(h.Fragment,{children:[h.jsxs(dn,{variant:"secondary",className:"gap-1",children:[h.jsx(SY,{className:"h-3 w-3"}),"Deploying"]}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA ",t.eta]})]}),t.status==="pending"&&h.jsxs(dn,{variant:"outline",children:["Queue #",t.queuePosition]})]})]}),t.status==="deployed"&&h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-mono font-medium",children:(e=t.requests)==null?void 0:e.toLocaleString()}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"requests"})]})]})}),h.jsxs(at,{children:[t.status==="deploying"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Progress"}),h.jsxs("span",{className:"font-medium",children:[t.progress,"%"]})]}),h.jsx(rB,{value:t.progress})]}),t.status==="deployed"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{variant:"outline",size:"sm",children:"View Logs"}),h.jsx(We,{variant:"outline",size:"sm",children:"Metrics"}),h.jsx(We,{variant:"outline",size:"sm",className:"text-destructive",children:"Stop"})]}),t.status==="pending"&&h.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for available resources..."})]})]},t.name)})})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Self-Hosted Deployment Benefits"})}),h.jsx(at,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Complete data privacy and control"}),h.jsx("li",{children:"No API rate limits or usage costs"}),h.jsx("li",{children:"Custom fine-tuned models"}),h.jsx("li",{children:"Lower latency for local inference"}),h.jsx("li",{children:"Independence from cloud LLM providers"})]})})]})]})}const Jyt=[{epoch:1,loss:2.4,accuracy:.45,val_loss:2.6,val_accuracy:.42},{epoch:2,loss:1.8,accuracy:.58,val_loss:2.1,val_accuracy:.51},{epoch:3,loss:1.3,accuracy:.68,val_loss:1.7,val_accuracy:.63},{epoch:4,loss:.9,accuracy:.76,val_loss:1.4,val_accuracy:.71},{epoch:5,loss:.6,accuracy:.84,val_loss:1.2,val_accuracy:.78}],e0t=[{name:"GPT-2 Fine-tune",status:"training",epoch:"3/10",accuracy:.76,eta:"2h 15m"},{name:"BERT QA Model",status:"completed",accuracy:.92,duration:"4h 32m"},{name:"Code Generation",status:"paused",epoch:"5/20",accuracy:.68}];function t0t(){return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsx(Xe,{children:h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Cd,{className:"h-5 w-5 text-primary"}),"Machine Learning Dashboard"]}),h.jsx(Bt,{children:"Train and monitor custom ML models for self-deployment"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(Xe,{className:"lg:col-span-2",children:[h.jsxs(nt,{children:[h.jsx(st,{className:"text-base",children:"Training Metrics"}),h.jsx(Bt,{children:"Loss and accuracy over epochs"})]}),h.jsx(at,{children:h.jsx(fl,{width:"100%",height:300,children:h.jsxs(K0,{data:Jyt,children:[h.jsx(Ju,{strokeDasharray:"3 3",opacity:.1}),h.jsx(eo,{dataKey:"epoch",label:{value:"Epoch",position:"insideBottom",offset:-5}}),h.jsx(to,{}),h.jsx(hi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Yf,{}),h.jsx(Bo,{type:"monotone",dataKey:"loss",stroke:"hsl(var(--chart-1))",name:"Training Loss",strokeWidth:2}),h.jsx(Bo,{type:"monotone",dataKey:"val_loss",stroke:"hsl(var(--chart-1))",strokeDasharray:"5 5",name:"Val Loss",strokeWidth:2}),h.jsx(Bo,{type:"monotone",dataKey:"accuracy",stroke:"hsl(var(--chart-2))",name:"Training Acc",strokeWidth:2}),h.jsx(Bo,{type:"monotone",dataKey:"val_accuracy",stroke:"hsl(var(--chart-2))",strokeDasharray:"5 5",name:"Val Acc",strokeWidth:2})]})})})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"Current Training"})}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Model"}),h.jsx("span",{className:"font-medium",children:"GPT-2 Fine-tune"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Epoch"}),h.jsx("span",{className:"font-mono",children:"3 / 10"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Accuracy"}),h.jsx("span",{className:"font-mono",children:"76%"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"ETA"}),h.jsx("span",{className:"font-mono",children:"2h 15m"})]})]}),h.jsx(rB,{value:30}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(We,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-pause-training",children:[h.jsx(TY,{className:"h-4 w-4 mr-2"}),"Pause"]}),h.jsx(We,{variant:"outline",size:"sm","data-testid":"button-training-settings",children:h.jsx(Eg,{className:"h-4 w-4"})})]})]})]})]}),h.jsxs(Xe,{children:[h.jsx(nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(st,{className:"text-base",children:"Training Experiments"}),h.jsx(Bt,{children:"Manage and monitor ML training runs"})]}),h.jsxs(We,{"data-testid":"button-new-experiment",children:[h.jsx(Sg,{className:"h-4 w-4 mr-2"}),"New Experiment"]})]})}),h.jsx(at,{className:"space-y-4",children:e0t.map(t=>h.jsxs(Xe,{className:"bg-card/50",children:[h.jsx(nt,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(st,{className:"text-sm",children:t.name}),h.jsx(dn,{variant:t.status==="training"?"default":t.status==="completed"?"secondary":"outline",children:t.status})]})}),h.jsx(at,{children:h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.status==="training"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Epoch"}),h.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"ETA"}),h.jsx("div",{className:"font-mono font-medium",children:t.eta})]})]}),t.status==="completed"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium text-green-600",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Duration"}),h.jsx("div",{className:"font-mono font-medium",children:t.duration})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(We,{variant:"outline",size:"sm",children:"Deploy"})})]}),t.status==="paused"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Progress"}),h.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(We,{variant:"outline",size:"sm",children:h.jsx(Sg,{className:"h-4 w-4"})})})]})]})})]},t.name))})]}),h.jsxs(Xe,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(nt,{children:h.jsx(st,{className:"text-base",children:"ML Training Features"})}),h.jsx(at,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Fine-tune pre-trained models on custom datasets"}),h.jsx("li",{children:"Real-time training metrics and visualization"}),h.jsx("li",{children:"Automatic checkpointing and resume capability"}),h.jsx("li",{children:"Hyperparameter optimization and tuning"}),h.jsx("li",{children:"Model evaluation and comparison tools"}),h.jsx("li",{children:"Export trained models for deployment"})]})})]})]})}const n0t=[{value:"search",label:"Search Engine",icon:bl},{value:"datasets",label:"Datasets",icon:GA},{value:"workflow",label:"Workflow",icon:tC},{value:"telemetry",label:"Telemetry",icon:ph},{value:"devices",label:"Device Settings",icon:Eg},{value:"cognisys",label:"COGNISYS Config",icon:Md},{value:"ecosystem",label:"Ecosystem Builder",icon:Tx},{value:"deployment",label:"Model Deployment",icon:zm},{value:"ml",label:"Machine Learning",icon:Cd}];function r0t(){const t=$A(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"search",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/neosyntis?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"NEOSYNTIS Lab"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Research & Workflow Automation Platform"})]}),h.jsx(dn,{variant:"outline",children:"v2.1.0"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Vl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6 overflow-x-auto",children:h.jsx(Wa,{className:"bg-transparent h-12 w-full justify-start gap-1",children:n0t.map(a=>h.jsxs(Qn,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[h.jsx(a.icon,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.value))})}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsx(un,{value:"search",className:"h-full m-0 p-6",children:h.jsx(Vyt,{})}),h.jsx(un,{value:"datasets",className:"h-full m-0 p-6",children:h.jsx(zyt,{})}),h.jsx(un,{value:"workflow",className:"h-full m-0 p-6",children:h.jsx(Gyt,{})}),h.jsx(un,{value:"telemetry",className:"h-full m-0 p-6",children:h.jsx(Xyt,{})}),h.jsx(un,{value:"devices",className:"h-full m-0 p-6",children:h.jsx(qyt,{})}),h.jsx(un,{value:"cognisys",className:"h-full m-0 p-6",children:h.jsx(Kyt,{})}),h.jsx(un,{value:"ecosystem",className:"h-full m-0 p-6",children:h.jsx(Yyt,{})}),h.jsx(un,{value:"deployment",className:"h-full m-0 p-6",children:h.jsx(Qyt,{})}),h.jsx(un,{value:"ml",className:"h-full m-0 p-6",children:h.jsx(t0t,{})})]})]})})]})}const i0t=async()=>new Promise(t=>{setTimeout(()=>{t({username:"vareon_user",email:"user@vareon.com"})},500)}),sX=async t=>new Promise((e,n)=>{setTimeout(()=>{t.username==="admin"?n(new Error('Username "admin" is reserved.')):e({message:"Profile updated successfully!"})},1e3)});function s0t(){const{toast:t}=Zv(),{logout:e}=sce(),[,n]=as(),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,d]=A.useState(""),[u,f]=A.useState(""),[g,v]=A.useState(!1),[y,m]=A.useState(!1);A.useEffect(()=>{v(!0),i0t().then(b=>{i(b.username),o(b.email),v(!1)}).catch(b=>{t({title:"Error",description:`Failed to load user data: ${b.message}`,variant:"destructive"}),v(!1)})},[t]);const p=async()=>{v(!0);try{const b={};r&&(b.username=r),s&&(b.email=s),await sX(b),t({title:"Profile Updated",description:"Your profile information has been updated."})}catch(b){t({title:"Error",description:`Failed to update profile: ${b.message}`,variant:"destructive"})}finally{v(!1)}},x=async()=>{if(v(!0),c!==u){t({title:"Error",description:"New password and confirmation do not match.",variant:"destructive"}),v(!1);return}if(!a||!c){t({title:"Error",description:"Current and new passwords cannot be empty.",variant:"destructive"}),v(!1);return}try{await sX({password:c}),t({title:"Password Updated",description:"Your password has been changed successfully."}),l(""),d(""),f("")}catch(b){t({title:"Error",description:`Failed to change password: ${b.message}`,variant:"destructive"})}finally{v(!1)}},_=()=>{e(),n("/auth"),t({title:"Logged Out",description:"You have been successfully logged out."})};return g?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Loading user profile..."})}):h.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-6",children:[h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(cb,{className:"h-5 w-5 text-primary"}),"User Profile"]}),h.jsx(Bt,{children:"Manage your account settings and profile information."})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"username",children:"Username"}),h.jsx(Tn,{id:"username",type:"text",value:r,onChange:b=>i(b.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"email",children:"Email"}),h.jsx(Tn,{id:"email",type:"email",value:s,onChange:b=>o(b.target.value),disabled:g})]}),h.jsx(We,{onClick:p,disabled:g,children:g?"Saving...":"Save Profile"})]})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(AY,{className:"h-5 w-5 text-primary"}),"Change Password"]}),h.jsx(Bt,{children:"Update your account password."})]}),h.jsxs(at,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"current-password",children:"Current Password"}),h.jsx(Tn,{id:"current-password",type:"password",value:a,onChange:b=>l(b.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"new-password",children:"New Password"}),h.jsx(Tn,{id:"new-password",type:"password",value:c,onChange:b=>d(b.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pn,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),h.jsx(Tn,{id:"confirm-new-password",type:"password",value:u,onChange:b=>f(b.target.value),disabled:g})]}),h.jsx(We,{onClick:x,disabled:g,children:g?"Changing...":"Change Password"})]})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(Nx,{className:"h-5 w-5 text-primary"}),"GitHub Integration"]}),h.jsx(Bt,{children:"Connect your GitHub account to use your own repositories with Arcana Agent."})]}),h.jsx(at,{className:"space-y-4",children:y?h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{children:"GitHub account connected."}),h.jsx(We,{variant:"destructive",onClick:()=>m(!1),children:"Disconnect"})]}):h.jsxs(We,{onClick:()=>m(!0),children:[h.jsx(Nx,{className:"mr-2 h-4 w-4"})," Connect to GitHub"]})})]}),h.jsxs(Xe,{children:[h.jsxs(nt,{children:[h.jsxs(st,{className:"flex items-center gap-2",children:[h.jsx(j$,{className:"h-5 w-5 text-primary"}),"Account Actions"]}),h.jsx(Bt,{children:"Perform actions related to your account."})]}),h.jsx(at,{children:h.jsxs(We,{variant:"destructive",onClick:_,disabled:g,children:[h.jsx(j$,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})}function o0t(){return h.jsxs(Tve,{children:[h.jsx(hs,{path:"/",component:Pet}),h.jsx(hs,{path:"/arcana-demo",component:Aet}),h.jsx(hs,{path:"/neosyntis-demo",component:Oet}),h.jsx(hs,{path:"/myntrix-demo",component:Ret}),h.jsx(hs,{path:"/auth",component:Tet}),h.jsx(hs,{path:"/verify-email",component:Det}),h.jsx(hs,{path:"/waiting-for-verification",component:Let}),h.jsxs(Eet,{children:[h.jsx(hs,{path:"/dashboard",component:Ylt}),h.jsx(hs,{path:"/dashboard/neosyntis",component:r0t}),h.jsx(hs,{path:"/dashboard/myntrix",component:Uyt}),h.jsx(hs,{path:"/dashboard/cognisys",component:Xlt}),h.jsx(hs,{path:"/dashboard/arcana",component:int}),h.jsx(hs,{path:"/dashboard/profile",component:s0t})," "]}),h.jsx(hs,{component:Iet})]})}function a0t(){const t={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},[e]=as();return h.jsx(Xve,{client:aye,children:h.jsx(uet,{children:h.jsxs(rce,{children:[h.jsx(_Qe,{style:t,children:h.jsxs("div",{className:"flex h-screen w-full",children:[e.startsWith("/dashboard")&&h.jsx(bQe,{children:h.jsx(het,{})}),h.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[h.jsxs("header",{className:"flex items-center justify-between p-3 border-b bg-card",children:[e.startsWith("/dashboard")&&h.jsx(wQe,{"data-testid":"button-sidebar-toggle"}),h.jsx("div",{className:"flex items-center gap-2"})]}),h.jsx("main",{className:"flex-1 overflow-auto",children:h.jsx(o0t,{})})]})]})}),h.jsx(det,{}),h.jsx(PJe,{})]})})})}a3(document.getElementById("root")).render(h.jsx(a0t,{}));
